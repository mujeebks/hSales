function startDivLoader(e){$("#"+e).css("position","relative"),$("#"+e).append('<div  class="div-loader"><img src="assets/global/img/loading-spinner-grey.gif"><span style="position: absolute;padding-left: 5px;">Loading..</span></div>')}function stopDivLoader(e){$("#"+e).find(".div-loader").remove()}if(function(){var e,t,i,a,n,o,s,r,l,c,h,u,d,p,f,m,g,v,b,y,x,C,w,k,S,D,T,M,P,$,_,A,I,F,E,L,B,R,O,N,V,W,z,Y,H,U,j,G,X,q=[].slice,Q={}.hasOwnProperty,K=function(e,t){function i(){this.constructor=e}for(var a in t)Q.call(t,a)&&(e[a]=t[a]);return i.prototype=t.prototype,e.prototype=new i,e.__super__=t.prototype,e},J=[].indexOf||function(e){for(var t=0,i=this.length;i>t;t++)if(t in this&&this[t]===e)return t;return-1};for(x={catchupTime:100,initialRate:.03,minTime:250,ghostTime:100,maxProgressPerFrame:20,easeFactor:1.25,startOnPageLoad:!0,restartOnPushState:!0,restartOnRequestAfter:500,target:"body",elements:{checkInterval:100,selectors:["body"]},eventLag:{minSamples:10,sampleCount:3,lagThreshold:3},ajax:{trackMethods:["GET"],trackWebSockets:!0,ignoreURLs:[]}},P=function(){var e;return null!=(e="undefined"!=typeof performance&&null!==performance&&"function"==typeof performance.now?performance.now():void 0)?e:+new Date},_=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame,y=window.cancelAnimationFrame||window.mozCancelAnimationFrame,null==_&&(_=function(e){return setTimeout(e,50)},y=function(e){return clearTimeout(e)}),I=function(e){var t,i;return t=P(),(i=function(){var a;return a=P()-t,a>=33?(t=P(),e(a,function(){return _(i)})):setTimeout(i,33-a)})()},A=function(){var e,t,i;return i=arguments[0],t=arguments[1],e=3<=arguments.length?q.call(arguments,2):[],"function"==typeof i[t]?i[t].apply(i,e):i[t]},C=function(){var e,t,i,a,n,o,s;for(t=arguments[0],a=2<=arguments.length?q.call(arguments,1):[],o=0,s=a.length;s>o;o++)if(i=a[o])for(e in i)Q.call(i,e)&&(n=i[e],null!=t[e]&&"object"==typeof t[e]&&null!=n&&"object"==typeof n?C(t[e],n):t[e]=n);return t},g=function(e){var t,i,a,n,o;for(i=t=0,n=0,o=e.length;o>n;n++)a=e[n],i+=Math.abs(a),t++;return i/t},k=function(e,t){var i,a,n;if(null==e&&(e="options"),null==t&&(t=!0),n=document.querySelector("[data-pace-"+e+"]")){if(i=n.getAttribute("data-pace-"+e),!t)return i;try{return JSON.parse(i)}catch(e){return a=e,"undefined"!=typeof console&&null!==console?void 0:void 0}}},s=function(){function e(){}return e.prototype.on=function(e,t,i,a){var n;return null==a&&(a=!1),null==this.bindings&&(this.bindings={}),null==(n=this.bindings)[e]&&(n[e]=[]),this.bindings[e].push({handler:t,ctx:i,once:a})},e.prototype.once=function(e,t,i){return this.on(e,t,i,!0)},e.prototype.off=function(e,t){var i,a,n;if(null!=(null!=(a=this.bindings)?a[e]:void 0)){if(null==t)return delete this.bindings[e];for(i=0,n=[];i<this.bindings[e].length;)n.push(this.bindings[e][i].handler===t?this.bindings[e].splice(i,1):i++);return n}},e.prototype.trigger=function(){var e,t,i,a,n,o,s,r,l;if(i=arguments[0],e=2<=arguments.length?q.call(arguments,1):[],null!=(s=this.bindings)?s[i]:void 0){for(n=0,l=[];n<this.bindings[i].length;)r=this.bindings[i][n],a=r.handler,t=r.ctx,o=r.once,a.apply(null!=t?t:this,e),l.push(o?this.bindings[i].splice(n,1):n++);return l}},e}(),c=window.Pace||{},window.Pace=c,C(c,s.prototype),$=c.options=C({},x,window.paceOptions,k()),j=["ajax","document","eventLag","elements"],z=0,H=j.length;H>z;z++)B=j[z],!0===$[B]&&($[B]=x[B]);l=function(e){function t(){return G=t.__super__.constructor.apply(this,arguments)}return K(t,e),t}(Error),t=function(){function e(){this.progress=0}return e.prototype.getElement=function(){var e;if(null==this.el){if(!(e=document.querySelector($.target)))throw new l;this.el=document.createElement("div"),this.el.className="pace pace-active",document.body.className=document.body.className.replace(/pace-done/g,""),document.body.className+=" pace-running",this.el.innerHTML='<div class="pace-progress">\n  <div class="pace-progress-inner"></div>\n</div>\n<div class="pace-activity"></div>',null!=e.firstChild?e.insertBefore(this.el,e.firstChild):e.appendChild(this.el)}return this.el},e.prototype.finish=function(){var e;return e=this.getElement(),e.className=e.className.replace("pace-active",""),e.className+=" pace-inactive",document.body.className=document.body.className.replace("pace-running",""),document.body.className+=" pace-done"},e.prototype.update=function(e){return this.progress=e,this.render()},e.prototype.destroy=function(){try{this.getElement().parentNode.removeChild(this.getElement())}catch(e){l=e}return this.el=void 0},e.prototype.render=function(){var e,t,i,a,n,o,s;if(null==document.querySelector($.target))return!1;for(e=this.getElement(),a="translate3d("+this.progress+"%, 0, 0)",s=["webkitTransform","msTransform","transform"],n=0,o=s.length;o>n;n++)t=s[n],e.children[0].style[t]=a;return(!this.lastRenderedProgress||this.lastRenderedProgress|0!==this.progress|0)&&(e.children[0].setAttribute("data-progress-text",(0|this.progress)+"%"),this.progress>=100?i="99":(i=this.progress<10?"0":"",i+=0|this.progress),e.children[0].setAttribute("data-progress",""+i)),this.lastRenderedProgress=this.progress},e.prototype.done=function(){return this.progress>=100},e}(),r=function(){function e(){this.bindings={}}return e.prototype.trigger=function(e,t){var i,a,n,o,s;if(null!=this.bindings[e]){for(o=this.bindings[e],s=[],a=0,n=o.length;n>a;a++)i=o[a],s.push(i.call(this,t));return s}},e.prototype.on=function(e,t){var i;return null==(i=this.bindings)[e]&&(i[e]=[]),this.bindings[e].push(t)},e}(),W=window.XMLHttpRequest,V=window.XDomainRequest,N=window.WebSocket,w=function(e,t){var i,a,n;n=[];for(i in t.prototype)try{a=t.prototype[i],n.push(null==e[i]&&"function"!=typeof a?e[i]=a:void 0)}catch(e){e}return n},T=[],c.ignore=function(){var e,t,i;return t=arguments[0],e=2<=arguments.length?q.call(arguments,1):[],T.unshift("ignore"),i=t.apply(null,e),T.shift(),i},c.track=function(){var e,t,i;return t=arguments[0],e=2<=arguments.length?q.call(arguments,1):[],T.unshift("track"),i=t.apply(null,e),T.shift(),i},L=function(e){var t;if(null==e&&(e="GET"),"track"===T[0])return"force";if(!T.length&&$.ajax){if("socket"===e&&$.ajax.trackWebSockets)return!0;if(t=e.toUpperCase(),J.call($.ajax.trackMethods,t)>=0)return!0}return!1},h=function(e){function t(){var e,i=this;t.__super__.constructor.apply(this,arguments),e=function(e){var t;return t=e.open,e.open=function(a,n){return L(a)&&i.trigger("request",{type:a,url:n,request:e}),t.apply(e,arguments)}},window.XMLHttpRequest=function(t){var i;return i=new W(t),e(i),i};try{w(window.XMLHttpRequest,W)}catch(e){}if(null!=V){window.XDomainRequest=function(){var t;return t=new V,e(t),t};try{w(window.XDomainRequest,V)}catch(e){}}if(null!=N&&$.ajax.trackWebSockets){window.WebSocket=function(e,t){var a;return a=null!=t?new N(e,t):new N(e),L("socket")&&i.trigger("request",{type:"socket",url:e,protocols:t,request:a}),a};try{w(window.WebSocket,N)}catch(e){}}}return K(t,e),t}(r),Y=null,S=function(){return null==Y&&(Y=new h),Y},E=function(e){var t,i,a,n;for(n=$.ajax.ignoreURLs,i=0,a=n.length;a>i;i++)if("string"==typeof(t=n[i])){if(-1!==e.indexOf(t))return!0}else if(t.test(e))return!0;return!1},S().on("request",function(t){var i,a,n,o,s;return o=t.type,n=t.request,s=t.url,E(s)?void 0:c.running||!1===$.restartOnRequestAfter&&"force"!==L(o)?void 0:(a=arguments,i=$.restartOnRequestAfter||0,"boolean"==typeof i&&(i=0),setTimeout(function(){var t,i,s,r,l;if("socket"===o?n.readyState<2:0<(s=n.readyState)&&4>s){for(c.restart(),r=c.sources,l=[],t=0,i=r.length;i>t;t++){if((B=r[t])instanceof e){B.watch.apply(B,a);break}l.push(void 0)}return l}},i))}),e=function(){function e(){var e=this;this.elements=[],S().on("request",function(){return e.watch.apply(e,arguments)})}return e.prototype.watch=function(e){var t,i,a,n;return a=e.type,t=e.request,n=e.url,E(n)?void 0:(i="socket"===a?new p(t):new f(t),this.elements.push(i))},e}(),f=function(){function e(e){var t,i,a,n,o,s=this;if(this.progress=0,null!=window.ProgressEvent)for(null,e.addEventListener("progress",function(e){return s.progress=e.lengthComputable?100*e.loaded/e.total:s.progress+(100-s.progress)/2},!1),o=["load","abort","timeout","error"],i=0,a=o.length;a>i;i++)t=o[i],e.addEventListener(t,function(){return s.progress=100},!1);else n=e.onreadystatechange,e.onreadystatechange=function(){var t;return 0===(t=e.readyState)||4===t?s.progress=100:3===e.readyState&&(s.progress=50),"function"==typeof n?n.apply(null,arguments):void 0}}return e}(),p=function(){function e(e){var t,i,a,n,o=this;for(this.progress=0,n=["error","open"],i=0,a=n.length;a>i;i++)t=n[i],e.addEventListener(t,function(){return o.progress=100},!1)}return e}(),a=function(){function e(e){var t,i,a,o;for(null==e&&(e={}),this.elements=[],null==e.selectors&&(e.selectors=[]),o=e.selectors,i=0,a=o.length;a>i;i++)t=o[i],this.elements.push(new n(t))}return e}(),n=function(){function e(e){this.selector=e,this.progress=0,this.check()}return e.prototype.check=function(){var e=this;return document.querySelector(this.selector)?this.done():setTimeout(function(){return e.check()},$.elements.checkInterval)},e.prototype.done=function(){return this.progress=100},e}(),i=function(){function e(){var e,t,i=this;this.progress=null!=(t=this.states[document.readyState])?t:100,e=document.onreadystatechange,document.onreadystatechange=function(){return null!=i.states[document.readyState]&&(i.progress=i.states[document.readyState]),"function"==typeof e?e.apply(null,arguments):void 0}}return e.prototype.states={loading:0,interactive:50,complete:100},e}(),o=function(){function e(){var e,t,i,a,n,o=this;this.progress=0,e=0,n=[],a=0,i=P(),t=setInterval(function(){var s;return s=P()-i-50,i=P(),n.push(s),n.length>$.eventLag.sampleCount&&n.shift(),e=g(n),++a>=$.eventLag.minSamples&&e<$.eventLag.lagThreshold?(o.progress=100,clearInterval(t)):o.progress=3/(e+3)*100},50)}return e}(),d=function(){function e(e){this.source=e,this.last=this.sinceLastUpdate=0,this.rate=$.initialRate,this.catchup=0,this.progress=this.lastProgress=0,null!=this.source&&(this.progress=A(this.source,"progress"))}return e.prototype.tick=function(e,t){var i;return null==t&&(t=A(this.source,"progress")),t>=100&&(this.done=!0),t===this.last?this.sinceLastUpdate+=e:(this.sinceLastUpdate&&(this.rate=(t-this.last)/this.sinceLastUpdate),this.catchup=(t-this.progress)/$.catchupTime,this.sinceLastUpdate=0,this.last=t),t>this.progress&&(this.progress+=this.catchup*e),i=1-Math.pow(this.progress/100,$.easeFactor),this.progress+=i*this.rate*e,this.progress=Math.min(this.lastProgress+$.maxProgressPerFrame,this.progress),this.progress=Math.max(0,this.progress),this.progress=Math.min(100,this.progress),this.lastProgress=this.progress,this.progress},e}(),R=null,F=null,v=null,O=null,m=null,b=null,c.running=!1,D=function(){return $.restartOnPushState?c.restart():void 0},null!=window.history.pushState&&(U=window.history.pushState,window.history.pushState=function(){return D(),U.apply(window.history,arguments)}),null!=window.history.replaceState&&(X=window.history.replaceState,window.history.replaceState=function(){return D(),X.apply(window.history,arguments)}),u={ajax:e,elements:a,document:i,eventLag:o},(M=function(){var e,i,a,n,o,s,r,l;for(c.sources=R=[],s=["ajax","elements","document","eventLag"],i=0,n=s.length;n>i;i++)e=s[i],!1!==$[e]&&R.push(new u[e]($[e]));for(l=null!=(r=$.extraSources)?r:[],a=0,o=l.length;o>a;a++)B=l[a],R.push(new B($));return c.bar=v=new t,F=[],O=new d})(),c.stop=function(){return c.trigger("stop"),c.running=!1,v.destroy(),b=!0,null!=m&&("function"==typeof y&&y(m),m=null),M()},c.restart=function(){return c.trigger("restart"),c.stop(),c.start()},c.go=function(){var e;return c.running=!0,v.render(),e=P(),b=!1,m=I(function(t,i){var a,n,o,s,r,l,h,u,p,f,m,g,y,x,C;for(100-v.progress,n=f=0,o=!0,l=m=0,y=R.length;y>m;l=++m)for(B=R[l],p=null!=F[l]?F[l]:F[l]=[],r=null!=(C=B.elements)?C:[B],h=g=0,x=r.length;x>g;h=++g)s=r[h],u=null!=p[h]?p[h]:p[h]=new d(s),o&=u.done,u.done||(n++,f+=u.tick(t));return a=f/n,v.update(O.tick(t,a)),v.done()||o||b?(v.update(100),c.trigger("done"),setTimeout(function(){return v.finish(),c.running=!1,c.trigger("hide")},Math.max($.ghostTime,Math.max($.minTime-(P()-e),0)))):i()})},c.start=function(e){C($,e),c.running=!0;try{v.render()}catch(e){l=e}return document.querySelector(".pace")?(c.trigger("start"),c.go()):setTimeout(c.start,50)},"function"==typeof define&&define.amd?define(function(){return c}):"object"==typeof exports?module.exports=c:$.startOnPageLoad&&c.start()}.call(this),function(e,t){"object"==typeof module&&"object"==typeof module.exports?module.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return t(e)}:t(e)}("undefined"!=typeof window?window:this,function(e,t){function i(e){var t=e.length,i=ne.type(e);return"function"!==i&&!ne.isWindow(e)&&(!(1!==e.nodeType||!t)||("array"===i||0===t||"number"==typeof t&&t>0&&t-1 in e))}function a(e,t,i){if(ne.isFunction(t))return ne.grep(e,function(e,a){return!!t.call(e,a,e)!==i});if(t.nodeType)return ne.grep(e,function(e){return e===t!==i});if("string"==typeof t){if(de.test(t))return ne.filter(t,e,i);t=ne.filter(t,e)}return ne.grep(e,function(e){return ne.inArray(e,t)>=0!==i})}function n(e,t){do{e=e[t]}while(e&&1!==e.nodeType);return e}function o(e){var t=ye[e]={};return ne.each(e.match(be)||[],function(e,i){t[i]=!0}),t}function s(){fe.addEventListener?(fe.removeEventListener("DOMContentLoaded",r,!1),e.removeEventListener("load",r,!1)):(fe.detachEvent("onreadystatechange",r),e.detachEvent("onload",r))}function r(){(fe.addEventListener||"load"===event.type||"complete"===fe.readyState)&&(s(),ne.ready())}function l(e,t,i){if(void 0===i&&1===e.nodeType){var a="data-"+t.replace(Se,"-$1").toLowerCase();if("string"==typeof(i=e.getAttribute(a))){try{i="true"===i||"false"!==i&&("null"===i?null:+i+""===i?+i:ke.test(i)?ne.parseJSON(i):i)}catch(e){}ne.data(e,t,i)}else i=void 0}return i}function c(e){var t;for(t in e)if(("data"!==t||!ne.isEmptyObject(e[t]))&&"toJSON"!==t)return!1;return!0}function h(e,t,i,a){if(ne.acceptData(e)){var n,o,s=ne.expando,r=e.nodeType,l=r?ne.cache:e,c=r?e[s]:e[s]&&s;if(c&&l[c]&&(a||l[c].data)||void 0!==i||"string"!=typeof t)return c||(c=r?e[s]=X.pop()||ne.guid++:s),l[c]||(l[c]=r?{}:{toJSON:ne.noop}),("object"==typeof t||"function"==typeof t)&&(a?l[c]=ne.extend(l[c],t):l[c].data=ne.extend(l[c].data,t)),o=l[c],a||(o.data||(o.data={}),o=o.data),void 0!==i&&(o[ne.camelCase(t)]=i),"string"==typeof t?null==(n=o[t])&&(n=o[ne.camelCase(t)]):n=o,n}}function u(e,t,i){if(ne.acceptData(e)){var a,n,o=e.nodeType,s=o?ne.cache:e,r=o?e[ne.expando]:ne.expando;if(s[r]){if(t&&(a=i?s[r]:s[r].data)){ne.isArray(t)?t=t.concat(ne.map(t,ne.camelCase)):t in a?t=[t]:(t=ne.camelCase(t),t=t in a?[t]:t.split(" ")),n=t.length;for(;n--;)delete a[t[n]];if(i?!c(a):!ne.isEmptyObject(a))return}(i||(delete s[r].data,c(s[r])))&&(o?ne.cleanData([e],!0):ie.deleteExpando||s!=s.window?delete s[r]:s[r]=null)}}}function d(){return!0}function p(){return!1}function f(){try{return fe.activeElement}catch(e){}}function m(e){var t=Le.split("|"),i=e.createDocumentFragment();if(i.createElement)for(;t.length;)i.createElement(t.pop());return i}function g(e,t){var i,a,n=0,o=typeof e.getElementsByTagName!==we?e.getElementsByTagName(t||"*"):typeof e.querySelectorAll!==we?e.querySelectorAll(t||"*"):void 0;if(!o)for(o=[],i=e.childNodes||e;null!=(a=i[n]);n++)!t||ne.nodeName(a,t)?o.push(a):ne.merge(o,g(a,t));return void 0===t||t&&ne.nodeName(e,t)?ne.merge([e],o):o}function v(e){$e.test(e.type)&&(e.defaultChecked=e.checked)}function b(e,t){return ne.nodeName(e,"table")&&ne.nodeName(11!==t.nodeType?t:t.firstChild,"tr")?e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody")):e}function y(e){return e.type=(null!==ne.find.attr(e,"type"))+"/"+e.type,e}function x(e){var t=je.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function C(e,t){for(var i,a=0;null!=(i=e[a]);a++)ne._data(i,"globalEval",!t||ne._data(t[a],"globalEval"))}function w(e,t){if(1===t.nodeType&&ne.hasData(e)){var i,a,n,o=ne._data(e),s=ne._data(t,o),r=o.events;if(r){delete s.handle,s.events={};for(i in r)for(a=0,n=r[i].length;n>a;a++)ne.event.add(t,i,r[i][a])}s.data&&(s.data=ne.extend({},s.data))}}function k(e,t){var i,a,n;if(1===t.nodeType){if(i=t.nodeName.toLowerCase(),!ie.noCloneEvent&&t[ne.expando]){n=ne._data(t);for(a in n.events)ne.removeEvent(t,a,n.handle);t.removeAttribute(ne.expando)}"script"===i&&t.text!==e.text?(y(t).text=e.text,x(t)):"object"===i?(t.parentNode&&(t.outerHTML=e.outerHTML),ie.html5Clone&&e.innerHTML&&!ne.trim(t.innerHTML)&&(t.innerHTML=e.innerHTML)):"input"===i&&$e.test(e.type)?(t.defaultChecked=t.checked=e.checked,t.value!==e.value&&(t.value=e.value)):"option"===i?t.defaultSelected=t.selected=e.defaultSelected:("input"===i||"textarea"===i)&&(t.defaultValue=e.defaultValue)}}function S(t,i){var a,n=ne(i.createElement(t)).appendTo(i.body),o=e.getDefaultComputedStyle&&(a=e.getDefaultComputedStyle(n[0]))?a.display:ne.css(n[0],"display");return n.detach(),o}function D(e){var t=fe,i=Je[e];return i||(i=S(e,t),"none"!==i&&i||(Ke=(Ke||ne("<iframe frameborder='0' width='0' height='0'/>")).appendTo(t.documentElement),t=(Ke[0].contentWindow||Ke[0].contentDocument).document,t.write(),t.close(),i=S(e,t),Ke.detach()),Je[e]=i),i}function T(e,t){return{get:function(){var i=e();if(null!=i)return i?void delete this.get:(this.get=t).apply(this,arguments)}}}function M(e,t){if(t in e)return t;for(var i=t.charAt(0).toUpperCase()+t.slice(1),a=t,n=ut.length;n--;)if((t=ut[n]+i)in e)return t;return a}function P(e,t){for(var i,a,n,o=[],s=0,r=e.length;r>s;s++)a=e[s],a.style&&(o[s]=ne._data(a,"olddisplay"),i=a.style.display,t?(o[s]||"none"!==i||(a.style.display=""),""===a.style.display&&Me(a)&&(o[s]=ne._data(a,"olddisplay",D(a.nodeName)))):(n=Me(a),(i&&"none"!==i||!n)&&ne._data(a,"olddisplay",n?i:ne.css(a,"display"))));for(s=0;r>s;s++)a=e[s],a.style&&(t&&"none"!==a.style.display&&""!==a.style.display||(a.style.display=t?o[s]||"":"none"));return e}function $(e,t,i){var a=rt.exec(t);return a?Math.max(0,a[1]-(i||0))+(a[2]||"px"):t}function _(e,t,i,a,n){for(var o=i===(a?"border":"content")?4:"width"===t?1:0,s=0;4>o;o+=2)"margin"===i&&(s+=ne.css(e,i+Te[o],!0,n)),a?("content"===i&&(s-=ne.css(e,"padding"+Te[o],!0,n)),"margin"!==i&&(s-=ne.css(e,"border"+Te[o]+"Width",!0,n))):(s+=ne.css(e,"padding"+Te[o],!0,n),"padding"!==i&&(s+=ne.css(e,"border"+Te[o]+"Width",!0,n)));return s}function A(e,t,i){var a=!0,n="width"===t?e.offsetWidth:e.offsetHeight,o=Ze(e),s=ie.boxSizing&&"border-box"===ne.css(e,"boxSizing",!1,o);if(0>=n||null==n){if(n=et(e,t,o),(0>n||null==n)&&(n=e.style[t]),it.test(n))return n;a=s&&(ie.boxSizingReliable()||n===e.style[t]),n=parseFloat(n)||0}return n+_(e,t,i||(s?"border":"content"),a,o)+"px"}function I(e,t,i,a,n){return new I.prototype.init(e,t,i,a,n)}function F(){return setTimeout(function(){dt=void 0}),dt=ne.now()}function E(e,t){var i,a={height:e},n=0;for(t=t?1:0;4>n;n+=2-t)i=Te[n],a["margin"+i]=a["padding"+i]=e;return t&&(a.opacity=a.width=e),a}function L(e,t,i){for(var a,n=(bt[t]||[]).concat(bt["*"]),o=0,s=n.length;s>o;o++)if(a=n[o].call(i,t,e))return a}function B(e,t,i){var a,n,o,s,r,l,c,h=this,u={},d=e.style,p=e.nodeType&&Me(e),f=ne._data(e,"fxshow");i.queue||(r=ne._queueHooks(e,"fx"),null==r.unqueued&&(r.unqueued=0,l=r.empty.fire,r.empty.fire=function(){r.unqueued||l()}),r.unqueued++,h.always(function(){h.always(function(){r.unqueued--,ne.queue(e,"fx").length||r.empty.fire()})})),1===e.nodeType&&("height"in t||"width"in t)&&(i.overflow=[d.overflow,d.overflowX,d.overflowY],c=ne.css(e,"display"),"inline"===("none"===c?ne._data(e,"olddisplay")||D(e.nodeName):c)&&"none"===ne.css(e,"float")&&(ie.inlineBlockNeedsLayout&&"inline"!==D(e.nodeName)?d.zoom=1:d.display="inline-block")),i.overflow&&(d.overflow="hidden",ie.shrinkWrapBlocks()||h.always(function(){d.overflow=i.overflow[0],d.overflowX=i.overflow[1],d.overflowY=i.overflow[2]}));for(a in t)if(n=t[a],ft.exec(n)){if(delete t[a],o=o||"toggle"===n,n===(p?"hide":"show")){if("show"!==n||!f||void 0===f[a])continue;p=!0}u[a]=f&&f[a]||ne.style(e,a)}else c=void 0;if(ne.isEmptyObject(u))"inline"===("none"===c?D(e.nodeName):c)&&(d.display=c);else{f?"hidden"in f&&(p=f.hidden):f=ne._data(e,"fxshow",{}),o&&(f.hidden=!p),p?ne(e).show():h.done(function(){ne(e).hide()}),h.done(function(){var t;ne._removeData(e,"fxshow");for(t in u)ne.style(e,t,u[t])});for(a in u)s=L(p?f[a]:0,a,h),a in f||(f[a]=s.start,p&&(s.end=s.start,s.start="width"===a||"height"===a?1:0))}}function R(e,t){var i,a,n,o,s;for(i in e)if(a=ne.camelCase(i),n=t[a],o=e[i],ne.isArray(o)&&(n=o[1],o=e[i]=o[0]),i!==a&&(e[a]=o,delete e[i]),(s=ne.cssHooks[a])&&"expand"in s){o=s.expand(o),delete e[a];for(i in o)i in e||(e[i]=o[i],t[i]=n)}else t[a]=n}function O(e,t,i){var a,n,o=0,s=vt.length,r=ne.Deferred().always(function(){delete l.elem}),l=function(){if(n)return!1;for(var t=dt||F(),i=Math.max(0,c.startTime+c.duration-t),a=i/c.duration||0,o=1-a,s=0,l=c.tweens.length;l>s;s++)c.tweens[s].run(o);return r.notifyWith(e,[c,o,i]),1>o&&l?i:(r.resolveWith(e,[c]),!1)},c=r.promise({elem:e,props:ne.extend({},t),opts:ne.extend(!0,{specialEasing:{}},i),originalProperties:t,originalOptions:i,startTime:dt||F(),duration:i.duration,tweens:[],createTween:function(t,i){var a=ne.Tween(e,c.opts,t,i,c.opts.specialEasing[t]||c.opts.easing);return c.tweens.push(a),a},stop:function(t){var i=0,a=t?c.tweens.length:0;if(n)return this;for(n=!0;a>i;i++)c.tweens[i].run(1);return t?r.resolveWith(e,[c,t]):r.rejectWith(e,[c,t]),this}}),h=c.props;for(R(h,c.opts.specialEasing);s>o;o++)if(a=vt[o].call(c,e,h,c.opts))return a;return ne.map(h,L,c),ne.isFunction(c.opts.start)&&c.opts.start.call(e,c),ne.fx.timer(ne.extend(l,{elem:e,anim:c,queue:c.opts.queue})),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always)}function N(e){return function(t,i){"string"!=typeof t&&(i=t,t="*");var a,n=0,o=t.toLowerCase().match(be)||[];if(ne.isFunction(i))for(;a=o[n++];)"+"===a.charAt(0)?(a=a.slice(1)||"*",(e[a]=e[a]||[]).unshift(i)):(e[a]=e[a]||[]).push(i)}}function V(e,t,i,a){function n(r){var l;return o[r]=!0,ne.each(e[r]||[],function(e,r){var c=r(t,i,a);return"string"!=typeof c||s||o[c]?s?!(l=c):void 0:(t.dataTypes.unshift(c),n(c),!1)}),l}var o={},s=e===zt;return n(t.dataTypes[0])||!o["*"]&&n("*")}function W(e,t){var i,a,n=ne.ajaxSettings.flatOptions||{};for(a in t)void 0!==t[a]&&((n[a]?e:i||(i={}))[a]=t[a]);return i&&ne.extend(!0,e,i),e}function z(e,t,i){for(var a,n,o,s,r=e.contents,l=e.dataTypes;"*"===l[0];)l.shift(),void 0===n&&(n=e.mimeType||t.getResponseHeader("Content-Type"));if(n)for(s in r)if(r[s]&&r[s].test(n)){l.unshift(s);break}if(l[0]in i)o=l[0];else{for(s in i){if(!l[0]||e.converters[s+" "+l[0]]){o=s;break}a||(a=s)}o=o||a}return o?(o!==l[0]&&l.unshift(o),i[o]):void 0}function Y(e,t,i,a){var n,o,s,r,l,c={},h=e.dataTypes.slice();if(h[1])for(s in e.converters)c[s.toLowerCase()]=e.converters[s];for(o=h.shift();o;)if(e.responseFields[o]&&(i[e.responseFields[o]]=t),!l&&a&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),l=o,o=h.shift())if("*"===o)o=l;else if("*"!==l&&l!==o){if(!(s=c[l+" "+o]||c["* "+o]))for(n in c)if(r=n.split(" "),r[1]===o&&(s=c[l+" "+r[0]]||c["* "+r[0]])){!0===s?s=c[n]:!0!==c[n]&&(o=r[0],h.unshift(r[1]));break}if(!0!==s)if(s&&e.throws)t=s(t);else try{t=s(t)}catch(e){return{state:"parsererror",error:s?e:"No conversion from "+l+" to "+o}}}return{state:"success",data:t}}function H(e,t,i,a){var n;if(ne.isArray(t))ne.each(t,function(t,n){i||Ut.test(e)?a(e,n):H(e+"["+("object"==typeof n?t:"")+"]",n,i,a)});else if(i||"object"!==ne.type(t))a(e,t);else for(n in t)H(e+"["+n+"]",t[n],i,a)}function U(){try{return new e.XMLHttpRequest}catch(e){}}function j(){try{return new e.ActiveXObject("Microsoft.XMLHTTP")}catch(e){}}function G(e){return ne.isWindow(e)?e:9===e.nodeType&&(e.defaultView||e.parentWindow)}var X=[],q=X.slice,Q=X.concat,K=X.push,J=X.indexOf,Z={},ee=Z.toString,te=Z.hasOwnProperty,ie={},ae="1.11.2",ne=function(e,t){return new ne.fn.init(e,t)},oe=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,se=/^-ms-/,re=/-([\da-z])/gi,le=function(e,t){return t.toUpperCase()};ne.fn=ne.prototype={jquery:ae,constructor:ne,selector:"",length:0,toArray:function(){return q.call(this)},get:function(e){return null!=e?0>e?this[e+this.length]:this[e]:q.call(this)},pushStack:function(e){var t=ne.merge(this.constructor(),e);return t.prevObject=this,t.context=this.context,t},each:function(e,t){return ne.each(this,e,t)},map:function(e){return this.pushStack(ne.map(this,function(t,i){return e.call(t,i,t)}))},slice:function(){return this.pushStack(q.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,i=+e+(0>e?t:0);return this.pushStack(i>=0&&t>i?[this[i]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:K,sort:X.sort,splice:X.splice},ne.extend=ne.fn.extend=function(){var e,t,i,a,n,o,s=arguments[0]||{},r=1,l=arguments.length,c=!1;for("boolean"==typeof s&&(c=s,s=arguments[r]||{},r++),"object"==typeof s||ne.isFunction(s)||(s={}),r===l&&(s=this,r--);l>r;r++)if(null!=(n=arguments[r]))for(a in n)e=s[a],i=n[a],s!==i&&(c&&i&&(ne.isPlainObject(i)||(t=ne.isArray(i)))?(t?(t=!1,o=e&&ne.isArray(e)?e:[]):o=e&&ne.isPlainObject(e)?e:{},s[a]=ne.extend(c,o,i)):void 0!==i&&(s[a]=i));return s},ne.extend({expando:"jQuery"+(ae+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isFunction:function(e){return"function"===ne.type(e)},isArray:Array.isArray||function(e){return"array"===ne.type(e)},isWindow:function(e){return null!=e&&e==e.window},isNumeric:function(e){return!ne.isArray(e)&&e-parseFloat(e)+1>=0},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},isPlainObject:function(e){var t;if(!e||"object"!==ne.type(e)||e.nodeType||ne.isWindow(e))return!1;try{if(e.constructor&&!te.call(e,"constructor")&&!te.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(e){return!1}if(ie.ownLast)for(t in e)return te.call(e,t);for(t in e);return void 0===t||te.call(e,t)},type:function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?Z[ee.call(e)]||"object":typeof e},globalEval:function(t){t&&ne.trim(t)&&(e.execScript||function(t){e.eval.call(e,t)})(t)},camelCase:function(e){return e.replace(se,"ms-").replace(re,le)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t,a){var n=0,o=e.length,s=i(e);if(a){if(s)for(;o>n&&!1!==t.apply(e[n],a);n++);else for(n in e)if(!1===t.apply(e[n],a))break}else if(s)for(;o>n&&!1!==t.call(e[n],n,e[n]);n++);else for(n in e)if(!1===t.call(e[n],n,e[n]))break;return e},trim:function(e){return null==e?"":(e+"").replace(oe,"")},makeArray:function(e,t){var a=t||[];return null!=e&&(i(Object(e))?ne.merge(a,"string"==typeof e?[e]:e):K.call(a,e)),a},inArray:function(e,t,i){var a;if(t){if(J)return J.call(t,e,i);for(a=t.length,i=i?0>i?Math.max(0,a+i):i:0;a>i;i++)if(i in t&&t[i]===e)return i}return-1},merge:function(e,t){for(var i=+t.length,a=0,n=e.length;i>a;)e[n++]=t[a++];if(i!==i)for(;void 0!==t[a];)e[n++]=t[a++];return e.length=n,e},grep:function(e,t,i){for(var a=[],n=0,o=e.length,s=!i;o>n;n++)!t(e[n],n)!==s&&a.push(e[n]);return a},map:function(e,t,a){var n,o=0,s=e.length,r=i(e),l=[];if(r)for(;s>o;o++)null!=(n=t(e[o],o,a))&&l.push(n);else for(o in e)null!=(n=t(e[o],o,a))&&l.push(n);return Q.apply([],l)},guid:1,proxy:function(e,t){var i,a,n;return"string"==typeof t&&(n=e[t],t=e,e=n),ne.isFunction(e)?(i=q.call(arguments,2),a=function(){return e.apply(t||this,i.concat(q.call(arguments)))},a.guid=e.guid=e.guid||ne.guid++,a):void 0},now:function(){return+new Date},support:ie}),ne.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(e,t){Z["[object "+t+"]"]=t.toLowerCase()});var ce=function(e){function t(e,t,i,a){var n,o,s,r,c,u,d,p,f,m;if((t?t.ownerDocument||t:O)!==_&&$(t),t=t||_,i=i||[],r=t.nodeType,"string"!=typeof e||!e||1!==r&&9!==r&&11!==r)return i;if(!a&&I){if(11!==r&&(n=ge.exec(e)))if(s=n[1]){if(9===r){if(!(o=t.getElementById(s))||!o.parentNode)return i;if(o.id===s)return i.push(o),i}else if(t.ownerDocument&&(o=t.ownerDocument.getElementById(s))&&B(t,o)&&o.id===s)return i.push(o),i}else{if(n[2])return Q.apply(i,t.getElementsByTagName(e)),i;if((s=n[3])&&y.getElementsByClassName)return Q.apply(i,t.getElementsByClassName(s)),i}if(y.qsa&&(!F||!F.test(e))){if(p=d=R,f=t,m=1!==r&&e,1===r&&"object"!==t.nodeName.toLowerCase()){for(u=k(e),(d=t.getAttribute("id"))?p=d.replace(be,"\\$&"):t.setAttribute("id",p),p="[id='"+p+"'] ",c=u.length;c--;)u[c]=p+h(u[c]);f=ve.test(e)&&l(t.parentNode)||t,m=u.join(",")}if(m)try{return Q.apply(i,f.querySelectorAll(m)),i}catch(e){}finally{d||t.removeAttribute("id")}}}return D(e.replace(se,"$1"),t,i,a)}function i(){function e(i,a){return t.push(i+" ")>x.cacheLength&&delete e[t.shift()],e[i+" "]=a}var t=[];return e}function a(e){return e[R]=!0,e}function n(e){var t=_.createElement("div");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function o(e,t){for(var i=e.split("|"),a=e.length;a--;)x.attrHandle[i[a]]=t}function s(e,t){var i=t&&e,a=i&&1===e.nodeType&&1===t.nodeType&&(~t.sourceIndex||U)-(~e.sourceIndex||U);if(a)return a;if(i)for(;i=i.nextSibling;)if(i===t)return-1;return e?1:-1}function r(e){return a(function(t){return t=+t,a(function(i,a){for(var n,o=e([],i.length,t),s=o.length;s--;)i[n=o[s]]&&(i[n]=!(a[n]=i[n]))})})}function l(e){return e&&void 0!==e.getElementsByTagName&&e}function c(){}function h(e){for(var t=0,i=e.length,a="";i>t;t++)a+=e[t].value;return a}function u(e,t,i){var a=t.dir,n=i&&"parentNode"===a,o=V++;return t.first?function(t,i,o){for(;t=t[a];)if(1===t.nodeType||n)return e(t,i,o)}:function(t,i,s){var r,l,c=[N,o];if(s){for(;t=t[a];)if((1===t.nodeType||n)&&e(t,i,s))return!0}else for(;t=t[a];)if(1===t.nodeType||n){if(l=t[R]||(t[R]={}),(r=l[a])&&r[0]===N&&r[1]===o)return c[2]=r[2];if(l[a]=c,c[2]=e(t,i,s))return!0}}}function d(e){return e.length>1?function(t,i,a){for(var n=e.length;n--;)if(!e[n](t,i,a))return!1;return!0}:e[0]}function p(e,i,a){for(var n=0,o=i.length;o>n;n++)t(e,i[n],a);return a}function f(e,t,i,a,n){for(var o,s=[],r=0,l=e.length,c=null!=t;l>r;r++)(o=e[r])&&(!i||i(o,a,n))&&(s.push(o),c&&t.push(r));return s}function m(e,t,i,n,o,s){return n&&!n[R]&&(n=m(n)),o&&!o[R]&&(o=m(o,s)),a(function(a,s,r,l){var c,h,u,d=[],m=[],g=s.length,v=a||p(t||"*",r.nodeType?[r]:r,[]),b=!e||!a&&t?v:f(v,d,e,r,l),y=i?o||(a?e:g||n)?[]:s:b;if(i&&i(b,y,r,l),n)for(c=f(y,m),n(c,[],r,l),h=c.length;h--;)(u=c[h])&&(y[m[h]]=!(b[m[h]]=u));if(a){if(o||e){if(o){for(c=[],h=y.length;h--;)(u=y[h])&&c.push(b[h]=u);o(null,y=[],c,l)}for(h=y.length;h--;)(u=y[h])&&(c=o?J(a,u):d[h])>-1&&(a[c]=!(s[c]=u))}}else y=f(y===s?y.splice(g,y.length):y),o?o(null,s,y,l):Q.apply(s,y)})}function g(e){for(var t,i,a,n=e.length,o=x.relative[e[0].type],s=o||x.relative[" "],r=o?1:0,l=u(function(e){return e===t},s,!0),c=u(function(e){return J(t,e)>-1},s,!0),p=[function(e,i,a){var n=!o&&(a||i!==T)||((t=i).nodeType?l(e,i,a):c(e,i,a));return t=null,n}];n>r;r++)if(i=x.relative[e[r].type])p=[u(d(p),i)];else{if(i=x.filter[e[r].type].apply(null,e[r].matches),i[R]){for(a=++r;n>a&&!x.relative[e[a].type];a++);return m(r>1&&d(p),r>1&&h(e.slice(0,r-1).concat({value:" "===e[r-2].type?"*":""})).replace(se,"$1"),i,a>r&&g(e.slice(r,a)),n>a&&g(e=e.slice(a)),n>a&&h(e))}p.push(i)}return d(p)}function v(e,i){var n=i.length>0,o=e.length>0,s=function(a,s,r,l,c){var h,u,d,p=0,m="0",g=a&&[],v=[],b=T,y=a||o&&x.find.TAG("*",c),C=N+=null==b?1:Math.random()||.1,w=y.length;for(c&&(T=s!==_&&s);m!==w&&null!=(h=y[m]);m++){if(o&&h){for(u=0;d=e[u++];)if(d(h,s,r)){l.push(h);break}c&&(N=C)}n&&((h=!d&&h)&&p--,a&&g.push(h))}if(p+=m,n&&m!==p){for(u=0;d=i[u++];)d(g,v,s,r);if(a){
if(p>0)for(;m--;)g[m]||v[m]||(v[m]=X.call(l));v=f(v)}Q.apply(l,v),c&&!a&&v.length>0&&p+i.length>1&&t.uniqueSort(l)}return c&&(N=C,T=b),g};return n?a(s):s}var b,y,x,C,w,k,S,D,T,M,P,$,_,A,I,F,E,L,B,R="sizzle"+1*new Date,O=e.document,N=0,V=0,W=i(),z=i(),Y=i(),H=function(e,t){return e===t&&(P=!0),0},U=1<<31,j={}.hasOwnProperty,G=[],X=G.pop,q=G.push,Q=G.push,K=G.slice,J=function(e,t){for(var i=0,a=e.length;a>i;i++)if(e[i]===t)return i;return-1},Z="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",ee="[\\x20\\t\\r\\n\\f]",te="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",ie=te.replace("w","w#"),ae="\\["+ee+"*("+te+")(?:"+ee+"*([*^$|!~]?=)"+ee+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+ie+"))|)"+ee+"*\\]",ne=":("+te+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+ae+")*)|.*)\\)|)",oe=new RegExp(ee+"+","g"),se=new RegExp("^"+ee+"+|((?:^|[^\\\\])(?:\\\\.)*)"+ee+"+$","g"),re=new RegExp("^"+ee+"*,"+ee+"*"),le=new RegExp("^"+ee+"*([>+~]|"+ee+")"+ee+"*"),ce=new RegExp("="+ee+"*([^\\]'\"]*?)"+ee+"*\\]","g"),he=new RegExp(ne),ue=new RegExp("^"+ie+"$"),de={ID:new RegExp("^#("+te+")"),CLASS:new RegExp("^\\.("+te+")"),TAG:new RegExp("^("+te.replace("w","w*")+")"),ATTR:new RegExp("^"+ae),PSEUDO:new RegExp("^"+ne),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+ee+"*(even|odd|(([+-]|)(\\d*)n|)"+ee+"*(?:([+-]|)"+ee+"*(\\d+)|))"+ee+"*\\)|)","i"),bool:new RegExp("^(?:"+Z+")$","i"),needsContext:new RegExp("^"+ee+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+ee+"*((?:-\\d)?\\d*)"+ee+"*\\)|)(?=[^-]|$)","i")},pe=/^(?:input|select|textarea|button)$/i,fe=/^h\d$/i,me=/^[^{]+\{\s*\[native \w/,ge=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ve=/[+~]/,be=/'|\\/g,ye=new RegExp("\\\\([\\da-f]{1,6}"+ee+"?|("+ee+")|.)","ig"),xe=function(e,t,i){var a="0x"+t-65536;return a!==a||i?t:0>a?String.fromCharCode(a+65536):String.fromCharCode(a>>10|55296,1023&a|56320)},Ce=function(){$()};try{Q.apply(G=K.call(O.childNodes),O.childNodes),G[O.childNodes.length].nodeType}catch(e){Q={apply:G.length?function(e,t){q.apply(e,K.call(t))}:function(e,t){for(var i=e.length,a=0;e[i++]=t[a++];);e.length=i-1}}}y=t.support={},w=t.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return!!t&&"HTML"!==t.nodeName},$=t.setDocument=function(e){var t,i,a=e?e.ownerDocument||e:O;return a!==_&&9===a.nodeType&&a.documentElement?(_=a,A=a.documentElement,i=a.defaultView,i&&i!==i.top&&(i.addEventListener?i.addEventListener("unload",Ce,!1):i.attachEvent&&i.attachEvent("onunload",Ce)),I=!w(a),y.attributes=n(function(e){return e.className="i",!e.getAttribute("className")}),y.getElementsByTagName=n(function(e){return e.appendChild(a.createComment("")),!e.getElementsByTagName("*").length}),y.getElementsByClassName=me.test(a.getElementsByClassName),y.getById=n(function(e){return A.appendChild(e).id=R,!a.getElementsByName||!a.getElementsByName(R).length}),y.getById?(x.find.ID=function(e,t){if(void 0!==t.getElementById&&I){var i=t.getElementById(e);return i&&i.parentNode?[i]:[]}},x.filter.ID=function(e){var t=e.replace(ye,xe);return function(e){return e.getAttribute("id")===t}}):(delete x.find.ID,x.filter.ID=function(e){var t=e.replace(ye,xe);return function(e){var i=void 0!==e.getAttributeNode&&e.getAttributeNode("id");return i&&i.value===t}}),x.find.TAG=y.getElementsByTagName?function(e,t){return void 0!==t.getElementsByTagName?t.getElementsByTagName(e):y.qsa?t.querySelectorAll(e):void 0}:function(e,t){var i,a=[],n=0,o=t.getElementsByTagName(e);if("*"===e){for(;i=o[n++];)1===i.nodeType&&a.push(i);return a}return o},x.find.CLASS=y.getElementsByClassName&&function(e,t){return I?t.getElementsByClassName(e):void 0},E=[],F=[],(y.qsa=me.test(a.querySelectorAll))&&(n(function(e){A.appendChild(e).innerHTML="<a id='"+R+"'></a><select id='"+R+"-\f]' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&F.push("[*^$]="+ee+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||F.push("\\["+ee+"*(?:value|"+Z+")"),e.querySelectorAll("[id~="+R+"-]").length||F.push("~="),e.querySelectorAll(":checked").length||F.push(":checked"),e.querySelectorAll("a#"+R+"+*").length||F.push(".#.+[+~]")}),n(function(e){var t=a.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&F.push("name"+ee+"*[*^$|!~]?="),e.querySelectorAll(":enabled").length||F.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),F.push(",.*:")})),(y.matchesSelector=me.test(L=A.matches||A.webkitMatchesSelector||A.mozMatchesSelector||A.oMatchesSelector||A.msMatchesSelector))&&n(function(e){y.disconnectedMatch=L.call(e,"div"),L.call(e,"[s!='']:x"),E.push("!=",ne)}),F=F.length&&new RegExp(F.join("|")),E=E.length&&new RegExp(E.join("|")),t=me.test(A.compareDocumentPosition),B=t||me.test(A.contains)?function(e,t){var i=9===e.nodeType?e.documentElement:e,a=t&&t.parentNode;return e===a||!(!a||1!==a.nodeType||!(i.contains?i.contains(a):e.compareDocumentPosition&&16&e.compareDocumentPosition(a)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},H=t?function(e,t){if(e===t)return P=!0,0;var i=!e.compareDocumentPosition-!t.compareDocumentPosition;return i||(i=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1,1&i||!y.sortDetached&&t.compareDocumentPosition(e)===i?e===a||e.ownerDocument===O&&B(O,e)?-1:t===a||t.ownerDocument===O&&B(O,t)?1:M?J(M,e)-J(M,t):0:4&i?-1:1)}:function(e,t){if(e===t)return P=!0,0;var i,n=0,o=e.parentNode,r=t.parentNode,l=[e],c=[t];if(!o||!r)return e===a?-1:t===a?1:o?-1:r?1:M?J(M,e)-J(M,t):0;if(o===r)return s(e,t);for(i=e;i=i.parentNode;)l.unshift(i);for(i=t;i=i.parentNode;)c.unshift(i);for(;l[n]===c[n];)n++;return n?s(l[n],c[n]):l[n]===O?-1:c[n]===O?1:0},a):_},t.matches=function(e,i){return t(e,null,null,i)},t.matchesSelector=function(e,i){if((e.ownerDocument||e)!==_&&$(e),i=i.replace(ce,"='$1']"),!(!y.matchesSelector||!I||E&&E.test(i)||F&&F.test(i)))try{var a=L.call(e,i);if(a||y.disconnectedMatch||e.document&&11!==e.document.nodeType)return a}catch(e){}return t(i,_,null,[e]).length>0},t.contains=function(e,t){return(e.ownerDocument||e)!==_&&$(e),B(e,t)},t.attr=function(e,t){(e.ownerDocument||e)!==_&&$(e);var i=x.attrHandle[t.toLowerCase()],a=i&&j.call(x.attrHandle,t.toLowerCase())?i(e,t,!I):void 0;return void 0!==a?a:y.attributes||!I?e.getAttribute(t):(a=e.getAttributeNode(t))&&a.specified?a.value:null},t.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},t.uniqueSort=function(e){var t,i=[],a=0,n=0;if(P=!y.detectDuplicates,M=!y.sortStable&&e.slice(0),e.sort(H),P){for(;t=e[n++];)t===e[n]&&(a=i.push(n));for(;a--;)e.splice(i[a],1)}return M=null,e},C=t.getText=function(e){var t,i="",a=0,n=e.nodeType;if(n){if(1===n||9===n||11===n){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)i+=C(e)}else if(3===n||4===n)return e.nodeValue}else for(;t=e[a++];)i+=C(t);return i},x=t.selectors={cacheLength:50,createPseudo:a,match:de,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(ye,xe),e[3]=(e[3]||e[4]||e[5]||"").replace(ye,xe),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||t.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&t.error(e[0]),e},PSEUDO:function(e){var t,i=!e[6]&&e[2];return de.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":i&&he.test(i)&&(t=k(i,!0))&&(t=i.indexOf(")",i.length-t)-i.length)&&(e[0]=e[0].slice(0,t),e[2]=i.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(ye,xe).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=W[e+" "];return t||(t=new RegExp("(^|"+ee+")"+e+"("+ee+"|$)"))&&W(e,function(e){return t.test("string"==typeof e.className&&e.className||void 0!==e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(e,i,a){return function(n){var o=t.attr(n,e);return null==o?"!="===i:!i||(o+="","="===i?o===a:"!="===i?o!==a:"^="===i?a&&0===o.indexOf(a):"*="===i?a&&o.indexOf(a)>-1:"$="===i?a&&o.slice(-a.length)===a:"~="===i?(" "+o.replace(oe," ")+" ").indexOf(a)>-1:"|="===i&&(o===a||o.slice(0,a.length+1)===a+"-"))}},CHILD:function(e,t,i,a,n){var o="nth"!==e.slice(0,3),s="last"!==e.slice(-4),r="of-type"===t;return 1===a&&0===n?function(e){return!!e.parentNode}:function(t,i,l){var c,h,u,d,p,f,m=o!==s?"nextSibling":"previousSibling",g=t.parentNode,v=r&&t.nodeName.toLowerCase(),b=!l&&!r;if(g){if(o){for(;m;){for(u=t;u=u[m];)if(r?u.nodeName.toLowerCase()===v:1===u.nodeType)return!1;f=m="only"===e&&!f&&"nextSibling"}return!0}if(f=[s?g.firstChild:g.lastChild],s&&b){for(h=g[R]||(g[R]={}),c=h[e]||[],p=c[0]===N&&c[1],d=c[0]===N&&c[2],u=p&&g.childNodes[p];u=++p&&u&&u[m]||(d=p=0)||f.pop();)if(1===u.nodeType&&++d&&u===t){h[e]=[N,p,d];break}}else if(b&&(c=(t[R]||(t[R]={}))[e])&&c[0]===N)d=c[1];else for(;(u=++p&&u&&u[m]||(d=p=0)||f.pop())&&((r?u.nodeName.toLowerCase()!==v:1!==u.nodeType)||!++d||(b&&((u[R]||(u[R]={}))[e]=[N,d]),u!==t)););return(d-=n)===a||d%a==0&&d/a>=0}}},PSEUDO:function(e,i){var n,o=x.pseudos[e]||x.setFilters[e.toLowerCase()]||t.error("unsupported pseudo: "+e);return o[R]?o(i):o.length>1?(n=[e,e,"",i],x.setFilters.hasOwnProperty(e.toLowerCase())?a(function(e,t){for(var a,n=o(e,i),s=n.length;s--;)a=J(e,n[s]),e[a]=!(t[a]=n[s])}):function(e){return o(e,0,n)}):o}},pseudos:{not:a(function(e){var t=[],i=[],n=S(e.replace(se,"$1"));return n[R]?a(function(e,t,i,a){for(var o,s=n(e,null,a,[]),r=e.length;r--;)(o=s[r])&&(e[r]=!(t[r]=o))}):function(e,a,o){return t[0]=e,n(t,null,o,i),t[0]=null,!i.pop()}}),has:a(function(e){return function(i){return t(e,i).length>0}}),contains:a(function(e){return e=e.replace(ye,xe),function(t){return(t.textContent||t.innerText||C(t)).indexOf(e)>-1}}),lang:a(function(e){return ue.test(e||"")||t.error("unsupported lang: "+e),e=e.replace(ye,xe).toLowerCase(),function(t){var i;do{if(i=I?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return(i=i.toLowerCase())===e||0===i.indexOf(e+"-")}while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var i=e.location&&e.location.hash;return i&&i.slice(1)===t.id},root:function(e){return e===A},focus:function(e){return e===_.activeElement&&(!_.hasFocus||_.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return!1===e.disabled},disabled:function(e){return!0===e.disabled},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!x.pseudos.empty(e)},header:function(e){return fe.test(e.nodeName)},input:function(e){return pe.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:r(function(){return[0]}),last:r(function(e,t){return[t-1]}),eq:r(function(e,t,i){return[0>i?i+t:i]}),even:r(function(e,t){for(var i=0;t>i;i+=2)e.push(i);return e}),odd:r(function(e,t){for(var i=1;t>i;i+=2)e.push(i);return e}),lt:r(function(e,t,i){for(var a=0>i?i+t:i;--a>=0;)e.push(a);return e}),gt:r(function(e,t,i){for(var a=0>i?i+t:i;++a<t;)e.push(a);return e})}},x.pseudos.nth=x.pseudos.eq;for(b in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})x.pseudos[b]=function(e){return function(t){return"input"===t.nodeName.toLowerCase()&&t.type===e}}(b);for(b in{submit:!0,reset:!0})x.pseudos[b]=function(e){return function(t){var i=t.nodeName.toLowerCase();return("input"===i||"button"===i)&&t.type===e}}(b);return c.prototype=x.filters=x.pseudos,x.setFilters=new c,k=t.tokenize=function(e,i){var a,n,o,s,r,l,c,h=z[e+" "];if(h)return i?0:h.slice(0);for(r=e,l=[],c=x.preFilter;r;){(!a||(n=re.exec(r)))&&(n&&(r=r.slice(n[0].length)||r),l.push(o=[])),a=!1,(n=le.exec(r))&&(a=n.shift(),o.push({value:a,type:n[0].replace(se," ")}),r=r.slice(a.length));for(s in x.filter)!(n=de[s].exec(r))||c[s]&&!(n=c[s](n))||(a=n.shift(),o.push({value:a,type:s,matches:n}),r=r.slice(a.length));if(!a)break}return i?r.length:r?t.error(e):z(e,l).slice(0)},S=t.compile=function(e,t){var i,a=[],n=[],o=Y[e+" "];if(!o){for(t||(t=k(e)),i=t.length;i--;)o=g(t[i]),o[R]?a.push(o):n.push(o);o=Y(e,v(n,a)),o.selector=e}return o},D=t.select=function(e,t,i,a){var n,o,s,r,c,u="function"==typeof e&&e,d=!a&&k(e=u.selector||e);if(i=i||[],1===d.length){if(o=d[0]=d[0].slice(0),o.length>2&&"ID"===(s=o[0]).type&&y.getById&&9===t.nodeType&&I&&x.relative[o[1].type]){if(!(t=(x.find.ID(s.matches[0].replace(ye,xe),t)||[])[0]))return i;u&&(t=t.parentNode),e=e.slice(o.shift().value.length)}for(n=de.needsContext.test(e)?0:o.length;n--&&(s=o[n],!x.relative[r=s.type]);)if((c=x.find[r])&&(a=c(s.matches[0].replace(ye,xe),ve.test(o[0].type)&&l(t.parentNode)||t))){if(o.splice(n,1),!(e=a.length&&h(o)))return Q.apply(i,a),i;break}}return(u||S(e,d))(a,t,!I,i,ve.test(e)&&l(t.parentNode)||t),i},y.sortStable=R.split("").sort(H).join("")===R,y.detectDuplicates=!!P,$(),y.sortDetached=n(function(e){return 1&e.compareDocumentPosition(_.createElement("div"))}),n(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||o("type|href|height|width",function(e,t,i){return i?void 0:e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),y.attributes&&n(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||o("value",function(e,t,i){return i||"input"!==e.nodeName.toLowerCase()?void 0:e.defaultValue}),n(function(e){return null==e.getAttribute("disabled")})||o(Z,function(e,t,i){var a;return i?void 0:!0===e[t]?t.toLowerCase():(a=e.getAttributeNode(t))&&a.specified?a.value:null}),t}(e);ne.find=ce,ne.expr=ce.selectors,ne.expr[":"]=ne.expr.pseudos,ne.unique=ce.uniqueSort,ne.text=ce.getText,ne.isXMLDoc=ce.isXML,ne.contains=ce.contains;var he=ne.expr.match.needsContext,ue=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,de=/^.[^:#\[\.,]*$/;ne.filter=function(e,t,i){var a=t[0];return i&&(e=":not("+e+")"),1===t.length&&1===a.nodeType?ne.find.matchesSelector(a,e)?[a]:[]:ne.find.matches(e,ne.grep(t,function(e){return 1===e.nodeType}))},ne.fn.extend({find:function(e){var t,i=[],a=this,n=a.length;if("string"!=typeof e)return this.pushStack(ne(e).filter(function(){for(t=0;n>t;t++)if(ne.contains(a[t],this))return!0}));for(t=0;n>t;t++)ne.find(e,a[t],i);return i=this.pushStack(n>1?ne.unique(i):i),i.selector=this.selector?this.selector+" "+e:e,i},filter:function(e){return this.pushStack(a(this,e||[],!1))},not:function(e){return this.pushStack(a(this,e||[],!0))},is:function(e){return!!a(this,"string"==typeof e&&he.test(e)?ne(e):e||[],!1).length}});var pe,fe=e.document,me=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/;(ne.fn.init=function(e,t){var i,a;if(!e)return this;if("string"==typeof e){if(!(i="<"===e.charAt(0)&&">"===e.charAt(e.length-1)&&e.length>=3?[null,e,null]:me.exec(e))||!i[1]&&t)return!t||t.jquery?(t||pe).find(e):this.constructor(t).find(e);if(i[1]){if(t=t instanceof ne?t[0]:t,ne.merge(this,ne.parseHTML(i[1],t&&t.nodeType?t.ownerDocument||t:fe,!0)),ue.test(i[1])&&ne.isPlainObject(t))for(i in t)ne.isFunction(this[i])?this[i](t[i]):this.attr(i,t[i]);return this}if((a=fe.getElementById(i[2]))&&a.parentNode){if(a.id!==i[2])return pe.find(e);this.length=1,this[0]=a}return this.context=fe,this.selector=e,this}return e.nodeType?(this.context=this[0]=e,this.length=1,this):ne.isFunction(e)?void 0!==pe.ready?pe.ready(e):e(ne):(void 0!==e.selector&&(this.selector=e.selector,this.context=e.context),ne.makeArray(e,this))}).prototype=ne.fn,pe=ne(fe);var ge=/^(?:parents|prev(?:Until|All))/,ve={children:!0,contents:!0,next:!0,prev:!0};ne.extend({dir:function(e,t,i){for(var a=[],n=e[t];n&&9!==n.nodeType&&(void 0===i||1!==n.nodeType||!ne(n).is(i));)1===n.nodeType&&a.push(n),n=n[t];return a},sibling:function(e,t){for(var i=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&i.push(e);return i}}),ne.fn.extend({has:function(e){var t,i=ne(e,this),a=i.length;return this.filter(function(){for(t=0;a>t;t++)if(ne.contains(this,i[t]))return!0})},closest:function(e,t){for(var i,a=0,n=this.length,o=[],s=he.test(e)||"string"!=typeof e?ne(e,t||this.context):0;n>a;a++)for(i=this[a];i&&i!==t;i=i.parentNode)if(i.nodeType<11&&(s?s.index(i)>-1:1===i.nodeType&&ne.find.matchesSelector(i,e))){o.push(i);break}return this.pushStack(o.length>1?ne.unique(o):o)},index:function(e){return e?"string"==typeof e?ne.inArray(this[0],ne(e)):ne.inArray(e.jquery?e[0]:e,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(ne.unique(ne.merge(this.get(),ne(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),ne.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return ne.dir(e,"parentNode")},parentsUntil:function(e,t,i){return ne.dir(e,"parentNode",i)},next:function(e){return n(e,"nextSibling")},prev:function(e){return n(e,"previousSibling")},nextAll:function(e){return ne.dir(e,"nextSibling")},prevAll:function(e){return ne.dir(e,"previousSibling")},nextUntil:function(e,t,i){return ne.dir(e,"nextSibling",i)},prevUntil:function(e,t,i){return ne.dir(e,"previousSibling",i)},siblings:function(e){return ne.sibling((e.parentNode||{}).firstChild,e)},children:function(e){return ne.sibling(e.firstChild)},contents:function(e){return ne.nodeName(e,"iframe")?e.contentDocument||e.contentWindow.document:ne.merge([],e.childNodes)}},function(e,t){ne.fn[e]=function(i,a){var n=ne.map(this,t,i);return"Until"!==e.slice(-5)&&(a=i),a&&"string"==typeof a&&(n=ne.filter(a,n)),this.length>1&&(ve[e]||(n=ne.unique(n)),ge.test(e)&&(n=n.reverse())),this.pushStack(n)}});var be=/\S+/g,ye={};ne.Callbacks=function(e){e="string"==typeof e?ye[e]||o(e):ne.extend({},e);var t,i,a,n,s,r,l=[],c=!e.once&&[],h=function(o){for(i=e.memory&&o,a=!0,s=r||0,r=0,n=l.length,t=!0;l&&n>s;s++)if(!1===l[s].apply(o[0],o[1])&&e.stopOnFalse){i=!1;break}t=!1,l&&(c?c.length&&h(c.shift()):i?l=[]:u.disable())},u={add:function(){if(l){var a=l.length;!function t(i){ne.each(i,function(i,a){var n=ne.type(a);"function"===n?e.unique&&u.has(a)||l.push(a):a&&a.length&&"string"!==n&&t(a)})}(arguments),t?n=l.length:i&&(r=a,h(i))}return this},remove:function(){return l&&ne.each(arguments,function(e,i){for(var a;(a=ne.inArray(i,l,a))>-1;)l.splice(a,1),t&&(n>=a&&n--,s>=a&&s--)}),this},has:function(e){return e?ne.inArray(e,l)>-1:!(!l||!l.length)},empty:function(){return l=[],n=0,this},disable:function(){return l=c=i=void 0,this},disabled:function(){return!l},lock:function(){return c=void 0,i||u.disable(),this},locked:function(){return!c},fireWith:function(e,i){return!l||a&&!c||(i=i||[],i=[e,i.slice?i.slice():i],t?c.push(i):h(i)),this},fire:function(){return u.fireWith(this,arguments),this},fired:function(){return!!a}};return u},ne.extend({Deferred:function(e){var t=[["resolve","done",ne.Callbacks("once memory"),"resolved"],["reject","fail",ne.Callbacks("once memory"),"rejected"],["notify","progress",ne.Callbacks("memory")]],i="pending",a={state:function(){return i},always:function(){return n.done(arguments).fail(arguments),this},then:function(){var e=arguments;return ne.Deferred(function(i){ne.each(t,function(t,o){var s=ne.isFunction(e[t])&&e[t];n[o[1]](function(){var e=s&&s.apply(this,arguments);e&&ne.isFunction(e.promise)?e.promise().done(i.resolve).fail(i.reject).progress(i.notify):i[o[0]+"With"](this===a?i.promise():this,s?[e]:arguments)})}),e=null}).promise()},promise:function(e){return null!=e?ne.extend(e,a):a}},n={};return a.pipe=a.then,ne.each(t,function(e,o){var s=o[2],r=o[3];a[o[1]]=s.add,r&&s.add(function(){i=r},t[1^e][2].disable,t[2][2].lock),n[o[0]]=function(){return n[o[0]+"With"](this===n?a:this,arguments),this},n[o[0]+"With"]=s.fireWith}),a.promise(n),e&&e.call(n,n),n},when:function(e){var t,i,a,n=0,o=q.call(arguments),s=o.length,r=1!==s||e&&ne.isFunction(e.promise)?s:0,l=1===r?e:ne.Deferred(),c=function(e,i,a){return function(n){i[e]=this,a[e]=arguments.length>1?q.call(arguments):n,a===t?l.notifyWith(i,a):--r||l.resolveWith(i,a)}};if(s>1)for(t=new Array(s),i=new Array(s),a=new Array(s);s>n;n++)o[n]&&ne.isFunction(o[n].promise)?o[n].promise().done(c(n,a,o)).fail(l.reject).progress(c(n,i,t)):--r;return r||l.resolveWith(a,o),l.promise()}});var xe;ne.fn.ready=function(e){return ne.ready.promise().done(e),this},ne.extend({isReady:!1,readyWait:1,holdReady:function(e){e?ne.readyWait++:ne.ready(!0)},ready:function(e){if(!0===e?!--ne.readyWait:!ne.isReady){if(!fe.body)return setTimeout(ne.ready);ne.isReady=!0,!0!==e&&--ne.readyWait>0||(xe.resolveWith(fe,[ne]),ne.fn.triggerHandler&&(ne(fe).triggerHandler("ready"),ne(fe).off("ready")))}}}),ne.ready.promise=function(t){if(!xe)if(xe=ne.Deferred(),"complete"===fe.readyState)setTimeout(ne.ready);else if(fe.addEventListener)fe.addEventListener("DOMContentLoaded",r,!1),e.addEventListener("load",r,!1);else{fe.attachEvent("onreadystatechange",r),e.attachEvent("onload",r);var i=!1;try{i=null==e.frameElement&&fe.documentElement}catch(e){}i&&i.doScroll&&function e(){if(!ne.isReady){try{i.doScroll("left")}catch(t){return setTimeout(e,50)}s(),ne.ready()}}()}return xe.promise(t)};var Ce,we="undefined";for(Ce in ne(ie))break;ie.ownLast="0"!==Ce,ie.inlineBlockNeedsLayout=!1,ne(function(){var e,t,i,a;(i=fe.getElementsByTagName("body")[0])&&i.style&&(t=fe.createElement("div"),a=fe.createElement("div"),a.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",i.appendChild(a).appendChild(t),typeof t.style.zoom!==we&&(t.style.cssText="display:inline;margin:0;border:0;padding:1px;width:1px;zoom:1",ie.inlineBlockNeedsLayout=e=3===t.offsetWidth,e&&(i.style.zoom=1)),i.removeChild(a))}),function(){var e=fe.createElement("div");if(null==ie.deleteExpando){ie.deleteExpando=!0;try{delete e.test}catch(e){ie.deleteExpando=!1}}e=null}(),ne.acceptData=function(e){var t=ne.noData[(e.nodeName+" ").toLowerCase()],i=+e.nodeType||1;return(1===i||9===i)&&(!t||!0!==t&&e.getAttribute("classid")===t)};var ke=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Se=/([A-Z])/g;ne.extend({cache:{},noData:{"applet ":!0,"embed ":!0,"object ":"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},hasData:function(e){return!!(e=e.nodeType?ne.cache[e[ne.expando]]:e[ne.expando])&&!c(e)},data:function(e,t,i){return h(e,t,i)},removeData:function(e,t){return u(e,t)},_data:function(e,t,i){return h(e,t,i,!0)},_removeData:function(e,t){return u(e,t,!0)}}),ne.fn.extend({data:function(e,t){var i,a,n,o=this[0],s=o&&o.attributes;if(void 0===e){if(this.length&&(n=ne.data(o),1===o.nodeType&&!ne._data(o,"parsedAttrs"))){for(i=s.length;i--;)s[i]&&(a=s[i].name,0===a.indexOf("data-")&&(a=ne.camelCase(a.slice(5)),l(o,a,n[a])));ne._data(o,"parsedAttrs",!0)}return n}return"object"==typeof e?this.each(function(){ne.data(this,e)}):arguments.length>1?this.each(function(){ne.data(this,e,t)}):o?l(o,e,ne.data(o,e)):void 0},removeData:function(e){return this.each(function(){ne.removeData(this,e)})}}),ne.extend({queue:function(e,t,i){var a;return e?(t=(t||"fx")+"queue",a=ne._data(e,t),i&&(!a||ne.isArray(i)?a=ne._data(e,t,ne.makeArray(i)):a.push(i)),a||[]):void 0},dequeue:function(e,t){t=t||"fx";var i=ne.queue(e,t),a=i.length,n=i.shift(),o=ne._queueHooks(e,t),s=function(){ne.dequeue(e,t)};"inprogress"===n&&(n=i.shift(),a--),n&&("fx"===t&&i.unshift("inprogress"),delete o.stop,n.call(e,s,o)),!a&&o&&o.empty.fire()},_queueHooks:function(e,t){var i=t+"queueHooks";return ne._data(e,i)||ne._data(e,i,{empty:ne.Callbacks("once memory").add(function(){ne._removeData(e,t+"queue"),ne._removeData(e,i)})})}}),ne.fn.extend({queue:function(e,t){var i=2;return"string"!=typeof e&&(t=e,e="fx",i--),arguments.length<i?ne.queue(this[0],e):void 0===t?this:this.each(function(){var i=ne.queue(this,e,t);ne._queueHooks(this,e),"fx"===e&&"inprogress"!==i[0]&&ne.dequeue(this,e)})},dequeue:function(e){return this.each(function(){ne.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var i,a=1,n=ne.Deferred(),o=this,s=this.length,r=function(){--a||n.resolveWith(o,[o])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";s--;)(i=ne._data(o[s],e+"queueHooks"))&&i.empty&&(a++,i.empty.add(r));return r(),n.promise(t)}});var De=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Te=["Top","Right","Bottom","Left"],Me=function(e,t){return e=t||e,"none"===ne.css(e,"display")||!ne.contains(e.ownerDocument,e)},Pe=ne.access=function(e,t,i,a,n,o,s){var r=0,l=e.length,c=null==i;if("object"===ne.type(i)){n=!0;for(r in i)ne.access(e,t,r,i[r],!0,o,s)}else if(void 0!==a&&(n=!0,ne.isFunction(a)||(s=!0),c&&(s?(t.call(e,a),t=null):(c=t,t=function(e,t,i){return c.call(ne(e),i)})),t))for(;l>r;r++)t(e[r],i,s?a:a.call(e[r],r,t(e[r],i)));return n?e:c?t.call(e):l?t(e[0],i):o},$e=/^(?:checkbox|radio)$/i;!function(){var e=fe.createElement("input"),t=fe.createElement("div"),i=fe.createDocumentFragment();if(t.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",ie.leadingWhitespace=3===t.firstChild.nodeType,ie.tbody=!t.getElementsByTagName("tbody").length,ie.htmlSerialize=!!t.getElementsByTagName("link").length,ie.html5Clone="<:nav></:nav>"!==fe.createElement("nav").cloneNode(!0).outerHTML,e.type="checkbox",e.checked=!0,i.appendChild(e),ie.appendChecked=e.checked,t.innerHTML="<textarea>x</textarea>",ie.noCloneChecked=!!t.cloneNode(!0).lastChild.defaultValue,i.appendChild(t),t.innerHTML="<input type='radio' checked='checked' name='t'/>",ie.checkClone=t.cloneNode(!0).cloneNode(!0).lastChild.checked,ie.noCloneEvent=!0,t.attachEvent&&(t.attachEvent("onclick",function(){ie.noCloneEvent=!1}),t.cloneNode(!0).click()),null==ie.deleteExpando){ie.deleteExpando=!0;try{delete t.test}catch(e){ie.deleteExpando=!1}}}(),function(){var t,i,a=fe.createElement("div");for(t in{submit:!0,change:!0,focusin:!0})i="on"+t,(ie[t+"Bubbles"]=i in e)||(a.setAttribute(i,"t"),ie[t+"Bubbles"]=!1===a.attributes[i].expando);a=null}();var _e=/^(?:input|select|textarea)$/i,Ae=/^key/,Ie=/^(?:mouse|pointer|contextmenu)|click/,Fe=/^(?:focusinfocus|focusoutblur)$/,Ee=/^([^.]*)(?:\.(.+)|)$/;ne.event={global:{},add:function(e,t,i,a,n){var o,s,r,l,c,h,u,d,p,f,m,g=ne._data(e);if(g){for(i.handler&&(l=i,i=l.handler,n=l.selector),i.guid||(i.guid=ne.guid++),(s=g.events)||(s=g.events={}),(h=g.handle)||(h=g.handle=function(e){return typeof ne===we||e&&ne.event.triggered===e.type?void 0:ne.event.dispatch.apply(h.elem,arguments)},h.elem=e),t=(t||"").match(be)||[""],r=t.length;r--;)o=Ee.exec(t[r])||[],p=m=o[1],f=(o[2]||"").split(".").sort(),p&&(c=ne.event.special[p]||{},p=(n?c.delegateType:c.bindType)||p,c=ne.event.special[p]||{},u=ne.extend({type:p,origType:m,data:a,handler:i,guid:i.guid,selector:n,needsContext:n&&ne.expr.match.needsContext.test(n),namespace:f.join(".")},l),(d=s[p])||(d=s[p]=[],d.delegateCount=0,c.setup&&!1!==c.setup.call(e,a,f,h)||(e.addEventListener?e.addEventListener(p,h,!1):e.attachEvent&&e.attachEvent("on"+p,h))),c.add&&(c.add.call(e,u),u.handler.guid||(u.handler.guid=i.guid)),n?d.splice(d.delegateCount++,0,u):d.push(u),ne.event.global[p]=!0);e=null}},remove:function(e,t,i,a,n){var o,s,r,l,c,h,u,d,p,f,m,g=ne.hasData(e)&&ne._data(e);if(g&&(h=g.events)){for(t=(t||"").match(be)||[""],c=t.length;c--;)if(r=Ee.exec(t[c])||[],p=m=r[1],f=(r[2]||"").split(".").sort(),p){for(u=ne.event.special[p]||{},p=(a?u.delegateType:u.bindType)||p,d=h[p]||[],r=r[2]&&new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"),l=o=d.length;o--;)s=d[o],!n&&m!==s.origType||i&&i.guid!==s.guid||r&&!r.test(s.namespace)||a&&a!==s.selector&&("**"!==a||!s.selector)||(d.splice(o,1),s.selector&&d.delegateCount--,u.remove&&u.remove.call(e,s));l&&!d.length&&(u.teardown&&!1!==u.teardown.call(e,f,g.handle)||ne.removeEvent(e,p,g.handle),delete h[p])}else for(p in h)ne.event.remove(e,p+t[c],i,a,!0);ne.isEmptyObject(h)&&(delete g.handle,ne._removeData(e,"events"))}},trigger:function(t,i,a,n){var o,s,r,l,c,h,u,d=[a||fe],p=te.call(t,"type")?t.type:t,f=te.call(t,"namespace")?t.namespace.split("."):[];if(r=h=a=a||fe,3!==a.nodeType&&8!==a.nodeType&&!Fe.test(p+ne.event.triggered)&&(p.indexOf(".")>=0&&(f=p.split("."),p=f.shift(),f.sort()),s=p.indexOf(":")<0&&"on"+p,t=t[ne.expando]?t:new ne.Event(p,"object"==typeof t&&t),t.isTrigger=n?2:3,t.namespace=f.join("."),t.namespace_re=t.namespace?new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=a),i=null==i?[t]:ne.makeArray(i,[t]),c=ne.event.special[p]||{},n||!c.trigger||!1!==c.trigger.apply(a,i))){if(!n&&!c.noBubble&&!ne.isWindow(a)){for(l=c.delegateType||p,Fe.test(l+p)||(r=r.parentNode);r;r=r.parentNode)d.push(r),h=r;h===(a.ownerDocument||fe)&&d.push(h.defaultView||h.parentWindow||e)}for(u=0;(r=d[u++])&&!t.isPropagationStopped();)t.type=u>1?l:c.bindType||p,o=(ne._data(r,"events")||{})[t.type]&&ne._data(r,"handle"),o&&o.apply(r,i),(o=s&&r[s])&&o.apply&&ne.acceptData(r)&&(t.result=o.apply(r,i),!1===t.result&&t.preventDefault());if(t.type=p,!n&&!t.isDefaultPrevented()&&(!c._default||!1===c._default.apply(d.pop(),i))&&ne.acceptData(a)&&s&&a[p]&&!ne.isWindow(a)){h=a[s],h&&(a[s]=null),ne.event.triggered=p;try{a[p]()}catch(e){}ne.event.triggered=void 0,h&&(a[s]=h)}return t.result}},dispatch:function(e){e=ne.event.fix(e);var t,i,a,n,o,s=[],r=q.call(arguments),l=(ne._data(this,"events")||{})[e.type]||[],c=ne.event.special[e.type]||{};if(r[0]=e,e.delegateTarget=this,!c.preDispatch||!1!==c.preDispatch.call(this,e)){for(s=ne.event.handlers.call(this,e,l),t=0;(n=s[t++])&&!e.isPropagationStopped();)for(e.currentTarget=n.elem,o=0;(a=n.handlers[o++])&&!e.isImmediatePropagationStopped();)(!e.namespace_re||e.namespace_re.test(a.namespace))&&(e.handleObj=a,e.data=a.data,void 0!==(i=((ne.event.special[a.origType]||{}).handle||a.handler).apply(n.elem,r))&&!1===(e.result=i)&&(e.preventDefault(),e.stopPropagation()));return c.postDispatch&&c.postDispatch.call(this,e),e.result}},handlers:function(e,t){var i,a,n,o,s=[],r=t.delegateCount,l=e.target;if(r&&l.nodeType&&(!e.button||"click"!==e.type))for(;l!=this;l=l.parentNode||this)if(1===l.nodeType&&(!0!==l.disabled||"click"!==e.type)){for(n=[],o=0;r>o;o++)a=t[o],i=a.selector+" ",void 0===n[i]&&(n[i]=a.needsContext?ne(i,this).index(l)>=0:ne.find(i,this,null,[l]).length),n[i]&&n.push(a);n.length&&s.push({elem:l,handlers:n})}return r<t.length&&s.push({elem:this,handlers:t.slice(r)}),s},fix:function(e){if(e[ne.expando])return e;var t,i,a,n=e.type,o=e,s=this.fixHooks[n];for(s||(this.fixHooks[n]=s=Ie.test(n)?this.mouseHooks:Ae.test(n)?this.keyHooks:{}),a=s.props?this.props.concat(s.props):this.props,e=new ne.Event(o),t=a.length;t--;)i=a[t],e[i]=o[i];return e.target||(e.target=o.srcElement||fe),3===e.target.nodeType&&(e.target=e.target.parentNode),e.metaKey=!!e.metaKey,s.filter?s.filter(e,o):e},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,t){var i,a,n,o=t.button,s=t.fromElement;return null==e.pageX&&null!=t.clientX&&(a=e.target.ownerDocument||fe,n=a.documentElement,i=a.body,e.pageX=t.clientX+(n&&n.scrollLeft||i&&i.scrollLeft||0)-(n&&n.clientLeft||i&&i.clientLeft||0),
e.pageY=t.clientY+(n&&n.scrollTop||i&&i.scrollTop||0)-(n&&n.clientTop||i&&i.clientTop||0)),!e.relatedTarget&&s&&(e.relatedTarget=s===e.target?t.toElement:s),e.which||void 0===o||(e.which=1&o?1:2&o?3:4&o?2:0),e}},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==f()&&this.focus)try{return this.focus(),!1}catch(e){}},delegateType:"focusin"},blur:{trigger:function(){return this===f()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return ne.nodeName(this,"input")&&"checkbox"===this.type&&this.click?(this.click(),!1):void 0},_default:function(e){return ne.nodeName(e.target,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}},simulate:function(e,t,i,a){var n=ne.extend(new ne.Event,i,{type:e,isSimulated:!0,originalEvent:{}});a?ne.event.trigger(n,null,t):ne.event.dispatch.call(t,n),n.isDefaultPrevented()&&i.preventDefault()}},ne.removeEvent=fe.removeEventListener?function(e,t,i){e.removeEventListener&&e.removeEventListener(t,i,!1)}:function(e,t,i){var a="on"+t;e.detachEvent&&(typeof e[a]===we&&(e[a]=null),e.detachEvent(a,i))},ne.Event=function(e,t){return this instanceof ne.Event?(e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?d:p):this.type=e,t&&ne.extend(this,t),this.timeStamp=e&&e.timeStamp||ne.now(),void(this[ne.expando]=!0)):new ne.Event(e,t)},ne.Event.prototype={isDefaultPrevented:p,isPropagationStopped:p,isImmediatePropagationStopped:p,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=d,e&&(e.preventDefault?e.preventDefault():e.returnValue=!1)},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=d,e&&(e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0)},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=d,e&&e.stopImmediatePropagation&&e.stopImmediatePropagation(),this.stopPropagation()}},ne.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,t){ne.event.special[e]={delegateType:t,bindType:t,handle:function(e){var i,a=this,n=e.relatedTarget,o=e.handleObj;return(!n||n!==a&&!ne.contains(a,n))&&(e.type=o.origType,i=o.handler.apply(this,arguments),e.type=t),i}}}),ie.submitBubbles||(ne.event.special.submit={setup:function(){return!ne.nodeName(this,"form")&&void ne.event.add(this,"click._submit keypress._submit",function(e){var t=e.target,i=ne.nodeName(t,"input")||ne.nodeName(t,"button")?t.form:void 0;i&&!ne._data(i,"submitBubbles")&&(ne.event.add(i,"submit._submit",function(e){e._submit_bubble=!0}),ne._data(i,"submitBubbles",!0))})},postDispatch:function(e){e._submit_bubble&&(delete e._submit_bubble,this.parentNode&&!e.isTrigger&&ne.event.simulate("submit",this.parentNode,e,!0))},teardown:function(){return!ne.nodeName(this,"form")&&void ne.event.remove(this,"._submit")}}),ie.changeBubbles||(ne.event.special.change={setup:function(){return _e.test(this.nodeName)?(("checkbox"===this.type||"radio"===this.type)&&(ne.event.add(this,"propertychange._change",function(e){"checked"===e.originalEvent.propertyName&&(this._just_changed=!0)}),ne.event.add(this,"click._change",function(e){this._just_changed&&!e.isTrigger&&(this._just_changed=!1),ne.event.simulate("change",this,e,!0)})),!1):void ne.event.add(this,"beforeactivate._change",function(e){var t=e.target;_e.test(t.nodeName)&&!ne._data(t,"changeBubbles")&&(ne.event.add(t,"change._change",function(e){!this.parentNode||e.isSimulated||e.isTrigger||ne.event.simulate("change",this.parentNode,e,!0)}),ne._data(t,"changeBubbles",!0))})},handle:function(e){var t=e.target;return this!==t||e.isSimulated||e.isTrigger||"radio"!==t.type&&"checkbox"!==t.type?e.handleObj.handler.apply(this,arguments):void 0},teardown:function(){return ne.event.remove(this,"._change"),!_e.test(this.nodeName)}}),ie.focusinBubbles||ne.each({focus:"focusin",blur:"focusout"},function(e,t){var i=function(e){ne.event.simulate(t,e.target,ne.event.fix(e),!0)};ne.event.special[t]={setup:function(){var a=this.ownerDocument||this,n=ne._data(a,t);n||a.addEventListener(e,i,!0),ne._data(a,t,(n||0)+1)},teardown:function(){var a=this.ownerDocument||this,n=ne._data(a,t)-1;n?ne._data(a,t,n):(a.removeEventListener(e,i,!0),ne._removeData(a,t))}}}),ne.fn.extend({on:function(e,t,i,a,n){var o,s;if("object"==typeof e){"string"!=typeof t&&(i=i||t,t=void 0);for(o in e)this.on(o,t,i,e[o],n);return this}if(null==i&&null==a?(a=t,i=t=void 0):null==a&&("string"==typeof t?(a=i,i=void 0):(a=i,i=t,t=void 0)),!1===a)a=p;else if(!a)return this;return 1===n&&(s=a,a=function(e){return ne().off(e),s.apply(this,arguments)},a.guid=s.guid||(s.guid=ne.guid++)),this.each(function(){ne.event.add(this,e,a,i,t)})},one:function(e,t,i,a){return this.on(e,t,i,a,1)},off:function(e,t,i){var a,n;if(e&&e.preventDefault&&e.handleObj)return a=e.handleObj,ne(e.delegateTarget).off(a.namespace?a.origType+"."+a.namespace:a.origType,a.selector,a.handler),this;if("object"==typeof e){for(n in e)this.off(n,t,e[n]);return this}return(!1===t||"function"==typeof t)&&(i=t,t=void 0),!1===i&&(i=p),this.each(function(){ne.event.remove(this,e,i,t)})},trigger:function(e,t){return this.each(function(){ne.event.trigger(e,t,this)})},triggerHandler:function(e,t){var i=this[0];return i?ne.event.trigger(e,t,i,!0):void 0}});var Le="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",Be=/ jQuery\d+="(?:null|\d+)"/g,Re=new RegExp("<(?:"+Le+")[\\s/>]","i"),Oe=/^\s+/,Ne=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Ve=/<([\w:]+)/,We=/<tbody/i,ze=/<|&#?\w+;/,Ye=/<(?:script|style|link)/i,He=/checked\s*(?:[^=]|=\s*.checked.)/i,Ue=/^$|\/(?:java|ecma)script/i,je=/^true\/(.*)/,Ge=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,Xe={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:ie.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]},qe=m(fe),Qe=qe.appendChild(fe.createElement("div"));Xe.optgroup=Xe.option,Xe.tbody=Xe.tfoot=Xe.colgroup=Xe.caption=Xe.thead,Xe.th=Xe.td,ne.extend({clone:function(e,t,i){var a,n,o,s,r,l=ne.contains(e.ownerDocument,e);if(ie.html5Clone||ne.isXMLDoc(e)||!Re.test("<"+e.nodeName+">")?o=e.cloneNode(!0):(Qe.innerHTML=e.outerHTML,Qe.removeChild(o=Qe.firstChild)),!(ie.noCloneEvent&&ie.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||ne.isXMLDoc(e)))for(a=g(o),r=g(e),s=0;null!=(n=r[s]);++s)a[s]&&k(n,a[s]);if(t)if(i)for(r=r||g(e),a=a||g(o),s=0;null!=(n=r[s]);s++)w(n,a[s]);else w(e,o);return a=g(o,"script"),a.length>0&&C(a,!l&&g(e,"script")),a=r=n=null,o},buildFragment:function(e,t,i,a){for(var n,o,s,r,l,c,h,u=e.length,d=m(t),p=[],f=0;u>f;f++)if((o=e[f])||0===o)if("object"===ne.type(o))ne.merge(p,o.nodeType?[o]:o);else if(ze.test(o)){for(r=r||d.appendChild(t.createElement("div")),l=(Ve.exec(o)||["",""])[1].toLowerCase(),h=Xe[l]||Xe._default,r.innerHTML=h[1]+o.replace(Ne,"<$1></$2>")+h[2],n=h[0];n--;)r=r.lastChild;if(!ie.leadingWhitespace&&Oe.test(o)&&p.push(t.createTextNode(Oe.exec(o)[0])),!ie.tbody)for(o="table"!==l||We.test(o)?"<table>"!==h[1]||We.test(o)?0:r:r.firstChild,n=o&&o.childNodes.length;n--;)ne.nodeName(c=o.childNodes[n],"tbody")&&!c.childNodes.length&&o.removeChild(c);for(ne.merge(p,r.childNodes),r.textContent="";r.firstChild;)r.removeChild(r.firstChild);r=d.lastChild}else p.push(t.createTextNode(o));for(r&&d.removeChild(r),ie.appendChecked||ne.grep(g(p,"input"),v),f=0;o=p[f++];)if((!a||-1===ne.inArray(o,a))&&(s=ne.contains(o.ownerDocument,o),r=g(d.appendChild(o),"script"),s&&C(r),i))for(n=0;o=r[n++];)Ue.test(o.type||"")&&i.push(o);return r=null,d},cleanData:function(e,t){for(var i,a,n,o,s=0,r=ne.expando,l=ne.cache,c=ie.deleteExpando,h=ne.event.special;null!=(i=e[s]);s++)if((t||ne.acceptData(i))&&(n=i[r],o=n&&l[n])){if(o.events)for(a in o.events)h[a]?ne.event.remove(i,a):ne.removeEvent(i,a,o.handle);l[n]&&(delete l[n],c?delete i[r]:typeof i.removeAttribute!==we?i.removeAttribute(r):i[r]=null,X.push(n))}}}),ne.fn.extend({text:function(e){return Pe(this,function(e){return void 0===e?ne.text(this):this.empty().append((this[0]&&this[0].ownerDocument||fe).createTextNode(e))},null,e,arguments.length)},append:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){b(this,e).appendChild(e)}})},prepend:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=b(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},remove:function(e,t){for(var i,a=e?ne.filter(e,this):this,n=0;null!=(i=a[n]);n++)t||1!==i.nodeType||ne.cleanData(g(i)),i.parentNode&&(t&&ne.contains(i.ownerDocument,i)&&C(g(i,"script")),i.parentNode.removeChild(i));return this},empty:function(){for(var e,t=0;null!=(e=this[t]);t++){for(1===e.nodeType&&ne.cleanData(g(e,!1));e.firstChild;)e.removeChild(e.firstChild);e.options&&ne.nodeName(e,"select")&&(e.options.length=0)}return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return ne.clone(this,e,t)})},html:function(e){return Pe(this,function(e){var t=this[0]||{},i=0,a=this.length;if(void 0===e)return 1===t.nodeType?t.innerHTML.replace(Be,""):void 0;if(!("string"!=typeof e||Ye.test(e)||!ie.htmlSerialize&&Re.test(e)||!ie.leadingWhitespace&&Oe.test(e)||Xe[(Ve.exec(e)||["",""])[1].toLowerCase()])){e=e.replace(Ne,"<$1></$2>");try{for(;a>i;i++)t=this[i]||{},1===t.nodeType&&(ne.cleanData(g(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=arguments[0];return this.domManip(arguments,function(t){e=this.parentNode,ne.cleanData(g(this)),e&&e.replaceChild(t,this)}),e&&(e.length||e.nodeType)?this:this.remove()},detach:function(e){return this.remove(e,!0)},domManip:function(e,t){e=Q.apply([],e);var i,a,n,o,s,r,l=0,c=this.length,h=this,u=c-1,d=e[0],p=ne.isFunction(d);if(p||c>1&&"string"==typeof d&&!ie.checkClone&&He.test(d))return this.each(function(i){var a=h.eq(i);p&&(e[0]=d.call(this,i,a.html())),a.domManip(e,t)});if(c&&(r=ne.buildFragment(e,this[0].ownerDocument,!1,this),i=r.firstChild,1===r.childNodes.length&&(r=i),i)){for(o=ne.map(g(r,"script"),y),n=o.length;c>l;l++)a=r,l!==u&&(a=ne.clone(a,!0,!0),n&&ne.merge(o,g(a,"script"))),t.call(this[l],a,l);if(n)for(s=o[o.length-1].ownerDocument,ne.map(o,x),l=0;n>l;l++)a=o[l],Ue.test(a.type||"")&&!ne._data(a,"globalEval")&&ne.contains(s,a)&&(a.src?ne._evalUrl&&ne._evalUrl(a.src):ne.globalEval((a.text||a.textContent||a.innerHTML||"").replace(Ge,"")));r=i=null}return this}}),ne.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){ne.fn[e]=function(e){for(var i,a=0,n=[],o=ne(e),s=o.length-1;s>=a;a++)i=a===s?this:this.clone(!0),ne(o[a])[t](i),K.apply(n,i.get());return this.pushStack(n)}});var Ke,Je={};!function(){var e;ie.shrinkWrapBlocks=function(){if(null!=e)return e;e=!1;var t,i,a;return i=fe.getElementsByTagName("body")[0],i&&i.style?(t=fe.createElement("div"),a=fe.createElement("div"),a.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",i.appendChild(a).appendChild(t),typeof t.style.zoom!==we&&(t.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:1px;width:1px;zoom:1",t.appendChild(fe.createElement("div")).style.width="5px",e=3!==t.offsetWidth),i.removeChild(a),e):void 0}}();var Ze,et,tt=/^margin/,it=new RegExp("^("+De+")(?!px)[a-z%]+$","i"),at=/^(top|right|bottom|left)$/;e.getComputedStyle?(Ze=function(t){return t.ownerDocument.defaultView.opener?t.ownerDocument.defaultView.getComputedStyle(t,null):e.getComputedStyle(t,null)},et=function(e,t,i){var a,n,o,s,r=e.style;return i=i||Ze(e),s=i?i.getPropertyValue(t)||i[t]:void 0,i&&(""!==s||ne.contains(e.ownerDocument,e)||(s=ne.style(e,t)),it.test(s)&&tt.test(t)&&(a=r.width,n=r.minWidth,o=r.maxWidth,r.minWidth=r.maxWidth=r.width=s,s=i.width,r.width=a,r.minWidth=n,r.maxWidth=o)),void 0===s?s:s+""}):fe.documentElement.currentStyle&&(Ze=function(e){return e.currentStyle},et=function(e,t,i){var a,n,o,s,r=e.style;return i=i||Ze(e),s=i?i[t]:void 0,null==s&&r&&r[t]&&(s=r[t]),it.test(s)&&!at.test(t)&&(a=r.left,n=e.runtimeStyle,o=n&&n.left,o&&(n.left=e.currentStyle.left),r.left="fontSize"===t?"1em":s,s=r.pixelLeft+"px",r.left=a,o&&(n.left=o)),void 0===s?s:s+""||"auto"}),!function(){function t(){var t,i,a,n;(i=fe.getElementsByTagName("body")[0])&&i.style&&(t=fe.createElement("div"),a=fe.createElement("div"),a.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",i.appendChild(a).appendChild(t),t.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:block;margin-top:1%;top:1%;border:1px;padding:1px;width:4px;position:absolute",o=s=!1,l=!0,e.getComputedStyle&&(o="1%"!==(e.getComputedStyle(t,null)||{}).top,s="4px"===(e.getComputedStyle(t,null)||{width:"4px"}).width,n=t.appendChild(fe.createElement("div")),n.style.cssText=t.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",n.style.marginRight=n.style.width="0",t.style.width="1px",l=!parseFloat((e.getComputedStyle(n,null)||{}).marginRight),t.removeChild(n)),t.innerHTML="<table><tr><td></td><td>t</td></tr></table>",n=t.getElementsByTagName("td"),n[0].style.cssText="margin:0;border:0;padding:0;display:none",r=0===n[0].offsetHeight,r&&(n[0].style.display="",n[1].style.display="none",r=0===n[0].offsetHeight),i.removeChild(a))}var i,a,n,o,s,r,l;i=fe.createElement("div"),i.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",n=i.getElementsByTagName("a")[0],(a=n&&n.style)&&(a.cssText="float:left;opacity:.5",ie.opacity="0.5"===a.opacity,ie.cssFloat=!!a.cssFloat,i.style.backgroundClip="content-box",i.cloneNode(!0).style.backgroundClip="",ie.clearCloneStyle="content-box"===i.style.backgroundClip,ie.boxSizing=""===a.boxSizing||""===a.MozBoxSizing||""===a.WebkitBoxSizing,ne.extend(ie,{reliableHiddenOffsets:function(){return null==r&&t(),r},boxSizingReliable:function(){return null==s&&t(),s},pixelPosition:function(){return null==o&&t(),o},reliableMarginRight:function(){return null==l&&t(),l}}))}(),ne.swap=function(e,t,i,a){var n,o,s={};for(o in t)s[o]=e.style[o],e.style[o]=t[o];n=i.apply(e,a||[]);for(o in t)e.style[o]=s[o];return n};var nt=/alpha\([^)]*\)/i,ot=/opacity\s*=\s*([^)]*)/,st=/^(none|table(?!-c[ea]).+)/,rt=new RegExp("^("+De+")(.*)$","i"),lt=new RegExp("^([+-])=("+De+")","i"),ct={position:"absolute",visibility:"hidden",display:"block"},ht={letterSpacing:"0",fontWeight:"400"},ut=["Webkit","O","Moz","ms"];ne.extend({cssHooks:{opacity:{get:function(e,t){if(t){var i=et(e,"opacity");return""===i?"1":i}}}},cssNumber:{columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{float:ie.cssFloat?"cssFloat":"styleFloat"},style:function(e,t,i,a){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var n,o,s,r=ne.camelCase(t),l=e.style;if(t=ne.cssProps[r]||(ne.cssProps[r]=M(l,r)),s=ne.cssHooks[t]||ne.cssHooks[r],void 0===i)return s&&"get"in s&&void 0!==(n=s.get(e,!1,a))?n:l[t];if(o=typeof i,"string"===o&&(n=lt.exec(i))&&(i=(n[1]+1)*n[2]+parseFloat(ne.css(e,t)),o="number"),null!=i&&i===i&&("number"!==o||ne.cssNumber[r]||(i+="px"),ie.clearCloneStyle||""!==i||0!==t.indexOf("background")||(l[t]="inherit"),!(s&&"set"in s&&void 0===(i=s.set(e,i,a)))))try{l[t]=i}catch(e){}}},css:function(e,t,i,a){var n,o,s,r=ne.camelCase(t);return t=ne.cssProps[r]||(ne.cssProps[r]=M(e.style,r)),s=ne.cssHooks[t]||ne.cssHooks[r],s&&"get"in s&&(o=s.get(e,!0,i)),void 0===o&&(o=et(e,t,a)),"normal"===o&&t in ht&&(o=ht[t]),""===i||i?(n=parseFloat(o),!0===i||ne.isNumeric(n)?n||0:o):o}}),ne.each(["height","width"],function(e,t){ne.cssHooks[t]={get:function(e,i,a){return i?st.test(ne.css(e,"display"))&&0===e.offsetWidth?ne.swap(e,ct,function(){return A(e,t,a)}):A(e,t,a):void 0},set:function(e,i,a){var n=a&&Ze(e);return $(e,i,a?_(e,t,a,ie.boxSizing&&"border-box"===ne.css(e,"boxSizing",!1,n),n):0)}}}),ie.opacity||(ne.cssHooks.opacity={get:function(e,t){return ot.test((t&&e.currentStyle?e.currentStyle.filter:e.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":t?"1":""},set:function(e,t){var i=e.style,a=e.currentStyle,n=ne.isNumeric(t)?"alpha(opacity="+100*t+")":"",o=a&&a.filter||i.filter||"";i.zoom=1,(t>=1||""===t)&&""===ne.trim(o.replace(nt,""))&&i.removeAttribute&&(i.removeAttribute("filter"),""===t||a&&!a.filter)||(i.filter=nt.test(o)?o.replace(nt,n):o+" "+n)}}),ne.cssHooks.marginRight=T(ie.reliableMarginRight,function(e,t){return t?ne.swap(e,{display:"inline-block"},et,[e,"marginRight"]):void 0}),ne.each({margin:"",padding:"",border:"Width"},function(e,t){ne.cssHooks[e+t]={expand:function(i){for(var a=0,n={},o="string"==typeof i?i.split(" "):[i];4>a;a++)n[e+Te[a]+t]=o[a]||o[a-2]||o[0];return n}},tt.test(e)||(ne.cssHooks[e+t].set=$)}),ne.fn.extend({css:function(e,t){return Pe(this,function(e,t,i){var a,n,o={},s=0;if(ne.isArray(t)){for(a=Ze(e),n=t.length;n>s;s++)o[t[s]]=ne.css(e,t[s],!1,a);return o}return void 0!==i?ne.style(e,t,i):ne.css(e,t)},e,t,arguments.length>1)},show:function(){return P(this,!0)},hide:function(){return P(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){Me(this)?ne(this).show():ne(this).hide()})}}),ne.Tween=I,I.prototype={constructor:I,init:function(e,t,i,a,n,o){this.elem=e,this.prop=i,this.easing=n||"swing",this.options=t,this.start=this.now=this.cur(),this.end=a,this.unit=o||(ne.cssNumber[i]?"":"px")},cur:function(){var e=I.propHooks[this.prop];return e&&e.get?e.get(this):I.propHooks._default.get(this)},run:function(e){var t,i=I.propHooks[this.prop];return this.pos=t=this.options.duration?ne.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),i&&i.set?i.set(this):I.propHooks._default.set(this),this}},I.prototype.init.prototype=I.prototype,I.propHooks={_default:{get:function(e){var t;return null==e.elem[e.prop]||e.elem.style&&null!=e.elem.style[e.prop]?(t=ne.css(e.elem,e.prop,""),t&&"auto"!==t?t:0):e.elem[e.prop]},set:function(e){ne.fx.step[e.prop]?ne.fx.step[e.prop](e):e.elem.style&&(null!=e.elem.style[ne.cssProps[e.prop]]||ne.cssHooks[e.prop])?ne.style(e.elem,e.prop,e.now+e.unit):e.elem[e.prop]=e.now}}},I.propHooks.scrollTop=I.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},ne.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2}},ne.fx=I.prototype.init,ne.fx.step={};var dt,pt,ft=/^(?:toggle|show|hide)$/,mt=new RegExp("^(?:([+-])=|)("+De+")([a-z%]*)$","i"),gt=/queueHooks$/,vt=[B],bt={"*":[function(e,t){var i=this.createTween(e,t),a=i.cur(),n=mt.exec(t),o=n&&n[3]||(ne.cssNumber[e]?"":"px"),s=(ne.cssNumber[e]||"px"!==o&&+a)&&mt.exec(ne.css(i.elem,e)),r=1,l=20;if(s&&s[3]!==o){o=o||s[3],n=n||[],s=+a||1;do{r=r||".5",s/=r,ne.style(i.elem,e,s+o)}while(r!==(r=i.cur()/a)&&1!==r&&--l)}return n&&(s=i.start=+s||+a||0,i.unit=o,i.end=n[1]?s+(n[1]+1)*n[2]:+n[2]),i}]};ne.Animation=ne.extend(O,{tweener:function(e,t){ne.isFunction(e)?(t=e,e=["*"]):e=e.split(" ");for(var i,a=0,n=e.length;n>a;a++)i=e[a],bt[i]=bt[i]||[],bt[i].unshift(t)},prefilter:function(e,t){t?vt.unshift(e):vt.push(e)}}),ne.speed=function(e,t,i){var a=e&&"object"==typeof e?ne.extend({},e):{complete:i||!i&&t||ne.isFunction(e)&&e,duration:e,easing:i&&t||t&&!ne.isFunction(t)&&t};return a.duration=ne.fx.off?0:"number"==typeof a.duration?a.duration:a.duration in ne.fx.speeds?ne.fx.speeds[a.duration]:ne.fx.speeds._default,(null==a.queue||!0===a.queue)&&(a.queue="fx"),a.old=a.complete,a.complete=function(){ne.isFunction(a.old)&&a.old.call(this),a.queue&&ne.dequeue(this,a.queue)},a},ne.fn.extend({fadeTo:function(e,t,i,a){return this.filter(Me).css("opacity",0).show().end().animate({opacity:t},e,i,a)},animate:function(e,t,i,a){var n=ne.isEmptyObject(e),o=ne.speed(t,i,a),s=function(){var t=O(this,ne.extend({},e),o);(n||ne._data(this,"finish"))&&t.stop(!0)};return s.finish=s,n||!1===o.queue?this.each(s):this.queue(o.queue,s)},stop:function(e,t,i){var a=function(e){var t=e.stop;delete e.stop,t(i)};return"string"!=typeof e&&(i=t,t=e,e=void 0),t&&!1!==e&&this.queue(e||"fx",[]),this.each(function(){var t=!0,n=null!=e&&e+"queueHooks",o=ne.timers,s=ne._data(this);if(n)s[n]&&s[n].stop&&a(s[n]);else for(n in s)s[n]&&s[n].stop&&gt.test(n)&&a(s[n]);for(n=o.length;n--;)o[n].elem!==this||null!=e&&o[n].queue!==e||(o[n].anim.stop(i),t=!1,o.splice(n,1));(t||!i)&&ne.dequeue(this,e)})},finish:function(e){return!1!==e&&(e=e||"fx"),this.each(function(){var t,i=ne._data(this),a=i[e+"queue"],n=i[e+"queueHooks"],o=ne.timers,s=a?a.length:0;for(i.finish=!0,ne.queue(this,e,[]),n&&n.stop&&n.stop.call(this,!0),t=o.length;t--;)o[t].elem===this&&o[t].queue===e&&(o[t].anim.stop(!0),o.splice(t,1));for(t=0;s>t;t++)a[t]&&a[t].finish&&a[t].finish.call(this);delete i.finish})}}),ne.each(["toggle","show","hide"],function(e,t){var i=ne.fn[t];ne.fn[t]=function(e,a,n){return null==e||"boolean"==typeof e?i.apply(this,arguments):this.animate(E(t,!0),e,a,n)}}),ne.each({slideDown:E("show"),slideUp:E("hide"),slideToggle:E("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){ne.fn[e]=function(e,i,a){return this.animate(t,e,i,a)}}),ne.timers=[],ne.fx.tick=function(){var e,t=ne.timers,i=0;for(dt=ne.now();i<t.length;i++)(e=t[i])()||t[i]!==e||t.splice(i--,1);t.length||ne.fx.stop(),dt=void 0},ne.fx.timer=function(e){ne.timers.push(e),e()?ne.fx.start():ne.timers.pop()},ne.fx.interval=13,ne.fx.start=function(){pt||(pt=setInterval(ne.fx.tick,ne.fx.interval))},ne.fx.stop=function(){clearInterval(pt),pt=null},ne.fx.speeds={slow:600,fast:200,_default:400},ne.fn.delay=function(e,t){return e=ne.fx?ne.fx.speeds[e]||e:e,t=t||"fx",this.queue(t,function(t,i){var a=setTimeout(t,e);i.stop=function(){clearTimeout(a)}})},function(){var e,t,i,a,n;t=fe.createElement("div"),t.setAttribute("className","t"),t.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",a=t.getElementsByTagName("a")[0],i=fe.createElement("select"),n=i.appendChild(fe.createElement("option")),e=t.getElementsByTagName("input")[0],a.style.cssText="top:1px",ie.getSetAttribute="t"!==t.className,ie.style=/top/.test(a.getAttribute("style")),ie.hrefNormalized="/a"===a.getAttribute("href"),ie.checkOn=!!e.value,ie.optSelected=n.selected,ie.enctype=!!fe.createElement("form").enctype,i.disabled=!0,ie.optDisabled=!n.disabled,e=fe.createElement("input"),e.setAttribute("value",""),ie.input=""===e.getAttribute("value"),e.value="t",e.setAttribute("type","radio"),ie.radioValue="t"===e.value}();var yt=/\r/g;ne.fn.extend({val:function(e){var t,i,a,n=this[0];return arguments.length?(a=ne.isFunction(e),this.each(function(i){var n;1===this.nodeType&&(n=a?e.call(this,i,ne(this).val()):e,null==n?n="":"number"==typeof n?n+="":ne.isArray(n)&&(n=ne.map(n,function(e){return null==e?"":e+""})),(t=ne.valHooks[this.type]||ne.valHooks[this.nodeName.toLowerCase()])&&"set"in t&&void 0!==t.set(this,n,"value")||(this.value=n))})):n?(t=ne.valHooks[n.type]||ne.valHooks[n.nodeName.toLowerCase()],t&&"get"in t&&void 0!==(i=t.get(n,"value"))?i:(i=n.value,"string"==typeof i?i.replace(yt,""):null==i?"":i)):void 0}}),ne.extend({valHooks:{option:{get:function(e){var t=ne.find.attr(e,"value");return null!=t?t:ne.trim(ne.text(e))}},select:{get:function(e){for(var t,i,a=e.options,n=e.selectedIndex,o="select-one"===e.type||0>n,s=o?null:[],r=o?n+1:a.length,l=0>n?r:o?n:0;r>l;l++)if(i=a[l],!(!i.selected&&l!==n||(ie.optDisabled?i.disabled:null!==i.getAttribute("disabled"))||i.parentNode.disabled&&ne.nodeName(i.parentNode,"optgroup"))){if(t=ne(i).val(),o)return t;s.push(t)}return s},set:function(e,t){for(var i,a,n=e.options,o=ne.makeArray(t),s=n.length;s--;)if(a=n[s],ne.inArray(ne.valHooks.option.get(a),o)>=0)try{a.selected=i=!0}catch(e){a.scrollHeight}else a.selected=!1;return i||(e.selectedIndex=-1),n}}}}),ne.each(["radio","checkbox"],function(){ne.valHooks[this]={set:function(e,t){return ne.isArray(t)?e.checked=ne.inArray(ne(e).val(),t)>=0:void 0}},ie.checkOn||(ne.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})});var xt,Ct,wt=ne.expr.attrHandle,kt=/^(?:checked|selected)$/i,St=ie.getSetAttribute,Dt=ie.input;ne.fn.extend({attr:function(e,t){return Pe(this,ne.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){ne.removeAttr(this,e)})}}),ne.extend({attr:function(e,t,i){var a,n,o=e.nodeType;if(e&&3!==o&&8!==o&&2!==o)return typeof e.getAttribute===we?ne.prop(e,t,i):(1===o&&ne.isXMLDoc(e)||(t=t.toLowerCase(),a=ne.attrHooks[t]||(ne.expr.match.bool.test(t)?Ct:xt)),void 0===i?a&&"get"in a&&null!==(n=a.get(e,t))?n:(n=ne.find.attr(e,t),null==n?void 0:n):null!==i?a&&"set"in a&&void 0!==(n=a.set(e,i,t))?n:(e.setAttribute(t,i+""),i):void ne.removeAttr(e,t))},removeAttr:function(e,t){var i,a,n=0,o=t&&t.match(be);if(o&&1===e.nodeType)for(;i=o[n++];)a=ne.propFix[i]||i,ne.expr.match.bool.test(i)?Dt&&St||!kt.test(i)?e[a]=!1:e[ne.camelCase("default-"+i)]=e[a]=!1:ne.attr(e,i,""),e.removeAttribute(St?i:a)},attrHooks:{type:{set:function(e,t){if(!ie.radioValue&&"radio"===t&&ne.nodeName(e,"input")){var i=e.value;return e.setAttribute("type",t),i&&(e.value=i),t}}}}}),Ct={set:function(e,t,i){return!1===t?ne.removeAttr(e,i):Dt&&St||!kt.test(i)?e.setAttribute(!St&&ne.propFix[i]||i,i):e[ne.camelCase("default-"+i)]=e[i]=!0,i}},ne.each(ne.expr.match.bool.source.match(/\w+/g),function(e,t){var i=wt[t]||ne.find.attr;wt[t]=Dt&&St||!kt.test(t)?function(e,t,a){var n,o;return a||(o=wt[t],wt[t]=n,n=null!=i(e,t,a)?t.toLowerCase():null,wt[t]=o),n}:function(e,t,i){return i?void 0:e[ne.camelCase("default-"+t)]?t.toLowerCase():null}}),Dt&&St||(ne.attrHooks.value={set:function(e,t,i){return ne.nodeName(e,"input")?void(e.defaultValue=t):xt&&xt.set(e,t,i)}}),St||(xt={set:function(e,t,i){var a=e.getAttributeNode(i);return a||e.setAttributeNode(a=e.ownerDocument.createAttribute(i)),a.value=t+="","value"===i||t===e.getAttribute(i)?t:void 0}},wt.id=wt.name=wt.coords=function(e,t,i){var a;return i?void 0:(a=e.getAttributeNode(t))&&""!==a.value?a.value:null},ne.valHooks.button={get:function(e,t){var i=e.getAttributeNode(t);return i&&i.specified?i.value:void 0},set:xt.set},ne.attrHooks.contenteditable={set:function(e,t,i){xt.set(e,""!==t&&t,i)}},ne.each(["width","height"],function(e,t){ne.attrHooks[t]={set:function(e,i){return""===i?(e.setAttribute(t,"auto"),i):void 0}}})),ie.style||(ne.attrHooks.style={get:function(e){return e.style.cssText||void 0},set:function(e,t){return e.style.cssText=t+""}});var Tt=/^(?:input|select|textarea|button|object)$/i,Mt=/^(?:a|area)$/i;ne.fn.extend({prop:function(e,t){return Pe(this,ne.prop,e,t,arguments.length>1)},removeProp:function(e){return e=ne.propFix[e]||e,this.each(function(){try{this[e]=void 0,delete this[e]}catch(e){}})}}),ne.extend({propFix:{for:"htmlFor",class:"className"},prop:function(e,t,i){var a,n,o,s=e.nodeType;if(e&&3!==s&&8!==s&&2!==s)return o=1!==s||!ne.isXMLDoc(e),o&&(t=ne.propFix[t]||t,n=ne.propHooks[t]),void 0!==i?n&&"set"in n&&void 0!==(a=n.set(e,i,t))?a:e[t]=i:n&&"get"in n&&null!==(a=n.get(e,t))?a:e[t]},propHooks:{tabIndex:{get:function(e){var t=ne.find.attr(e,"tabindex");return t?parseInt(t,10):Tt.test(e.nodeName)||Mt.test(e.nodeName)&&e.href?0:-1}}}}),ie.hrefNormalized||ne.each(["href","src"],function(e,t){ne.propHooks[t]={get:function(e){return e.getAttribute(t,4)}}}),ie.optSelected||(ne.propHooks.selected={get:function(e){var t=e.parentNode;return t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex),null}}),ne.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){ne.propFix[this.toLowerCase()]=this}),ie.enctype||(ne.propFix.enctype="encoding");var Pt=/[\t\r\n\f]/g;ne.fn.extend({addClass:function(e){var t,i,a,n,o,s,r=0,l=this.length,c="string"==typeof e&&e;if(ne.isFunction(e))return this.each(function(t){ne(this).addClass(e.call(this,t,this.className))});if(c)for(t=(e||"").match(be)||[];l>r;r++)if(i=this[r],a=1===i.nodeType&&(i.className?(" "+i.className+" ").replace(Pt," "):" ")){for(o=0;n=t[o++];)a.indexOf(" "+n+" ")<0&&(a+=n+" ");s=ne.trim(a),i.className!==s&&(i.className=s)}return this},removeClass:function(e){var t,i,a,n,o,s,r=0,l=this.length,c=0===arguments.length||"string"==typeof e&&e;if(ne.isFunction(e))return this.each(function(t){ne(this).removeClass(e.call(this,t,this.className))});if(c)for(t=(e||"").match(be)||[];l>r;r++)if(i=this[r],a=1===i.nodeType&&(i.className?(" "+i.className+" ").replace(Pt," "):"")){for(o=0;n=t[o++];)for(;a.indexOf(" "+n+" ")>=0;)a=a.replace(" "+n+" "," ");s=e?ne.trim(a):"",i.className!==s&&(i.className=s)}return this},toggleClass:function(e,t){var i=typeof e;return"boolean"==typeof t&&"string"===i?t?this.addClass(e):this.removeClass(e):this.each(ne.isFunction(e)?function(i){ne(this).toggleClass(e.call(this,i,this.className,t),t)}:function(){if("string"===i)for(var t,a=0,n=ne(this),o=e.match(be)||[];t=o[a++];)n.hasClass(t)?n.removeClass(t):n.addClass(t);else(i===we||"boolean"===i)&&(this.className&&ne._data(this,"__className__",this.className),this.className=this.className||!1===e?"":ne._data(this,"__className__")||"")})},hasClass:function(e){for(var t=" "+e+" ",i=0,a=this.length;a>i;i++)if(1===this[i].nodeType&&(" "+this[i].className+" ").replace(Pt," ").indexOf(t)>=0)return!0;return!1}}),ne.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){ne.fn[t]=function(e,i){return arguments.length>0?this.on(t,null,e,i):this.trigger(t)}}),ne.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)},bind:function(e,t,i){return this.on(e,null,t,i)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,i,a){return this.on(t,e,i,a)},undelegate:function(e,t,i){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",i)}});var $t=ne.now(),_t=/\?/,At=/(,)|(\[|{)|(}|])|"(?:[^"\\\r\n]|\\["\\\/bfnrt]|\\u[\da-fA-F]{4})*"\s*:?|true|false|null|-?(?!0\d)\d+(?:\.\d+|)(?:[eE][+-]?\d+|)/g;ne.parseJSON=function(t){if(e.JSON&&e.JSON.parse)return e.JSON.parse(t+"");var i,a=null,n=ne.trim(t+"");return n&&!ne.trim(n.replace(At,function(e,t,n,o){return i&&t&&(a=0),0===a?e:(i=n||t,a+=!o-!n,"")}))?Function("return "+n)():ne.error("Invalid JSON: "+t)},ne.parseXML=function(t){var i,a;if(!t||"string"!=typeof t)return null;try{e.DOMParser?(a=new DOMParser,i=a.parseFromString(t,"text/xml")):(i=new ActiveXObject("Microsoft.XMLDOM"),i.async="false",i.loadXML(t))}catch(e){i=void 0}return i&&i.documentElement&&!i.getElementsByTagName("parsererror").length||ne.error("Invalid XML: "+t),i}
;var It,Ft,Et=/#.*$/,Lt=/([?&])_=[^&]*/,Bt=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,Rt=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Ot=/^(?:GET|HEAD)$/,Nt=/^\/\//,Vt=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,Wt={},zt={},Yt="*/".concat("*");try{Ft=location.href}catch(e){Ft=fe.createElement("a"),Ft.href="",Ft=Ft.href}It=Vt.exec(Ft.toLowerCase())||[],ne.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Ft,type:"GET",isLocal:Rt.test(It[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Yt,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":ne.parseJSON,"text xml":ne.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?W(W(e,ne.ajaxSettings),t):W(ne.ajaxSettings,e)},ajaxPrefilter:N(Wt),ajaxTransport:N(zt),ajax:function(e,t){function i(e,t,i,a){var n,h,v,b,x,w=t;2!==y&&(y=2,r&&clearTimeout(r),c=void 0,s=a||"",C.readyState=e>0?4:0,n=e>=200&&300>e||304===e,i&&(b=z(u,C,i)),b=Y(u,b,C,n),n?(u.ifModified&&(x=C.getResponseHeader("Last-Modified"),x&&(ne.lastModified[o]=x),(x=C.getResponseHeader("etag"))&&(ne.etag[o]=x)),204===e||"HEAD"===u.type?w="nocontent":304===e?w="notmodified":(w=b.state,h=b.data,v=b.error,n=!v)):(v=w,(e||!w)&&(w="error",0>e&&(e=0))),C.status=e,C.statusText=(t||w)+"",n?f.resolveWith(d,[h,w,C]):f.rejectWith(d,[C,w,v]),C.statusCode(g),g=void 0,l&&p.trigger(n?"ajaxSuccess":"ajaxError",[C,u,n?h:v]),m.fireWith(d,[C,w]),l&&(p.trigger("ajaxComplete",[C,u]),--ne.active||ne.event.trigger("ajaxStop")))}"object"==typeof e&&(t=e,e=void 0),t=t||{};var a,n,o,s,r,l,c,h,u=ne.ajaxSetup({},t),d=u.context||u,p=u.context&&(d.nodeType||d.jquery)?ne(d):ne.event,f=ne.Deferred(),m=ne.Callbacks("once memory"),g=u.statusCode||{},v={},b={},y=0,x="canceled",C={readyState:0,getResponseHeader:function(e){var t;if(2===y){if(!h)for(h={};t=Bt.exec(s);)h[t[1].toLowerCase()]=t[2];t=h[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return 2===y?s:null},setRequestHeader:function(e,t){var i=e.toLowerCase();return y||(e=b[i]=b[i]||e,v[e]=t),this},overrideMimeType:function(e){return y||(u.mimeType=e),this},statusCode:function(e){var t;if(e)if(2>y)for(t in e)g[t]=[g[t],e[t]];else C.always(e[C.status]);return this},abort:function(e){var t=e||x;return c&&c.abort(t),i(0,t),this}};if(f.promise(C).complete=m.add,C.success=C.done,C.error=C.fail,u.url=((e||u.url||Ft)+"").replace(Et,"").replace(Nt,It[1]+"//"),u.type=t.method||t.type||u.method||u.type,u.dataTypes=ne.trim(u.dataType||"*").toLowerCase().match(be)||[""],null==u.crossDomain&&(a=Vt.exec(u.url.toLowerCase()),u.crossDomain=!(!a||a[1]===It[1]&&a[2]===It[2]&&(a[3]||("http:"===a[1]?"80":"443"))===(It[3]||("http:"===It[1]?"80":"443")))),u.data&&u.processData&&"string"!=typeof u.data&&(u.data=ne.param(u.data,u.traditional)),V(Wt,u,t,C),2===y)return C;l=ne.event&&u.global,l&&0==ne.active++&&ne.event.trigger("ajaxStart"),u.type=u.type.toUpperCase(),u.hasContent=!Ot.test(u.type),o=u.url,u.hasContent||(u.data&&(o=u.url+=(_t.test(o)?"&":"?")+u.data,delete u.data),!1===u.cache&&(u.url=Lt.test(o)?o.replace(Lt,"$1_="+$t++):o+(_t.test(o)?"&":"?")+"_="+$t++)),u.ifModified&&(ne.lastModified[o]&&C.setRequestHeader("If-Modified-Since",ne.lastModified[o]),ne.etag[o]&&C.setRequestHeader("If-None-Match",ne.etag[o])),(u.data&&u.hasContent&&!1!==u.contentType||t.contentType)&&C.setRequestHeader("Content-Type",u.contentType),C.setRequestHeader("Accept",u.dataTypes[0]&&u.accepts[u.dataTypes[0]]?u.accepts[u.dataTypes[0]]+("*"!==u.dataTypes[0]?", "+Yt+"; q=0.01":""):u.accepts["*"]);for(n in u.headers)C.setRequestHeader(n,u.headers[n]);if(u.beforeSend&&(!1===u.beforeSend.call(d,C,u)||2===y))return C.abort();x="abort";for(n in{success:1,error:1,complete:1})C[n](u[n]);if(c=V(zt,u,t,C)){C.readyState=1,l&&p.trigger("ajaxSend",[C,u]),u.async&&u.timeout>0&&(r=setTimeout(function(){C.abort("timeout")},u.timeout));try{y=1,c.send(v,i)}catch(e){if(!(2>y))throw e;i(-1,e)}}else i(-1,"No Transport");return C},getJSON:function(e,t,i){return ne.get(e,t,i,"json")},getScript:function(e,t){return ne.get(e,void 0,t,"script")}}),ne.each(["get","post"],function(e,t){ne[t]=function(e,i,a,n){return ne.isFunction(i)&&(n=n||a,a=i,i=void 0),ne.ajax({url:e,type:t,dataType:n,data:i,success:a})}}),ne._evalUrl=function(e){return ne.ajax({url:e,type:"GET",dataType:"script",async:!1,global:!1,throws:!0})},ne.fn.extend({wrapAll:function(e){if(ne.isFunction(e))return this.each(function(t){ne(this).wrapAll(e.call(this,t))});if(this[0]){var t=ne(e,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstChild&&1===e.firstChild.nodeType;)e=e.firstChild;return e}).append(this)}return this},wrapInner:function(e){return this.each(ne.isFunction(e)?function(t){ne(this).wrapInner(e.call(this,t))}:function(){var t=ne(this),i=t.contents();i.length?i.wrapAll(e):t.append(e)})},wrap:function(e){var t=ne.isFunction(e);return this.each(function(i){ne(this).wrapAll(t?e.call(this,i):e)})},unwrap:function(){return this.parent().each(function(){ne.nodeName(this,"body")||ne(this).replaceWith(this.childNodes)}).end()}}),ne.expr.filters.hidden=function(e){return e.offsetWidth<=0&&e.offsetHeight<=0||!ie.reliableHiddenOffsets()&&"none"===(e.style&&e.style.display||ne.css(e,"display"))},ne.expr.filters.visible=function(e){return!ne.expr.filters.hidden(e)};var Ht=/%20/g,Ut=/\[\]$/,jt=/\r?\n/g,Gt=/^(?:submit|button|image|reset|file)$/i,Xt=/^(?:input|select|textarea|keygen)/i;ne.param=function(e,t){var i,a=[],n=function(e,t){t=ne.isFunction(t)?t():null==t?"":t,a[a.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(void 0===t&&(t=ne.ajaxSettings&&ne.ajaxSettings.traditional),ne.isArray(e)||e.jquery&&!ne.isPlainObject(e))ne.each(e,function(){n(this.name,this.value)});else for(i in e)H(i,e[i],t,n);return a.join("&").replace(Ht,"+")},ne.fn.extend({serialize:function(){return ne.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=ne.prop(this,"elements");return e?ne.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!ne(this).is(":disabled")&&Xt.test(this.nodeName)&&!Gt.test(e)&&(this.checked||!$e.test(e))}).map(function(e,t){var i=ne(this).val();return null==i?null:ne.isArray(i)?ne.map(i,function(e){return{name:t.name,value:e.replace(jt,"\r\n")}}):{name:t.name,value:i.replace(jt,"\r\n")}}).get()}}),ne.ajaxSettings.xhr=void 0!==e.ActiveXObject?function(){return!this.isLocal&&/^(get|post|head|put|delete|options)$/i.test(this.type)&&U()||j()}:U;var qt=0,Qt={},Kt=ne.ajaxSettings.xhr();e.attachEvent&&e.attachEvent("onunload",function(){for(var e in Qt)Qt[e](void 0,!0)}),ie.cors=!!Kt&&"withCredentials"in Kt,(Kt=ie.ajax=!!Kt)&&ne.ajaxTransport(function(e){if(!e.crossDomain||ie.cors){var t;return{send:function(i,a){var n,o=e.xhr(),s=++qt;if(o.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(n in e.xhrFields)o[n]=e.xhrFields[n];e.mimeType&&o.overrideMimeType&&o.overrideMimeType(e.mimeType),e.crossDomain||i["X-Requested-With"]||(i["X-Requested-With"]="XMLHttpRequest");for(n in i)void 0!==i[n]&&o.setRequestHeader(n,i[n]+"");o.send(e.hasContent&&e.data||null),t=function(i,n){var r,l,c;if(t&&(n||4===o.readyState))if(delete Qt[s],t=void 0,o.onreadystatechange=ne.noop,n)4!==o.readyState&&o.abort();else{c={},r=o.status,"string"==typeof o.responseText&&(c.text=o.responseText);try{l=o.statusText}catch(e){l=""}r||!e.isLocal||e.crossDomain?1223===r&&(r=204):r=c.text?200:404}c&&a(r,l,c,o.getAllResponseHeaders())},e.async?4===o.readyState?setTimeout(t):o.onreadystatechange=Qt[s]=t:t()},abort:function(){t&&t(void 0,!0)}}}}),ne.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(e){return ne.globalEval(e),e}}}),ne.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET",e.global=!1)}),ne.ajaxTransport("script",function(e){if(e.crossDomain){var t,i=fe.head||ne("head")[0]||fe.documentElement;return{send:function(a,n){t=fe.createElement("script"),t.async=!0,e.scriptCharset&&(t.charset=e.scriptCharset),t.src=e.url,t.onload=t.onreadystatechange=function(e,i){(i||!t.readyState||/loaded|complete/.test(t.readyState))&&(t.onload=t.onreadystatechange=null,t.parentNode&&t.parentNode.removeChild(t),t=null,i||n(200,"success"))},i.insertBefore(t,i.firstChild)},abort:function(){t&&t.onload(void 0,!0)}}}});var Jt=[],Zt=/(=)\?(?=&|$)|\?\?/;ne.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Jt.pop()||ne.expando+"_"+$t++;return this[e]=!0,e}}),ne.ajaxPrefilter("json jsonp",function(t,i,a){var n,o,s,r=!1!==t.jsonp&&(Zt.test(t.url)?"url":"string"==typeof t.data&&!(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&Zt.test(t.data)&&"data");return r||"jsonp"===t.dataTypes[0]?(n=t.jsonpCallback=ne.isFunction(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,r?t[r]=t[r].replace(Zt,"$1"+n):!1!==t.jsonp&&(t.url+=(_t.test(t.url)?"&":"?")+t.jsonp+"="+n),t.converters["script json"]=function(){return s||ne.error(n+" was not called"),s[0]},t.dataTypes[0]="json",o=e[n],e[n]=function(){s=arguments},a.always(function(){e[n]=o,t[n]&&(t.jsonpCallback=i.jsonpCallback,Jt.push(n)),s&&ne.isFunction(o)&&o(s[0]),s=o=void 0}),"script"):void 0}),ne.parseHTML=function(e,t,i){if(!e||"string"!=typeof e)return null;"boolean"==typeof t&&(i=t,t=!1),t=t||fe;var a=ue.exec(e),n=!i&&[];return a?[t.createElement(a[1])]:(a=ne.buildFragment([e],t,n),n&&n.length&&ne(n).remove(),ne.merge([],a.childNodes))};var ei=ne.fn.load;ne.fn.load=function(e,t,i){if("string"!=typeof e&&ei)return ei.apply(this,arguments);var a,n,o,s=this,r=e.indexOf(" ");return r>=0&&(a=ne.trim(e.slice(r,e.length)),e=e.slice(0,r)),ne.isFunction(t)?(i=t,t=void 0):t&&"object"==typeof t&&(o="POST"),s.length>0&&ne.ajax({url:e,type:o,dataType:"html",data:t}).done(function(e){n=arguments,s.html(a?ne("<div>").append(ne.parseHTML(e)).find(a):e)}).complete(i&&function(e,t){s.each(i,n||[e.responseText,t,e])}),this},ne.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){ne.fn[t]=function(e){return this.on(t,e)}}),ne.expr.filters.animated=function(e){return ne.grep(ne.timers,function(t){return e===t.elem}).length};var ti=e.document.documentElement;ne.offset={setOffset:function(e,t,i){var a,n,o,s,r,l,c,h=ne.css(e,"position"),u=ne(e),d={};"static"===h&&(e.style.position="relative"),r=u.offset(),o=ne.css(e,"top"),l=ne.css(e,"left"),c=("absolute"===h||"fixed"===h)&&ne.inArray("auto",[o,l])>-1,c?(a=u.position(),s=a.top,n=a.left):(s=parseFloat(o)||0,n=parseFloat(l)||0),ne.isFunction(t)&&(t=t.call(e,i,r)),null!=t.top&&(d.top=t.top-r.top+s),null!=t.left&&(d.left=t.left-r.left+n),"using"in t?t.using.call(e,d):u.css(d)}},ne.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each(function(t){ne.offset.setOffset(this,e,t)});var t,i,a={top:0,left:0},n=this[0],o=n&&n.ownerDocument;return o?(t=o.documentElement,ne.contains(t,n)?(typeof n.getBoundingClientRect!==we&&(a=n.getBoundingClientRect()),i=G(o),{top:a.top+(i.pageYOffset||t.scrollTop)-(t.clientTop||0),left:a.left+(i.pageXOffset||t.scrollLeft)-(t.clientLeft||0)}):a):void 0},position:function(){if(this[0]){var e,t,i={top:0,left:0},a=this[0];return"fixed"===ne.css(a,"position")?t=a.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),ne.nodeName(e[0],"html")||(i=e.offset()),i.top+=ne.css(e[0],"borderTopWidth",!0),i.left+=ne.css(e[0],"borderLeftWidth",!0)),{top:t.top-i.top-ne.css(a,"marginTop",!0),left:t.left-i.left-ne.css(a,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent||ti;e&&!ne.nodeName(e,"html")&&"static"===ne.css(e,"position");)e=e.offsetParent;return e||ti})}}),ne.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,t){var i=/Y/.test(t);ne.fn[e]=function(a){return Pe(this,function(e,a,n){var o=G(e);return void 0===n?o?t in o?o[t]:o.document.documentElement[a]:e[a]:void(o?o.scrollTo(i?ne(o).scrollLeft():n,i?n:ne(o).scrollTop()):e[a]=n)},e,a,arguments.length,null)}}),ne.each(["top","left"],function(e,t){ne.cssHooks[t]=T(ie.pixelPosition,function(e,i){return i?(i=et(e,t),it.test(i)?ne(e).position()[t]+"px":i):void 0})}),ne.each({Height:"height",Width:"width"},function(e,t){ne.each({padding:"inner"+e,content:t,"":"outer"+e},function(i,a){ne.fn[a]=function(a,n){var o=arguments.length&&(i||"boolean"!=typeof a),s=i||(!0===a||!0===n?"margin":"border");return Pe(this,function(t,i,a){var n;return ne.isWindow(t)?t.document.documentElement["client"+e]:9===t.nodeType?(n=t.documentElement,Math.max(t.body["scroll"+e],n["scroll"+e],t.body["offset"+e],n["offset"+e],n["client"+e])):void 0===a?ne.css(t,i,s):ne.style(t,i,a,s)},t,o?a:void 0,o,null)}})}),ne.fn.size=function(){return this.length},ne.fn.andSelf=ne.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return ne});var ii=e.jQuery,ai=e.$;return ne.noConflict=function(t){return e.$===ne&&(e.$=ai),t&&e.jQuery===ne&&(e.jQuery=ii),ne},typeof t===we&&(e.jQuery=e.$=ne),ne}),function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e(jQuery)}(function(e){function t(t,a){var n,o,s,r=t.nodeName.toLowerCase();return"area"===r?(n=t.parentNode,o=n.name,!(!t.href||!o||"map"!==n.nodeName.toLowerCase())&&(!!(s=e("img[usemap='#"+o+"']")[0])&&i(s))):(/input|select|textarea|button|object/.test(r)?!t.disabled:"a"===r?t.href||a:a)&&i(t)}function i(t){return e.expr.filters.visible(t)&&!e(t).parents().addBack().filter(function(){return"hidden"===e.css(this,"visibility")}).length}function a(e){for(var t,i;e.length&&e[0]!==document;){if(("absolute"===(t=e.css("position"))||"relative"===t||"fixed"===t)&&(i=parseInt(e.css("zIndex"),10),!isNaN(i)&&0!==i))return i;e=e.parent()}return 0}function n(){this._curInst=null,this._keyEvent=!1,this._disabledInputs=[],this._datepickerShowing=!1,this._inDialog=!1,this._mainDivId="ui-datepicker-div",this._inlineClass="ui-datepicker-inline",this._appendClass="ui-datepicker-append",this._triggerClass="ui-datepicker-trigger",this._dialogClass="ui-datepicker-dialog",this._disableClass="ui-datepicker-disabled",this._unselectableClass="ui-datepicker-unselectable",this._currentClass="ui-datepicker-current-day",this._dayOverClass="ui-datepicker-days-cell-over",this.regional=[],this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:!1,hideIfNoPrevNext:!1,navigationAsDateFormat:!1,gotoCurrent:!1,changeMonth:!1,changeYear:!1,yearRange:"c-10:c+10",showOtherMonths:!1,selectOtherMonths:!1,showWeek:!1,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:!0,showButtonPanel:!1,autoSize:!1,disabled:!1},e.extend(this._defaults,this.regional[""]),this.regional.en=e.extend(!0,{},this.regional[""]),this.regional["en-US"]=e.extend(!0,{},this.regional.en),this.dpDiv=o(e("<div id='"+this._mainDivId+"' class='ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>"))}function o(t){var i="button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a";return t.delegate(i,"mouseout",function(){e(this).removeClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&e(this).removeClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&e(this).removeClass("ui-datepicker-next-hover")}).delegate(i,"mouseover",s)}function s(){e.datepicker._isDisabledDatepicker(v.inline?v.dpDiv.parent()[0]:v.input[0])||(e(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover"),e(this).addClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&e(this).addClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&e(this).addClass("ui-datepicker-next-hover"))}function r(t,i){e.extend(t,i);for(var a in i)null==i[a]&&(t[a]=i[a]);return t}function l(e){return function(){var t=this.element.val();e.apply(this,arguments),this._refresh(),t!==this.element.val()&&this._trigger("change")}}e.ui=e.ui||{},e.extend(e.ui,{version:"1.11.2",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}),e.fn.extend({scrollParent:function(t){var i=this.css("position"),a="absolute"===i,n=t?/(auto|scroll|hidden)/:/(auto|scroll)/,o=this.parents().filter(function(){var t=e(this);return(!a||"static"!==t.css("position"))&&n.test(t.css("overflow")+t.css("overflow-y")+t.css("overflow-x"))}).eq(0);return"fixed"!==i&&o.length?o:e(this[0].ownerDocument||document)},uniqueId:function(){var e=0;return function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++e)})}}(),removeUniqueId:function(){return this.each(function(){/^ui-id-\d+$/.test(this.id)&&e(this).removeAttr("id")})}}),e.extend(e.expr[":"],{data:e.expr.createPseudo?e.expr.createPseudo(function(t){return function(i){return!!e.data(i,t)}}):function(t,i,a){return!!e.data(t,a[3])},focusable:function(i){return t(i,!isNaN(e.attr(i,"tabindex")))},tabbable:function(i){var a=e.attr(i,"tabindex"),n=isNaN(a);return(n||a>=0)&&t(i,!n)}}),e("<a>").outerWidth(1).jquery||e.each(["Width","Height"],function(t,i){function a(t,i,a,o){return e.each(n,function(){i-=parseFloat(e.css(t,"padding"+this))||0,a&&(i-=parseFloat(e.css(t,"border"+this+"Width"))||0),o&&(i-=parseFloat(e.css(t,"margin"+this))||0)}),i}var n="Width"===i?["Left","Right"]:["Top","Bottom"],o=i.toLowerCase(),s={innerWidth:e.fn.innerWidth,innerHeight:e.fn.innerHeight,outerWidth:e.fn.outerWidth,outerHeight:e.fn.outerHeight};e.fn["inner"+i]=function(t){return void 0===t?s["inner"+i].call(this):this.each(function(){e(this).css(o,a(this,t)+"px")})},e.fn["outer"+i]=function(t,n){return"number"!=typeof t?s["outer"+i].call(this,t):this.each(function(){e(this).css(o,a(this,t,!0,n)+"px")})}}),e.fn.addBack||(e.fn.addBack=function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}),e("<a>").data("a-b","a").removeData("a-b").data("a-b")&&(e.fn.removeData=function(t){return function(i){return arguments.length?t.call(this,e.camelCase(i)):t.call(this)}}(e.fn.removeData)),e.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase()),e.fn.extend({focus:function(t){return function(i,a){return"number"==typeof i?this.each(function(){var t=this;setTimeout(function(){e(t).focus(),a&&a.call(t)},i)}):t.apply(this,arguments)}}(e.fn.focus),disableSelection:function(){var e="onselectstart"in document.createElement("div")?"selectstart":"mousedown";return function(){return this.bind(e+".ui-disableSelection",function(e){e.preventDefault()})}}(),enableSelection:function(){return this.unbind(".ui-disableSelection")},zIndex:function(t){if(void 0!==t)return this.css("zIndex",t);if(this.length)for(var i,a,n=e(this[0]);n.length&&n[0]!==document;){if(("absolute"===(i=n.css("position"))||"relative"===i||"fixed"===i)&&(a=parseInt(n.css("zIndex"),10),!isNaN(a)&&0!==a))return a;n=n.parent()}return 0}}),e.ui.plugin={add:function(t,i,a){var n,o=e.ui[t].prototype;for(n in a)o.plugins[n]=o.plugins[n]||[],o.plugins[n].push([i,a[n]])},call:function(e,t,i,a){var n,o=e.plugins[t];if(o&&(a||e.element[0].parentNode&&11!==e.element[0].parentNode.nodeType))for(n=0;o.length>n;n++)e.options[o[n][0]]&&o[n][1].apply(e.element,i)}};var c=0,h=Array.prototype.slice;e.cleanData=function(t){return function(i){var a,n,o;for(o=0;null!=(n=i[o]);o++)try{(a=e._data(n,"events"))&&a.remove&&e(n).triggerHandler("remove")}catch(e){}t(i)}}(e.cleanData),e.widget=function(t,i,a){var n,o,s,r,l={},c=t.split(".")[0];return t=t.split(".")[1],n=c+"-"+t,a||(a=i,i=e.Widget),e.expr[":"][n.toLowerCase()]=function(t){return!!e.data(t,n)},e[c]=e[c]||{},o=e[c][t],s=e[c][t]=function(e,t){return this._createWidget?void(arguments.length&&this._createWidget(e,t)):new s(e,t)},e.extend(s,o,{version:a.version,_proto:e.extend({},a),_childConstructors:[]}),r=new i,r.options=e.widget.extend({},r.options),e.each(a,function(t,a){return e.isFunction(a)?void(l[t]=function(){var e=function(){return i.prototype[t].apply(this,arguments)},n=function(e){return i.prototype[t].apply(this,e)};return function(){var t,i=this._super,o=this._superApply;return this._super=e,this._superApply=n,t=a.apply(this,arguments),this._super=i,this._superApply=o,t}}()):void(l[t]=a)}),s.prototype=e.widget.extend(r,{widgetEventPrefix:o?r.widgetEventPrefix||t:t},l,{constructor:s,namespace:c,widgetName:t,widgetFullName:n}),o?(e.each(o._childConstructors,function(t,i){var a=i.prototype;e.widget(a.namespace+"."+a.widgetName,s,i._proto)}),delete o._childConstructors):i._childConstructors.push(s),e.widget.bridge(t,s),s},e.widget.extend=function(t){for(var i,a,n=h.call(arguments,1),o=0,s=n.length;s>o;o++)for(i in n[o])a=n[o][i],n[o].hasOwnProperty(i)&&void 0!==a&&(t[i]=e.isPlainObject(a)?e.isPlainObject(t[i])?e.widget.extend({},t[i],a):e.widget.extend({},a):a);return t},e.widget.bridge=function(t,i){var a=i.prototype.widgetFullName||t;e.fn[t]=function(n){var o="string"==typeof n,s=h.call(arguments,1),r=this;return n=!o&&s.length?e.widget.extend.apply(null,[n].concat(s)):n,o?this.each(function(){var i,o=e.data(this,a);return"instance"===n?(r=o,!1):o?e.isFunction(o[n])&&"_"!==n.charAt(0)?(i=o[n].apply(o,s),i!==o&&void 0!==i?(r=i&&i.jquery?r.pushStack(i.get()):i,!1):void 0):e.error("no such method '"+n+"' for "+t+" widget instance"):e.error("cannot call methods on "+t+" prior to initialization; attempted to call method '"+n+"'")}):this.each(function(){var t=e.data(this,a);t?(t.option(n||{}),t._init&&t._init()):e.data(this,a,new i(n,this))}),r}},e.Widget=function(){},e.Widget._childConstructors=[],e.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(t,i){i=e(i||this.defaultElement||this)[0],this.element=e(i),this.uuid=c++,this.eventNamespace="."+this.widgetName+this.uuid,this.bindings=e(),this.hoverable=e(),this.focusable=e(),i!==this&&(e.data(i,this.widgetFullName,this),this._on(!0,this.element,{remove:function(e){e.target===i&&this.destroy()}}),this.document=e(i.style?i.ownerDocument:i.document||i),this.window=e(this.document[0].defaultView||this.document[0].parentWindow)),this.options=e.widget.extend({},this.options,this._getCreateOptions(),t),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:e.noop,_getCreateEventData:e.noop,_create:e.noop,_init:e.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetFullName).removeData(e.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:e.noop,widget:function(){return this.element},option:function(t,i){var a,n,o,s=t;if(0===arguments.length)return e.widget.extend({},this.options);if("string"==typeof t)if(s={},a=t.split("."),t=a.shift(),a.length){for(n=s[t]=e.widget.extend({},this.options[t]),o=0;a.length-1>o;o++)n[a[o]]=n[a[o]]||{},n=n[a[o]];if(t=a.pop(),1===arguments.length)return void 0===n[t]?null:n[t];n[t]=i}else{if(1===arguments.length)return void 0===this.options[t]?null:this.options[t];s[t]=i}return this._setOptions(s),this},_setOptions:function(e){var t;for(t in e)this._setOption(t,e[t]);return this},_setOption:function(e,t){return this.options[e]=t,"disabled"===e&&(this.widget().toggleClass(this.widgetFullName+"-disabled",!!t),t&&(this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus"))),this},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_on:function(t,i,a){var n,o=this;"boolean"!=typeof t&&(a=i,i=t,t=!1),a?(i=n=e(i),this.bindings=this.bindings.add(i)):(a=i,i=this.element,n=this.widget()),e.each(a,function(a,s){function r(){return t||!0!==o.options.disabled&&!e(this).hasClass("ui-state-disabled")?("string"==typeof s?o[s]:s).apply(o,arguments):void 0}"string"!=typeof s&&(r.guid=s.guid=s.guid||r.guid||e.guid++);var l=a.match(/^([\w:-]*)\s*(.*)$/),c=l[1]+o.eventNamespace,h=l[2];h?n.delegate(h,c,r):i.bind(c,r)})},_off:function(t,i){i=(i||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,t.unbind(i).undelegate(i),this.bindings=e(this.bindings.not(t).get()),this.focusable=e(this.focusable.not(t).get()),this.hoverable=e(this.hoverable.not(t).get())},_delay:function(e,t){function i(){return("string"==typeof e?a[e]:e).apply(a,arguments)}var a=this;return setTimeout(i,t||0)},_hoverable:function(t){this.hoverable=this.hoverable.add(t),this._on(t,{mouseenter:function(t){e(t.currentTarget).addClass("ui-state-hover")},mouseleave:function(t){e(t.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(t){this.focusable=this.focusable.add(t),this._on(t,{focusin:function(t){e(t.currentTarget).addClass("ui-state-focus")},focusout:function(t){e(t.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(t,i,a){var n,o,s=this.options[t];if(a=a||{},i=e.Event(i),i.type=(t===this.widgetEventPrefix?t:this.widgetEventPrefix+t).toLowerCase(),i.target=this.element[0],o=i.originalEvent)for(n in o)n in i||(i[n]=o[n]);return this.element.trigger(i,a),!(e.isFunction(s)&&!1===s.apply(this.element[0],[i].concat(a))||i.isDefaultPrevented())}},e.each({show:"fadeIn",hide:"fadeOut"},function(t,i){e.Widget.prototype["_"+t]=function(a,n,o){"string"==typeof n&&(n={effect:n});var s,r=n?!0===n||"number"==typeof n?i:n.effect||i:t;n=n||{},"number"==typeof n&&(n={duration:n}),s=!e.isEmptyObject(n),n.complete=o,n.delay&&a.delay(n.delay),s&&e.effects&&e.effects.effect[r]?a[t](n):r!==t&&a[r]?a[r](n.duration,n.easing,o):a.queue(function(i){e(this)[t](),o&&o.call(a[0]),i()})}}),e.widget;var u=!1;e(document).mouseup(function(){u=!1}),e.widget("ui.mouse",{version:"1.11.2",options:{cancel:"input,textarea,button,select,option",distance:1,delay:0},_mouseInit:function(){var t=this;this.element.bind("mousedown."+this.widgetName,function(e){return t._mouseDown(e)}).bind("click."+this.widgetName,function(i){return!0===e.data(i.target,t.widgetName+".preventClickEvent")?(e.removeData(i.target,t.widgetName+".preventClickEvent"),i.stopImmediatePropagation(),!1):void 0}),this.started=!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName),this._mouseMoveDelegate&&this.document.unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(t){if(!u){this._mouseMoved=!1,this._mouseStarted&&this._mouseUp(t),this._mouseDownEvent=t;var i=this,a=1===t.which,n=!("string"!=typeof this.options.cancel||!t.target.nodeName)&&e(t.target).closest(this.options.cancel).length;return!(a&&!n&&this._mouseCapture(t))||(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){i.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(t)&&this._mouseDelayMet(t)&&(this._mouseStarted=!1!==this._mouseStart(t),!this._mouseStarted)?(t.preventDefault(),!0):(!0===e.data(t.target,this.widgetName+".preventClickEvent")&&e.removeData(t.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(e){return i._mouseMove(e)},this._mouseUpDelegate=function(e){return i._mouseUp(e)},this.document.bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate),t.preventDefault(),u=!0,!0))}},_mouseMove:function(t){if(this._mouseMoved){if(e.ui.ie&&(!document.documentMode||9>document.documentMode)&&!t.button)return this._mouseUp(t);if(!t.which)return this._mouseUp(t)}return(t.which||t.button)&&(this._mouseMoved=!0),this._mouseStarted?(this._mouseDrag(t),t.preventDefault()):(this._mouseDistanceMet(t)&&this._mouseDelayMet(t)&&(this._mouseStarted=!1!==this._mouseStart(this._mouseDownEvent,t),this._mouseStarted?this._mouseDrag(t):this._mouseUp(t)),!this._mouseStarted)},_mouseUp:function(t){return this.document.unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,t.target===this._mouseDownEvent.target&&e.data(t.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(t)),u=!1,!1},_mouseDistanceMet:function(e){return Math.max(Math.abs(this._mouseDownEvent.pageX-e.pageX),Math.abs(this._mouseDownEvent.pageY-e.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}}),function(){function t(e,t,i){return[parseFloat(e[0])*(p.test(e[0])?t/100:1),parseFloat(e[1])*(p.test(e[1])?i/100:1)]}function i(t,i){return parseInt(e.css(t,i),10)||0}function a(t){var i=t[0];return 9===i.nodeType?{width:t.width(),height:t.height(),offset:{top:0,left:0}}:e.isWindow(i)?{width:t.width(),height:t.height(),offset:{top:t.scrollTop(),left:t.scrollLeft()}}:i.preventDefault?{width:0,height:0,offset:{top:i.pageY,left:i.pageX}}:{width:t.outerWidth(),height:t.outerHeight(),offset:t.offset()}}e.ui=e.ui||{};var n,o,s=Math.max,r=Math.abs,l=Math.round,c=/left|center|right/,h=/top|center|bottom/,u=/[\+\-]\d+(\.[\d]+)?%?/,d=/^\w+/,p=/%$/,f=e.fn.position;e.position={scrollbarWidth:function(){if(void 0!==n)return n;var t,i,a=e("<div style='display:block;position:absolute;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),o=a.children()[0];return e("body").append(a),t=o.offsetWidth,a.css("overflow","scroll"),i=o.offsetWidth,t===i&&(i=a[0].clientWidth),a.remove(),n=t-i},getScrollInfo:function(t){var i=t.isWindow||t.isDocument?"":t.element.css("overflow-x"),a=t.isWindow||t.isDocument?"":t.element.css("overflow-y"),n="scroll"===i||"auto"===i&&t.width<t.element[0].scrollWidth;return{width:"scroll"===a||"auto"===a&&t.height<t.element[0].scrollHeight?e.position.scrollbarWidth():0,height:n?e.position.scrollbarWidth():0}},getWithinInfo:function(t){var i=e(t||window),a=e.isWindow(i[0]),n=!!i[0]&&9===i[0].nodeType;return{element:i,isWindow:a,isDocument:n,offset:i.offset()||{left:0,top:0},scrollLeft:i.scrollLeft(),scrollTop:i.scrollTop(),width:a||n?i.width():i.outerWidth(),height:a||n?i.height():i.outerHeight()}}},e.fn.position=function(n){if(!n||!n.of)return f.apply(this,arguments);n=e.extend({},n);var p,m,g,v,b,y,x=e(n.of),C=e.position.getWithinInfo(n.within),w=e.position.getScrollInfo(C),k=(n.collision||"flip").split(" "),S={};return y=a(x),x[0].preventDefault&&(n.at="left top"),m=y.width,g=y.height,v=y.offset,b=e.extend({},v),e.each(["my","at"],function(){var e,t,i=(n[this]||"").split(" ")
;1===i.length&&(i=c.test(i[0])?i.concat(["center"]):h.test(i[0])?["center"].concat(i):["center","center"]),i[0]=c.test(i[0])?i[0]:"center",i[1]=h.test(i[1])?i[1]:"center",e=u.exec(i[0]),t=u.exec(i[1]),S[this]=[e?e[0]:0,t?t[0]:0],n[this]=[d.exec(i[0])[0],d.exec(i[1])[0]]}),1===k.length&&(k[1]=k[0]),"right"===n.at[0]?b.left+=m:"center"===n.at[0]&&(b.left+=m/2),"bottom"===n.at[1]?b.top+=g:"center"===n.at[1]&&(b.top+=g/2),p=t(S.at,m,g),b.left+=p[0],b.top+=p[1],this.each(function(){var a,c,h=e(this),u=h.outerWidth(),d=h.outerHeight(),f=i(this,"marginLeft"),y=i(this,"marginTop"),D=u+f+i(this,"marginRight")+w.width,T=d+y+i(this,"marginBottom")+w.height,M=e.extend({},b),P=t(S.my,h.outerWidth(),h.outerHeight());"right"===n.my[0]?M.left-=u:"center"===n.my[0]&&(M.left-=u/2),"bottom"===n.my[1]?M.top-=d:"center"===n.my[1]&&(M.top-=d/2),M.left+=P[0],M.top+=P[1],o||(M.left=l(M.left),M.top=l(M.top)),a={marginLeft:f,marginTop:y},e.each(["left","top"],function(t,i){e.ui.position[k[t]]&&e.ui.position[k[t]][i](M,{targetWidth:m,targetHeight:g,elemWidth:u,elemHeight:d,collisionPosition:a,collisionWidth:D,collisionHeight:T,offset:[p[0]+P[0],p[1]+P[1]],my:n.my,at:n.at,within:C,elem:h})}),n.using&&(c=function(e){var t=v.left-M.left,i=t+m-u,a=v.top-M.top,o=a+g-d,l={target:{element:x,left:v.left,top:v.top,width:m,height:g},element:{element:h,left:M.left,top:M.top,width:u,height:d},horizontal:0>i?"left":t>0?"right":"center",vertical:0>o?"top":a>0?"bottom":"middle"};u>m&&m>r(t+i)&&(l.horizontal="center"),d>g&&g>r(a+o)&&(l.vertical="middle"),l.important=s(r(t),r(i))>s(r(a),r(o))?"horizontal":"vertical",n.using.call(this,e,l)}),h.offset(e.extend(M,{using:c}))})},e.ui.position={fit:{left:function(e,t){var i,a=t.within,n=a.isWindow?a.scrollLeft:a.offset.left,o=a.width,r=e.left-t.collisionPosition.marginLeft,l=n-r,c=r+t.collisionWidth-o-n;t.collisionWidth>o?l>0&&0>=c?(i=e.left+l+t.collisionWidth-o-n,e.left+=l-i):e.left=c>0&&0>=l?n:l>c?n+o-t.collisionWidth:n:l>0?e.left+=l:c>0?e.left-=c:e.left=s(e.left-r,e.left)},top:function(e,t){var i,a=t.within,n=a.isWindow?a.scrollTop:a.offset.top,o=t.within.height,r=e.top-t.collisionPosition.marginTop,l=n-r,c=r+t.collisionHeight-o-n;t.collisionHeight>o?l>0&&0>=c?(i=e.top+l+t.collisionHeight-o-n,e.top+=l-i):e.top=c>0&&0>=l?n:l>c?n+o-t.collisionHeight:n:l>0?e.top+=l:c>0?e.top-=c:e.top=s(e.top-r,e.top)}},flip:{left:function(e,t){var i,a,n=t.within,o=n.offset.left+n.scrollLeft,s=n.width,l=n.isWindow?n.scrollLeft:n.offset.left,c=e.left-t.collisionPosition.marginLeft,h=c-l,u=c+t.collisionWidth-s-l,d="left"===t.my[0]?-t.elemWidth:"right"===t.my[0]?t.elemWidth:0,p="left"===t.at[0]?t.targetWidth:"right"===t.at[0]?-t.targetWidth:0,f=-2*t.offset[0];0>h?(0>(i=e.left+d+p+f+t.collisionWidth-s-o)||r(h)>i)&&(e.left+=d+p+f):u>0&&((a=e.left-t.collisionPosition.marginLeft+d+p+f-l)>0||u>r(a))&&(e.left+=d+p+f)},top:function(e,t){var i,a,n=t.within,o=n.offset.top+n.scrollTop,s=n.height,l=n.isWindow?n.scrollTop:n.offset.top,c=e.top-t.collisionPosition.marginTop,h=c-l,u=c+t.collisionHeight-s-l,d="top"===t.my[1],p=d?-t.elemHeight:"bottom"===t.my[1]?t.elemHeight:0,f="top"===t.at[1]?t.targetHeight:"bottom"===t.at[1]?-t.targetHeight:0,m=-2*t.offset[1];0>h?(a=e.top+p+f+m+t.collisionHeight-s-o,e.top+p+f+m>h&&(0>a||r(h)>a)&&(e.top+=p+f+m)):u>0&&(i=e.top-t.collisionPosition.marginTop+p+f+m-l,e.top+p+f+m>u&&(i>0||u>r(i))&&(e.top+=p+f+m))}},flipfit:{left:function(){e.ui.position.flip.left.apply(this,arguments),e.ui.position.fit.left.apply(this,arguments)},top:function(){e.ui.position.flip.top.apply(this,arguments),e.ui.position.fit.top.apply(this,arguments)}}},function(){var t,i,a,n,s,r=document.getElementsByTagName("body")[0],l=document.createElement("div");t=document.createElement(r?"div":"body"),a={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"},r&&e.extend(a,{position:"absolute",left:"-1000px",top:"-1000px"});for(s in a)t.style[s]=a[s];t.appendChild(l),i=r||document.documentElement,i.insertBefore(t,i.firstChild),l.style.cssText="position: absolute; left: 10.7432222px;",n=e(l).offset().left,o=n>10&&11>n,t.innerHTML="",i.removeChild(t)}()}(),e.ui.position,e.widget("ui.draggable",e.ui.mouse,{version:"1.11.2",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1,drag:null,start:null,stop:null},_create:function(){"original"===this.options.helper&&this._setPositionRelative(),this.options.addClasses&&this.element.addClass("ui-draggable"),this.options.disabled&&this.element.addClass("ui-draggable-disabled"),this._setHandleClassName(),this._mouseInit()},_setOption:function(e,t){this._super(e,t),"handle"===e&&(this._removeHandleClassName(),this._setHandleClassName())},_destroy:function(){return(this.helper||this.element).is(".ui-draggable-dragging")?void(this.destroyOnClear=!0):(this.element.removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled"),this._removeHandleClassName(),void this._mouseDestroy())},_mouseCapture:function(t){var i=this.options;return this._blurActiveElement(t),!(this.helper||i.disabled||e(t.target).closest(".ui-resizable-handle").length>0)&&(this.handle=this._getHandle(t),!!this.handle&&(this._blockFrames(!0===i.iframeFix?"iframe":i.iframeFix),!0))},_blockFrames:function(t){this.iframeBlocks=this.document.find(t).map(function(){var t=e(this);return e("<div>").css("position","absolute").appendTo(t.parent()).outerWidth(t.outerWidth()).outerHeight(t.outerHeight()).offset(t.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_blurActiveElement:function(t){var i=this.document[0];if(this.handleElement.is(t.target))try{i.activeElement&&"body"!==i.activeElement.nodeName.toLowerCase()&&e(i.activeElement).blur()}catch(e){}},_mouseStart:function(t){var i=this.options;return this.helper=this._createHelper(t),this.helper.addClass("ui-draggable-dragging"),this._cacheHelperProportions(),e.ui.ddmanager&&(e.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(!0),this.offsetParent=this.helper.offsetParent(),this.hasFixedAncestor=this.helper.parents().filter(function(){return"fixed"===e(this).css("position")}).length>0,this.positionAbs=this.element.offset(),this._refreshOffsets(t),this.originalPosition=this.position=this._generatePosition(t,!1),this.originalPageX=t.pageX,this.originalPageY=t.pageY,i.cursorAt&&this._adjustOffsetFromHelper(i.cursorAt),this._setContainment(),!1===this._trigger("start",t)?(this._clear(),!1):(this._cacheHelperProportions(),e.ui.ddmanager&&!i.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t),this._normalizeRightBottom(),this._mouseDrag(t,!0),e.ui.ddmanager&&e.ui.ddmanager.dragStart(this,t),!0)},_refreshOffsets:function(e){this.offset={top:this.positionAbs.top-this.margins.top,left:this.positionAbs.left-this.margins.left,scroll:!1,parent:this._getParentOffset(),relative:this._getRelativeOffset()},this.offset.click={left:e.pageX-this.offset.left,top:e.pageY-this.offset.top}},_mouseDrag:function(t,i){if(this.hasFixedAncestor&&(this.offset.parent=this._getParentOffset()),this.position=this._generatePosition(t,!0),this.positionAbs=this._convertPositionTo("absolute"),!i){var a=this._uiHash();if(!1===this._trigger("drag",t,a))return this._mouseUp({}),!1;this.position=a.position}return this.helper[0].style.left=this.position.left+"px",this.helper[0].style.top=this.position.top+"px",e.ui.ddmanager&&e.ui.ddmanager.drag(this,t),!1},_mouseStop:function(t){var i=this,a=!1;return e.ui.ddmanager&&!this.options.dropBehaviour&&(a=e.ui.ddmanager.drop(this,t)),this.dropped&&(a=this.dropped,this.dropped=!1),"invalid"===this.options.revert&&!a||"valid"===this.options.revert&&a||!0===this.options.revert||e.isFunction(this.options.revert)&&this.options.revert.call(this.element,a)?e(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){!1!==i._trigger("stop",t)&&i._clear()}):!1!==this._trigger("stop",t)&&this._clear(),!1},_mouseUp:function(t){return this._unblockFrames(),e.ui.ddmanager&&e.ui.ddmanager.dragStop(this,t),this.handleElement.is(t.target)&&this.element.focus(),e.ui.mouse.prototype._mouseUp.call(this,t)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp({}):this._clear(),this},_getHandle:function(t){return!this.options.handle||!!e(t.target).closest(this.element.find(this.options.handle)).length},_setHandleClassName:function(){this.handleElement=this.options.handle?this.element.find(this.options.handle):this.element,this.handleElement.addClass("ui-draggable-handle")},_removeHandleClassName:function(){this.handleElement.removeClass("ui-draggable-handle")},_createHelper:function(t){var i=this.options,a=e.isFunction(i.helper),n=a?e(i.helper.apply(this.element[0],[t])):"clone"===i.helper?this.element.clone().removeAttr("id"):this.element;return n.parents("body").length||n.appendTo("parent"===i.appendTo?this.element[0].parentNode:i.appendTo),a&&n[0]===this.element[0]&&this._setPositionRelative(),n[0]===this.element[0]||/(fixed|absolute)/.test(n.css("position"))||n.css("position","absolute"),n},_setPositionRelative:function(){/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative")},_adjustOffsetFromHelper:function(t){"string"==typeof t&&(t=t.split(" ")),e.isArray(t)&&(t={left:+t[0],top:+t[1]||0}),"left"in t&&(this.offset.click.left=t.left+this.margins.left),"right"in t&&(this.offset.click.left=this.helperProportions.width-t.right+this.margins.left),"top"in t&&(this.offset.click.top=t.top+this.margins.top),"bottom"in t&&(this.offset.click.top=this.helperProportions.height-t.bottom+this.margins.top)},_isRootNode:function(e){return/(html|body)/i.test(e.tagName)||e===this.document[0]},_getParentOffset:function(){var t=this.offsetParent.offset(),i=this.document[0];return"absolute"===this.cssPosition&&this.scrollParent[0]!==i&&e.contains(this.scrollParent[0],this.offsetParent[0])&&(t.left+=this.scrollParent.scrollLeft(),t.top+=this.scrollParent.scrollTop()),this._isRootNode(this.offsetParent[0])&&(t={top:0,left:0}),{top:t.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:t.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"!==this.cssPosition)return{top:0,left:0};var e=this.element.position(),t=this._isRootNode(this.scrollParent[0]);return{top:e.top-(parseInt(this.helper.css("top"),10)||0)+(t?0:this.scrollParent.scrollTop()),left:e.left-(parseInt(this.helper.css("left"),10)||0)+(t?0:this.scrollParent.scrollLeft())}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var t,i,a,n=this.options,o=this.document[0];return this.relativeContainer=null,n.containment?"window"===n.containment?void(this.containment=[e(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,e(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,e(window).scrollLeft()+e(window).width()-this.helperProportions.width-this.margins.left,e(window).scrollTop()+(e(window).height()||o.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]):"document"===n.containment?void(this.containment=[0,0,e(o).width()-this.helperProportions.width-this.margins.left,(e(o).height()||o.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]):n.containment.constructor===Array?void(this.containment=n.containment):("parent"===n.containment&&(n.containment=this.helper[0].parentNode),i=e(n.containment),void((a=i[0])&&(t=/(scroll|auto)/.test(i.css("overflow")),this.containment=[(parseInt(i.css("borderLeftWidth"),10)||0)+(parseInt(i.css("paddingLeft"),10)||0),(parseInt(i.css("borderTopWidth"),10)||0)+(parseInt(i.css("paddingTop"),10)||0),(t?Math.max(a.scrollWidth,a.offsetWidth):a.offsetWidth)-(parseInt(i.css("borderRightWidth"),10)||0)-(parseInt(i.css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(t?Math.max(a.scrollHeight,a.offsetHeight):a.offsetHeight)-(parseInt(i.css("borderBottomWidth"),10)||0)-(parseInt(i.css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relativeContainer=i))):void(this.containment=null)},_convertPositionTo:function(e,t){t||(t=this.position);var i="absolute"===e?1:-1,a=this._isRootNode(this.scrollParent[0]);return{top:t.top+this.offset.relative.top*i+this.offset.parent.top*i-("fixed"===this.cssPosition?-this.offset.scroll.top:a?0:this.offset.scroll.top)*i,left:t.left+this.offset.relative.left*i+this.offset.parent.left*i-("fixed"===this.cssPosition?-this.offset.scroll.left:a?0:this.offset.scroll.left)*i}},_generatePosition:function(e,t){var i,a,n,o,s=this.options,r=this._isRootNode(this.scrollParent[0]),l=e.pageX,c=e.pageY;return r&&this.offset.scroll||(this.offset.scroll={top:this.scrollParent.scrollTop(),left:this.scrollParent.scrollLeft()}),t&&(this.containment&&(this.relativeContainer?(a=this.relativeContainer.offset(),i=[this.containment[0]+a.left,this.containment[1]+a.top,this.containment[2]+a.left,this.containment[3]+a.top]):i=this.containment,e.pageX-this.offset.click.left<i[0]&&(l=i[0]+this.offset.click.left),e.pageY-this.offset.click.top<i[1]&&(c=i[1]+this.offset.click.top),e.pageX-this.offset.click.left>i[2]&&(l=i[2]+this.offset.click.left),e.pageY-this.offset.click.top>i[3]&&(c=i[3]+this.offset.click.top)),s.grid&&(n=s.grid[1]?this.originalPageY+Math.round((c-this.originalPageY)/s.grid[1])*s.grid[1]:this.originalPageY,c=i?n-this.offset.click.top>=i[1]||n-this.offset.click.top>i[3]?n:n-this.offset.click.top>=i[1]?n-s.grid[1]:n+s.grid[1]:n,o=s.grid[0]?this.originalPageX+Math.round((l-this.originalPageX)/s.grid[0])*s.grid[0]:this.originalPageX,l=i?o-this.offset.click.left>=i[0]||o-this.offset.click.left>i[2]?o:o-this.offset.click.left>=i[0]?o-s.grid[0]:o+s.grid[0]:o),"y"===s.axis&&(l=this.originalPageX),"x"===s.axis&&(c=this.originalPageY)),{top:c-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.offset.scroll.top:r?0:this.offset.scroll.top),left:l-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.offset.scroll.left:r?0:this.offset.scroll.left)}},_clear:function(){this.helper.removeClass("ui-draggable-dragging"),this.helper[0]===this.element[0]||this.cancelHelperRemoval||this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1,this.destroyOnClear&&this.destroy()},_normalizeRightBottom:function(){"y"!==this.options.axis&&"auto"!==this.helper.css("right")&&(this.helper.width(this.helper.width()),this.helper.css("right","auto")),"x"!==this.options.axis&&"auto"!==this.helper.css("bottom")&&(this.helper.height(this.helper.height()),this.helper.css("bottom","auto"))},_trigger:function(t,i,a){return a=a||this._uiHash(),e.ui.plugin.call(this,t,[i,a,this],!0),/^(drag|start|stop)/.test(t)&&(this.positionAbs=this._convertPositionTo("absolute"),a.offset=this.positionAbs),e.Widget.prototype._trigger.call(this,t,i,a)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),e.ui.plugin.add("draggable","connectToSortable",{start:function(t,i,a){var n=e.extend({},i,{item:a.element});a.sortables=[],e(a.options.connectToSortable).each(function(){var i=e(this).sortable("instance");i&&!i.options.disabled&&(a.sortables.push(i),i.refreshPositions(),i._trigger("activate",t,n))})},stop:function(t,i,a){var n=e.extend({},i,{item:a.element});a.cancelHelperRemoval=!1,e.each(a.sortables,function(){var e=this;e.isOver?(e.isOver=0,a.cancelHelperRemoval=!0,e.cancelHelperRemoval=!1,e._storedCSS={position:e.placeholder.css("position"),top:e.placeholder.css("top"),left:e.placeholder.css("left")},e._mouseStop(t),e.options.helper=e.options._helper):(e.cancelHelperRemoval=!0,e._trigger("deactivate",t,n))})},drag:function(t,i,a){e.each(a.sortables,function(){var n=!1,o=this;o.positionAbs=a.positionAbs,o.helperProportions=a.helperProportions,o.offset.click=a.offset.click,o._intersectsWith(o.containerCache)&&(n=!0,e.each(a.sortables,function(){return this.positionAbs=a.positionAbs,this.helperProportions=a.helperProportions,this.offset.click=a.offset.click,this!==o&&this._intersectsWith(this.containerCache)&&e.contains(o.element[0],this.element[0])&&(n=!1),n})),n?(o.isOver||(o.isOver=1,o.currentItem=i.helper.appendTo(o.element).data("ui-sortable-item",!0),o.options._helper=o.options.helper,o.options.helper=function(){return i.helper[0]},t.target=o.currentItem[0],o._mouseCapture(t,!0),o._mouseStart(t,!0,!0),o.offset.click.top=a.offset.click.top,o.offset.click.left=a.offset.click.left,o.offset.parent.left-=a.offset.parent.left-o.offset.parent.left,o.offset.parent.top-=a.offset.parent.top-o.offset.parent.top,a._trigger("toSortable",t),a.dropped=o.element,e.each(a.sortables,function(){this.refreshPositions()}),a.currentItem=a.element,o.fromOutside=a),o.currentItem&&(o._mouseDrag(t),i.position=o.position)):o.isOver&&(o.isOver=0,o.cancelHelperRemoval=!0,o.options._revert=o.options.revert,o.options.revert=!1,o._trigger("out",t,o._uiHash(o)),o._mouseStop(t,!0),o.options.revert=o.options._revert,o.options.helper=o.options._helper,o.placeholder&&o.placeholder.remove(),a._refreshOffsets(t),i.position=a._generatePosition(t,!0),a._trigger("fromSortable",t),a.dropped=!1,e.each(a.sortables,function(){this.refreshPositions()}))})}}),e.ui.plugin.add("draggable","cursor",{start:function(t,i,a){var n=e("body"),o=a.options;n.css("cursor")&&(o._cursor=n.css("cursor")),n.css("cursor",o.cursor)},stop:function(t,i,a){var n=a.options;n._cursor&&e("body").css("cursor",n._cursor)}}),e.ui.plugin.add("draggable","opacity",{start:function(t,i,a){var n=e(i.helper),o=a.options;n.css("opacity")&&(o._opacity=n.css("opacity")),n.css("opacity",o.opacity)},stop:function(t,i,a){var n=a.options;n._opacity&&e(i.helper).css("opacity",n._opacity)}}),e.ui.plugin.add("draggable","scroll",{start:function(e,t,i){i.scrollParentNotHidden||(i.scrollParentNotHidden=i.helper.scrollParent(!1)),i.scrollParentNotHidden[0]!==i.document[0]&&"HTML"!==i.scrollParentNotHidden[0].tagName&&(i.overflowOffset=i.scrollParentNotHidden.offset())},drag:function(t,i,a){var n=a.options,o=!1,s=a.scrollParentNotHidden[0],r=a.document[0];s!==r&&"HTML"!==s.tagName?(n.axis&&"x"===n.axis||(a.overflowOffset.top+s.offsetHeight-t.pageY<n.scrollSensitivity?s.scrollTop=o=s.scrollTop+n.scrollSpeed:t.pageY-a.overflowOffset.top<n.scrollSensitivity&&(s.scrollTop=o=s.scrollTop-n.scrollSpeed)),n.axis&&"y"===n.axis||(a.overflowOffset.left+s.offsetWidth-t.pageX<n.scrollSensitivity?s.scrollLeft=o=s.scrollLeft+n.scrollSpeed:t.pageX-a.overflowOffset.left<n.scrollSensitivity&&(s.scrollLeft=o=s.scrollLeft-n.scrollSpeed))):(n.axis&&"x"===n.axis||(t.pageY-e(r).scrollTop()<n.scrollSensitivity?o=e(r).scrollTop(e(r).scrollTop()-n.scrollSpeed):e(window).height()-(t.pageY-e(r).scrollTop())<n.scrollSensitivity&&(o=e(r).scrollTop(e(r).scrollTop()+n.scrollSpeed))),n.axis&&"y"===n.axis||(t.pageX-e(r).scrollLeft()<n.scrollSensitivity?o=e(r).scrollLeft(e(r).scrollLeft()-n.scrollSpeed):e(window).width()-(t.pageX-e(r).scrollLeft())<n.scrollSensitivity&&(o=e(r).scrollLeft(e(r).scrollLeft()+n.scrollSpeed)))),!1!==o&&e.ui.ddmanager&&!n.dropBehaviour&&e.ui.ddmanager.prepareOffsets(a,t)}}),e.ui.plugin.add("draggable","snap",{start:function(t,i,a){var n=a.options;a.snapElements=[],e(n.snap.constructor!==String?n.snap.items||":data(ui-draggable)":n.snap).each(function(){var t=e(this),i=t.offset();this!==a.element[0]&&a.snapElements.push({item:this,width:t.outerWidth(),height:t.outerHeight(),top:i.top,left:i.left})})},drag:function(t,i,a){var n,o,s,r,l,c,h,u,d,p,f=a.options,m=f.snapTolerance,g=i.offset.left,v=g+a.helperProportions.width,b=i.offset.top,y=b+a.helperProportions.height;for(d=a.snapElements.length-1;d>=0;d--)l=a.snapElements[d].left-a.margins.left,c=l+a.snapElements[d].width,h=a.snapElements[d].top-a.margins.top,u=h+a.snapElements[d].height,l-m>v||g>c+m||h-m>y||b>u+m||!e.contains(a.snapElements[d].item.ownerDocument,a.snapElements[d].item)?(a.snapElements[d].snapping&&a.options.snap.release&&a.options.snap.release.call(a.element,t,e.extend(a._uiHash(),{snapItem:a.snapElements[d].item})),a.snapElements[d].snapping=!1):("inner"!==f.snapMode&&(n=m>=Math.abs(h-y),o=m>=Math.abs(u-b),s=m>=Math.abs(l-v),r=m>=Math.abs(c-g),n&&(i.position.top=a._convertPositionTo("relative",{top:h-a.helperProportions.height,left:0}).top),o&&(i.position.top=a._convertPositionTo("relative",{top:u,left:0}).top),s&&(i.position.left=a._convertPositionTo("relative",{top:0,left:l-a.helperProportions.width}).left),r&&(i.position.left=a._convertPositionTo("relative",{top:0,left:c}).left)),p=n||o||s||r,"outer"!==f.snapMode&&(n=m>=Math.abs(h-b),o=m>=Math.abs(u-y),s=m>=Math.abs(l-g),r=m>=Math.abs(c-v),n&&(i.position.top=a._convertPositionTo("relative",{top:h,left:0}).top),o&&(i.position.top=a._convertPositionTo("relative",{top:u-a.helperProportions.height,left:0}).top),s&&(i.position.left=a._convertPositionTo("relative",{top:0,left:l}).left),r&&(i.position.left=a._convertPositionTo("relative",{top:0,left:c-a.helperProportions.width}).left)),!a.snapElements[d].snapping&&(n||o||s||r||p)&&a.options.snap.snap&&a.options.snap.snap.call(a.element,t,e.extend(a._uiHash(),{snapItem:a.snapElements[d].item})),a.snapElements[d].snapping=n||o||s||r||p)}}),e.ui.plugin.add("draggable","stack",{start:function(t,i,a){var n,o=a.options,s=e.makeArray(e(o.stack)).sort(function(t,i){return(parseInt(e(t).css("zIndex"),10)||0)-(parseInt(e(i).css("zIndex"),10)||0)});s.length&&(n=parseInt(e(s[0]).css("zIndex"),10)||0,e(s).each(function(t){e(this).css("zIndex",n+t)}),this.css("zIndex",n+s.length))}}),e.ui.plugin.add("draggable","zIndex",{start:function(t,i,a){var n=e(i.helper),o=a.options;n.css("zIndex")&&(o._zIndex=n.css("zIndex")),n.css("zIndex",o.zIndex)},stop:function(t,i,a){var n=a.options;n._zIndex&&e(i.helper).css("zIndex",n._zIndex)}}),e.ui.draggable,e.widget("ui.droppable",{version:"1.11.2",widgetEventPrefix:"drop",options:{accept:"*",activeClass:!1,addClasses:!0,greedy:!1,hoverClass:!1,scope:"default",tolerance:"intersect",activate:null,deactivate:null,drop:null,out:null,over:null},_create:function(){var t,i=this.options,a=i.accept;this.isover=!1,this.isout=!0,this.accept=e.isFunction(a)?a:function(e){return e.is(a)},this.proportions=function(){return arguments.length?void(t=arguments[0]):t||(t={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight})},this._addToManager(i.scope),i.addClasses&&this.element.addClass("ui-droppable")},_addToManager:function(t){e.ui.ddmanager.droppables[t]=e.ui.ddmanager.droppables[t]||[],e.ui.ddmanager.droppables[t].push(this)},_splice:function(e){for(var t=0;e.length>t;t++)e[t]===this&&e.splice(t,1)},_destroy:function(){var t=e.ui.ddmanager.droppables[this.options.scope];this._splice(t),this.element.removeClass("ui-droppable ui-droppable-disabled")},_setOption:function(t,i){if("accept"===t)this.accept=e.isFunction(i)?i:function(e){return e.is(i)};else if("scope"===t){var a=e.ui.ddmanager.droppables[this.options.scope];this._splice(a),this._addToManager(i)}this._super(t,i)},_activate:function(t){var i=e.ui.ddmanager.current;this.options.activeClass&&this.element.addClass(this.options.activeClass),i&&this._trigger("activate",t,this.ui(i))},_deactivate:function(t){var i=e.ui.ddmanager.current;this.options.activeClass&&this.element.removeClass(this.options.activeClass),i&&this._trigger("deactivate",t,this.ui(i))},_over:function(t){var i=e.ui.ddmanager.current;i&&(i.currentItem||i.element)[0]!==this.element[0]&&this.accept.call(this.element[0],i.currentItem||i.element)&&(this.options.hoverClass&&this.element.addClass(this.options.hoverClass),this._trigger("over",t,this.ui(i)))},_out:function(t){var i=e.ui.ddmanager.current;i&&(i.currentItem||i.element)[0]!==this.element[0]&&this.accept.call(this.element[0],i.currentItem||i.element)&&(this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("out",t,this.ui(i)))},_drop:function(t,i){var a=i||e.ui.ddmanager.current,n=!1;return!(!a||(a.currentItem||a.element)[0]===this.element[0])&&(this.element.find(":data(ui-droppable)").not(".ui-draggable-dragging").each(function(){var i=e(this).droppable("instance");return i.options.greedy&&!i.options.disabled&&i.options.scope===a.options.scope&&i.accept.call(i.element[0],a.currentItem||a.element)&&e.ui.intersect(a,e.extend(i,{offset:i.element.offset()}),i.options.tolerance,t)?(n=!0,!1):void 0}),!n&&(!!this.accept.call(this.element[0],a.currentItem||a.element)&&(this.options.activeClass&&this.element.removeClass(this.options.activeClass),this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("drop",t,this.ui(a)),this.element)))},ui:function(e){return{draggable:e.currentItem||e.element,helper:e.helper,position:e.position,offset:e.positionAbs}}}),e.ui.intersect=function(){function e(e,t,i){return e>=t&&t+i>e}return function(t,i,a,n){if(!i.offset)return!1;var o=(t.positionAbs||t.position.absolute).left+t.margins.left,s=(t.positionAbs||t.position.absolute).top+t.margins.top,r=o+t.helperProportions.width,l=s+t.helperProportions.height,c=i.offset.left,h=i.offset.top,u=c+i.proportions().width,d=h+i.proportions().height;switch(a){case"fit":return o>=c&&u>=r&&s>=h&&d>=l;case"intersect":return o+t.helperProportions.width/2>c&&u>r-t.helperProportions.width/2&&s+t.helperProportions.height/2>h&&d>l-t.helperProportions.height/2;case"pointer":return e(n.pageY,h,i.proportions().height)&&e(n.pageX,c,i.proportions().width);case"touch":return(s>=h&&d>=s||l>=h&&d>=l||h>s&&l>d)&&(o>=c&&u>=o||r>=c&&u>=r||c>o&&r>u);default:return!1}}}(),e.ui.ddmanager={current:null,droppables:{default:[]},prepareOffsets:function(t,i){var a,n,o=e.ui.ddmanager.droppables[t.options.scope]||[],s=i?i.type:null,r=(t.currentItem||t.element).find(":data(ui-droppable)").addBack();e:for(a=0;o.length>a;a++)if(!(o[a].options.disabled||t&&!o[a].accept.call(o[a].element[0],t.currentItem||t.element))){for(n=0;r.length>n;n++)if(r[n]===o[a].element[0]){o[a].proportions().height=0;continue e}o[a].visible="none"!==o[a].element.css("display"),o[a].visible&&("mousedown"===s&&o[a]._activate.call(o[a],i),o[a].offset=o[a].element.offset(),o[a].proportions({width:o[a].element[0].offsetWidth,height:o[a].element[0].offsetHeight}))}},drop:function(t,i){var a=!1;return e.each((e.ui.ddmanager.droppables[t.options.scope]||[]).slice(),function(){this.options&&(!this.options.disabled&&this.visible&&e.ui.intersect(t,this,this.options.tolerance,i)&&(a=this._drop.call(this,i)||a),!this.options.disabled&&this.visible&&this.accept.call(this.element[0],t.currentItem||t.element)&&(this.isout=!0,this.isover=!1,this._deactivate.call(this,i)))}),a},dragStart:function(t,i){t.element.parentsUntil("body").bind("scroll.droppable",function(){t.options.refreshPositions||e.ui.ddmanager.prepareOffsets(t,i)})},drag:function(t,i){t.options.refreshPositions&&e.ui.ddmanager.prepareOffsets(t,i),e.each(e.ui.ddmanager.droppables[t.options.scope]||[],function(){if(!this.options.disabled&&!this.greedyChild&&this.visible){var a,n,o,s=e.ui.intersect(t,this,this.options.tolerance,i),r=!s&&this.isover?"isout":s&&!this.isover?"isover":null;r&&(this.options.greedy&&(n=this.options.scope,o=this.element.parents(":data(ui-droppable)").filter(function(){return e(this).droppable("instance").options.scope===n}),o.length&&(a=e(o[0]).droppable("instance"),a.greedyChild="isover"===r)),a&&"isover"===r&&(a.isover=!1,a.isout=!0,a._out.call(a,i)),this[r]=!0,this["isout"===r?"isover":"isout"]=!1,this["isover"===r?"_over":"_out"].call(this,i),a&&"isout"===r&&(a.isout=!1,a.isover=!0,a._over.call(a,i)))}})},dragStop:function(t,i){t.element.parentsUntil("body").unbind("scroll.droppable"),t.options.refreshPositions||e.ui.ddmanager.prepareOffsets(t,i)}},e.ui.droppable,e.widget("ui.resizable",e.ui.mouse,{version:"1.11.2",widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:90,resize:null,start:null,stop:null},_num:function(e){return parseInt(e,10)||0},_isNumber:function(e){return!isNaN(parseInt(e,10))},_hasScroll:function(t,i){if("hidden"===e(t).css("overflow"))return!1;var a=i&&"left"===i?"scrollLeft":"scrollTop",n=!1;return t[a]>0||(t[a]=1,n=t[a]>0,t[a]=0,n)},_create:function(){var t,i,a,n,o,s=this,r=this.options;if(this.element.addClass("ui-resizable"),e.extend(this,{_aspectRatio:!!r.aspectRatio,aspectRatio:r.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:r.helper||r.ghost||r.animate?r.helper||"ui-resizable-helper":null}),this.element[0].nodeName.match(/canvas|textarea|input|select|button|img/i)&&(this.element.wrap(e("<div class='ui-wrapper' style='overflow: hidden;'></div>").css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")})),this.element=this.element.parent().data("ui-resizable",this.element.resizable("instance")),this.elementIsWrapper=!0,this.element.css({marginLeft:this.originalElement.css("marginLeft"),marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom")}),this.originalElement.css({marginLeft:0,marginTop:0,marginRight:0,marginBottom:0}),this.originalResizeStyle=this.originalElement.css("resize"),this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),this.originalElement.css({margin:this.originalElement.css("margin")}),this._proportionallyResize()),this.handles=r.handles||(e(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se"),this.handles.constructor===String)for("all"===this.handles&&(this.handles="n,e,s,w,se,sw,ne,nw"),t=this.handles.split(","),this.handles={},i=0;t.length>i;i++)a=e.trim(t[i]),o="ui-resizable-"+a,n=e("<div class='ui-resizable-handle "+o+"'></div>"),n.css({zIndex:r.zIndex}),"se"===a&&n.addClass("ui-icon ui-icon-gripsmall-diagonal-se"),this.handles[a]=".ui-resizable-"+a,this.element.append(n);this._renderAxis=function(t){var i,a,n,o;t=t||this.element;for(i in this.handles)this.handles[i].constructor===String&&(this.handles[i]=this.element.children(this.handles[i]).first().show()),this.elementIsWrapper&&this.originalElement[0].nodeName.match(/textarea|input|select|button/i)&&(a=e(this.handles[i],this.element),o=/sw|ne|nw|se|n|s/.test(i)?a.outerHeight():a.outerWidth(),n=["padding",/ne|nw|n/.test(i)?"Top":/se|sw|s/.test(i)?"Bottom":/^e$/.test(i)?"Right":"Left"].join(""),t.css(n,o),this._proportionallyResize()),e(this.handles[i]).length},this._renderAxis(this.element),this._handles=e(".ui-resizable-handle",this.element).disableSelection(),this._handles.mouseover(function(){s.resizing||(this.className&&(n=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)),s.axis=n&&n[1]?n[1]:"se")}),r.autoHide&&(this._handles.hide(),
e(this.element).addClass("ui-resizable-autohide").mouseenter(function(){r.disabled||(e(this).removeClass("ui-resizable-autohide"),s._handles.show())}).mouseleave(function(){r.disabled||s.resizing||(e(this).addClass("ui-resizable-autohide"),s._handles.hide())})),this._mouseInit()},_destroy:function(){this._mouseDestroy();var t,i=function(t){e(t).removeClass("ui-resizable ui-resizable-disabled ui-resizable-resizing").removeData("resizable").removeData("ui-resizable").unbind(".resizable").find(".ui-resizable-handle").remove()};return this.elementIsWrapper&&(i(this.element),t=this.element,this.originalElement.css({position:t.css("position"),width:t.outerWidth(),height:t.outerHeight(),top:t.css("top"),left:t.css("left")}).insertAfter(t),t.remove()),this.originalElement.css("resize",this.originalResizeStyle),i(this.originalElement),this},_mouseCapture:function(t){var i,a,n=!1;for(i in this.handles)((a=e(this.handles[i])[0])===t.target||e.contains(a,t.target))&&(n=!0);return!this.options.disabled&&n},_mouseStart:function(t){var i,a,n,o=this.options,s=this.element;return this.resizing=!0,this._renderProxy(),i=this._num(this.helper.css("left")),a=this._num(this.helper.css("top")),o.containment&&(i+=e(o.containment).scrollLeft()||0,a+=e(o.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:i,top:a},this.size=this._helper?{width:this.helper.width(),height:this.helper.height()}:{width:s.width(),height:s.height()},this.originalSize=this._helper?{width:s.outerWidth(),height:s.outerHeight()}:{width:s.width(),height:s.height()},this.sizeDiff={width:s.outerWidth()-s.width(),height:s.outerHeight()-s.height()},this.originalPosition={left:i,top:a},this.originalMousePosition={left:t.pageX,top:t.pageY},this.aspectRatio="number"==typeof o.aspectRatio?o.aspectRatio:this.originalSize.width/this.originalSize.height||1,n=e(".ui-resizable-"+this.axis).css("cursor"),e("body").css("cursor","auto"===n?this.axis+"-resize":n),s.addClass("ui-resizable-resizing"),this._propagate("start",t),!0},_mouseDrag:function(t){var i,a,n=this.originalMousePosition,o=this.axis,s=t.pageX-n.left||0,r=t.pageY-n.top||0,l=this._change[o];return this._updatePrevProperties(),!!l&&(i=l.apply(this,[t,s,r]),this._updateVirtualBoundaries(t.shiftKey),(this._aspectRatio||t.shiftKey)&&(i=this._updateRatio(i,t)),i=this._respectSize(i,t),this._updateCache(i),this._propagate("resize",t),a=this._applyChanges(),!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),e.isEmptyObject(a)||(this._updatePrevProperties(),this._trigger("resize",t,this.ui()),this._applyChanges()),!1)},_mouseStop:function(t){this.resizing=!1;var i,a,n,o,s,r,l,c=this.options,h=this;return this._helper&&(i=this._proportionallyResizeElements,a=i.length&&/textarea/i.test(i[0].nodeName),n=a&&this._hasScroll(i[0],"left")?0:h.sizeDiff.height,o=a?0:h.sizeDiff.width,s={width:h.helper.width()-o,height:h.helper.height()-n},r=parseInt(h.element.css("left"),10)+(h.position.left-h.originalPosition.left)||null,l=parseInt(h.element.css("top"),10)+(h.position.top-h.originalPosition.top)||null,c.animate||this.element.css(e.extend(s,{top:l,left:r})),h.helper.height(h.size.height),h.helper.width(h.size.width),this._helper&&!c.animate&&this._proportionallyResize()),e("body").css("cursor","auto"),this.element.removeClass("ui-resizable-resizing"),this._propagate("stop",t),this._helper&&this.helper.remove(),!1},_updatePrevProperties:function(){this.prevPosition={top:this.position.top,left:this.position.left},this.prevSize={width:this.size.width,height:this.size.height}},_applyChanges:function(){var e={};return this.position.top!==this.prevPosition.top&&(e.top=this.position.top+"px"),this.position.left!==this.prevPosition.left&&(e.left=this.position.left+"px"),this.size.width!==this.prevSize.width&&(e.width=this.size.width+"px"),this.size.height!==this.prevSize.height&&(e.height=this.size.height+"px"),this.helper.css(e),e},_updateVirtualBoundaries:function(e){var t,i,a,n,o,s=this.options;o={minWidth:this._isNumber(s.minWidth)?s.minWidth:0,maxWidth:this._isNumber(s.maxWidth)?s.maxWidth:1/0,minHeight:this._isNumber(s.minHeight)?s.minHeight:0,maxHeight:this._isNumber(s.maxHeight)?s.maxHeight:1/0},(this._aspectRatio||e)&&(t=o.minHeight*this.aspectRatio,a=o.minWidth/this.aspectRatio,i=o.maxHeight*this.aspectRatio,n=o.maxWidth/this.aspectRatio,t>o.minWidth&&(o.minWidth=t),a>o.minHeight&&(o.minHeight=a),o.maxWidth>i&&(o.maxWidth=i),o.maxHeight>n&&(o.maxHeight=n)),this._vBoundaries=o},_updateCache:function(e){this.offset=this.helper.offset(),this._isNumber(e.left)&&(this.position.left=e.left),this._isNumber(e.top)&&(this.position.top=e.top),this._isNumber(e.height)&&(this.size.height=e.height),this._isNumber(e.width)&&(this.size.width=e.width)},_updateRatio:function(e){var t=this.position,i=this.size,a=this.axis;return this._isNumber(e.height)?e.width=e.height*this.aspectRatio:this._isNumber(e.width)&&(e.height=e.width/this.aspectRatio),"sw"===a&&(e.left=t.left+(i.width-e.width),e.top=null),"nw"===a&&(e.top=t.top+(i.height-e.height),e.left=t.left+(i.width-e.width)),e},_respectSize:function(e){var t=this._vBoundaries,i=this.axis,a=this._isNumber(e.width)&&t.maxWidth&&t.maxWidth<e.width,n=this._isNumber(e.height)&&t.maxHeight&&t.maxHeight<e.height,o=this._isNumber(e.width)&&t.minWidth&&t.minWidth>e.width,s=this._isNumber(e.height)&&t.minHeight&&t.minHeight>e.height,r=this.originalPosition.left+this.originalSize.width,l=this.position.top+this.size.height,c=/sw|nw|w/.test(i),h=/nw|ne|n/.test(i);return o&&(e.width=t.minWidth),s&&(e.height=t.minHeight),a&&(e.width=t.maxWidth),n&&(e.height=t.maxHeight),o&&c&&(e.left=r-t.minWidth),a&&c&&(e.left=r-t.maxWidth),s&&h&&(e.top=l-t.minHeight),n&&h&&(e.top=l-t.maxHeight),e.width||e.height||e.left||!e.top?e.width||e.height||e.top||!e.left||(e.left=null):e.top=null,e},_getPaddingPlusBorderDimensions:function(e){for(var t=0,i=[],a=[e.css("borderTopWidth"),e.css("borderRightWidth"),e.css("borderBottomWidth"),e.css("borderLeftWidth")],n=[e.css("paddingTop"),e.css("paddingRight"),e.css("paddingBottom"),e.css("paddingLeft")];4>t;t++)i[t]=parseInt(a[t],10)||0,i[t]+=parseInt(n[t],10)||0;return{height:i[0]+i[2],width:i[1]+i[3]}},_proportionallyResize:function(){if(this._proportionallyResizeElements.length)for(var e,t=0,i=this.helper||this.element;this._proportionallyResizeElements.length>t;t++)e=this._proportionallyResizeElements[t],this.outerDimensions||(this.outerDimensions=this._getPaddingPlusBorderDimensions(e)),e.css({height:i.height()-this.outerDimensions.height||0,width:i.width()-this.outerDimensions.width||0})},_renderProxy:function(){var t=this.element,i=this.options;this.elementOffset=t.offset(),this._helper?(this.helper=this.helper||e("<div style='overflow:hidden;'></div>"),this.helper.addClass(this._helper).css({width:this.element.outerWidth()-1,height:this.element.outerHeight()-1,position:"absolute",left:this.elementOffset.left+"px",top:this.elementOffset.top+"px",zIndex:++i.zIndex}),this.helper.appendTo("body").disableSelection()):this.helper=this.element},_change:{e:function(e,t){return{width:this.originalSize.width+t}},w:function(e,t){var i=this.originalSize;return{left:this.originalPosition.left+t,width:i.width-t}},n:function(e,t,i){var a=this.originalSize;return{top:this.originalPosition.top+i,height:a.height-i}},s:function(e,t,i){return{height:this.originalSize.height+i}},se:function(t,i,a){return e.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[t,i,a]))},sw:function(t,i,a){return e.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[t,i,a]))},ne:function(t,i,a){return e.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[t,i,a]))},nw:function(t,i,a){return e.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[t,i,a]))}},_propagate:function(t,i){e.ui.plugin.call(this,t,[i,this.ui()]),"resize"!==t&&this._trigger(t,i,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}}),e.ui.plugin.add("resizable","animate",{stop:function(t){var i=e(this).resizable("instance"),a=i.options,n=i._proportionallyResizeElements,o=n.length&&/textarea/i.test(n[0].nodeName),s=o&&i._hasScroll(n[0],"left")?0:i.sizeDiff.height,r=o?0:i.sizeDiff.width,l={width:i.size.width-r,height:i.size.height-s},c=parseInt(i.element.css("left"),10)+(i.position.left-i.originalPosition.left)||null,h=parseInt(i.element.css("top"),10)+(i.position.top-i.originalPosition.top)||null;i.element.animate(e.extend(l,h&&c?{top:h,left:c}:{}),{duration:a.animateDuration,easing:a.animateEasing,step:function(){var a={width:parseInt(i.element.css("width"),10),height:parseInt(i.element.css("height"),10),top:parseInt(i.element.css("top"),10),left:parseInt(i.element.css("left"),10)};n&&n.length&&e(n[0]).css({width:a.width,height:a.height}),i._updateCache(a),i._propagate("resize",t)}})}}),e.ui.plugin.add("resizable","containment",{start:function(){var t,i,a,n,o,s,r,l=e(this).resizable("instance"),c=l.options,h=l.element,u=c.containment,d=u instanceof e?u.get(0):/parent/.test(u)?h.parent().get(0):u;d&&(l.containerElement=e(d),/document/.test(u)||u===document?(l.containerOffset={left:0,top:0},l.containerPosition={left:0,top:0},l.parentData={element:e(document),left:0,top:0,width:e(document).width(),height:e(document).height()||document.body.parentNode.scrollHeight}):(t=e(d),i=[],e(["Top","Right","Left","Bottom"]).each(function(e,a){i[e]=l._num(t.css("padding"+a))}),l.containerOffset=t.offset(),l.containerPosition=t.position(),l.containerSize={height:t.innerHeight()-i[3],width:t.innerWidth()-i[1]},a=l.containerOffset,n=l.containerSize.height,o=l.containerSize.width,s=l._hasScroll(d,"left")?d.scrollWidth:o,r=l._hasScroll(d)?d.scrollHeight:n,l.parentData={element:d,left:a.left,top:a.top,width:s,height:r}))},resize:function(t){var i,a,n,o,s=e(this).resizable("instance"),r=s.options,l=s.containerOffset,c=s.position,h=s._aspectRatio||t.shiftKey,u={top:0,left:0},d=s.containerElement,p=!0;d[0]!==document&&/static/.test(d.css("position"))&&(u=l),c.left<(s._helper?l.left:0)&&(s.size.width=s.size.width+(s._helper?s.position.left-l.left:s.position.left-u.left),h&&(s.size.height=s.size.width/s.aspectRatio,p=!1),s.position.left=r.helper?l.left:0),c.top<(s._helper?l.top:0)&&(s.size.height=s.size.height+(s._helper?s.position.top-l.top:s.position.top),h&&(s.size.width=s.size.height*s.aspectRatio,p=!1),s.position.top=s._helper?l.top:0),n=s.containerElement.get(0)===s.element.parent().get(0),o=/relative|absolute/.test(s.containerElement.css("position")),n&&o?(s.offset.left=s.parentData.left+s.position.left,s.offset.top=s.parentData.top+s.position.top):(s.offset.left=s.element.offset().left,s.offset.top=s.element.offset().top),i=Math.abs(s.sizeDiff.width+(s._helper?s.offset.left-u.left:s.offset.left-l.left)),a=Math.abs(s.sizeDiff.height+(s._helper?s.offset.top-u.top:s.offset.top-l.top)),i+s.size.width>=s.parentData.width&&(s.size.width=s.parentData.width-i,h&&(s.size.height=s.size.width/s.aspectRatio,p=!1)),a+s.size.height>=s.parentData.height&&(s.size.height=s.parentData.height-a,h&&(s.size.width=s.size.height*s.aspectRatio,p=!1)),p||(s.position.left=s.prevPosition.left,s.position.top=s.prevPosition.top,s.size.width=s.prevSize.width,s.size.height=s.prevSize.height)},stop:function(){var t=e(this).resizable("instance"),i=t.options,a=t.containerOffset,n=t.containerPosition,o=t.containerElement,s=e(t.helper),r=s.offset(),l=s.outerWidth()-t.sizeDiff.width,c=s.outerHeight()-t.sizeDiff.height;t._helper&&!i.animate&&/relative/.test(o.css("position"))&&e(this).css({left:r.left-n.left-a.left,width:l,height:c}),t._helper&&!i.animate&&/static/.test(o.css("position"))&&e(this).css({left:r.left-n.left-a.left,width:l,height:c})}}),e.ui.plugin.add("resizable","alsoResize",{start:function(){var t=e(this).resizable("instance"),i=t.options,a=function(t){e(t).each(function(){var t=e(this);t.data("ui-resizable-alsoresize",{width:parseInt(t.width(),10),height:parseInt(t.height(),10),left:parseInt(t.css("left"),10),top:parseInt(t.css("top"),10)})})};"object"!=typeof i.alsoResize||i.alsoResize.parentNode?a(i.alsoResize):i.alsoResize.length?(i.alsoResize=i.alsoResize[0],a(i.alsoResize)):e.each(i.alsoResize,function(e){a(e)})},resize:function(t,i){var a=e(this).resizable("instance"),n=a.options,o=a.originalSize,s=a.originalPosition,r={height:a.size.height-o.height||0,width:a.size.width-o.width||0,top:a.position.top-s.top||0,left:a.position.left-s.left||0},l=function(t,a){e(t).each(function(){var t=e(this),n=e(this).data("ui-resizable-alsoresize"),o={},s=a&&a.length?a:t.parents(i.originalElement[0]).length?["width","height"]:["width","height","top","left"];e.each(s,function(e,t){var i=(n[t]||0)+(r[t]||0);i&&i>=0&&(o[t]=i||null)}),t.css(o)})};"object"!=typeof n.alsoResize||n.alsoResize.nodeType?l(n.alsoResize):e.each(n.alsoResize,function(e,t){l(e,t)})},stop:function(){e(this).removeData("resizable-alsoresize")}}),e.ui.plugin.add("resizable","ghost",{start:function(){var t=e(this).resizable("instance"),i=t.options,a=t.size;t.ghost=t.originalElement.clone(),t.ghost.css({opacity:.25,display:"block",position:"relative",height:a.height,width:a.width,margin:0,left:0,top:0}).addClass("ui-resizable-ghost").addClass("string"==typeof i.ghost?i.ghost:""),t.ghost.appendTo(t.helper)},resize:function(){var t=e(this).resizable("instance");t.ghost&&t.ghost.css({position:"relative",height:t.size.height,width:t.size.width})},stop:function(){var t=e(this).resizable("instance");t.ghost&&t.helper&&t.helper.get(0).removeChild(t.ghost.get(0))}}),e.ui.plugin.add("resizable","grid",{resize:function(){var t,i=e(this).resizable("instance"),a=i.options,n=i.size,o=i.originalSize,s=i.originalPosition,r=i.axis,l="number"==typeof a.grid?[a.grid,a.grid]:a.grid,c=l[0]||1,h=l[1]||1,u=Math.round((n.width-o.width)/c)*c,d=Math.round((n.height-o.height)/h)*h,p=o.width+u,f=o.height+d,m=a.maxWidth&&p>a.maxWidth,g=a.maxHeight&&f>a.maxHeight,v=a.minWidth&&a.minWidth>p,b=a.minHeight&&a.minHeight>f;a.grid=l,v&&(p+=c),b&&(f+=h),m&&(p-=c),g&&(f-=h),/^(se|s|e)$/.test(r)?(i.size.width=p,i.size.height=f):/^(ne)$/.test(r)?(i.size.width=p,i.size.height=f,i.position.top=s.top-d):/^(sw)$/.test(r)?(i.size.width=p,i.size.height=f,i.position.left=s.left-u):((0>=f-h||0>=p-c)&&(t=i._getPaddingPlusBorderDimensions(this)),f-h>0?(i.size.height=f,i.position.top=s.top-d):(f=h-t.height,i.size.height=f,i.position.top=s.top+o.height-f),p-c>0?(i.size.width=p,i.position.left=s.left-u):(p=h-t.height,i.size.width=p,i.position.left=s.left+o.width-p))}}),e.ui.resizable,e.widget("ui.selectable",e.ui.mouse,{version:"1.11.2",options:{appendTo:"body",autoRefresh:!0,distance:0,filter:"*",tolerance:"touch",selected:null,selecting:null,start:null,stop:null,unselected:null,unselecting:null},_create:function(){var t,i=this;this.element.addClass("ui-selectable"),this.dragged=!1,this.refresh=function(){t=e(i.options.filter,i.element[0]),t.addClass("ui-selectee"),t.each(function(){var t=e(this),i=t.offset();e.data(this,"selectable-item",{element:this,$element:t,left:i.left,top:i.top,right:i.left+t.outerWidth(),bottom:i.top+t.outerHeight(),startselected:!1,selected:t.hasClass("ui-selected"),selecting:t.hasClass("ui-selecting"),unselecting:t.hasClass("ui-unselecting")})})},this.refresh(),this.selectees=t.addClass("ui-selectee"),this._mouseInit(),this.helper=e("<div class='ui-selectable-helper'></div>")},_destroy:function(){this.selectees.removeClass("ui-selectee").removeData("selectable-item"),this.element.removeClass("ui-selectable ui-selectable-disabled"),this._mouseDestroy()},_mouseStart:function(t){var i=this,a=this.options;this.opos=[t.pageX,t.pageY],this.options.disabled||(this.selectees=e(a.filter,this.element[0]),this._trigger("start",t),e(a.appendTo).append(this.helper),this.helper.css({left:t.pageX,top:t.pageY,width:0,height:0}),a.autoRefresh&&this.refresh(),this.selectees.filter(".ui-selected").each(function(){var a=e.data(this,"selectable-item");a.startselected=!0,t.metaKey||t.ctrlKey||(a.$element.removeClass("ui-selected"),a.selected=!1,a.$element.addClass("ui-unselecting"),a.unselecting=!0,i._trigger("unselecting",t,{unselecting:a.element}))}),e(t.target).parents().addBack().each(function(){var a,n=e.data(this,"selectable-item");return n?(a=!t.metaKey&&!t.ctrlKey||!n.$element.hasClass("ui-selected"),n.$element.removeClass(a?"ui-unselecting":"ui-selected").addClass(a?"ui-selecting":"ui-unselecting"),n.unselecting=!a,n.selecting=a,n.selected=a,a?i._trigger("selecting",t,{selecting:n.element}):i._trigger("unselecting",t,{unselecting:n.element}),!1):void 0}))},_mouseDrag:function(t){if(this.dragged=!0,!this.options.disabled){var i,a=this,n=this.options,o=this.opos[0],s=this.opos[1],r=t.pageX,l=t.pageY;return o>r&&(i=r,r=o,o=i),s>l&&(i=l,l=s,s=i),this.helper.css({left:o,top:s,width:r-o,height:l-s}),this.selectees.each(function(){var i=e.data(this,"selectable-item"),c=!1;i&&i.element!==a.element[0]&&("touch"===n.tolerance?c=!(i.left>r||o>i.right||i.top>l||s>i.bottom):"fit"===n.tolerance&&(c=i.left>o&&r>i.right&&i.top>s&&l>i.bottom),c?(i.selected&&(i.$element.removeClass("ui-selected"),i.selected=!1),i.unselecting&&(i.$element.removeClass("ui-unselecting"),i.unselecting=!1),i.selecting||(i.$element.addClass("ui-selecting"),i.selecting=!0,a._trigger("selecting",t,{selecting:i.element}))):(i.selecting&&((t.metaKey||t.ctrlKey)&&i.startselected?(i.$element.removeClass("ui-selecting"),i.selecting=!1,i.$element.addClass("ui-selected"),i.selected=!0):(i.$element.removeClass("ui-selecting"),i.selecting=!1,i.startselected&&(i.$element.addClass("ui-unselecting"),i.unselecting=!0),a._trigger("unselecting",t,{unselecting:i.element}))),i.selected&&(t.metaKey||t.ctrlKey||i.startselected||(i.$element.removeClass("ui-selected"),i.selected=!1,i.$element.addClass("ui-unselecting"),i.unselecting=!0,a._trigger("unselecting",t,{unselecting:i.element})))))}),!1}},_mouseStop:function(t){var i=this;return this.dragged=!1,e(".ui-unselecting",this.element[0]).each(function(){var a=e.data(this,"selectable-item");a.$element.removeClass("ui-unselecting"),a.unselecting=!1,a.startselected=!1,i._trigger("unselected",t,{unselected:a.element})}),e(".ui-selecting",this.element[0]).each(function(){var a=e.data(this,"selectable-item");a.$element.removeClass("ui-selecting").addClass("ui-selected"),a.selecting=!1,a.selected=!0,a.startselected=!0,i._trigger("selected",t,{selected:a.element})}),this._trigger("stop",t),this.helper.remove(),!1}}),e.widget("ui.sortable",e.ui.mouse,{version:"1.11.2",widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_isOverAxis:function(e,t,i){return e>=t&&t+i>e},_isFloating:function(e){return/left|right/.test(e.css("float"))||/inline|table-cell/.test(e.css("display"))},_create:function(){var e=this.options;this.containerCache={},this.element.addClass("ui-sortable"),this.refresh(),this.floating=!!this.items.length&&("x"===e.axis||this._isFloating(this.items[0].item)),this.offset=this.element.offset(),this._mouseInit(),this._setHandleClassName(),this.ready=!0},_setOption:function(e,t){this._super(e,t),"handle"===e&&this._setHandleClassName()},_setHandleClassName:function(){this.element.find(".ui-sortable-handle").removeClass("ui-sortable-handle"),e.each(this.items,function(){(this.instance.options.handle?this.item.find(this.instance.options.handle):this.item).addClass("ui-sortable-handle")})},_destroy:function(){this.element.removeClass("ui-sortable ui-sortable-disabled").find(".ui-sortable-handle").removeClass("ui-sortable-handle"),this._mouseDestroy();for(var e=this.items.length-1;e>=0;e--)this.items[e].item.removeData(this.widgetName+"-item");return this},_mouseCapture:function(t,i){var a=null,n=!1,o=this;return!this.reverting&&(!this.options.disabled&&"static"!==this.options.type&&(this._refreshItems(t),e(t.target).parents().each(function(){return e.data(this,o.widgetName+"-item")===o?(a=e(this),!1):void 0}),e.data(t.target,o.widgetName+"-item")===o&&(a=e(t.target)),!!a&&(!(this.options.handle&&!i&&(e(this.options.handle,a).find("*").addBack().each(function(){this===t.target&&(n=!0)}),!n))&&(this.currentItem=a,this._removeCurrentsFromItems(),!0))))},_mouseStart:function(t,i,a){var n,o,s=this.options;if(this.currentContainer=this,this.refreshPositions(),this.helper=this._createHelper(t),this._cacheHelperProportions(),this._cacheMargins(),this.scrollParent=this.helper.scrollParent(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},e.extend(this.offset,{click:{left:t.pageX-this.offset.left,top:t.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),this.originalPosition=this._generatePosition(t),this.originalPageX=t.pageX,this.originalPageY=t.pageY,s.cursorAt&&this._adjustOffsetFromHelper(s.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!==this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),s.containment&&this._setContainment(),s.cursor&&"auto"!==s.cursor&&(o=this.document.find("body"),this.storedCursor=o.css("cursor"),o.css("cursor",s.cursor),this.storedStylesheet=e("<style>*{ cursor: "+s.cursor+" !important; }</style>").appendTo(o)),s.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",s.opacity)),s.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",s.zIndex)),this.scrollParent[0]!==document&&"HTML"!==this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",t,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions(),!a)for(n=this.containers.length-1;n>=0;n--)this.containers[n]._trigger("activate",t,this._uiHash(this));return e.ui.ddmanager&&(e.ui.ddmanager.current=this),e.ui.ddmanager&&!s.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t),this.dragging=!0,this.helper.addClass("ui-sortable-helper"),this._mouseDrag(t),!0},_mouseDrag:function(t){var i,a,n,o,s=this.options,r=!1;for(this.position=this._generatePosition(t),this.positionAbs=this._convertPositionTo("absolute"),this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs),this.options.scroll&&(this.scrollParent[0]!==document&&"HTML"!==this.scrollParent[0].tagName?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-t.pageY<s.scrollSensitivity?this.scrollParent[0].scrollTop=r=this.scrollParent[0].scrollTop+s.scrollSpeed:t.pageY-this.overflowOffset.top<s.scrollSensitivity&&(this.scrollParent[0].scrollTop=r=this.scrollParent[0].scrollTop-s.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-t.pageX<s.scrollSensitivity?this.scrollParent[0].scrollLeft=r=this.scrollParent[0].scrollLeft+s.scrollSpeed:t.pageX-this.overflowOffset.left<s.scrollSensitivity&&(this.scrollParent[0].scrollLeft=r=this.scrollParent[0].scrollLeft-s.scrollSpeed)):(t.pageY-e(document).scrollTop()<s.scrollSensitivity?r=e(document).scrollTop(e(document).scrollTop()-s.scrollSpeed):e(window).height()-(t.pageY-e(document).scrollTop())<s.scrollSensitivity&&(r=e(document).scrollTop(e(document).scrollTop()+s.scrollSpeed)),t.pageX-e(document).scrollLeft()<s.scrollSensitivity?r=e(document).scrollLeft(e(document).scrollLeft()-s.scrollSpeed):e(window).width()-(t.pageX-e(document).scrollLeft())<s.scrollSensitivity&&(r=e(document).scrollLeft(e(document).scrollLeft()+s.scrollSpeed))),!1!==r&&e.ui.ddmanager&&!s.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t)),this.positionAbs=this._convertPositionTo("absolute"),this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px"),i=this.items.length-1;i>=0;i--)if(a=this.items[i],n=a.item[0],(o=this._intersectsWithPointer(a))&&a.instance===this.currentContainer&&n!==this.currentItem[0]&&this.placeholder[1===o?"next":"prev"]()[0]!==n&&!e.contains(this.placeholder[0],n)&&("semi-dynamic"!==this.options.type||!e.contains(this.element[0],n))){if(this.direction=1===o?"down":"up","pointer"!==this.options.tolerance&&!this._intersectsWithSides(a))break;this._rearrange(t,a),this._trigger("change",t,this._uiHash());break}return this._contactContainers(t),e.ui.ddmanager&&e.ui.ddmanager.drag(this,t),this._trigger("sort",t,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(t,i){if(t){if(e.ui.ddmanager&&!this.options.dropBehaviour&&e.ui.ddmanager.drop(this,t),this.options.revert){var a=this,n=this.placeholder.offset(),o=this.options.axis,s={};o&&"x"!==o||(s.left=n.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===document.body?0:this.offsetParent[0].scrollLeft)),o&&"y"!==o||(s.top=n.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===document.body?0:this.offsetParent[0].scrollTop)),this.reverting=!0,e(this.helper).animate(s,parseInt(this.options.revert,10)||500,function(){a._clear(t)})}else this._clear(t,i);return!1}},cancel:function(){if(this.dragging){this._mouseUp({target:null}),"original"===this.options.helper?this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper"):this.currentItem.show();for(var t=this.containers.length-1;t>=0;t--)this.containers[t]._trigger("deactivate",null,this._uiHash(this)),this.containers[t].containerCache.over&&(this.containers[t]._trigger("out",null,this._uiHash(this)),this.containers[t].containerCache.over=0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),"original"!==this.options.helper&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),e.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?e(this.domPosition.prev).after(this.currentItem):e(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(t){var i=this._getItemsAsjQuery(t&&t.connected),a=[];return t=t||{},e(i).each(function(){var i=(e(t.item||this).attr(t.attribute||"id")||"").match(t.expression||/(.+)[\-=_](.+)/);i&&a.push((t.key||i[1]+"[]")+"="+(t.key&&t.expression?i[1]:i[2]))}),!a.length&&t.key&&a.push(t.key+"="),a.join("&")},toArray:function(t){var i=this._getItemsAsjQuery(t&&t.connected),a=[];return t=t||{},i.each(function(){a.push(e(t.item||this).attr(t.attribute||"id")||"")}),a},_intersectsWith:function(e){var t=this.positionAbs.left,i=t+this.helperProportions.width,a=this.positionAbs.top,n=a+this.helperProportions.height,o=e.left,s=o+e.width,r=e.top,l=r+e.height,c=this.offset.click.top,h=this.offset.click.left,u="x"===this.options.axis||a+c>r&&l>a+c,d="y"===this.options.axis||t+h>o&&s>t+h,p=u&&d;return"pointer"===this.options.tolerance||this.options.forcePointerForContainers||"pointer"!==this.options.tolerance&&this.helperProportions[this.floating?"width":"height"]>e[this.floating?"width":"height"]?p:t+this.helperProportions.width/2>o&&s>i-this.helperProportions.width/2&&a+this.helperProportions.height/2>r&&l>n-this.helperProportions.height/2},_intersectsWithPointer:function(e){var t="x"===this.options.axis||this._isOverAxis(this.positionAbs.top+this.offset.click.top,e.top,e.height),i="y"===this.options.axis||this._isOverAxis(this.positionAbs.left+this.offset.click.left,e.left,e.width),a=t&&i,n=this._getDragVerticalDirection(),o=this._getDragHorizontalDirection();return!!a&&(this.floating?o&&"right"===o||"down"===n?2:1:n&&("down"===n?2:1))},_intersectsWithSides:function(e){var t=this._isOverAxis(this.positionAbs.top+this.offset.click.top,e.top+e.height/2,e.height),i=this._isOverAxis(this.positionAbs.left+this.offset.click.left,e.left+e.width/2,e.width),a=this._getDragVerticalDirection(),n=this._getDragHorizontalDirection();return this.floating&&n?"right"===n&&i||"left"===n&&!i:a&&("down"===a&&t||"up"===a&&!t)},_getDragVerticalDirection:function(){var e=this.positionAbs.top-this.lastPositionAbs.top;return 0!==e&&(e>0?"down":"up")},_getDragHorizontalDirection:function(){var e=this.positionAbs.left-this.lastPositionAbs.left;return 0!==e&&(e>0?"right":"left")},refresh:function(e){return this._refreshItems(e),this._setHandleClassName(),this.refreshPositions(),this},_connectWith:function(){var e=this.options;return e.connectWith.constructor===String?[e.connectWith]:e.connectWith},_getItemsAsjQuery:function(t){function i(){r.push(this)}var a,n,o,s,r=[],l=[],c=this._connectWith();if(c&&t)for(a=c.length-1;a>=0;a--)for(o=e(c[a]),n=o.length-1;n>=0;n--)(s=e.data(o[n],this.widgetFullName))&&s!==this&&!s.options.disabled&&l.push([e.isFunction(s.options.items)?s.options.items.call(s.element):e(s.options.items,s.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),s]);for(l.push([e.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):e(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]),a=l.length-1;a>=0;a--)l[a][0].each(i);return e(r)},_removeCurrentsFromItems:function(){var t=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=e.grep(this.items,function(e){for(var i=0;t.length>i;i++)if(t[i]===e.item[0])return!1;return!0})},_refreshItems:function(t){this.items=[],this.containers=[this];var i,a,n,o,s,r,l,c,h=this.items,u=[[e.isFunction(this.options.items)?this.options.items.call(this.element[0],t,{item:this.currentItem}):e(this.options.items,this.element),this]],d=this._connectWith();if(d&&this.ready)for(i=d.length-1;i>=0;i--)for(n=e(d[i]),a=n.length-1;a>=0;a--)(o=e.data(n[a],this.widgetFullName))&&o!==this&&!o.options.disabled&&(u.push([e.isFunction(o.options.items)?o.options.items.call(o.element[0],t,{item:this.currentItem}):e(o.options.items,o.element),o]),this.containers.push(o));for(i=u.length-1;i>=0;i--)for(s=u[i][1],r=u[i][0],a=0,c=r.length;c>a;a++)l=e(r[a]),l.data(this.widgetName+"-item",s),h.push({item:l,instance:s,width:0,height:0,left:0,top:0})},refreshPositions:function(t){this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset());var i,a,n,o;for(i=this.items.length-1;i>=0;i--)a=this.items[i],a.instance!==this.currentContainer&&this.currentContainer&&a.item[0]!==this.currentItem[0]||(n=this.options.toleranceElement?e(this.options.toleranceElement,a.item):a.item,t||(a.width=n.outerWidth(),a.height=n.outerHeight()),o=n.offset(),a.left=o.left,a.top=o.top);if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(i=this.containers.length-1;i>=0;i--)o=this.containers[i].element.offset(),this.containers[i].containerCache.left=o.left,this.containers[i].containerCache.top=o.top,this.containers[i].containerCache.width=this.containers[i].element.outerWidth(),this.containers[i].containerCache.height=this.containers[i].element.outerHeight();return this},_createPlaceholder:function(t){t=t||this;var i,a=t.options;a.placeholder&&a.placeholder.constructor!==String||(i=a.placeholder,a.placeholder={element:function(){var a=t.currentItem[0].nodeName.toLowerCase(),n=e("<"+a+">",t.document[0]).addClass(i||t.currentItem[0].className+" ui-sortable-placeholder").removeClass("ui-sortable-helper");return"tr"===a?t.currentItem.children().each(function(){e("<td>&#160;</td>",t.document[0]).attr("colspan",e(this).attr("colspan")||1).appendTo(n)
}):"img"===a&&n.attr("src",t.currentItem.attr("src")),i||n.css("visibility","hidden"),n},update:function(e,n){(!i||a.forcePlaceholderSize)&&(n.height()||n.height(t.currentItem.innerHeight()-parseInt(t.currentItem.css("paddingTop")||0,10)-parseInt(t.currentItem.css("paddingBottom")||0,10)),n.width()||n.width(t.currentItem.innerWidth()-parseInt(t.currentItem.css("paddingLeft")||0,10)-parseInt(t.currentItem.css("paddingRight")||0,10)))}}),t.placeholder=e(a.placeholder.element.call(t.element,t.currentItem)),t.currentItem.after(t.placeholder),a.placeholder.update(t,t.placeholder)},_contactContainers:function(t){var i,a,n,o,s,r,l,c,h,u,d=null,p=null;for(i=this.containers.length-1;i>=0;i--)if(!e.contains(this.currentItem[0],this.containers[i].element[0]))if(this._intersectsWith(this.containers[i].containerCache)){if(d&&e.contains(this.containers[i].element[0],d.element[0]))continue;d=this.containers[i],p=i}else this.containers[i].containerCache.over&&(this.containers[i]._trigger("out",t,this._uiHash(this)),this.containers[i].containerCache.over=0);if(d)if(1===this.containers.length)this.containers[p].containerCache.over||(this.containers[p]._trigger("over",t,this._uiHash(this)),this.containers[p].containerCache.over=1);else{for(n=1e4,o=null,h=d.floating||this._isFloating(this.currentItem),s=h?"left":"top",r=h?"width":"height",u=h?"clientX":"clientY",a=this.items.length-1;a>=0;a--)e.contains(this.containers[p].element[0],this.items[a].item[0])&&this.items[a].item[0]!==this.currentItem[0]&&(l=this.items[a].item.offset()[s],c=!1,t[u]-l>this.items[a][r]/2&&(c=!0),n>Math.abs(t[u]-l)&&(n=Math.abs(t[u]-l),o=this.items[a],this.direction=c?"up":"down"));if(!o&&!this.options.dropOnEmpty)return;if(this.currentContainer===this.containers[p])return void(this.currentContainer.containerCache.over||(this.containers[p]._trigger("over",t,this._uiHash()),this.currentContainer.containerCache.over=1));o?this._rearrange(t,o,null,!0):this._rearrange(t,null,this.containers[p].element,!0),this._trigger("change",t,this._uiHash()),this.containers[p]._trigger("change",t,this._uiHash(this)),this.currentContainer=this.containers[p],this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[p]._trigger("over",t,this._uiHash(this)),this.containers[p].containerCache.over=1}},_createHelper:function(t){var i=this.options,a=e.isFunction(i.helper)?e(i.helper.apply(this.element[0],[t,this.currentItem])):"clone"===i.helper?this.currentItem.clone():this.currentItem;return a.parents("body").length||e("parent"!==i.appendTo?i.appendTo:this.currentItem[0].parentNode)[0].appendChild(a[0]),a[0]===this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),(!a[0].style.width||i.forceHelperSize)&&a.width(this.currentItem.width()),(!a[0].style.height||i.forceHelperSize)&&a.height(this.currentItem.height()),a},_adjustOffsetFromHelper:function(t){"string"==typeof t&&(t=t.split(" ")),e.isArray(t)&&(t={left:+t[0],top:+t[1]||0}),"left"in t&&(this.offset.click.left=t.left+this.margins.left),"right"in t&&(this.offset.click.left=this.helperProportions.width-t.right+this.margins.left),"top"in t&&(this.offset.click.top=t.top+this.margins.top),"bottom"in t&&(this.offset.click.top=this.helperProportions.height-t.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var t=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==document&&e.contains(this.scrollParent[0],this.offsetParent[0])&&(t.left+=this.scrollParent.scrollLeft(),t.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===document.body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&e.ui.ie)&&(t={top:0,left:0}),{top:t.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:t.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"===this.cssPosition){var e=this.currentItem.position();return{top:e.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:e.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var t,i,a,n=this.options;"parent"===n.containment&&(n.containment=this.helper[0].parentNode),("document"===n.containment||"window"===n.containment)&&(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,e("document"===n.containment?document:window).width()-this.helperProportions.width-this.margins.left,(e("document"===n.containment?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),/^(document|window|parent)$/.test(n.containment)||(t=e(n.containment)[0],i=e(n.containment).offset(),a="hidden"!==e(t).css("overflow"),this.containment=[i.left+(parseInt(e(t).css("borderLeftWidth"),10)||0)+(parseInt(e(t).css("paddingLeft"),10)||0)-this.margins.left,i.top+(parseInt(e(t).css("borderTopWidth"),10)||0)+(parseInt(e(t).css("paddingTop"),10)||0)-this.margins.top,i.left+(a?Math.max(t.scrollWidth,t.offsetWidth):t.offsetWidth)-(parseInt(e(t).css("borderLeftWidth"),10)||0)-(parseInt(e(t).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,i.top+(a?Math.max(t.scrollHeight,t.offsetHeight):t.offsetHeight)-(parseInt(e(t).css("borderTopWidth"),10)||0)-(parseInt(e(t).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top])},_convertPositionTo:function(t,i){i||(i=this.position);var a="absolute"===t?1:-1,n="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&e.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,o=/(html|body)/i.test(n[0].tagName);return{top:i.top+this.offset.relative.top*a+this.offset.parent.top*a-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():o?0:n.scrollTop())*a,left:i.left+this.offset.relative.left*a+this.offset.parent.left*a-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():o?0:n.scrollLeft())*a}},_generatePosition:function(t){var i,a,n=this.options,o=t.pageX,s=t.pageY,r="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&e.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,l=/(html|body)/i.test(r[0].tagName);return"relative"!==this.cssPosition||this.scrollParent[0]!==document&&this.scrollParent[0]!==this.offsetParent[0]||(this.offset.relative=this._getRelativeOffset()),this.originalPosition&&(this.containment&&(t.pageX-this.offset.click.left<this.containment[0]&&(o=this.containment[0]+this.offset.click.left),t.pageY-this.offset.click.top<this.containment[1]&&(s=this.containment[1]+this.offset.click.top),t.pageX-this.offset.click.left>this.containment[2]&&(o=this.containment[2]+this.offset.click.left),t.pageY-this.offset.click.top>this.containment[3]&&(s=this.containment[3]+this.offset.click.top)),n.grid&&(i=this.originalPageY+Math.round((s-this.originalPageY)/n.grid[1])*n.grid[1],s=this.containment?i-this.offset.click.top>=this.containment[1]&&i-this.offset.click.top<=this.containment[3]?i:i-this.offset.click.top>=this.containment[1]?i-n.grid[1]:i+n.grid[1]:i,a=this.originalPageX+Math.round((o-this.originalPageX)/n.grid[0])*n.grid[0],o=this.containment?a-this.offset.click.left>=this.containment[0]&&a-this.offset.click.left<=this.containment[2]?a:a-this.offset.click.left>=this.containment[0]?a-n.grid[0]:a+n.grid[0]:a)),{top:s-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():l?0:r.scrollTop()),left:o-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():l?0:r.scrollLeft())}},_rearrange:function(e,t,i,a){i?i[0].appendChild(this.placeholder[0]):t.item[0].parentNode.insertBefore(this.placeholder[0],"down"===this.direction?t.item[0]:t.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var n=this.counter;this._delay(function(){n===this.counter&&this.refreshPositions(!a)})},_clear:function(e,t){function i(e,t,i){return function(a){i._trigger(e,a,t._uiHash(t))}}this.reverting=!1;var a,n=[];if(!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]===this.currentItem[0]){for(a in this._storedCSS)("auto"===this._storedCSS[a]||"static"===this._storedCSS[a])&&(this._storedCSS[a]="");this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")}else this.currentItem.show();for(this.fromOutside&&!t&&n.push(function(e){this._trigger("receive",e,this._uiHash(this.fromOutside))}),!this.fromOutside&&this.domPosition.prev===this.currentItem.prev().not(".ui-sortable-helper")[0]&&this.domPosition.parent===this.currentItem.parent()[0]||t||n.push(function(e){this._trigger("update",e,this._uiHash())}),this!==this.currentContainer&&(t||(n.push(function(e){this._trigger("remove",e,this._uiHash())}),n.push(function(e){return function(t){e._trigger("receive",t,this._uiHash(this))}}.call(this,this.currentContainer)),n.push(function(e){return function(t){e._trigger("update",t,this._uiHash(this))}}.call(this,this.currentContainer)))),a=this.containers.length-1;a>=0;a--)t||n.push(i("deactivate",this,this.containers[a])),this.containers[a].containerCache.over&&(n.push(i("out",this,this.containers[a])),this.containers[a].containerCache.over=0);if(this.storedCursor&&(this.document.find("body").css("cursor",this.storedCursor),this.storedStylesheet.remove()),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex","auto"===this._storedZIndex?"":this._storedZIndex),this.dragging=!1,t||this._trigger("beforeStop",e,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.cancelHelperRemoval||(this.helper[0]!==this.currentItem[0]&&this.helper.remove(),this.helper=null),!t){for(a=0;n.length>a;a++)n[a].call(this,e);this._trigger("stop",e,this._uiHash())}return this.fromOutside=!1,!this.cancelHelperRemoval},_trigger:function(){!1===e.Widget.prototype._trigger.apply(this,arguments)&&this.cancel()},_uiHash:function(t){var i=t||this;return{helper:i.helper,placeholder:i.placeholder||e([]),position:i.position,originalPosition:i.originalPosition,offset:i.positionAbs,item:i.currentItem,sender:t?t.element:null}}}),e.widget("ui.accordion",{version:"1.11.2",options:{active:0,animate:{},collapsible:!1,event:"click",header:"> li > :first-child,> :not(li):even",heightStyle:"auto",icons:{activeHeader:"ui-icon-triangle-1-s",header:"ui-icon-triangle-1-e"},activate:null,beforeActivate:null},hideProps:{borderTopWidth:"hide",borderBottomWidth:"hide",paddingTop:"hide",paddingBottom:"hide",height:"hide"},showProps:{borderTopWidth:"show",borderBottomWidth:"show",paddingTop:"show",paddingBottom:"show",height:"show"},_create:function(){var t=this.options;this.prevShow=this.prevHide=e(),this.element.addClass("ui-accordion ui-widget ui-helper-reset").attr("role","tablist"),t.collapsible||!1!==t.active&&null!=t.active||(t.active=0),this._processPanels(),0>t.active&&(t.active+=this.headers.length),this._refresh()},_getCreateEventData:function(){return{header:this.active,panel:this.active.length?this.active.next():e()}},_createIcons:function(){var t=this.options.icons;t&&(e("<span>").addClass("ui-accordion-header-icon ui-icon "+t.header).prependTo(this.headers),this.active.children(".ui-accordion-header-icon").removeClass(t.header).addClass(t.activeHeader),this.headers.addClass("ui-accordion-icons"))},_destroyIcons:function(){this.headers.removeClass("ui-accordion-icons").children(".ui-accordion-header-icon").remove()},_destroy:function(){var e;this.element.removeClass("ui-accordion ui-widget ui-helper-reset").removeAttr("role"),this.headers.removeClass("ui-accordion-header ui-accordion-header-active ui-state-default ui-corner-all ui-state-active ui-state-disabled ui-corner-top").removeAttr("role").removeAttr("aria-expanded").removeAttr("aria-selected").removeAttr("aria-controls").removeAttr("tabIndex").removeUniqueId(),this._destroyIcons(),e=this.headers.next().removeClass("ui-helper-reset ui-widget-content ui-corner-bottom ui-accordion-content ui-accordion-content-active ui-state-disabled").css("display","").removeAttr("role").removeAttr("aria-hidden").removeAttr("aria-labelledby").removeUniqueId(),"content"!==this.options.heightStyle&&e.css("height","")},_setOption:function(e,t){return"active"===e?void this._activate(t):("event"===e&&(this.options.event&&this._off(this.headers,this.options.event),this._setupEvents(t)),this._super(e,t),"collapsible"!==e||t||!1!==this.options.active||this._activate(0),"icons"===e&&(this._destroyIcons(),t&&this._createIcons()),void("disabled"===e&&(this.element.toggleClass("ui-state-disabled",!!t).attr("aria-disabled",t),this.headers.add(this.headers.next()).toggleClass("ui-state-disabled",!!t))))},_keydown:function(t){if(!t.altKey&&!t.ctrlKey){var i=e.ui.keyCode,a=this.headers.length,n=this.headers.index(t.target),o=!1;switch(t.keyCode){case i.RIGHT:case i.DOWN:o=this.headers[(n+1)%a];break;case i.LEFT:case i.UP:o=this.headers[(n-1+a)%a];break;case i.SPACE:case i.ENTER:this._eventHandler(t);break;case i.HOME:o=this.headers[0];break;case i.END:o=this.headers[a-1]}o&&(e(t.target).attr("tabIndex",-1),e(o).attr("tabIndex",0),o.focus(),t.preventDefault())}},_panelKeyDown:function(t){t.keyCode===e.ui.keyCode.UP&&t.ctrlKey&&e(t.currentTarget).prev().focus()},refresh:function(){var t=this.options;this._processPanels(),!1===t.active&&!0===t.collapsible||!this.headers.length?(t.active=!1,this.active=e()):!1===t.active?this._activate(0):this.active.length&&!e.contains(this.element[0],this.active[0])?this.headers.length===this.headers.find(".ui-state-disabled").length?(t.active=!1,this.active=e()):this._activate(Math.max(0,t.active-1)):t.active=this.headers.index(this.active),this._destroyIcons(),this._refresh()},_processPanels:function(){var e=this.headers,t=this.panels;this.headers=this.element.find(this.options.header).addClass("ui-accordion-header ui-state-default ui-corner-all"),this.panels=this.headers.next().addClass("ui-accordion-content ui-helper-reset ui-widget-content ui-corner-bottom").filter(":not(.ui-accordion-content-active)").hide(),t&&(this._off(e.not(this.headers)),this._off(t.not(this.panels)))},_refresh:function(){var t,i=this.options,a=i.heightStyle,n=this.element.parent();this.active=this._findActive(i.active).addClass("ui-accordion-header-active ui-state-active ui-corner-top").removeClass("ui-corner-all"),this.active.next().addClass("ui-accordion-content-active").show(),this.headers.attr("role","tab").each(function(){var t=e(this),i=t.uniqueId().attr("id"),a=t.next(),n=a.uniqueId().attr("id");t.attr("aria-controls",n),a.attr("aria-labelledby",i)}).next().attr("role","tabpanel"),this.headers.not(this.active).attr({"aria-selected":"false","aria-expanded":"false",tabIndex:-1}).next().attr({"aria-hidden":"true"}).hide(),this.active.length?this.active.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0}).next().attr({"aria-hidden":"false"}):this.headers.eq(0).attr("tabIndex",0),this._createIcons(),this._setupEvents(i.event),"fill"===a?(t=n.height(),this.element.siblings(":visible").each(function(){var i=e(this),a=i.css("position");"absolute"!==a&&"fixed"!==a&&(t-=i.outerHeight(!0))}),this.headers.each(function(){t-=e(this).outerHeight(!0)}),this.headers.next().each(function(){e(this).height(Math.max(0,t-e(this).innerHeight()+e(this).height()))}).css("overflow","auto")):"auto"===a&&(t=0,this.headers.next().each(function(){t=Math.max(t,e(this).css("height","").height())}).height(t))},_activate:function(t){var i=this._findActive(t)[0];i!==this.active[0]&&(i=i||this.active[0],this._eventHandler({target:i,currentTarget:i,preventDefault:e.noop}))},_findActive:function(t){return"number"==typeof t?this.headers.eq(t):e()},_setupEvents:function(t){var i={keydown:"_keydown"};t&&e.each(t.split(" "),function(e,t){i[t]="_eventHandler"}),this._off(this.headers.add(this.headers.next())),this._on(this.headers,i),this._on(this.headers.next(),{keydown:"_panelKeyDown"}),this._hoverable(this.headers),this._focusable(this.headers)},_eventHandler:function(t){var i=this.options,a=this.active,n=e(t.currentTarget),o=n[0]===a[0],s=o&&i.collapsible,r=s?e():n.next(),l=a.next(),c={oldHeader:a,oldPanel:l,newHeader:s?e():n,newPanel:r};t.preventDefault(),o&&!i.collapsible||!1===this._trigger("beforeActivate",t,c)||(i.active=!s&&this.headers.index(n),this.active=o?e():n,this._toggle(c),a.removeClass("ui-accordion-header-active ui-state-active"),i.icons&&a.children(".ui-accordion-header-icon").removeClass(i.icons.activeHeader).addClass(i.icons.header),o||(n.removeClass("ui-corner-all").addClass("ui-accordion-header-active ui-state-active ui-corner-top"),i.icons&&n.children(".ui-accordion-header-icon").removeClass(i.icons.header).addClass(i.icons.activeHeader),n.next().addClass("ui-accordion-content-active")))},_toggle:function(t){var i=t.newPanel,a=this.prevShow.length?this.prevShow:t.oldPanel;this.prevShow.add(this.prevHide).stop(!0,!0),this.prevShow=i,this.prevHide=a,this.options.animate?this._animate(i,a,t):(a.hide(),i.show(),this._toggleComplete(t)),a.attr({"aria-hidden":"true"}),a.prev().attr("aria-selected","false"),i.length&&a.length?a.prev().attr({tabIndex:-1,"aria-expanded":"false"}):i.length&&this.headers.filter(function(){return 0===e(this).attr("tabIndex")}).attr("tabIndex",-1),i.attr("aria-hidden","false").prev().attr({"aria-selected":"true",tabIndex:0,"aria-expanded":"true"})},_animate:function(e,t,i){var a,n,o,s=this,r=0,l=e.length&&(!t.length||e.index()<t.index()),c=this.options.animate||{},h=l&&c.down||c,u=function(){s._toggleComplete(i)};return"number"==typeof h&&(o=h),"string"==typeof h&&(n=h),n=n||h.easing||c.easing,o=o||h.duration||c.duration,t.length?e.length?(a=e.show().outerHeight(),t.animate(this.hideProps,{duration:o,easing:n,step:function(e,t){t.now=Math.round(e)}}),void e.hide().animate(this.showProps,{duration:o,easing:n,complete:u,step:function(e,i){i.now=Math.round(e),"height"!==i.prop?r+=i.now:"content"!==s.options.heightStyle&&(i.now=Math.round(a-t.outerHeight()-r),r=0)}})):t.animate(this.hideProps,o,n,u):e.animate(this.showProps,o,n,u)},_toggleComplete:function(e){var t=e.oldPanel;t.removeClass("ui-accordion-content-active").prev().removeClass("ui-corner-top").addClass("ui-corner-all"),t.length&&(t.parent()[0].className=t.parent()[0].className),this._trigger("activate",null,e)}}),e.widget("ui.menu",{version:"1.11.2",defaultElement:"<ul>",delay:300,options:{icons:{submenu:"ui-icon-carat-1-e"},items:"> *",menus:"ul",position:{my:"left-1 top",at:"right top"},role:"menu",blur:null,focus:null,select:null},_create:function(){this.activeMenu=this.element,this.mouseHandled=!1,this.element.uniqueId().addClass("ui-menu ui-widget ui-widget-content").toggleClass("ui-menu-icons",!!this.element.find(".ui-icon").length).attr({role:this.options.role,tabIndex:0}),this.options.disabled&&this.element.addClass("ui-state-disabled").attr("aria-disabled","true"),this._on({"mousedown .ui-menu-item":function(e){e.preventDefault()},"click .ui-menu-item":function(t){var i=e(t.target);!this.mouseHandled&&i.not(".ui-state-disabled").length&&(this.select(t),t.isPropagationStopped()||(this.mouseHandled=!0),i.has(".ui-menu").length?this.expand(t):!this.element.is(":focus")&&e(this.document[0].activeElement).closest(".ui-menu").length&&(this.element.trigger("focus",[!0]),this.active&&1===this.active.parents(".ui-menu").length&&clearTimeout(this.timer)))},"mouseenter .ui-menu-item":function(t){if(!this.previousFilter){var i=e(t.currentTarget);i.siblings(".ui-state-active").removeClass("ui-state-active"),this.focus(t,i)}},mouseleave:"collapseAll","mouseleave .ui-menu":"collapseAll",focus:function(e,t){var i=this.active||this.element.find(this.options.items).eq(0);t||this.focus(e,i)},blur:function(t){this._delay(function(){e.contains(this.element[0],this.document[0].activeElement)||this.collapseAll(t)})},keydown:"_keydown"}),this.refresh(),this._on(this.document,{click:function(e){this._closeOnDocumentClick(e)&&this.collapseAll(e),this.mouseHandled=!1}})},_destroy:function(){this.element.removeAttr("aria-activedescendant").find(".ui-menu").addBack().removeClass("ui-menu ui-widget ui-widget-content ui-menu-icons ui-front").removeAttr("role").removeAttr("tabIndex").removeAttr("aria-labelledby").removeAttr("aria-expanded").removeAttr("aria-hidden").removeAttr("aria-disabled").removeUniqueId().show(),this.element.find(".ui-menu-item").removeClass("ui-menu-item").removeAttr("role").removeAttr("aria-disabled").removeUniqueId().removeClass("ui-state-hover").removeAttr("tabIndex").removeAttr("role").removeAttr("aria-haspopup").children().each(function(){var t=e(this);t.data("ui-menu-submenu-carat")&&t.remove()}),this.element.find(".ui-menu-divider").removeClass("ui-menu-divider ui-widget-content")},_keydown:function(t){var i,a,n,o,s=!0;switch(t.keyCode){case e.ui.keyCode.PAGE_UP:this.previousPage(t);break;case e.ui.keyCode.PAGE_DOWN:this.nextPage(t);break;case e.ui.keyCode.HOME:this._move("first","first",t);break;case e.ui.keyCode.END:this._move("last","last",t);break;case e.ui.keyCode.UP:this.previous(t);break;case e.ui.keyCode.DOWN:this.next(t);break;case e.ui.keyCode.LEFT:this.collapse(t);break;case e.ui.keyCode.RIGHT:this.active&&!this.active.is(".ui-state-disabled")&&this.expand(t);break;case e.ui.keyCode.ENTER:case e.ui.keyCode.SPACE:this._activate(t);break;case e.ui.keyCode.ESCAPE:this.collapse(t);break;default:s=!1,a=this.previousFilter||"",n=String.fromCharCode(t.keyCode),o=!1,clearTimeout(this.filterTimer),n===a?o=!0:n=a+n,i=this._filterMenuItems(n),i=o&&-1!==i.index(this.active.next())?this.active.nextAll(".ui-menu-item"):i,i.length||(n=String.fromCharCode(t.keyCode),i=this._filterMenuItems(n)),i.length?(this.focus(t,i),this.previousFilter=n,this.filterTimer=this._delay(function(){delete this.previousFilter},1e3)):delete this.previousFilter}s&&t.preventDefault()},_activate:function(e){this.active.is(".ui-state-disabled")||(this.active.is("[aria-haspopup='true']")?this.expand(e):this.select(e))},refresh:function(){var t,i,a=this,n=this.options.icons.submenu,o=this.element.find(this.options.menus);this.element.toggleClass("ui-menu-icons",!!this.element.find(".ui-icon").length),o.filter(":not(.ui-menu)").addClass("ui-menu ui-widget ui-widget-content ui-front").hide().attr({role:this.options.role,"aria-hidden":"true","aria-expanded":"false"}).each(function(){var t=e(this),i=t.parent(),a=e("<span>").addClass("ui-menu-icon ui-icon "+n).data("ui-menu-submenu-carat",!0);i.attr("aria-haspopup","true").prepend(a),t.attr("aria-labelledby",i.attr("id"))}),t=o.add(this.element),i=t.find(this.options.items),i.not(".ui-menu-item").each(function(){var t=e(this);a._isDivider(t)&&t.addClass("ui-widget-content ui-menu-divider")}),i.not(".ui-menu-item, .ui-menu-divider").addClass("ui-menu-item").uniqueId().attr({tabIndex:-1,role:this._itemRole()}),i.filter(".ui-state-disabled").attr("aria-disabled","true"),this.active&&!e.contains(this.element[0],this.active[0])&&this.blur()},_itemRole:function(){return{menu:"menuitem",listbox:"option"}[this.options.role]},_setOption:function(e,t){"icons"===e&&this.element.find(".ui-menu-icon").removeClass(this.options.icons.submenu).addClass(t.submenu),"disabled"===e&&this.element.toggleClass("ui-state-disabled",!!t).attr("aria-disabled",t),this._super(e,t)},focus:function(e,t){var i,a;this.blur(e,e&&"focus"===e.type),this._scrollIntoView(t),this.active=t.first(),a=this.active.addClass("ui-state-focus").removeClass("ui-state-active"),this.options.role&&this.element.attr("aria-activedescendant",a.attr("id")),this.active.parent().closest(".ui-menu-item").addClass("ui-state-active"),e&&"keydown"===e.type?this._close():this.timer=this._delay(function(){this._close()},this.delay),i=t.children(".ui-menu"),i.length&&e&&/^mouse/.test(e.type)&&this._startOpening(i),this.activeMenu=t.parent(),this._trigger("focus",e,{item:t})},_scrollIntoView:function(t){var i,a,n,o,s,r;this._hasScroll()&&(i=parseFloat(e.css(this.activeMenu[0],"borderTopWidth"))||0,a=parseFloat(e.css(this.activeMenu[0],"paddingTop"))||0,n=t.offset().top-this.activeMenu.offset().top-i-a,o=this.activeMenu.scrollTop(),s=this.activeMenu.height(),r=t.outerHeight(),0>n?this.activeMenu.scrollTop(o+n):n+r>s&&this.activeMenu.scrollTop(o+n-s+r))},blur:function(e,t){t||clearTimeout(this.timer),this.active&&(this.active.removeClass("ui-state-focus"),this.active=null,this._trigger("blur",e,{item:this.active}))},_startOpening:function(e){clearTimeout(this.timer),"true"===e.attr("aria-hidden")&&(this.timer=this._delay(function(){this._close(),this._open(e)},this.delay))},_open:function(t){var i=e.extend({of:this.active},this.options.position);clearTimeout(this.timer),this.element.find(".ui-menu").not(t.parents(".ui-menu")).hide().attr("aria-hidden","true"),t.show().removeAttr("aria-hidden").attr("aria-expanded","true").position(i)},collapseAll:function(t,i){clearTimeout(this.timer),this.timer=this._delay(function(){var a=i?this.element:e(t&&t.target).closest(this.element.find(".ui-menu"));a.length||(a=this.element),this._close(a),this.blur(t),this.activeMenu=a},this.delay)},_close:function(e){e||(e=this.active?this.active.parent():this.element),e.find(".ui-menu").hide().attr("aria-hidden","true").attr("aria-expanded","false").end().find(".ui-state-active").not(".ui-state-focus").removeClass("ui-state-active")},_closeOnDocumentClick:function(t){return!e(t.target).closest(".ui-menu").length},_isDivider:function(e){return!/[^\-\u2014\u2013\s]/.test(e.text())},collapse:function(e){var t=this.active&&this.active.parent().closest(".ui-menu-item",this.element);t&&t.length&&(this._close(),this.focus(e,t))},expand:function(e){var t=this.active&&this.active.children(".ui-menu ").find(this.options.items).first();t&&t.length&&(this._open(t.parent()),this._delay(function(){this.focus(e,t)}))},next:function(e){this._move("next","first",e)},previous:function(e){this._move("prev","last",e)},isFirstItem:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},isLastItem:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},_move:function(e,t,i){var a;this.active&&(a="first"===e||"last"===e?this.active["first"===e?"prevAll":"nextAll"](".ui-menu-item").eq(-1):this.active[e+"All"](".ui-menu-item").eq(0)),a&&a.length&&this.active||(a=this.activeMenu.find(this.options.items)[t]()),this.focus(i,a)},nextPage:function(t){var i,a,n;return this.active?void(this.isLastItem()||(this._hasScroll()?(a=this.active.offset().top,n=this.element.height(),this.active.nextAll(".ui-menu-item").each(function(){return i=e(this),0>i.offset().top-a-n}),this.focus(t,i)):this.focus(t,this.activeMenu.find(this.options.items)[this.active?"last":"first"]()))):void this.next(t)},previousPage:function(t){var i,a,n;return this.active?void(this.isFirstItem()||(this._hasScroll()?(a=this.active.offset().top,n=this.element.height(),this.active.prevAll(".ui-menu-item").each(function(){return i=e(this),i.offset().top-a+n>0}),this.focus(t,i)):this.focus(t,this.activeMenu.find(this.options.items).first()))):void this.next(t)},_hasScroll:function(){return this.element.outerHeight()<this.element.prop("scrollHeight")},select:function(t){this.active=this.active||e(t.target).closest(".ui-menu-item");var i={item:this.active};this.active.has(".ui-menu").length||this.collapseAll(t,!0),this._trigger("select",t,i)},_filterMenuItems:function(t){var i=t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&"),a=RegExp("^"+i,"i");return this.activeMenu.find(this.options.items).filter(".ui-menu-item").filter(function(){return a.test(e.trim(e(this).text()))})}}),e.widget("ui.autocomplete",{version:"1.11.2",defaultElement:"<input>",options:{appendTo:null,autoFocus:!1,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null,change:null,close:null,focus:null,open:null,response:null,search:null,select:null},requestIndex:0,pending:0,_create:function(){var t,i,a,n=this.element[0].nodeName.toLowerCase(),o="textarea"===n,s="input"===n;this.isMultiLine=!!o||!s&&this.element.prop("isContentEditable"),this.valueMethod=this.element[o||s?"val":"text"],this.isNewMenu=!0,this.element.addClass("ui-autocomplete-input").attr("autocomplete","off"),this._on(this.element,{keydown:function(n){if(this.element.prop("readOnly"))return t=!0,a=!0,void(i=!0);t=!1,a=!1,i=!1;var o=e.ui.keyCode;switch(n.keyCode){case o.PAGE_UP:t=!0,this._move("previousPage",n);break;case o.PAGE_DOWN:t=!0,this._move("nextPage",n);break;case o.UP:t=!0,this._keyEvent("previous",n);break;case o.DOWN:t=!0,this._keyEvent("next",n);break;case o.ENTER:this.menu.active&&(t=!0,n.preventDefault(),this.menu.select(n));break;case o.TAB:this.menu.active&&this.menu.select(n);break;case o.ESCAPE:this.menu.element.is(":visible")&&(this.isMultiLine||this._value(this.term),this.close(n),n.preventDefault());break;default:i=!0,this._searchTimeout(n)}},keypress:function(a){if(t)return t=!1,void((!this.isMultiLine||this.menu.element.is(":visible"))&&a.preventDefault());if(!i){var n=e.ui.keyCode;switch(a.keyCode){case n.PAGE_UP:this._move("previousPage",a);break;case n.PAGE_DOWN:this._move("nextPage",a);break;case n.UP:this._keyEvent("previous",a);break;case n.DOWN:this._keyEvent("next",a)}}},input:function(e){return a?(a=!1,void e.preventDefault()):void this._searchTimeout(e)},focus:function(){this.selectedItem=null,this.previous=this._value()},blur:function(e){return this.cancelBlur?void delete this.cancelBlur:(clearTimeout(this.searching),this.close(e),void this._change(e))}}),this._initSource(),this.menu=e("<ul>").addClass("ui-autocomplete ui-front").appendTo(this._appendTo()).menu({role:null}).hide().menu("instance"),this._on(this.menu.element,{mousedown:function(t){t.preventDefault(),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur});var i=this.menu.element[0];e(t.target).closest(".ui-menu-item").length||this._delay(function(){var t=this;this.document.one("mousedown",function(a){a.target===t.element[0]||a.target===i||e.contains(i,a.target)||t.close()})})},menufocus:function(t,i){var a,n;return this.isNewMenu&&(this.isNewMenu=!1,t.originalEvent&&/^mouse/.test(t.originalEvent.type))?(this.menu.blur(),void this.document.one("mousemove",function(){e(t.target).trigger(t.originalEvent)})):(n=i.item.data("ui-autocomplete-item"),!1!==this._trigger("focus",t,{item:n})&&t.originalEvent&&/^key/.test(t.originalEvent.type)&&this._value(n.value),void((a=i.item.attr("aria-label")||n.value)&&e.trim(a).length&&(this.liveRegion.children().hide(),e("<div>").text(a).appendTo(this.liveRegion))))},menuselect:function(e,t){var i=t.item.data("ui-autocomplete-item"),a=this.previous;this.element[0]!==this.document[0].activeElement&&(this.element.focus(),this.previous=a,this._delay(function(){this.previous=a,this.selectedItem=i})),!1!==this._trigger("select",e,{item:i})&&this._value(i.value),this.term=this._value(),this.close(e),this.selectedItem=i}}),this.liveRegion=e("<span>",{role:"status","aria-live":"assertive","aria-relevant":"additions"}).addClass("ui-helper-hidden-accessible").appendTo(this.document[0].body),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_destroy:function(){clearTimeout(this.searching),this.element.removeClass("ui-autocomplete-input").removeAttr("autocomplete"),this.menu.element.remove(),this.liveRegion.remove()},
_setOption:function(e,t){this._super(e,t),"source"===e&&this._initSource(),"appendTo"===e&&this.menu.element.appendTo(this._appendTo()),"disabled"===e&&t&&this.xhr&&this.xhr.abort()},_appendTo:function(){var t=this.options.appendTo;return t&&(t=t.jquery||t.nodeType?e(t):this.document.find(t).eq(0)),t&&t[0]||(t=this.element.closest(".ui-front")),t.length||(t=this.document[0].body),t},_initSource:function(){var t,i,a=this;e.isArray(this.options.source)?(t=this.options.source,this.source=function(i,a){a(e.ui.autocomplete.filter(t,i.term))}):"string"==typeof this.options.source?(i=this.options.source,this.source=function(t,n){a.xhr&&a.xhr.abort(),a.xhr=e.ajax({url:i,data:t,dataType:"json",success:function(e){n(e)},error:function(){n([])}})}):this.source=this.options.source},_searchTimeout:function(e){clearTimeout(this.searching),this.searching=this._delay(function(){var t=this.term===this._value(),i=this.menu.element.is(":visible"),a=e.altKey||e.ctrlKey||e.metaKey||e.shiftKey;(!t||t&&!i&&!a)&&(this.selectedItem=null,this.search(null,e))},this.options.delay)},search:function(e,t){return e=null!=e?e:this._value(),this.term=this._value(),e.length<this.options.minLength?this.close(t):!1!==this._trigger("search",t)?this._search(e):void 0},_search:function(e){this.pending++,this.element.addClass("ui-autocomplete-loading"),this.cancelSearch=!1,this.source({term:e},this._response())},_response:function(){var t=++this.requestIndex;return e.proxy(function(e){t===this.requestIndex&&this.__response(e),--this.pending||this.element.removeClass("ui-autocomplete-loading")},this)},__response:function(e){e&&(e=this._normalize(e)),this._trigger("response",null,{content:e}),!this.options.disabled&&e&&e.length&&!this.cancelSearch?(this._suggest(e),this._trigger("open")):this._close()},close:function(e){this.cancelSearch=!0,this._close(e)},_close:function(e){this.menu.element.is(":visible")&&(this.menu.element.hide(),this.menu.blur(),this.isNewMenu=!0,this._trigger("close",e))},_change:function(e){this.previous!==this._value()&&this._trigger("change",e,{item:this.selectedItem})},_normalize:function(t){return t.length&&t[0].label&&t[0].value?t:e.map(t,function(t){return"string"==typeof t?{label:t,value:t}:e.extend({},t,{label:t.label||t.value,value:t.value||t.label})})},_suggest:function(t){var i=this.menu.element.empty();this._renderMenu(i,t),this.isNewMenu=!0,this.menu.refresh(),i.show(),this._resizeMenu(),i.position(e.extend({of:this.element},this.options.position)),this.options.autoFocus&&this.menu.next()},_resizeMenu:function(){var e=this.menu.element;e.outerWidth(Math.max(e.width("").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(t,i){var a=this;e.each(i,function(e,i){a._renderItemData(t,i)})},_renderItemData:function(e,t){return this._renderItem(e,t).data("ui-autocomplete-item",t)},_renderItem:function(t,i){return e("<li>").text(i.label).appendTo(t)},_move:function(e,t){return this.menu.element.is(":visible")?this.menu.isFirstItem()&&/^previous/.test(e)||this.menu.isLastItem()&&/^next/.test(e)?(this.isMultiLine||this._value(this.term),void this.menu.blur()):void this.menu[e](t):void this.search(null,t)},widget:function(){return this.menu.element},_value:function(){return this.valueMethod.apply(this.element,arguments)},_keyEvent:function(e,t){(!this.isMultiLine||this.menu.element.is(":visible"))&&(this._move(e,t),t.preventDefault())}}),e.extend(e.ui.autocomplete,{escapeRegex:function(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")},filter:function(t,i){var a=RegExp(e.ui.autocomplete.escapeRegex(i),"i");return e.grep(t,function(e){return a.test(e.label||e.value||e)})}}),e.widget("ui.autocomplete",e.ui.autocomplete,{options:{messages:{noResults:"No search results.",results:function(e){return e+(e>1?" results are":" result is")+" available, use up and down arrow keys to navigate."}}},__response:function(t){var i;this._superApply(arguments),this.options.disabled||this.cancelSearch||(i=t&&t.length?this.options.messages.results(t.length):this.options.messages.noResults,this.liveRegion.children().hide(),e("<div>").text(i).appendTo(this.liveRegion))}}),e.ui.autocomplete;var d,p="ui-button ui-widget ui-state-default ui-corner-all",f="ui-button-icons-only ui-button-icon-only ui-button-text-icons ui-button-text-icon-primary ui-button-text-icon-secondary ui-button-text-only",m=function(){var t=e(this);setTimeout(function(){t.find(":ui-button").button("refresh")},1)},g=function(t){var i=t.name,a=t.form,n=e([]);return i&&(i=i.replace(/'/g,"\\'"),n=a?e(a).find("[name='"+i+"'][type=radio]"):e("[name='"+i+"'][type=radio]",t.ownerDocument).filter(function(){return!this.form})),n};e.widget("ui.button",{version:"1.11.2",defaultElement:"<button>",options:{disabled:null,text:!0,label:null,icons:{primary:null,secondary:null}},_create:function(){this.element.closest("form").unbind("reset"+this.eventNamespace).bind("reset"+this.eventNamespace,m),"boolean"!=typeof this.options.disabled?this.options.disabled=!!this.element.prop("disabled"):this.element.prop("disabled",this.options.disabled),this._determineButtonType(),this.hasTitle=!!this.buttonElement.attr("title");var t=this,i=this.options,a="checkbox"===this.type||"radio"===this.type,n=a?"":"ui-state-active";null===i.label&&(i.label="input"===this.type?this.buttonElement.val():this.buttonElement.html()),this._hoverable(this.buttonElement),this.buttonElement.addClass(p).attr("role","button").bind("mouseenter"+this.eventNamespace,function(){i.disabled||this===d&&e(this).addClass("ui-state-active")}).bind("mouseleave"+this.eventNamespace,function(){i.disabled||e(this).removeClass(n)}).bind("click"+this.eventNamespace,function(e){i.disabled&&(e.preventDefault(),e.stopImmediatePropagation())}),this._on({focus:function(){this.buttonElement.addClass("ui-state-focus")},blur:function(){this.buttonElement.removeClass("ui-state-focus")}}),a&&this.element.bind("change"+this.eventNamespace,function(){t.refresh()}),"checkbox"===this.type?this.buttonElement.bind("click"+this.eventNamespace,function(){return!i.disabled&&void 0}):"radio"===this.type?this.buttonElement.bind("click"+this.eventNamespace,function(){if(i.disabled)return!1;e(this).addClass("ui-state-active"),t.buttonElement.attr("aria-pressed","true");var a=t.element[0];g(a).not(a).map(function(){return e(this).button("widget")[0]}).removeClass("ui-state-active").attr("aria-pressed","false")}):(this.buttonElement.bind("mousedown"+this.eventNamespace,function(){return!i.disabled&&(e(this).addClass("ui-state-active"),d=this,void t.document.one("mouseup",function(){d=null}))}).bind("mouseup"+this.eventNamespace,function(){return!i.disabled&&void e(this).removeClass("ui-state-active")}).bind("keydown"+this.eventNamespace,function(t){return!i.disabled&&void((t.keyCode===e.ui.keyCode.SPACE||t.keyCode===e.ui.keyCode.ENTER)&&e(this).addClass("ui-state-active"))}).bind("keyup"+this.eventNamespace+" blur"+this.eventNamespace,function(){e(this).removeClass("ui-state-active")}),this.buttonElement.is("a")&&this.buttonElement.keyup(function(t){t.keyCode===e.ui.keyCode.SPACE&&e(this).click()})),this._setOption("disabled",i.disabled),this._resetButton()},_determineButtonType:function(){var e,t,i;this.type=this.element.is("[type=checkbox]")?"checkbox":this.element.is("[type=radio]")?"radio":this.element.is("input")?"input":"button","checkbox"===this.type||"radio"===this.type?(e=this.element.parents().last(),t="label[for='"+this.element.attr("id")+"']",this.buttonElement=e.find(t),this.buttonElement.length||(e=e.length?e.siblings():this.element.siblings(),this.buttonElement=e.filter(t),this.buttonElement.length||(this.buttonElement=e.find(t))),this.element.addClass("ui-helper-hidden-accessible"),i=this.element.is(":checked"),i&&this.buttonElement.addClass("ui-state-active"),this.buttonElement.prop("aria-pressed",i)):this.buttonElement=this.element},widget:function(){return this.buttonElement},_destroy:function(){this.element.removeClass("ui-helper-hidden-accessible"),this.buttonElement.removeClass(p+" ui-state-active "+f).removeAttr("role").removeAttr("aria-pressed").html(this.buttonElement.find(".ui-button-text").html()),this.hasTitle||this.buttonElement.removeAttr("title")},_setOption:function(e,t){return this._super(e,t),"disabled"===e?(this.widget().toggleClass("ui-state-disabled",!!t),this.element.prop("disabled",!!t),void(t&&("checkbox"===this.type||"radio"===this.type?this.buttonElement.removeClass("ui-state-focus"):this.buttonElement.removeClass("ui-state-focus ui-state-active")))):void this._resetButton()},refresh:function(){var t=this.element.is("input, button")?this.element.is(":disabled"):this.element.hasClass("ui-button-disabled");t!==this.options.disabled&&this._setOption("disabled",t),"radio"===this.type?g(this.element[0]).each(function(){e(this).is(":checked")?e(this).button("widget").addClass("ui-state-active").attr("aria-pressed","true"):e(this).button("widget").removeClass("ui-state-active").attr("aria-pressed","false")}):"checkbox"===this.type&&(this.element.is(":checked")?this.buttonElement.addClass("ui-state-active").attr("aria-pressed","true"):this.buttonElement.removeClass("ui-state-active").attr("aria-pressed","false"))},_resetButton:function(){if("input"===this.type)return void(this.options.label&&this.element.val(this.options.label));var t=this.buttonElement.removeClass(f),i=e("<span></span>",this.document[0]).addClass("ui-button-text").html(this.options.label).appendTo(t.empty()).text(),a=this.options.icons,n=a.primary&&a.secondary,o=[];a.primary||a.secondary?(this.options.text&&o.push("ui-button-text-icon"+(n?"s":a.primary?"-primary":"-secondary")),a.primary&&t.prepend("<span class='ui-button-icon-primary ui-icon "+a.primary+"'></span>"),a.secondary&&t.append("<span class='ui-button-icon-secondary ui-icon "+a.secondary+"'></span>"),this.options.text||(o.push(n?"ui-button-icons-only":"ui-button-icon-only"),this.hasTitle||t.attr("title",e.trim(i)))):o.push("ui-button-text-only"),t.addClass(o.join(" "))}}),e.widget("ui.buttonset",{version:"1.11.2",options:{items:"button, input[type=button], input[type=submit], input[type=reset], input[type=checkbox], input[type=radio], a, :data(ui-button)"},_create:function(){this.element.addClass("ui-buttonset")},_init:function(){this.refresh()},_setOption:function(e,t){"disabled"===e&&this.buttons.button("option",e,t),this._super(e,t)},refresh:function(){var t="rtl"===this.element.css("direction"),i=this.element.find(this.options.items),a=i.filter(":ui-button");i.not(":ui-button").button(),a.button("refresh"),this.buttons=i.map(function(){return e(this).button("widget")[0]}).removeClass("ui-corner-all ui-corner-left ui-corner-right").filter(":first").addClass(t?"ui-corner-right":"ui-corner-left").end().filter(":last").addClass(t?"ui-corner-left":"ui-corner-right").end().end()},_destroy:function(){this.element.removeClass("ui-buttonset"),this.buttons.map(function(){return e(this).button("widget")[0]}).removeClass("ui-corner-left ui-corner-right").end().button("destroy")}}),e.ui.button,e.extend(e.ui,{datepicker:{version:"1.11.2"}});var v;e.extend(n.prototype,{markerClassName:"hasDatepicker",maxRows:4,_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(e){return r(this._defaults,e||{}),this},_attachDatepicker:function(t,i){var a,n,o;a=t.nodeName.toLowerCase(),n="div"===a||"span"===a,t.id||(this.uuid+=1,t.id="dp"+this.uuid),o=this._newInst(e(t),n),o.settings=e.extend({},i||{}),"input"===a?this._connectDatepicker(t,o):n&&this._inlineDatepicker(t,o)},_newInst:function(t,i){return{id:t[0].id.replace(/([^A-Za-z0-9_\-])/g,"\\\\$1"),input:t,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:i,dpDiv:i?o(e("<div class='"+this._inlineClass+" ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>")):this.dpDiv}},_connectDatepicker:function(t,i){var a=e(t);i.append=e([]),i.trigger=e([]),a.hasClass(this.markerClassName)||(this._attachments(a,i),a.addClass(this.markerClassName).keydown(this._doKeyDown).keypress(this._doKeyPress).keyup(this._doKeyUp),this._autoSize(i),e.data(t,"datepicker",i),i.settings.disabled&&this._disableDatepicker(t))},_attachments:function(t,i){var a,n,o,s=this._get(i,"appendText"),r=this._get(i,"isRTL");i.append&&i.append.remove(),s&&(i.append=e("<span class='"+this._appendClass+"'>"+s+"</span>"),t[r?"before":"after"](i.append)),t.unbind("focus",this._showDatepicker),i.trigger&&i.trigger.remove(),a=this._get(i,"showOn"),("focus"===a||"both"===a)&&t.focus(this._showDatepicker),("button"===a||"both"===a)&&(n=this._get(i,"buttonText"),o=this._get(i,"buttonImage"),i.trigger=e(this._get(i,"buttonImageOnly")?e("<img/>").addClass(this._triggerClass).attr({src:o,alt:n,title:n}):e("<button type='button'></button>").addClass(this._triggerClass).html(o?e("<img/>").attr({src:o,alt:n,title:n}):n)),t[r?"before":"after"](i.trigger),i.trigger.click(function(){return e.datepicker._datepickerShowing&&e.datepicker._lastInput===t[0]?e.datepicker._hideDatepicker():e.datepicker._datepickerShowing&&e.datepicker._lastInput!==t[0]?(e.datepicker._hideDatepicker(),e.datepicker._showDatepicker(t[0])):e.datepicker._showDatepicker(t[0]),!1}))},_autoSize:function(e){if(this._get(e,"autoSize")&&!e.inline){var t,i,a,n,o=new Date(2009,11,20),s=this._get(e,"dateFormat");s.match(/[DM]/)&&(t=function(e){for(i=0,a=0,n=0;e.length>n;n++)e[n].length>i&&(i=e[n].length,a=n);return a},o.setMonth(t(this._get(e,s.match(/MM/)?"monthNames":"monthNamesShort"))),o.setDate(t(this._get(e,s.match(/DD/)?"dayNames":"dayNamesShort"))+20-o.getDay())),e.input.attr("size",this._formatDate(e,o).length)}},_inlineDatepicker:function(t,i){var a=e(t);a.hasClass(this.markerClassName)||(a.addClass(this.markerClassName).append(i.dpDiv),e.data(t,"datepicker",i),this._setDate(i,this._getDefaultDate(i),!0),this._updateDatepicker(i),this._updateAlternate(i),i.settings.disabled&&this._disableDatepicker(t),i.dpDiv.css("display","block"))},_dialogDatepicker:function(t,i,a,n,o){var s,l,c,h,u,d=this._dialogInst;return d||(this.uuid+=1,s="dp"+this.uuid,this._dialogInput=e("<input type='text' id='"+s+"' style='position: absolute; top: -100px; width: 0px;'/>"),this._dialogInput.keydown(this._doKeyDown),e("body").append(this._dialogInput),d=this._dialogInst=this._newInst(this._dialogInput,!1),d.settings={},e.data(this._dialogInput[0],"datepicker",d)),r(d.settings,n||{}),i=i&&i.constructor===Date?this._formatDate(d,i):i,this._dialogInput.val(i),this._pos=o?o.length?o:[o.pageX,o.pageY]:null,this._pos||(l=document.documentElement.clientWidth,c=document.documentElement.clientHeight,h=document.documentElement.scrollLeft||document.body.scrollLeft,u=document.documentElement.scrollTop||document.body.scrollTop,this._pos=[l/2-100+h,c/2-150+u]),this._dialogInput.css("left",this._pos[0]+20+"px").css("top",this._pos[1]+"px"),d.settings.onSelect=a,this._inDialog=!0,this.dpDiv.addClass(this._dialogClass),this._showDatepicker(this._dialogInput[0]),e.blockUI&&e.blockUI(this.dpDiv),e.data(this._dialogInput[0],"datepicker",d),this},_destroyDatepicker:function(t){var i,a=e(t),n=e.data(t,"datepicker");a.hasClass(this.markerClassName)&&(i=t.nodeName.toLowerCase(),e.removeData(t,"datepicker"),"input"===i?(n.append.remove(),n.trigger.remove(),a.removeClass(this.markerClassName).unbind("focus",this._showDatepicker).unbind("keydown",this._doKeyDown).unbind("keypress",this._doKeyPress).unbind("keyup",this._doKeyUp)):("div"===i||"span"===i)&&a.removeClass(this.markerClassName).empty())},_enableDatepicker:function(t){var i,a,n=e(t),o=e.data(t,"datepicker");n.hasClass(this.markerClassName)&&(i=t.nodeName.toLowerCase(),"input"===i?(t.disabled=!1,o.trigger.filter("button").each(function(){this.disabled=!1}).end().filter("img").css({opacity:"1.0",cursor:""})):("div"===i||"span"===i)&&(a=n.children("."+this._inlineClass),a.children().removeClass("ui-state-disabled"),a.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!1)),this._disabledInputs=e.map(this._disabledInputs,function(e){return e===t?null:e}))},_disableDatepicker:function(t){var i,a,n=e(t),o=e.data(t,"datepicker");n.hasClass(this.markerClassName)&&(i=t.nodeName.toLowerCase(),"input"===i?(t.disabled=!0,o.trigger.filter("button").each(function(){this.disabled=!0}).end().filter("img").css({opacity:"0.5",cursor:"default"})):("div"===i||"span"===i)&&(a=n.children("."+this._inlineClass),a.children().addClass("ui-state-disabled"),a.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!0)),this._disabledInputs=e.map(this._disabledInputs,function(e){return e===t?null:e}),this._disabledInputs[this._disabledInputs.length]=t)},_isDisabledDatepicker:function(e){if(!e)return!1;for(var t=0;this._disabledInputs.length>t;t++)if(this._disabledInputs[t]===e)return!0;return!1},_getInst:function(t){try{return e.data(t,"datepicker")}catch(e){throw"Missing instance data for this datepicker"}},_optionDatepicker:function(t,i,a){var n,o,s,l,c=this._getInst(t);return 2===arguments.length&&"string"==typeof i?"defaults"===i?e.extend({},e.datepicker._defaults):c?"all"===i?e.extend({},c.settings):this._get(c,i):null:(n=i||{},"string"==typeof i&&(n={},n[i]=a),void(c&&(this._curInst===c&&this._hideDatepicker(),o=this._getDateDatepicker(t,!0),s=this._getMinMaxDate(c,"min"),l=this._getMinMaxDate(c,"max"),r(c.settings,n),null!==s&&void 0!==n.dateFormat&&void 0===n.minDate&&(c.settings.minDate=this._formatDate(c,s)),null!==l&&void 0!==n.dateFormat&&void 0===n.maxDate&&(c.settings.maxDate=this._formatDate(c,l)),"disabled"in n&&(n.disabled?this._disableDatepicker(t):this._enableDatepicker(t)),this._attachments(e(t),c),this._autoSize(c),this._setDate(c,o),this._updateAlternate(c),this._updateDatepicker(c))))},_changeDatepicker:function(e,t,i){this._optionDatepicker(e,t,i)},_refreshDatepicker:function(e){var t=this._getInst(e);t&&this._updateDatepicker(t)},_setDateDatepicker:function(e,t){var i=this._getInst(e);i&&(this._setDate(i,t),this._updateDatepicker(i),this._updateAlternate(i))},_getDateDatepicker:function(e,t){var i=this._getInst(e);return i&&!i.inline&&this._setDateFromField(i,t),i?this._getDate(i):null},_doKeyDown:function(t){var i,a,n,o=e.datepicker._getInst(t.target),s=!0,r=o.dpDiv.is(".ui-datepicker-rtl");if(o._keyEvent=!0,e.datepicker._datepickerShowing)switch(t.keyCode){case 9:e.datepicker._hideDatepicker(),s=!1;break;case 13:return n=e("td."+e.datepicker._dayOverClass+":not(."+e.datepicker._currentClass+")",o.dpDiv),n[0]&&e.datepicker._selectDay(t.target,o.selectedMonth,o.selectedYear,n[0]),i=e.datepicker._get(o,"onSelect"),i?(a=e.datepicker._formatDate(o),i.apply(o.input?o.input[0]:null,[a,o])):e.datepicker._hideDatepicker(),!1;case 27:e.datepicker._hideDatepicker();break;case 33:e.datepicker._adjustDate(t.target,t.ctrlKey?-e.datepicker._get(o,"stepBigMonths"):-e.datepicker._get(o,"stepMonths"),"M");break;case 34:e.datepicker._adjustDate(t.target,t.ctrlKey?+e.datepicker._get(o,"stepBigMonths"):+e.datepicker._get(o,"stepMonths"),"M");break;case 35:(t.ctrlKey||t.metaKey)&&e.datepicker._clearDate(t.target),s=t.ctrlKey||t.metaKey;break;case 36:(t.ctrlKey||t.metaKey)&&e.datepicker._gotoToday(t.target),s=t.ctrlKey||t.metaKey;break;case 37:(t.ctrlKey||t.metaKey)&&e.datepicker._adjustDate(t.target,r?1:-1,"D"),s=t.ctrlKey||t.metaKey,t.originalEvent.altKey&&e.datepicker._adjustDate(t.target,t.ctrlKey?-e.datepicker._get(o,"stepBigMonths"):-e.datepicker._get(o,"stepMonths"),"M");break;case 38:(t.ctrlKey||t.metaKey)&&e.datepicker._adjustDate(t.target,-7,"D"),s=t.ctrlKey||t.metaKey;break;case 39:(t.ctrlKey||t.metaKey)&&e.datepicker._adjustDate(t.target,r?-1:1,"D"),s=t.ctrlKey||t.metaKey,t.originalEvent.altKey&&e.datepicker._adjustDate(t.target,t.ctrlKey?+e.datepicker._get(o,"stepBigMonths"):+e.datepicker._get(o,"stepMonths"),"M");break;case 40:(t.ctrlKey||t.metaKey)&&e.datepicker._adjustDate(t.target,7,"D"),s=t.ctrlKey||t.metaKey;break;default:s=!1}else 36===t.keyCode&&t.ctrlKey?e.datepicker._showDatepicker(this):s=!1;s&&(t.preventDefault(),t.stopPropagation())},_doKeyPress:function(t){var i,a,n=e.datepicker._getInst(t.target);return e.datepicker._get(n,"constrainInput")?(i=e.datepicker._possibleChars(e.datepicker._get(n,"dateFormat")),a=String.fromCharCode(null==t.charCode?t.keyCode:t.charCode),t.ctrlKey||t.metaKey||" ">a||!i||i.indexOf(a)>-1):void 0},_doKeyUp:function(t){var i=e.datepicker._getInst(t.target);if(i.input.val()!==i.lastVal)try{e.datepicker.parseDate(e.datepicker._get(i,"dateFormat"),i.input?i.input.val():null,e.datepicker._getFormatConfig(i))&&(e.datepicker._setDateFromField(i),e.datepicker._updateAlternate(i),e.datepicker._updateDatepicker(i))}catch(e){}return!0},_showDatepicker:function(t){if(t=t.target||t,"input"!==t.nodeName.toLowerCase()&&(t=e("input",t.parentNode)[0]),!e.datepicker._isDisabledDatepicker(t)&&e.datepicker._lastInput!==t){var i,n,o,s,l,c,h;i=e.datepicker._getInst(t),e.datepicker._curInst&&e.datepicker._curInst!==i&&(e.datepicker._curInst.dpDiv.stop(!0,!0),i&&e.datepicker._datepickerShowing&&e.datepicker._hideDatepicker(e.datepicker._curInst.input[0])),n=e.datepicker._get(i,"beforeShow"),!1!==(o=n?n.apply(t,[t,i]):{})&&(r(i.settings,o),i.lastVal=null,e.datepicker._lastInput=t,e.datepicker._setDateFromField(i),e.datepicker._inDialog&&(t.value=""),e.datepicker._pos||(e.datepicker._pos=e.datepicker._findPos(t),e.datepicker._pos[1]+=t.offsetHeight),s=!1,e(t).parents().each(function(){return!(s|="fixed"===e(this).css("position"))}),l={left:e.datepicker._pos[0],top:e.datepicker._pos[1]},e.datepicker._pos=null,i.dpDiv.empty(),i.dpDiv.css({position:"absolute",display:"block",top:"-1000px"}),e.datepicker._updateDatepicker(i),l=e.datepicker._checkOffset(i,l,s),i.dpDiv.css({position:e.datepicker._inDialog&&e.blockUI?"static":s?"fixed":"absolute",display:"none",left:l.left+"px",top:l.top+"px"}),i.inline||(c=e.datepicker._get(i,"showAnim"),h=e.datepicker._get(i,"duration"),i.dpDiv.css("z-index",a(e(t))+1),e.datepicker._datepickerShowing=!0,e.effects&&e.effects.effect[c]?i.dpDiv.show(c,e.datepicker._get(i,"showOptions"),h):i.dpDiv[c||"show"](c?h:null),e.datepicker._shouldFocusInput(i)&&i.input.focus(),e.datepicker._curInst=i))}},_updateDatepicker:function(t){this.maxRows=4,v=t,t.dpDiv.empty().append(this._generateHTML(t)),this._attachHandlers(t);var i,a=this._getNumberOfMonths(t),n=a[1],o=t.dpDiv.find("."+this._dayOverClass+" a");o.length>0&&s.apply(o.get(0)),t.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width(""),n>1&&t.dpDiv.addClass("ui-datepicker-multi-"+n).css("width",17*n+"em"),t.dpDiv[(1!==a[0]||1!==a[1]?"add":"remove")+"Class"]("ui-datepicker-multi"),t.dpDiv[(this._get(t,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl"),t===e.datepicker._curInst&&e.datepicker._datepickerShowing&&e.datepicker._shouldFocusInput(t)&&t.input.focus(),t.yearshtml&&(i=t.yearshtml,setTimeout(function(){i===t.yearshtml&&t.yearshtml&&t.dpDiv.find("select.ui-datepicker-year:first").replaceWith(t.yearshtml),i=t.yearshtml=null},0))},_shouldFocusInput:function(e){return e.input&&e.input.is(":visible")&&!e.input.is(":disabled")&&!e.input.is(":focus")},_checkOffset:function(t,i,a){var n=t.dpDiv.outerWidth(),o=t.dpDiv.outerHeight(),s=t.input?t.input.outerWidth():0,r=t.input?t.input.outerHeight():0,l=document.documentElement.clientWidth+(a?0:e(document).scrollLeft()),c=document.documentElement.clientHeight+(a?0:e(document).scrollTop());return i.left-=this._get(t,"isRTL")?n-s:0,i.left-=a&&i.left===t.input.offset().left?e(document).scrollLeft():0,i.top-=a&&i.top===t.input.offset().top+r?e(document).scrollTop():0,i.left-=Math.min(i.left,i.left+n>l&&l>n?Math.abs(i.left+n-l):0),i.top-=Math.min(i.top,i.top+o>c&&c>o?Math.abs(o+r):0),i},_findPos:function(t){for(var i,a=this._getInst(t),n=this._get(a,"isRTL");t&&("hidden"===t.type||1!==t.nodeType||e.expr.filters.hidden(t));)t=t[n?"previousSibling":"nextSibling"];return i=e(t).offset(),[i.left,i.top]},_hideDatepicker:function(t){var i,a,n,o,s=this._curInst;!s||t&&s!==e.data(t,"datepicker")||this._datepickerShowing&&(i=this._get(s,"showAnim"),a=this._get(s,"duration"),n=function(){e.datepicker._tidyDialog(s)},e.effects&&(e.effects.effect[i]||e.effects[i])?s.dpDiv.hide(i,e.datepicker._get(s,"showOptions"),a,n):s.dpDiv["slideDown"===i?"slideUp":"fadeIn"===i?"fadeOut":"hide"](i?a:null,n),i||n(),this._datepickerShowing=!1,o=this._get(s,"onClose"),o&&o.apply(s.input?s.input[0]:null,[s.input?s.input.val():"",s]),this._lastInput=null,this._inDialog&&(this._dialogInput.css({position:"absolute",left:"0",top:"-100px"}),e.blockUI&&(e.unblockUI(),e("body").append(this.dpDiv))),this._inDialog=!1)},_tidyDialog:function(e){e.dpDiv.removeClass(this._dialogClass).unbind(".ui-datepicker-calendar")},_checkExternalClick:function(t){if(e.datepicker._curInst){var i=e(t.target),a=e.datepicker._getInst(i[0]);(i[0].id!==e.datepicker._mainDivId&&0===i.parents("#"+e.datepicker._mainDivId).length&&!i.hasClass(e.datepicker.markerClassName)&&!i.closest("."+e.datepicker._triggerClass).length&&e.datepicker._datepickerShowing&&(!e.datepicker._inDialog||!e.blockUI)||i.hasClass(e.datepicker.markerClassName)&&e.datepicker._curInst!==a)&&e.datepicker._hideDatepicker()}},_adjustDate:function(t,i,a){var n=e(t),o=this._getInst(n[0]);this._isDisabledDatepicker(n[0])||(this._adjustInstDate(o,i+("M"===a?this._get(o,"showCurrentAtPos"):0),a),this._updateDatepicker(o))},_gotoToday:function(t){var i,a=e(t),n=this._getInst(a[0]);this._get(n,"gotoCurrent")&&n.currentDay?(n.selectedDay=n.currentDay,n.drawMonth=n.selectedMonth=n.currentMonth,n.drawYear=n.selectedYear=n.currentYear):(i=new Date,n.selectedDay=i.getDate(),n.drawMonth=n.selectedMonth=i.getMonth(),n.drawYear=n.selectedYear=i.getFullYear()),this._notifyChange(n),this._adjustDate(a)},_selectMonthYear:function(t,i,a){var n=e(t),o=this._getInst(n[0]);o["selected"+("M"===a?"Month":"Year")]=o["draw"+("M"===a?"Month":"Year")]=parseInt(i.options[i.selectedIndex].value,10),this._notifyChange(o),this._adjustDate(n)},_selectDay:function(t,i,a,n){var o,s=e(t);e(n).hasClass(this._unselectableClass)||this._isDisabledDatepicker(s[0])||(o=this._getInst(s[0]),o.selectedDay=o.currentDay=e("a",n).html(),o.selectedMonth=o.currentMonth=i,o.selectedYear=o.currentYear=a,this._selectDate(t,this._formatDate(o,o.currentDay,o.currentMonth,o.currentYear)))},_clearDate:function(t){var i=e(t);this._selectDate(i,"")},_selectDate:function(t,i){var a,n=e(t),o=this._getInst(n[0]);i=null!=i?i:this._formatDate(o),o.input&&o.input.val(i),this._updateAlternate(o),a=this._get(o,"onSelect"),a?a.apply(o.input?o.input[0]:null,[i,o]):o.input&&o.input.trigger("change"),o.inline?this._updateDatepicker(o):(this._hideDatepicker(),this._lastInput=o.input[0],"object"!=typeof o.input[0]&&o.input.focus(),this._lastInput=null)},_updateAlternate:function(t){var i,a,n,o=this._get(t,"altField");o&&(i=this._get(t,"altFormat")||this._get(t,"dateFormat"),a=this._getDate(t),n=this.formatDate(i,a,this._getFormatConfig(t)),e(o).each(function(){e(this).val(n)}))},noWeekends:function(e){var t=e.getDay();return[t>0&&6>t,""]},iso8601Week:function(e){var t,i=new Date(e.getTime());return i.setDate(i.getDate()+4-(i.getDay()||7)),t=i.getTime(),i.setMonth(0),i.setDate(1),Math.floor(Math.round((t-i)/864e5)/7)+1},parseDate:function(t,i,a){if(null==t||null==i)throw"Invalid arguments";if(""===(i="object"==typeof i?""+i:i+""))return null;var n,o,s,r,l=0,c=(a?a.shortYearCutoff:null)||this._defaults.shortYearCutoff,h="string"!=typeof c?c:(new Date).getFullYear()%100+parseInt(c,10),u=(a?a.dayNamesShort:null)||this._defaults.dayNamesShort,d=(a?a.dayNames:null)||this._defaults.dayNames,p=(a?a.monthNamesShort:null)||this._defaults.monthNamesShort,f=(a?a.monthNames:null)||this._defaults.monthNames,m=-1,g=-1,v=-1,b=-1,y=!1,x=function(e){var i=t.length>n+1&&t.charAt(n+1)===e;return i&&n++,i},C=function(e){var t=x(e),a="@"===e?14:"!"===e?20:"y"===e&&t?4:"o"===e?3:2,n="y"===e?a:1,o=RegExp("^\\d{"+n+","+a+"}"),s=i.substring(l).match(o);if(!s)throw"Missing number at position "+l;return l+=s[0].length,parseInt(s[0],10)},w=function(t,a,n){var o=-1,s=e.map(x(t)?n:a,function(e,t){return[[t,e]]}).sort(function(e,t){return-(e[1].length-t[1].length)});if(e.each(s,function(e,t){var a=t[1];return i.substr(l,a.length).toLowerCase()===a.toLowerCase()?(o=t[0],l+=a.length,!1):void 0}),-1!==o)return o+1;throw"Unknown name at position "+l},k=function(){if(i.charAt(l)!==t.charAt(n))throw"Unexpected literal at position "+l;l++};for(n=0;t.length>n;n++)if(y)"'"!==t.charAt(n)||x("'")?k():y=!1;else switch(t.charAt(n)){case"d":v=C("d");break;case"D":w("D",u,d);break;case"o":b=C("o");break;case"m":g=C("m");break;case"M":g=w("M",p,f);break;case"y":m=C("y");break;case"@":r=new Date(C("@")),m=r.getFullYear(),g=r.getMonth()+1,v=r.getDate();break;case"!":r=new Date((C("!")-this._ticksTo1970)/1e4),m=r.getFullYear(),g=r.getMonth()+1,v=r.getDate();break;case"'":x("'")?k():y=!0;break;default:k()}if(i.length>l&&(s=i.substr(l),!/^\s+/.test(s)))throw"Extra/unparsed characters found in date: "+s;if(-1===m?m=(new Date).getFullYear():100>m&&(m+=(new Date).getFullYear()-(new Date).getFullYear()%100+(h>=m?0:-100)),b>-1)for(g=1,v=b;!((o=this._getDaysInMonth(m,g-1))>=v);)g++,v-=o;if(r=this._daylightSavingAdjust(new Date(m,g-1,v)),r.getFullYear()!==m||r.getMonth()+1!==g||r.getDate()!==v)throw"Invalid date";return r},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:864e9*(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925)),formatDate:function(e,t,i){if(!t)return"";var a,n=(i?i.dayNamesShort:null)||this._defaults.dayNamesShort,o=(i?i.dayNames:null)||this._defaults.dayNames,s=(i?i.monthNamesShort:null)||this._defaults.monthNamesShort,r=(i?i.monthNames:null)||this._defaults.monthNames,l=function(t){var i=e.length>a+1&&e.charAt(a+1)===t;return i&&a++,i},c=function(e,t,i){var a=""+t;if(l(e))for(;i>a.length;)a="0"+a;return a},h=function(e,t,i,a){return l(e)?a[t]:i[t]},u="",d=!1;if(t)for(a=0;e.length>a;a++)if(d)"'"!==e.charAt(a)||l("'")?u+=e.charAt(a):d=!1;else switch(e.charAt(a)){case"d":u+=c("d",t.getDate(),2);break;case"D":u+=h("D",t.getDay(),n,o);break;case"o":u+=c("o",Math.round((new Date(t.getFullYear(),t.getMonth(),t.getDate()).getTime()-new Date(t.getFullYear(),0,0).getTime())/864e5),3);break;case"m":u+=c("m",t.getMonth()+1,2);break;case"M":u+=h("M",t.getMonth(),s,r);break;case"y":u+=l("y")?t.getFullYear():(10>t.getYear()%100?"0":"")+t.getYear()%100;break;case"@":u+=t.getTime();break;case"!":u+=1e4*t.getTime()+this._ticksTo1970;break;case"'":l("'")?u+="'":d=!0;break;default:u+=e.charAt(a)}return u},_possibleChars:function(e){var t,i="",a=!1,n=function(i){var a=e.length>t+1&&e.charAt(t+1)===i;return a&&t++,a};for(t=0;e.length>t;t++)if(a)"'"!==e.charAt(t)||n("'")?i+=e.charAt(t):a=!1;else switch(e.charAt(t)){case"d":case"m":case"y":case"@":i+="0123456789";break;case"D":case"M":return null;case"'":n("'")?i+="'":a=!0;break;default:i+=e.charAt(t)}return i},_get:function(e,t){return void 0!==e.settings[t]?e.settings[t]:this._defaults[t]},_setDateFromField:function(e,t){if(e.input.val()!==e.lastVal){var i=this._get(e,"dateFormat"),a=e.lastVal=e.input?e.input.val():null,n=this._getDefaultDate(e),o=n,s=this._getFormatConfig(e);try{o=this.parseDate(i,a,s)||n}catch(e){a=t?"":a}e.selectedDay=o.getDate(),e.drawMonth=e.selectedMonth=o.getMonth(),e.drawYear=e.selectedYear=o.getFullYear(),e.currentDay=a?o.getDate():0,e.currentMonth=a?o.getMonth():0,e.currentYear=a?o.getFullYear():0,this._adjustInstDate(e)}},_getDefaultDate:function(e){return this._restrictMinMax(e,this._determineDate(e,this._get(e,"defaultDate"),new Date))},_determineDate:function(t,i,a){var n=null==i||""===i?a:"string"==typeof i?function(i){try{return e.datepicker.parseDate(e.datepicker._get(t,"dateFormat"),i,e.datepicker._getFormatConfig(t))}catch(e){}
for(var a=(i.toLowerCase().match(/^c/)?e.datepicker._getDate(t):null)||new Date,n=a.getFullYear(),o=a.getMonth(),s=a.getDate(),r=/([+\-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,l=r.exec(i);l;){switch(l[2]||"d"){case"d":case"D":s+=parseInt(l[1],10);break;case"w":case"W":s+=7*parseInt(l[1],10);break;case"m":case"M":o+=parseInt(l[1],10),s=Math.min(s,e.datepicker._getDaysInMonth(n,o));break;case"y":case"Y":n+=parseInt(l[1],10),s=Math.min(s,e.datepicker._getDaysInMonth(n,o))}l=r.exec(i)}return new Date(n,o,s)}(i):"number"==typeof i?isNaN(i)?a:function(e){var t=new Date;return t.setDate(t.getDate()+e),t}(i):new Date(i.getTime());return n=n&&"Invalid Date"==""+n?a:n,n&&(n.setHours(0),n.setMinutes(0),n.setSeconds(0),n.setMilliseconds(0)),this._daylightSavingAdjust(n)},_daylightSavingAdjust:function(e){return e?(e.setHours(e.getHours()>12?e.getHours()+2:0),e):null},_setDate:function(e,t,i){var a=!t,n=e.selectedMonth,o=e.selectedYear,s=this._restrictMinMax(e,this._determineDate(e,t,new Date));e.selectedDay=e.currentDay=s.getDate(),e.drawMonth=e.selectedMonth=e.currentMonth=s.getMonth(),e.drawYear=e.selectedYear=e.currentYear=s.getFullYear(),n===e.selectedMonth&&o===e.selectedYear||i||this._notifyChange(e),this._adjustInstDate(e),e.input&&e.input.val(a?"":this._formatDate(e))},_getDate:function(e){return!e.currentYear||e.input&&""===e.input.val()?null:this._daylightSavingAdjust(new Date(e.currentYear,e.currentMonth,e.currentDay))},_attachHandlers:function(t){var i=this._get(t,"stepMonths"),a="#"+t.id.replace(/\\\\/g,"\\");t.dpDiv.find("[data-handler]").map(function(){var t={prev:function(){e.datepicker._adjustDate(a,-i,"M")},next:function(){e.datepicker._adjustDate(a,+i,"M")},hide:function(){e.datepicker._hideDatepicker()},today:function(){e.datepicker._gotoToday(a)},selectDay:function(){return e.datepicker._selectDay(a,+this.getAttribute("data-month"),+this.getAttribute("data-year"),this),!1},selectMonth:function(){return e.datepicker._selectMonthYear(a,this,"M"),!1},selectYear:function(){return e.datepicker._selectMonthYear(a,this,"Y"),!1}};e(this).bind(this.getAttribute("data-event"),t[this.getAttribute("data-handler")])})},_generateHTML:function(e){var t,i,a,n,o,s,r,l,c,h,u,d,p,f,m,g,v,b,y,x,C,w,k,S,D,T,M,P,$,_,A,I,F,E,L,B,R,O,N,V=new Date,W=this._daylightSavingAdjust(new Date(V.getFullYear(),V.getMonth(),V.getDate())),z=this._get(e,"isRTL"),Y=this._get(e,"showButtonPanel"),H=this._get(e,"hideIfNoPrevNext"),U=this._get(e,"navigationAsDateFormat"),j=this._getNumberOfMonths(e),G=this._get(e,"showCurrentAtPos"),X=this._get(e,"stepMonths"),q=1!==j[0]||1!==j[1],Q=this._daylightSavingAdjust(e.currentDay?new Date(e.currentYear,e.currentMonth,e.currentDay):new Date(9999,9,9)),K=this._getMinMaxDate(e,"min"),J=this._getMinMaxDate(e,"max"),Z=e.drawMonth-G,ee=e.drawYear;if(0>Z&&(Z+=12,ee--),J)for(t=this._daylightSavingAdjust(new Date(J.getFullYear(),J.getMonth()-j[0]*j[1]+1,J.getDate())),t=K&&K>t?K:t;this._daylightSavingAdjust(new Date(ee,Z,1))>t;)0>--Z&&(Z=11,ee--);for(e.drawMonth=Z,e.drawYear=ee,i=this._get(e,"prevText"),i=U?this.formatDate(i,this._daylightSavingAdjust(new Date(ee,Z-X,1)),this._getFormatConfig(e)):i,a=this._canAdjustMonth(e,-1,ee,Z)?"<a class='ui-datepicker-prev ui-corner-all' data-handler='prev' data-event='click' title='"+i+"'><span class='ui-icon ui-icon-circle-triangle-"+(z?"e":"w")+"'>"+i+"</span></a>":H?"":"<a class='ui-datepicker-prev ui-corner-all ui-state-disabled' title='"+i+"'><span class='ui-icon ui-icon-circle-triangle-"+(z?"e":"w")+"'>"+i+"</span></a>",n=this._get(e,"nextText"),n=U?this.formatDate(n,this._daylightSavingAdjust(new Date(ee,Z+X,1)),this._getFormatConfig(e)):n,o=this._canAdjustMonth(e,1,ee,Z)?"<a class='ui-datepicker-next ui-corner-all' data-handler='next' data-event='click' title='"+n+"'><span class='ui-icon ui-icon-circle-triangle-"+(z?"w":"e")+"'>"+n+"</span></a>":H?"":"<a class='ui-datepicker-next ui-corner-all ui-state-disabled' title='"+n+"'><span class='ui-icon ui-icon-circle-triangle-"+(z?"w":"e")+"'>"+n+"</span></a>",s=this._get(e,"currentText"),r=this._get(e,"gotoCurrent")&&e.currentDay?Q:W,s=U?this.formatDate(s,r,this._getFormatConfig(e)):s,l=e.inline?"":"<button type='button' class='ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all' data-handler='hide' data-event='click'>"+this._get(e,"closeText")+"</button>",c=Y?"<div class='ui-datepicker-buttonpane ui-widget-content'>"+(z?l:"")+(this._isInRange(e,r)?"<button type='button' class='ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all' data-handler='today' data-event='click'>"+s+"</button>":"")+(z?"":l)+"</div>":"",h=parseInt(this._get(e,"firstDay"),10),h=isNaN(h)?0:h,u=this._get(e,"showWeek"),d=this._get(e,"dayNames"),p=this._get(e,"dayNamesMin"),f=this._get(e,"monthNames"),m=this._get(e,"monthNamesShort"),g=this._get(e,"beforeShowDay"),v=this._get(e,"showOtherMonths"),b=this._get(e,"selectOtherMonths"),y=this._getDefaultDate(e),x="",w=0;j[0]>w;w++){for(k="",this.maxRows=4,S=0;j[1]>S;S++){if(D=this._daylightSavingAdjust(new Date(ee,Z,e.selectedDay)),T=" ui-corner-all",M="",q){if(M+="<div class='ui-datepicker-group",j[1]>1)switch(S){case 0:M+=" ui-datepicker-group-first",T=" ui-corner-"+(z?"right":"left");break;case j[1]-1:M+=" ui-datepicker-group-last",T=" ui-corner-"+(z?"left":"right");break;default:M+=" ui-datepicker-group-middle",T=""}M+="'>"}for(M+="<div class='ui-datepicker-header ui-widget-header ui-helper-clearfix"+T+"'>"+(/all|left/.test(T)&&0===w?z?o:a:"")+(/all|right/.test(T)&&0===w?z?a:o:"")+this._generateMonthYearHeader(e,Z,ee,K,J,w>0||S>0,f,m)+"</div><table class='ui-datepicker-calendar'><thead><tr>",P=u?"<th class='ui-datepicker-week-col'>"+this._get(e,"weekHeader")+"</th>":"",C=0;7>C;C++)$=(C+h)%7,P+="<th scope='col'"+((C+h+6)%7>=5?" class='ui-datepicker-week-end'":"")+"><span title='"+d[$]+"'>"+p[$]+"</span></th>";for(M+=P+"</tr></thead><tbody>",_=this._getDaysInMonth(ee,Z),ee===e.selectedYear&&Z===e.selectedMonth&&(e.selectedDay=Math.min(e.selectedDay,_)),A=(this._getFirstDayOfMonth(ee,Z)-h+7)%7,I=Math.ceil((A+_)/7),F=q&&this.maxRows>I?this.maxRows:I,this.maxRows=F,E=this._daylightSavingAdjust(new Date(ee,Z,1-A)),L=0;F>L;L++){for(M+="<tr>",B=u?"<td class='ui-datepicker-week-col'>"+this._get(e,"calculateWeek")(E)+"</td>":"",C=0;7>C;C++)R=g?g.apply(e.input?e.input[0]:null,[E]):[!0,""],O=E.getMonth()!==Z,N=O&&!b||!R[0]||K&&K>E||J&&E>J,B+="<td class='"+((C+h+6)%7>=5?" ui-datepicker-week-end":"")+(O?" ui-datepicker-other-month":"")+(E.getTime()===D.getTime()&&Z===e.selectedMonth&&e._keyEvent||y.getTime()===E.getTime()&&y.getTime()===D.getTime()?" "+this._dayOverClass:"")+(N?" "+this._unselectableClass+" ui-state-disabled":"")+(O&&!v?"":" "+R[1]+(E.getTime()===Q.getTime()?" "+this._currentClass:"")+(E.getTime()===W.getTime()?" ui-datepicker-today":""))+"'"+(O&&!v||!R[2]?"":" title='"+R[2].replace(/'/g,"&#39;")+"'")+(N?"":" data-handler='selectDay' data-event='click' data-month='"+E.getMonth()+"' data-year='"+E.getFullYear()+"'")+">"+(O&&!v?"&#xa0;":N?"<span class='ui-state-default'>"+E.getDate()+"</span>":"<a class='ui-state-default"+(E.getTime()===W.getTime()?" ui-state-highlight":"")+(E.getTime()===Q.getTime()?" ui-state-active":"")+(O?" ui-priority-secondary":"")+"' href='#'>"+E.getDate()+"</a>")+"</td>",E.setDate(E.getDate()+1),E=this._daylightSavingAdjust(E);M+=B+"</tr>"}Z++,Z>11&&(Z=0,ee++),M+="</tbody></table>"+(q?"</div>"+(j[0]>0&&S===j[1]-1?"<div class='ui-datepicker-row-break'></div>":""):""),k+=M}x+=k}return x+=c,e._keyEvent=!1,x},_generateMonthYearHeader:function(e,t,i,a,n,o,s,r){var l,c,h,u,d,p,f,m,g=this._get(e,"changeMonth"),v=this._get(e,"changeYear"),b=this._get(e,"showMonthAfterYear"),y="<div class='ui-datepicker-title'>",x="";if(o||!g)x+="<span class='ui-datepicker-month'>"+s[t]+"</span>";else{for(l=a&&a.getFullYear()===i,c=n&&n.getFullYear()===i,x+="<select class='ui-datepicker-month' data-handler='selectMonth' data-event='change'>",h=0;12>h;h++)(!l||h>=a.getMonth())&&(!c||n.getMonth()>=h)&&(x+="<option value='"+h+"'"+(h===t?" selected='selected'":"")+">"+r[h]+"</option>");x+="</select>"}if(b||(y+=x+(!o&&g&&v?"":"&#xa0;")),!e.yearshtml)if(e.yearshtml="",o||!v)y+="<span class='ui-datepicker-year'>"+i+"</span>";else{for(u=this._get(e,"yearRange").split(":"),d=(new Date).getFullYear(),p=function(e){var t=e.match(/c[+\-].*/)?i+parseInt(e.substring(1),10):e.match(/[+\-].*/)?d+parseInt(e,10):parseInt(e,10);return isNaN(t)?d:t},f=p(u[0]),m=Math.max(f,p(u[1]||"")),f=a?Math.max(f,a.getFullYear()):f,m=n?Math.min(m,n.getFullYear()):m,e.yearshtml+="<select class='ui-datepicker-year' data-handler='selectYear' data-event='change'>";m>=f;f++)e.yearshtml+="<option value='"+f+"'"+(f===i?" selected='selected'":"")+">"+f+"</option>";e.yearshtml+="</select>",y+=e.yearshtml,e.yearshtml=null}return y+=this._get(e,"yearSuffix"),b&&(y+=(!o&&g&&v?"":"&#xa0;")+x),y+="</div>"},_adjustInstDate:function(e,t,i){var a=e.drawYear+("Y"===i?t:0),n=e.drawMonth+("M"===i?t:0),o=Math.min(e.selectedDay,this._getDaysInMonth(a,n))+("D"===i?t:0),s=this._restrictMinMax(e,this._daylightSavingAdjust(new Date(a,n,o)));e.selectedDay=s.getDate(),e.drawMonth=e.selectedMonth=s.getMonth(),e.drawYear=e.selectedYear=s.getFullYear(),("M"===i||"Y"===i)&&this._notifyChange(e)},_restrictMinMax:function(e,t){var i=this._getMinMaxDate(e,"min"),a=this._getMinMaxDate(e,"max"),n=i&&i>t?i:t;return a&&n>a?a:n},_notifyChange:function(e){var t=this._get(e,"onChangeMonthYear");t&&t.apply(e.input?e.input[0]:null,[e.selectedYear,e.selectedMonth+1,e])},_getNumberOfMonths:function(e){var t=this._get(e,"numberOfMonths");return null==t?[1,1]:"number"==typeof t?[1,t]:t},_getMinMaxDate:function(e,t){return this._determineDate(e,this._get(e,t+"Date"),null)},_getDaysInMonth:function(e,t){return 32-this._daylightSavingAdjust(new Date(e,t,32)).getDate()},_getFirstDayOfMonth:function(e,t){return new Date(e,t,1).getDay()},_canAdjustMonth:function(e,t,i,a){var n=this._getNumberOfMonths(e),o=this._daylightSavingAdjust(new Date(i,a+(0>t?t:n[0]*n[1]),1));return 0>t&&o.setDate(this._getDaysInMonth(o.getFullYear(),o.getMonth())),this._isInRange(e,o)},_isInRange:function(e,t){var i,a,n=this._getMinMaxDate(e,"min"),o=this._getMinMaxDate(e,"max"),s=null,r=null,l=this._get(e,"yearRange");return l&&(i=l.split(":"),a=(new Date).getFullYear(),s=parseInt(i[0],10),r=parseInt(i[1],10),i[0].match(/[+\-].*/)&&(s+=a),i[1].match(/[+\-].*/)&&(r+=a)),(!n||t.getTime()>=n.getTime())&&(!o||t.getTime()<=o.getTime())&&(!s||t.getFullYear()>=s)&&(!r||r>=t.getFullYear())},_getFormatConfig:function(e){var t=this._get(e,"shortYearCutoff");return t="string"!=typeof t?t:(new Date).getFullYear()%100+parseInt(t,10),{shortYearCutoff:t,dayNamesShort:this._get(e,"dayNamesShort"),dayNames:this._get(e,"dayNames"),monthNamesShort:this._get(e,"monthNamesShort"),monthNames:this._get(e,"monthNames")}},_formatDate:function(e,t,i,a){t||(e.currentDay=e.selectedDay,e.currentMonth=e.selectedMonth,e.currentYear=e.selectedYear);var n=t?"object"==typeof t?t:this._daylightSavingAdjust(new Date(a,i,t)):this._daylightSavingAdjust(new Date(e.currentYear,e.currentMonth,e.currentDay));return this.formatDate(this._get(e,"dateFormat"),n,this._getFormatConfig(e))}}),e.fn.datepicker=function(t){if(!this.length)return this;e.datepicker.initialized||(e(document).mousedown(e.datepicker._checkExternalClick),e.datepicker.initialized=!0),0===e("#"+e.datepicker._mainDivId).length&&e("body").append(e.datepicker.dpDiv);var i=Array.prototype.slice.call(arguments,1);return"string"!=typeof t||"isDisabled"!==t&&"getDate"!==t&&"widget"!==t?"option"===t&&2===arguments.length&&"string"==typeof arguments[1]?e.datepicker["_"+t+"Datepicker"].apply(e.datepicker,[this[0]].concat(i)):this.each(function(){"string"==typeof t?e.datepicker["_"+t+"Datepicker"].apply(e.datepicker,[this].concat(i)):e.datepicker._attachDatepicker(this,t)}):e.datepicker["_"+t+"Datepicker"].apply(e.datepicker,[this[0]].concat(i))},e.datepicker=new n,e.datepicker.initialized=!1,e.datepicker.uuid=(new Date).getTime(),e.datepicker.version="1.11.2",e.datepicker,e.widget("ui.dialog",{version:"1.11.2",options:{appendTo:"body",autoOpen:!0,buttons:[],closeOnEscape:!0,closeText:"Close",dialogClass:"",draggable:!0,hide:null,height:"auto",maxHeight:null,maxWidth:null,minHeight:150,minWidth:150,modal:!1,position:{my:"center",at:"center",of:window,collision:"fit",using:function(t){var i=e(this).css(t).offset().top;0>i&&e(this).css("top",t.top-i)}},resizable:!0,show:null,title:null,width:300,beforeClose:null,close:null,drag:null,dragStart:null,dragStop:null,focus:null,open:null,resize:null,resizeStart:null,resizeStop:null},sizeRelatedOptions:{buttons:!0,height:!0,maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0,width:!0},resizableRelatedOptions:{maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0},_create:function(){this.originalCss={display:this.element[0].style.display,width:this.element[0].style.width,minHeight:this.element[0].style.minHeight,maxHeight:this.element[0].style.maxHeight,height:this.element[0].style.height},this.originalPosition={parent:this.element.parent(),index:this.element.parent().children().index(this.element)},this.originalTitle=this.element.attr("title"),this.options.title=this.options.title||this.originalTitle,this._createWrapper(),this.element.show().removeAttr("title").addClass("ui-dialog-content ui-widget-content").appendTo(this.uiDialog),this._createTitlebar(),this._createButtonPane(),this.options.draggable&&e.fn.draggable&&this._makeDraggable(),this.options.resizable&&e.fn.resizable&&this._makeResizable(),this._isOpen=!1,this._trackFocus()},_init:function(){this.options.autoOpen&&this.open()},_appendTo:function(){var t=this.options.appendTo;return t&&(t.jquery||t.nodeType)?e(t):this.document.find(t||"body").eq(0)},_destroy:function(){var e,t=this.originalPosition;this._destroyOverlay(),this.element.removeUniqueId().removeClass("ui-dialog-content ui-widget-content").css(this.originalCss).detach(),this.uiDialog.stop(!0,!0).remove(),this.originalTitle&&this.element.attr("title",this.originalTitle),e=t.parent.children().eq(t.index),e.length&&e[0]!==this.element[0]?e.before(this.element):t.parent.append(this.element)},widget:function(){return this.uiDialog},disable:e.noop,enable:e.noop,close:function(t){var i,a=this;if(this._isOpen&&!1!==this._trigger("beforeClose",t)){if(this._isOpen=!1,this._focusedElement=null,this._destroyOverlay(),this._untrackInstance(),!this.opener.filter(":focusable").focus().length)try{(i=this.document[0].activeElement)&&"body"!==i.nodeName.toLowerCase()&&e(i).blur()}catch(e){}this._hide(this.uiDialog,this.options.hide,function(){a._trigger("close",t)})}},isOpen:function(){return this._isOpen},moveToTop:function(){this._moveToTop()},_moveToTop:function(t,i){var a=!1,n=this.uiDialog.siblings(".ui-front:visible").map(function(){return+e(this).css("z-index")}).get(),o=Math.max.apply(null,n);return o>=+this.uiDialog.css("z-index")&&(this.uiDialog.css("z-index",o+1),a=!0),a&&!i&&this._trigger("focus",t),a},open:function(){var t=this;return this._isOpen?void(this._moveToTop()&&this._focusTabbable()):(this._isOpen=!0,this.opener=e(this.document[0].activeElement),this._size(),this._position(),this._createOverlay(),this._moveToTop(null,!0),this.overlay&&this.overlay.css("z-index",this.uiDialog.css("z-index")-1),this._show(this.uiDialog,this.options.show,function(){t._focusTabbable(),t._trigger("focus")}),this._makeFocusTarget(),void this._trigger("open"))},_focusTabbable:function(){var e=this._focusedElement;e||(e=this.element.find("[autofocus]")),e.length||(e=this.element.find(":tabbable")),e.length||(e=this.uiDialogButtonPane.find(":tabbable")),e.length||(e=this.uiDialogTitlebarClose.filter(":tabbable")),e.length||(e=this.uiDialog),e.eq(0).focus()},_keepFocus:function(t){function i(){var t=this.document[0].activeElement;this.uiDialog[0]===t||e.contains(this.uiDialog[0],t)||this._focusTabbable()}t.preventDefault(),i.call(this),this._delay(i)},_createWrapper:function(){this.uiDialog=e("<div>").addClass("ui-dialog ui-widget ui-widget-content ui-corner-all ui-front "+this.options.dialogClass).hide().attr({tabIndex:-1,role:"dialog"}).appendTo(this._appendTo()),this._on(this.uiDialog,{keydown:function(t){if(this.options.closeOnEscape&&!t.isDefaultPrevented()&&t.keyCode&&t.keyCode===e.ui.keyCode.ESCAPE)return t.preventDefault(),void this.close(t);if(t.keyCode===e.ui.keyCode.TAB&&!t.isDefaultPrevented()){var i=this.uiDialog.find(":tabbable"),a=i.filter(":first"),n=i.filter(":last");t.target!==n[0]&&t.target!==this.uiDialog[0]||t.shiftKey?t.target!==a[0]&&t.target!==this.uiDialog[0]||!t.shiftKey||(this._delay(function(){n.focus()}),t.preventDefault()):(this._delay(function(){a.focus()}),t.preventDefault())}},mousedown:function(e){this._moveToTop(e)&&this._focusTabbable()}}),this.element.find("[aria-describedby]").length||this.uiDialog.attr({"aria-describedby":this.element.uniqueId().attr("id")})},_createTitlebar:function(){var t;this.uiDialogTitlebar=e("<div>").addClass("ui-dialog-titlebar ui-widget-header ui-corner-all ui-helper-clearfix").prependTo(this.uiDialog),this._on(this.uiDialogTitlebar,{mousedown:function(t){e(t.target).closest(".ui-dialog-titlebar-close")||this.uiDialog.focus()}}),this.uiDialogTitlebarClose=e("<button type='button'></button>").button({label:this.options.closeText,icons:{primary:"ui-icon-closethick"},text:!1}).addClass("ui-dialog-titlebar-close").appendTo(this.uiDialogTitlebar),this._on(this.uiDialogTitlebarClose,{click:function(e){e.preventDefault(),this.close(e)}}),t=e("<span>").uniqueId().addClass("ui-dialog-title").prependTo(this.uiDialogTitlebar),this._title(t),this.uiDialog.attr({"aria-labelledby":t.attr("id")})},_title:function(e){this.options.title||e.html("&#160;"),e.text(this.options.title)},_createButtonPane:function(){this.uiDialogButtonPane=e("<div>").addClass("ui-dialog-buttonpane ui-widget-content ui-helper-clearfix"),this.uiButtonSet=e("<div>").addClass("ui-dialog-buttonset").appendTo(this.uiDialogButtonPane),this._createButtons()},_createButtons:function(){var t=this,i=this.options.buttons;return this.uiDialogButtonPane.remove(),this.uiButtonSet.empty(),e.isEmptyObject(i)||e.isArray(i)&&!i.length?void this.uiDialog.removeClass("ui-dialog-buttons"):(e.each(i,function(i,a){var n,o;a=e.isFunction(a)?{click:a,text:i}:a,a=e.extend({type:"button"},a),n=a.click,a.click=function(){n.apply(t.element[0],arguments)},o={icons:a.icons,text:a.showText},delete a.icons,delete a.showText,e("<button></button>",a).button(o).appendTo(t.uiButtonSet)}),this.uiDialog.addClass("ui-dialog-buttons"),void this.uiDialogButtonPane.appendTo(this.uiDialog))},_makeDraggable:function(){function t(e){return{position:e.position,offset:e.offset}}var i=this,a=this.options;this.uiDialog.draggable({cancel:".ui-dialog-content, .ui-dialog-titlebar-close",handle:".ui-dialog-titlebar",containment:"document",start:function(a,n){e(this).addClass("ui-dialog-dragging"),i._blockFrames(),i._trigger("dragStart",a,t(n))},drag:function(e,a){i._trigger("drag",e,t(a))},stop:function(n,o){var s=o.offset.left-i.document.scrollLeft(),r=o.offset.top-i.document.scrollTop();a.position={my:"left top",at:"left"+(s>=0?"+":"")+s+" top"+(r>=0?"+":"")+r,of:i.window},e(this).removeClass("ui-dialog-dragging"),i._unblockFrames(),i._trigger("dragStop",n,t(o))}})},_makeResizable:function(){function t(e){return{originalPosition:e.originalPosition,originalSize:e.originalSize,position:e.position,size:e.size}}var i=this,a=this.options,n=a.resizable,o=this.uiDialog.css("position"),s="string"==typeof n?n:"n,e,s,w,se,sw,ne,nw";this.uiDialog.resizable({cancel:".ui-dialog-content",containment:"document",alsoResize:this.element,maxWidth:a.maxWidth,maxHeight:a.maxHeight,minWidth:a.minWidth,minHeight:this._minHeight(),handles:s,start:function(a,n){e(this).addClass("ui-dialog-resizing"),i._blockFrames(),i._trigger("resizeStart",a,t(n))},resize:function(e,a){i._trigger("resize",e,t(a))},stop:function(n,o){var s=i.uiDialog.offset(),r=s.left-i.document.scrollLeft(),l=s.top-i.document.scrollTop();a.height=i.uiDialog.height(),a.width=i.uiDialog.width(),a.position={my:"left top",at:"left"+(r>=0?"+":"")+r+" top"+(l>=0?"+":"")+l,of:i.window},e(this).removeClass("ui-dialog-resizing"),i._unblockFrames(),i._trigger("resizeStop",n,t(o))}}).css("position",o)},_trackFocus:function(){this._on(this.widget(),{focusin:function(t){this._makeFocusTarget(),this._focusedElement=e(t.target)}})},_makeFocusTarget:function(){this._untrackInstance(),this._trackingInstances().unshift(this)},_untrackInstance:function(){var t=this._trackingInstances(),i=e.inArray(this,t);-1!==i&&t.splice(i,1)},_trackingInstances:function(){var e=this.document.data("ui-dialog-instances");return e||(e=[],this.document.data("ui-dialog-instances",e)),e},_minHeight:function(){var e=this.options;return"auto"===e.height?e.minHeight:Math.min(e.minHeight,e.height)},_position:function(){var e=this.uiDialog.is(":visible");e||this.uiDialog.show(),this.uiDialog.position(this.options.position),e||this.uiDialog.hide()},_setOptions:function(t){var i=this,a=!1,n={};e.each(t,function(e,t){i._setOption(e,t),e in i.sizeRelatedOptions&&(a=!0),e in i.resizableRelatedOptions&&(n[e]=t)}),a&&(this._size(),this._position()),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option",n)},_setOption:function(e,t){var i,a,n=this.uiDialog;"dialogClass"===e&&n.removeClass(this.options.dialogClass).addClass(t),"disabled"!==e&&(this._super(e,t),"appendTo"===e&&this.uiDialog.appendTo(this._appendTo()),"buttons"===e&&this._createButtons(),"closeText"===e&&this.uiDialogTitlebarClose.button({label:""+t}),"draggable"===e&&(i=n.is(":data(ui-draggable)"),i&&!t&&n.draggable("destroy"),!i&&t&&this._makeDraggable()),"position"===e&&this._position(),"resizable"===e&&(a=n.is(":data(ui-resizable)"),a&&!t&&n.resizable("destroy"),a&&"string"==typeof t&&n.resizable("option","handles",t),a||!1===t||this._makeResizable()),"title"===e&&this._title(this.uiDialogTitlebar.find(".ui-dialog-title")))},_size:function(){var e,t,i,a=this.options;this.element.show().css({width:"auto",minHeight:0,maxHeight:"none",height:0}),a.minWidth>a.width&&(a.width=a.minWidth),e=this.uiDialog.css({height:"auto",width:a.width}).outerHeight(),t=Math.max(0,a.minHeight-e),i="number"==typeof a.maxHeight?Math.max(0,a.maxHeight-e):"none","auto"===a.height?this.element.css({minHeight:t,maxHeight:i,height:"auto"}):this.element.height(Math.max(0,a.height-e)),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option","minHeight",this._minHeight())},_blockFrames:function(){this.iframeBlocks=this.document.find("iframe").map(function(){var t=e(this);return e("<div>").css({position:"absolute",width:t.outerWidth(),height:t.outerHeight()}).appendTo(t.parent()).offset(t.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_allowInteraction:function(t){return!!e(t.target).closest(".ui-dialog").length||!!e(t.target).closest(".ui-datepicker").length},_createOverlay:function(){if(this.options.modal){var t=!0;this._delay(function(){t=!1}),this.document.data("ui-dialog-overlays")||this._on(this.document,{focusin:function(e){t||this._allowInteraction(e)||(e.preventDefault(),this._trackingInstances()[0]._focusTabbable())}}),this.overlay=e("<div>").addClass("ui-widget-overlay ui-front").appendTo(this._appendTo()),this._on(this.overlay,{mousedown:"_keepFocus"}),this.document.data("ui-dialog-overlays",(this.document.data("ui-dialog-overlays")||0)+1)}},_destroyOverlay:function(){if(this.options.modal&&this.overlay){var e=this.document.data("ui-dialog-overlays")-1;e?this.document.data("ui-dialog-overlays",e):this.document.unbind("focusin").removeData("ui-dialog-overlays"),this.overlay.remove(),this.overlay=null}}}),e.widget("ui.progressbar",{version:"1.11.2",options:{max:100,value:0,change:null,complete:null},min:0,_create:function(){this.oldValue=this.options.value=this._constrainedValue(),this.element.addClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").attr({role:"progressbar","aria-valuemin":this.min}),this.valueDiv=e("<div class='ui-progressbar-value ui-widget-header ui-corner-left'></div>").appendTo(this.element),this._refreshValue()},_destroy:function(){this.element.removeClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow"),this.valueDiv.remove()},value:function(e){return void 0===e?this.options.value:(this.options.value=this._constrainedValue(e),void this._refreshValue())},_constrainedValue:function(e){return void 0===e&&(e=this.options.value),this.indeterminate=!1===e,"number"!=typeof e&&(e=0),!this.indeterminate&&Math.min(this.options.max,Math.max(this.min,e))},_setOptions:function(e){var t=e.value;delete e.value,this._super(e),this.options.value=this._constrainedValue(t),this._refreshValue()},_setOption:function(e,t){"max"===e&&(t=Math.max(this.min,t)),"disabled"===e&&this.element.toggleClass("ui-state-disabled",!!t).attr("aria-disabled",t),this._super(e,t)},_percentage:function(){return this.indeterminate?100:100*(this.options.value-this.min)/(this.options.max-this.min)},_refreshValue:function(){var t=this.options.value,i=this._percentage();this.valueDiv.toggle(this.indeterminate||t>this.min).toggleClass("ui-corner-right",t===this.options.max).width(i.toFixed(0)+"%"),this.element.toggleClass("ui-progressbar-indeterminate",this.indeterminate),this.indeterminate?(this.element.removeAttr("aria-valuenow"),this.overlayDiv||(this.overlayDiv=e("<div class='ui-progressbar-overlay'></div>").appendTo(this.valueDiv))):(this.element.attr({"aria-valuemax":this.options.max,"aria-valuenow":t}),this.overlayDiv&&(this.overlayDiv.remove(),this.overlayDiv=null)),this.oldValue!==t&&(this.oldValue=t,this._trigger("change")),t===this.options.max&&this._trigger("complete")}}),e.widget("ui.selectmenu",{version:"1.11.2",defaultElement:"<select>",options:{appendTo:null,disabled:null,icons:{button:"ui-icon-triangle-1-s"},position:{my:"left top",at:"left bottom",collision:"none"},width:null,change:null,close:null,focus:null,open:null,select:null},_create:function(){var e=this.element.uniqueId().attr("id");this.ids={element:e,button:e+"-button",menu:e+"-menu"},this._drawButton(),this._drawMenu(),this.options.disabled&&this.disable()},_drawButton:function(){var t=this,i=this.element.attr("tabindex");this.label=e("label[for='"+this.ids.element+"']").attr("for",this.ids.button),this._on(this.label,{click:function(e){this.button.focus(),e.preventDefault()}}),this.element.hide(),this.button=e("<span>",{class:"ui-selectmenu-button ui-widget ui-state-default ui-corner-all",tabindex:i||this.options.disabled?-1:0,id:this.ids.button,role:"combobox","aria-expanded":"false","aria-autocomplete":"list","aria-owns":this.ids.menu,"aria-haspopup":"true"}).insertAfter(this.element),e("<span>",{class:"ui-icon "+this.options.icons.button}).prependTo(this.button),this.buttonText=e("<span>",{class:"ui-selectmenu-text"}).appendTo(this.button),this._setText(this.buttonText,this.element.find("option:selected").text()),this._resizeButton(),this._on(this.button,this._buttonEvents),this.button.one("focusin",function(){t.menuItems||t._refreshMenu()}),this._hoverable(this.button),this._focusable(this.button)},_drawMenu:function(){var t=this;this.menu=e("<ul>",{"aria-hidden":"true","aria-labelledby":this.ids.button,id:this.ids.menu}),this.menuWrap=e("<div>",{class:"ui-selectmenu-menu ui-front"}).append(this.menu).appendTo(this._appendTo()),this.menuInstance=this.menu.menu({role:"listbox",select:function(e,i){e.preventDefault(),t._setSelection(),t._select(i.item.data("ui-selectmenu-item"),e)},focus:function(e,i){var a=i.item.data("ui-selectmenu-item");null!=t.focusIndex&&a.index!==t.focusIndex&&(t._trigger("focus",e,{item:a}),t.isOpen||t._select(a,e)),t.focusIndex=a.index,t.button.attr("aria-activedescendant",t.menuItems.eq(a.index).attr("id"))}}).menu("instance"),this.menu.addClass("ui-corner-bottom").removeClass("ui-corner-all"),this.menuInstance._off(this.menu,"mouseleave"),this.menuInstance._closeOnDocumentClick=function(){return!1},this.menuInstance._isDivider=function(){return!1}},refresh:function(){this._refreshMenu(),this._setText(this.buttonText,this._getSelectedItem().text()),this.options.width||this._resizeButton()},_refreshMenu:function(){this.menu.empty();var e,t=this.element.find("option");t.length&&(this._parseOptions(t),this._renderMenu(this.menu,this.items),this.menuInstance.refresh(),this.menuItems=this.menu.find("li").not(".ui-selectmenu-optgroup"),e=this._getSelectedItem(),this.menuInstance.focus(null,e),this._setAria(e.data("ui-selectmenu-item")),this._setOption("disabled",this.element.prop("disabled")))},open:function(e){this.options.disabled||(this.menuItems?(this.menu.find(".ui-state-focus").removeClass("ui-state-focus"),this.menuInstance.focus(null,this._getSelectedItem())):this._refreshMenu(),this.isOpen=!0,this._toggleAttr(),this._resizeMenu(),this._position(),this._on(this.document,this._documentClick),this._trigger("open",e))},_position:function(){this.menuWrap.position(e.extend({of:this.button},this.options.position))},close:function(e){this.isOpen&&(this.isOpen=!1,this._toggleAttr(),this.range=null,this._off(this.document),this._trigger("close",e))},widget:function(){return this.button},menuWidget:function(){return this.menu},_renderMenu:function(t,i){var a=this,n="";e.each(i,function(i,o){o.optgroup!==n&&(e("<li>",{class:"ui-selectmenu-optgroup ui-menu-divider"+(o.element.parent("optgroup").prop("disabled")?" ui-state-disabled":""),text:o.optgroup}).appendTo(t),n=o.optgroup),a._renderItemData(t,o)})},_renderItemData:function(e,t){return this._renderItem(e,t).data("ui-selectmenu-item",t)},_renderItem:function(t,i){var a=e("<li>");return i.disabled&&a.addClass("ui-state-disabled"),this._setText(a,i.label),a.appendTo(t)},_setText:function(e,t){t?e.text(t):e.html("&#160;")},_move:function(e,t){var i,a,n=".ui-menu-item";this.isOpen?i=this.menuItems.eq(this.focusIndex):(i=this.menuItems.eq(this.element[0].selectedIndex),n+=":not(.ui-state-disabled)"),a="first"===e||"last"===e?i["first"===e?"prevAll":"nextAll"](n).eq(-1):i[e+"All"](n).eq(0),a.length&&this.menuInstance.focus(t,a)},_getSelectedItem:function(){return this.menuItems.eq(this.element[0].selectedIndex)},_toggle:function(e){this[this.isOpen?"close":"open"](e)},_setSelection:function(){var e;this.range&&(window.getSelection?(e=window.getSelection(),e.removeAllRanges(),e.addRange(this.range)):this.range.select(),this.button.focus())},_documentClick:{mousedown:function(t){this.isOpen&&(e(t.target).closest(".ui-selectmenu-menu, #"+this.ids.button).length||this.close(t))}},_buttonEvents:{mousedown:function(){var e;window.getSelection?(e=window.getSelection(),e.rangeCount&&(this.range=e.getRangeAt(0))):this.range=document.selection.createRange()},click:function(e){this._setSelection(),this._toggle(e)},keydown:function(t){var i=!0;switch(t.keyCode){case e.ui.keyCode.TAB:case e.ui.keyCode.ESCAPE:this.close(t),i=!1;break;case e.ui.keyCode.ENTER:this.isOpen&&this._selectFocusedItem(t);break;case e.ui.keyCode.UP:t.altKey?this._toggle(t):this._move("prev",t);break;case e.ui.keyCode.DOWN:t.altKey?this._toggle(t):this._move("next",t);break;case e.ui.keyCode.SPACE:this.isOpen?this._selectFocusedItem(t):this._toggle(t);break;case e.ui.keyCode.LEFT:this._move("prev",t);break;case e.ui.keyCode.RIGHT:this._move("next",t);break;case e.ui.keyCode.HOME:case e.ui.keyCode.PAGE_UP:this._move("first",t);break;case e.ui.keyCode.END:case e.ui.keyCode.PAGE_DOWN:this._move("last",t);break;default:this.menu.trigger(t),i=!1}i&&t.preventDefault()}},_selectFocusedItem:function(e){var t=this.menuItems.eq(this.focusIndex);t.hasClass("ui-state-disabled")||this._select(t.data("ui-selectmenu-item"),e)},_select:function(e,t){var i=this.element[0].selectedIndex;this.element[0].selectedIndex=e.index,this._setText(this.buttonText,e.label),this._setAria(e),
this._trigger("select",t,{item:e}),e.index!==i&&this._trigger("change",t,{item:e}),this.close(t)},_setAria:function(e){var t=this.menuItems.eq(e.index).attr("id");this.button.attr({"aria-labelledby":t,"aria-activedescendant":t}),this.menu.attr("aria-activedescendant",t)},_setOption:function(e,t){"icons"===e&&this.button.find("span.ui-icon").removeClass(this.options.icons.button).addClass(t.button),this._super(e,t),"appendTo"===e&&this.menuWrap.appendTo(this._appendTo()),"disabled"===e&&(this.menuInstance.option("disabled",t),this.button.toggleClass("ui-state-disabled",t).attr("aria-disabled",t),this.element.prop("disabled",t),t?(this.button.attr("tabindex",-1),this.close()):this.button.attr("tabindex",0)),"width"===e&&this._resizeButton()},_appendTo:function(){var t=this.options.appendTo;return t&&(t=t.jquery||t.nodeType?e(t):this.document.find(t).eq(0)),t&&t[0]||(t=this.element.closest(".ui-front")),t.length||(t=this.document[0].body),t},_toggleAttr:function(){this.button.toggleClass("ui-corner-top",this.isOpen).toggleClass("ui-corner-all",!this.isOpen).attr("aria-expanded",this.isOpen),this.menuWrap.toggleClass("ui-selectmenu-open",this.isOpen),this.menu.attr("aria-hidden",!this.isOpen)},_resizeButton:function(){var e=this.options.width;e||(e=this.element.show().outerWidth(),this.element.hide()),this.button.outerWidth(e)},_resizeMenu:function(){this.menu.outerWidth(Math.max(this.button.outerWidth(),this.menu.width("").outerWidth()+1))},_getCreateOptions:function(){return{disabled:this.element.prop("disabled")}},_parseOptions:function(t){var i=[];t.each(function(t,a){var n=e(a),o=n.parent("optgroup");i.push({element:n,index:t,value:n.attr("value"),label:n.text(),optgroup:o.attr("label")||"",disabled:o.prop("disabled")||n.prop("disabled")})}),this.items=i},_destroy:function(){this.menuWrap.remove(),this.button.remove(),this.element.show(),this.element.removeUniqueId(),this.label.attr("for",this.ids.element)}}),e.widget("ui.slider",e.ui.mouse,{version:"1.11.2",widgetEventPrefix:"slide",options:{animate:!1,distance:0,max:100,min:0,orientation:"horizontal",range:!1,step:1,value:0,values:null,change:null,slide:null,start:null,stop:null},numPages:5,_create:function(){this._keySliding=!1,this._mouseSliding=!1,this._animateOff=!0,this._handleIndex=null,this._detectOrientation(),this._mouseInit(),this._calculateNewMax(),this.element.addClass("ui-slider ui-slider-"+this.orientation+" ui-widget ui-widget-content ui-corner-all"),this._refresh(),this._setOption("disabled",this.options.disabled),this._animateOff=!1},_refresh:function(){this._createRange(),this._createHandles(),this._setupEvents(),this._refreshValue()},_createHandles:function(){var t,i,a=this.options,n=this.element.find(".ui-slider-handle").addClass("ui-state-default ui-corner-all"),o=[];for(i=a.values&&a.values.length||1,n.length>i&&(n.slice(i).remove(),n=n.slice(0,i)),t=n.length;i>t;t++)o.push("<span class='ui-slider-handle ui-state-default ui-corner-all' tabindex='0'></span>");this.handles=n.add(e(o.join("")).appendTo(this.element)),this.handle=this.handles.eq(0),this.handles.each(function(t){e(this).data("ui-slider-handle-index",t)})},_createRange:function(){var t=this.options,i="";t.range?(!0===t.range&&(t.values?t.values.length&&2!==t.values.length?t.values=[t.values[0],t.values[0]]:e.isArray(t.values)&&(t.values=t.values.slice(0)):t.values=[this._valueMin(),this._valueMin()]),this.range&&this.range.length?this.range.removeClass("ui-slider-range-min ui-slider-range-max").css({left:"",bottom:""}):(this.range=e("<div></div>").appendTo(this.element),i="ui-slider-range ui-widget-header ui-corner-all"),this.range.addClass(i+("min"===t.range||"max"===t.range?" ui-slider-range-"+t.range:""))):(this.range&&this.range.remove(),this.range=null)},_setupEvents:function(){this._off(this.handles),this._on(this.handles,this._handleEvents),this._hoverable(this.handles),this._focusable(this.handles)},_destroy:function(){this.handles.remove(),this.range&&this.range.remove(),this.element.removeClass("ui-slider ui-slider-horizontal ui-slider-vertical ui-widget ui-widget-content ui-corner-all"),this._mouseDestroy()},_mouseCapture:function(t){var i,a,n,o,s,r,l,c=this,h=this.options;return!h.disabled&&(this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()},this.elementOffset=this.element.offset(),i={x:t.pageX,y:t.pageY},a=this._normValueFromMouse(i),n=this._valueMax()-this._valueMin()+1,this.handles.each(function(t){var i=Math.abs(a-c.values(t));(n>i||n===i&&(t===c._lastChangedValue||c.values(t)===h.min))&&(n=i,o=e(this),s=t)}),!1!==this._start(t,s)&&(this._mouseSliding=!0,this._handleIndex=s,o.addClass("ui-state-active").focus(),r=o.offset(),l=!e(t.target).parents().addBack().is(".ui-slider-handle"),this._clickOffset=l?{left:0,top:0}:{left:t.pageX-r.left-o.width()/2,top:t.pageY-r.top-o.height()/2-(parseInt(o.css("borderTopWidth"),10)||0)-(parseInt(o.css("borderBottomWidth"),10)||0)+(parseInt(o.css("marginTop"),10)||0)},this.handles.hasClass("ui-state-hover")||this._slide(t,s,a),this._animateOff=!0,!0))},_mouseStart:function(){return!0},_mouseDrag:function(e){var t={x:e.pageX,y:e.pageY},i=this._normValueFromMouse(t);return this._slide(e,this._handleIndex,i),!1},_mouseStop:function(e){return this.handles.removeClass("ui-state-active"),this._mouseSliding=!1,this._stop(e,this._handleIndex),this._change(e,this._handleIndex),this._handleIndex=null,this._clickOffset=null,this._animateOff=!1,!1},_detectOrientation:function(){this.orientation="vertical"===this.options.orientation?"vertical":"horizontal"},_normValueFromMouse:function(e){var t,i,a,n,o;return"horizontal"===this.orientation?(t=this.elementSize.width,i=e.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)):(t=this.elementSize.height,i=e.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)),a=i/t,a>1&&(a=1),0>a&&(a=0),"vertical"===this.orientation&&(a=1-a),n=this._valueMax()-this._valueMin(),o=this._valueMin()+a*n,this._trimAlignValue(o)},_start:function(e,t){var i={handle:this.handles[t],value:this.value()};return this.options.values&&this.options.values.length&&(i.value=this.values(t),i.values=this.values()),this._trigger("start",e,i)},_slide:function(e,t,i){var a,n,o;this.options.values&&this.options.values.length?(a=this.values(t?0:1),2===this.options.values.length&&!0===this.options.range&&(0===t&&i>a||1===t&&a>i)&&(i=a),i!==this.values(t)&&(n=this.values(),n[t]=i,o=this._trigger("slide",e,{handle:this.handles[t],value:i,values:n}),a=this.values(t?0:1),!1!==o&&this.values(t,i))):i!==this.value()&&!1!==(o=this._trigger("slide",e,{handle:this.handles[t],value:i}))&&this.value(i)},_stop:function(e,t){var i={handle:this.handles[t],value:this.value()};this.options.values&&this.options.values.length&&(i.value=this.values(t),i.values=this.values()),this._trigger("stop",e,i)},_change:function(e,t){if(!this._keySliding&&!this._mouseSliding){var i={handle:this.handles[t],value:this.value()};this.options.values&&this.options.values.length&&(i.value=this.values(t),i.values=this.values()),this._lastChangedValue=t,this._trigger("change",e,i)}},value:function(e){return arguments.length?(this.options.value=this._trimAlignValue(e),this._refreshValue(),void this._change(null,0)):this._value()},values:function(t,i){var a,n,o;if(arguments.length>1)return this.options.values[t]=this._trimAlignValue(i),this._refreshValue(),void this._change(null,t);if(!arguments.length)return this._values();if(!e.isArray(arguments[0]))return this.options.values&&this.options.values.length?this._values(t):this.value();for(a=this.options.values,n=arguments[0],o=0;a.length>o;o+=1)a[o]=this._trimAlignValue(n[o]),this._change(null,o);this._refreshValue()},_setOption:function(t,i){var a,n=0;switch("range"===t&&!0===this.options.range&&("min"===i?(this.options.value=this._values(0),this.options.values=null):"max"===i&&(this.options.value=this._values(this.options.values.length-1),this.options.values=null)),e.isArray(this.options.values)&&(n=this.options.values.length),"disabled"===t&&this.element.toggleClass("ui-state-disabled",!!i),this._super(t,i),t){case"orientation":this._detectOrientation(),this.element.removeClass("ui-slider-horizontal ui-slider-vertical").addClass("ui-slider-"+this.orientation),this._refreshValue(),this.handles.css("horizontal"===i?"bottom":"left","");break;case"value":this._animateOff=!0,this._refreshValue(),this._change(null,0),this._animateOff=!1;break;case"values":for(this._animateOff=!0,this._refreshValue(),a=0;n>a;a+=1)this._change(null,a);this._animateOff=!1;break;case"step":case"min":case"max":this._animateOff=!0,this._calculateNewMax(),this._refreshValue(),this._animateOff=!1;break;case"range":this._animateOff=!0,this._refresh(),this._animateOff=!1}},_value:function(){var e=this.options.value;return e=this._trimAlignValue(e)},_values:function(e){var t,i,a;if(arguments.length)return t=this.options.values[e],t=this._trimAlignValue(t);if(this.options.values&&this.options.values.length){for(i=this.options.values.slice(),a=0;i.length>a;a+=1)i[a]=this._trimAlignValue(i[a]);return i}return[]},_trimAlignValue:function(e){if(this._valueMin()>=e)return this._valueMin();if(e>=this._valueMax())return this._valueMax();var t=this.options.step>0?this.options.step:1,i=(e-this._valueMin())%t,a=e-i;return 2*Math.abs(i)>=t&&(a+=i>0?t:-t),parseFloat(a.toFixed(5))},_calculateNewMax:function(){var e=(this.options.max-this._valueMin())%this.options.step;this.max=this.options.max-e},_valueMin:function(){return this.options.min},_valueMax:function(){return this.max},_refreshValue:function(){var t,i,a,n,o,s=this.options.range,r=this.options,l=this,c=!this._animateOff&&r.animate,h={};this.options.values&&this.options.values.length?this.handles.each(function(a){i=(l.values(a)-l._valueMin())/(l._valueMax()-l._valueMin())*100,h["horizontal"===l.orientation?"left":"bottom"]=i+"%",e(this).stop(1,1)[c?"animate":"css"](h,r.animate),!0===l.options.range&&("horizontal"===l.orientation?(0===a&&l.range.stop(1,1)[c?"animate":"css"]({left:i+"%"},r.animate),1===a&&l.range[c?"animate":"css"]({width:i-t+"%"},{queue:!1,duration:r.animate})):(0===a&&l.range.stop(1,1)[c?"animate":"css"]({bottom:i+"%"},r.animate),1===a&&l.range[c?"animate":"css"]({height:i-t+"%"},{queue:!1,duration:r.animate}))),t=i}):(a=this.value(),n=this._valueMin(),o=this._valueMax(),i=o!==n?(a-n)/(o-n)*100:0,h["horizontal"===this.orientation?"left":"bottom"]=i+"%",this.handle.stop(1,1)[c?"animate":"css"](h,r.animate),"min"===s&&"horizontal"===this.orientation&&this.range.stop(1,1)[c?"animate":"css"]({width:i+"%"},r.animate),"max"===s&&"horizontal"===this.orientation&&this.range[c?"animate":"css"]({width:100-i+"%"},{queue:!1,duration:r.animate}),"min"===s&&"vertical"===this.orientation&&this.range.stop(1,1)[c?"animate":"css"]({height:i+"%"},r.animate),"max"===s&&"vertical"===this.orientation&&this.range[c?"animate":"css"]({height:100-i+"%"},{queue:!1,duration:r.animate}))},_handleEvents:{keydown:function(t){var i,a,n,o=e(t.target).data("ui-slider-handle-index");switch(t.keyCode){case e.ui.keyCode.HOME:case e.ui.keyCode.END:case e.ui.keyCode.PAGE_UP:case e.ui.keyCode.PAGE_DOWN:case e.ui.keyCode.UP:case e.ui.keyCode.RIGHT:case e.ui.keyCode.DOWN:case e.ui.keyCode.LEFT:if(t.preventDefault(),!this._keySliding&&(this._keySliding=!0,e(t.target).addClass("ui-state-active"),!1===this._start(t,o)))return}switch(n=this.options.step,i=a=this.options.values&&this.options.values.length?this.values(o):this.value(),t.keyCode){case e.ui.keyCode.HOME:a=this._valueMin();break;case e.ui.keyCode.END:a=this._valueMax();break;case e.ui.keyCode.PAGE_UP:a=this._trimAlignValue(i+(this._valueMax()-this._valueMin())/this.numPages);break;case e.ui.keyCode.PAGE_DOWN:a=this._trimAlignValue(i-(this._valueMax()-this._valueMin())/this.numPages);break;case e.ui.keyCode.UP:case e.ui.keyCode.RIGHT:if(i===this._valueMax())return;a=this._trimAlignValue(i+n);break;case e.ui.keyCode.DOWN:case e.ui.keyCode.LEFT:if(i===this._valueMin())return;a=this._trimAlignValue(i-n)}this._slide(t,o,a)},keyup:function(t){var i=e(t.target).data("ui-slider-handle-index");this._keySliding&&(this._keySliding=!1,this._stop(t,i),this._change(t,i),e(t.target).removeClass("ui-state-active"))}}}),e.widget("ui.spinner",{version:"1.11.2",defaultElement:"<input>",widgetEventPrefix:"spin",options:{culture:null,icons:{down:"ui-icon-triangle-1-s",up:"ui-icon-triangle-1-n"},incremental:!0,max:null,min:null,numberFormat:null,page:10,step:1,change:null,spin:null,start:null,stop:null},_create:function(){this._setOption("max",this.options.max),this._setOption("min",this.options.min),this._setOption("step",this.options.step),""!==this.value()&&this._value(this.element.val(),!0),this._draw(),this._on(this._events),this._refresh(),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_getCreateOptions:function(){var t={},i=this.element;return e.each(["min","max","step"],function(e,a){var n=i.attr(a);void 0!==n&&n.length&&(t[a]=n)}),t},_events:{keydown:function(e){this._start(e)&&this._keydown(e)&&e.preventDefault()},keyup:"_stop",focus:function(){this.previous=this.element.val()},blur:function(e){return this.cancelBlur?void delete this.cancelBlur:(this._stop(),this._refresh(),void(this.previous!==this.element.val()&&this._trigger("change",e)))},mousewheel:function(e,t){if(t){if(!this.spinning&&!this._start(e))return!1;this._spin((t>0?1:-1)*this.options.step,e),clearTimeout(this.mousewheelTimer),this.mousewheelTimer=this._delay(function(){this.spinning&&this._stop(e)},100),e.preventDefault()}},"mousedown .ui-spinner-button":function(t){function i(){this.element[0]===this.document[0].activeElement||(this.element.focus(),this.previous=a,this._delay(function(){this.previous=a}))}var a;a=this.element[0]===this.document[0].activeElement?this.previous:this.element.val(),t.preventDefault(),i.call(this),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur,i.call(this)}),!1!==this._start(t)&&this._repeat(null,e(t.currentTarget).hasClass("ui-spinner-up")?1:-1,t)},"mouseup .ui-spinner-button":"_stop","mouseenter .ui-spinner-button":function(t){return e(t.currentTarget).hasClass("ui-state-active")?!1!==this._start(t)&&void this._repeat(null,e(t.currentTarget).hasClass("ui-spinner-up")?1:-1,t):void 0},"mouseleave .ui-spinner-button":"_stop"},_draw:function(){var e=this.uiSpinner=this.element.addClass("ui-spinner-input").attr("autocomplete","off").wrap(this._uiSpinnerHtml()).parent().append(this._buttonHtml());this.element.attr("role","spinbutton"),this.buttons=e.find(".ui-spinner-button").attr("tabIndex",-1).button().removeClass("ui-corner-all"),this.buttons.height()>Math.ceil(.5*e.height())&&e.height()>0&&e.height(e.height()),this.options.disabled&&this.disable()},_keydown:function(t){var i=this.options,a=e.ui.keyCode;switch(t.keyCode){case a.UP:return this._repeat(null,1,t),!0;case a.DOWN:return this._repeat(null,-1,t),!0;case a.PAGE_UP:return this._repeat(null,i.page,t),!0;case a.PAGE_DOWN:return this._repeat(null,-i.page,t),!0}return!1},_uiSpinnerHtml:function(){return"<span class='ui-spinner ui-widget ui-widget-content ui-corner-all'></span>"},_buttonHtml:function(){return"<a class='ui-spinner-button ui-spinner-up ui-corner-tr'><span class='ui-icon "+this.options.icons.up+"'>&#9650;</span></a><a class='ui-spinner-button ui-spinner-down ui-corner-br'><span class='ui-icon "+this.options.icons.down+"'>&#9660;</span></a>"},_start:function(e){return!(!this.spinning&&!1===this._trigger("start",e))&&(this.counter||(this.counter=1),this.spinning=!0,!0)},_repeat:function(e,t,i){e=e||500,clearTimeout(this.timer),this.timer=this._delay(function(){this._repeat(40,t,i)},e),this._spin(t*this.options.step,i)},_spin:function(e,t){var i=this.value()||0;this.counter||(this.counter=1),i=this._adjustValue(i+e*this._increment(this.counter)),this.spinning&&!1===this._trigger("spin",t,{value:i})||(this._value(i),this.counter++)},_increment:function(t){var i=this.options.incremental;return i?e.isFunction(i)?i(t):Math.floor(t*t*t/5e4-t*t/500+17*t/200+1):1},_precision:function(){var e=this._precisionOf(this.options.step);return null!==this.options.min&&(e=Math.max(e,this._precisionOf(this.options.min))),e},_precisionOf:function(e){var t=""+e,i=t.indexOf(".");return-1===i?0:t.length-i-1},_adjustValue:function(e){var t,i,a=this.options;return t=null!==a.min?a.min:0,i=e-t,i=Math.round(i/a.step)*a.step,e=t+i,e=parseFloat(e.toFixed(this._precision())),null!==a.max&&e>a.max?a.max:null!==a.min&&a.min>e?a.min:e},_stop:function(e){this.spinning&&(clearTimeout(this.timer),clearTimeout(this.mousewheelTimer),this.counter=0,this.spinning=!1,this._trigger("stop",e))},_setOption:function(e,t){if("culture"===e||"numberFormat"===e){var i=this._parse(this.element.val());return this.options[e]=t,void this.element.val(this._format(i))}("max"===e||"min"===e||"step"===e)&&"string"==typeof t&&(t=this._parse(t)),"icons"===e&&(this.buttons.first().find(".ui-icon").removeClass(this.options.icons.up).addClass(t.up),this.buttons.last().find(".ui-icon").removeClass(this.options.icons.down).addClass(t.down)),this._super(e,t),"disabled"===e&&(this.widget().toggleClass("ui-state-disabled",!!t),this.element.prop("disabled",!!t),this.buttons.button(t?"disable":"enable"))},_setOptions:l(function(e){this._super(e)}),_parse:function(e){return"string"==typeof e&&""!==e&&(e=window.Globalize&&this.options.numberFormat?Globalize.parseFloat(e,10,this.options.culture):+e),""===e||isNaN(e)?null:e},_format:function(e){return""===e?"":window.Globalize&&this.options.numberFormat?Globalize.format(e,this.options.numberFormat,this.options.culture):e},_refresh:function(){this.element.attr({"aria-valuemin":this.options.min,"aria-valuemax":this.options.max,"aria-valuenow":this._parse(this.element.val())})},isValid:function(){var e=this.value();return null!==e&&e===this._adjustValue(e)},_value:function(e,t){var i;""!==e&&null!==(i=this._parse(e))&&(t||(i=this._adjustValue(i)),e=this._format(i)),this.element.val(e),this._refresh()},_destroy:function(){this.element.removeClass("ui-spinner-input").prop("disabled",!1).removeAttr("autocomplete").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow"),this.uiSpinner.replaceWith(this.element)},stepUp:l(function(e){this._stepUp(e)}),_stepUp:function(e){this._start()&&(this._spin((e||1)*this.options.step),this._stop())},stepDown:l(function(e){this._stepDown(e)}),_stepDown:function(e){this._start()&&(this._spin((e||1)*-this.options.step),this._stop())},pageUp:l(function(e){this._stepUp((e||1)*this.options.page)}),pageDown:l(function(e){this._stepDown((e||1)*this.options.page)}),value:function(e){return arguments.length?void l(this._value).call(this,e):this._parse(this.element.val())},widget:function(){return this.uiSpinner}}),e.widget("ui.tabs",{version:"1.11.2",delay:300,options:{active:null,collapsible:!1,event:"click",heightStyle:"content",hide:null,show:null,activate:null,beforeActivate:null,beforeLoad:null,load:null},_isLocal:function(){var e=/#.*$/;return function(t){var i,a;t=t.cloneNode(!1),i=t.href.replace(e,""),a=location.href.replace(e,"");try{i=decodeURIComponent(i)}catch(e){}try{a=decodeURIComponent(a)}catch(e){}return t.hash.length>1&&i===a}}(),_create:function(){var t=this,i=this.options;this.running=!1,this.element.addClass("ui-tabs ui-widget ui-widget-content ui-corner-all").toggleClass("ui-tabs-collapsible",i.collapsible),this._processTabs(),i.active=this._initialActive(),e.isArray(i.disabled)&&(i.disabled=e.unique(i.disabled.concat(e.map(this.tabs.filter(".ui-state-disabled"),function(e){return t.tabs.index(e)}))).sort()),this.active=!1!==this.options.active&&this.anchors.length?this._findActive(i.active):e(),this._refresh(),this.active.length&&this.load(i.active)},_initialActive:function(){var t=this.options.active,i=this.options.collapsible,a=location.hash.substring(1);return null===t&&(a&&this.tabs.each(function(i,n){return e(n).attr("aria-controls")===a?(t=i,!1):void 0}),null===t&&(t=this.tabs.index(this.tabs.filter(".ui-tabs-active"))),(null===t||-1===t)&&(t=!!this.tabs.length&&0)),!1!==t&&-1===(t=this.tabs.index(this.tabs.eq(t)))&&(t=!i&&0),!i&&!1===t&&this.anchors.length&&(t=0),t},_getCreateEventData:function(){return{tab:this.active,panel:this.active.length?this._getPanelForTab(this.active):e()}},_tabKeydown:function(t){var i=e(this.document[0].activeElement).closest("li"),a=this.tabs.index(i),n=!0;if(!this._handlePageNav(t)){switch(t.keyCode){case e.ui.keyCode.RIGHT:case e.ui.keyCode.DOWN:a++;break;case e.ui.keyCode.UP:case e.ui.keyCode.LEFT:n=!1,a--;break;case e.ui.keyCode.END:a=this.anchors.length-1;break;case e.ui.keyCode.HOME:a=0;break;case e.ui.keyCode.SPACE:return t.preventDefault(),clearTimeout(this.activating),void this._activate(a);case e.ui.keyCode.ENTER:return t.preventDefault(),clearTimeout(this.activating),void this._activate(a!==this.options.active&&a);default:return}t.preventDefault(),clearTimeout(this.activating),a=this._focusNextTab(a,n),t.ctrlKey||(i.attr("aria-selected","false"),this.tabs.eq(a).attr("aria-selected","true"),this.activating=this._delay(function(){this.option("active",a)},this.delay))}},_panelKeydown:function(t){this._handlePageNav(t)||t.ctrlKey&&t.keyCode===e.ui.keyCode.UP&&(t.preventDefault(),this.active.focus())},_handlePageNav:function(t){return t.altKey&&t.keyCode===e.ui.keyCode.PAGE_UP?(this._activate(this._focusNextTab(this.options.active-1,!1)),!0):t.altKey&&t.keyCode===e.ui.keyCode.PAGE_DOWN?(this._activate(this._focusNextTab(this.options.active+1,!0)),!0):void 0},_findNextTab:function(t,i){for(var a=this.tabs.length-1;-1!==e.inArray(function(){return t>a&&(t=0),0>t&&(t=a),t}(),this.options.disabled);)t=i?t+1:t-1;return t},_focusNextTab:function(e,t){return e=this._findNextTab(e,t),this.tabs.eq(e).focus(),e},_setOption:function(e,t){return"active"===e?void this._activate(t):"disabled"===e?void this._setupDisabled(t):(this._super(e,t),"collapsible"===e&&(this.element.toggleClass("ui-tabs-collapsible",t),t||!1!==this.options.active||this._activate(0)),"event"===e&&this._setupEvents(t),void("heightStyle"===e&&this._setupHeightStyle(t)))},_sanitizeSelector:function(e){return e?e.replace(/[!"$%&'()*+,.\/:;<=>?@\[\]\^`{|}~]/g,"\\$&"):""},refresh:function(){var t=this.options,i=this.tablist.children(":has(a[href])");t.disabled=e.map(i.filter(".ui-state-disabled"),function(e){return i.index(e)}),this._processTabs(),!1!==t.active&&this.anchors.length?this.active.length&&!e.contains(this.tablist[0],this.active[0])?this.tabs.length===t.disabled.length?(t.active=!1,this.active=e()):this._activate(this._findNextTab(Math.max(0,t.active-1),!1)):t.active=this.tabs.index(this.active):(t.active=!1,this.active=e()),this._refresh()},_refresh:function(){this._setupDisabled(this.options.disabled),this._setupEvents(this.options.event),this._setupHeightStyle(this.options.heightStyle),this.tabs.not(this.active).attr({"aria-selected":"false","aria-expanded":"false",tabIndex:-1}),this.panels.not(this._getPanelForTab(this.active)).hide().attr({"aria-hidden":"true"}),this.active.length?(this.active.addClass("ui-tabs-active ui-state-active").attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0}),this._getPanelForTab(this.active).show().attr({"aria-hidden":"false"})):this.tabs.eq(0).attr("tabIndex",0)},_processTabs:function(){var t=this,i=this.tabs,a=this.anchors,n=this.panels;this.tablist=this._getList().addClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").attr("role","tablist").delegate("> li","mousedown"+this.eventNamespace,function(t){e(this).is(".ui-state-disabled")&&t.preventDefault()}).delegate(".ui-tabs-anchor","focus"+this.eventNamespace,function(){e(this).closest("li").is(".ui-state-disabled")&&this.blur()}),this.tabs=this.tablist.find("> li:has(a[href])").addClass("ui-state-default ui-corner-top").attr({role:"tab",tabIndex:-1}),this.anchors=this.tabs.map(function(){return e("a",this)[0]}).addClass("ui-tabs-anchor").attr({role:"presentation",tabIndex:-1}),this.panels=e(),this.anchors.each(function(i,a){var n,o,s,r=e(a).uniqueId().attr("id"),l=e(a).closest("li"),c=l.attr("aria-controls");t._isLocal(a)?(n=a.hash,s=n.substring(1),o=t.element.find(t._sanitizeSelector(n))):(s=l.attr("aria-controls")||e({}).uniqueId()[0].id,n="#"+s,o=t.element.find(n),o.length||(o=t._createPanel(s),o.insertAfter(t.panels[i-1]||t.tablist)),o.attr("aria-live","polite")),o.length&&(t.panels=t.panels.add(o)),c&&l.data("ui-tabs-aria-controls",c),l.attr({"aria-controls":s,"aria-labelledby":r}),o.attr("aria-labelledby",r)}),this.panels.addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").attr("role","tabpanel"),i&&(this._off(i.not(this.tabs)),this._off(a.not(this.anchors)),this._off(n.not(this.panels)))},_getList:function(){return this.tablist||this.element.find("ol,ul").eq(0)},_createPanel:function(t){return e("<div>").attr("id",t).addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").data("ui-tabs-destroy",!0)},_setupDisabled:function(t){e.isArray(t)&&(t.length?t.length===this.anchors.length&&(t=!0):t=!1);for(var i,a=0;i=this.tabs[a];a++)!0===t||-1!==e.inArray(a,t)?e(i).addClass("ui-state-disabled").attr("aria-disabled","true"):e(i).removeClass("ui-state-disabled").removeAttr("aria-disabled");this.options.disabled=t},_setupEvents:function(t){var i={};t&&e.each(t.split(" "),function(e,t){i[t]="_eventHandler"}),this._off(this.anchors.add(this.tabs).add(this.panels)),this._on(!0,this.anchors,{click:function(e){e.preventDefault()}}),this._on(this.anchors,i),this._on(this.tabs,{keydown:"_tabKeydown"}),this._on(this.panels,{keydown:"_panelKeydown"}),this._focusable(this.tabs),this._hoverable(this.tabs)},_setupHeightStyle:function(t){var i,a=this.element.parent();"fill"===t?(i=a.height(),i-=this.element.outerHeight()-this.element.height(),this.element.siblings(":visible").each(function(){var t=e(this),a=t.css("position");"absolute"!==a&&"fixed"!==a&&(i-=t.outerHeight(!0))}),this.element.children().not(this.panels).each(function(){i-=e(this).outerHeight(!0)}),this.panels.each(function(){e(this).height(Math.max(0,i-e(this).innerHeight()+e(this).height()))}).css("overflow","auto")):"auto"===t&&(i=0,this.panels.each(function(){i=Math.max(i,e(this).height("").height())}).height(i))},_eventHandler:function(t){var i=this.options,a=this.active,n=e(t.currentTarget),o=n.closest("li"),s=o[0]===a[0],r=s&&i.collapsible,l=r?e():this._getPanelForTab(o),c=a.length?this._getPanelForTab(a):e(),h={oldTab:a,oldPanel:c,newTab:r?e():o,newPanel:l};t.preventDefault(),o.hasClass("ui-state-disabled")||o.hasClass("ui-tabs-loading")||this.running||s&&!i.collapsible||!1===this._trigger("beforeActivate",t,h)||(i.active=!r&&this.tabs.index(o),this.active=s?e():o,this.xhr&&this.xhr.abort(),c.length||l.length||e.error("jQuery UI Tabs: Mismatching fragment identifier."),l.length&&this.load(this.tabs.index(o),t),this._toggle(t,h))},_toggle:function(t,i){function a(){o.running=!1,o._trigger("activate",t,i)}function n(){i.newTab.closest("li").addClass("ui-tabs-active ui-state-active"),s.length&&o.options.show?o._show(s,o.options.show,a):(s.show(),a())}var o=this,s=i.newPanel,r=i.oldPanel;this.running=!0,r.length&&this.options.hide?this._hide(r,this.options.hide,function(){i.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"),n()}):(i.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"),r.hide(),n()),r.attr("aria-hidden","true"),i.oldTab.attr({"aria-selected":"false","aria-expanded":"false"}),s.length&&r.length?i.oldTab.attr("tabIndex",-1):s.length&&this.tabs.filter(function(){return 0===e(this).attr("tabIndex")}).attr("tabIndex",-1),s.attr("aria-hidden","false"),i.newTab.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0})},_activate:function(t){var i,a=this._findActive(t);a[0]!==this.active[0]&&(a.length||(a=this.active),i=a.find(".ui-tabs-anchor")[0],this._eventHandler({target:i,currentTarget:i,preventDefault:e.noop}))},_findActive:function(t){return!1===t?e():this.tabs.eq(t)},_getIndex:function(e){return"string"==typeof e&&(e=this.anchors.index(this.anchors.filter("[href$='"+e+"']"))),e},_destroy:function(){this.xhr&&this.xhr.abort(),this.element.removeClass("ui-tabs ui-widget ui-widget-content ui-corner-all ui-tabs-collapsible"),this.tablist.removeClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").removeAttr("role"),this.anchors.removeClass("ui-tabs-anchor").removeAttr("role").removeAttr("tabIndex").removeUniqueId(),this.tablist.unbind(this.eventNamespace),this.tabs.add(this.panels).each(function(){e.data(this,"ui-tabs-destroy")?e(this).remove():e(this).removeClass("ui-state-default ui-state-active ui-state-disabled ui-corner-top ui-corner-bottom ui-widget-content ui-tabs-active ui-tabs-panel").removeAttr("tabIndex").removeAttr("aria-live").removeAttr("aria-busy").removeAttr("aria-selected").removeAttr("aria-labelledby").removeAttr("aria-hidden").removeAttr("aria-expanded").removeAttr("role")}),this.tabs.each(function(){var t=e(this),i=t.data("ui-tabs-aria-controls");i?t.attr("aria-controls",i).removeData("ui-tabs-aria-controls"):t.removeAttr("aria-controls")}),this.panels.show(),"content"!==this.options.heightStyle&&this.panels.css("height","")},enable:function(t){var i=this.options.disabled;!1!==i&&(void 0===t?i=!1:(t=this._getIndex(t),i=e.isArray(i)?e.map(i,function(e){return e!==t?e:null}):e.map(this.tabs,function(e,i){return i!==t?i:null})),this._setupDisabled(i))},disable:function(t){var i=this.options.disabled;if(!0!==i){if(void 0===t)i=!0;else{if(t=this._getIndex(t),-1!==e.inArray(t,i))return;i=e.isArray(i)?e.merge([t],i).sort():[t]}this._setupDisabled(i)}},load:function(t,i){t=this._getIndex(t);var a=this,n=this.tabs.eq(t),o=n.find(".ui-tabs-anchor"),s=this._getPanelForTab(n),r={tab:n,panel:s};this._isLocal(o[0])||(this.xhr=e.ajax(this._ajaxSettings(o,i,r)),this.xhr&&"canceled"!==this.xhr.statusText&&(n.addClass("ui-tabs-loading"),s.attr("aria-busy","true"),this.xhr.success(function(e){setTimeout(function(){s.html(e),a._trigger("load",i,r)},1)}).complete(function(e,t){setTimeout(function(){"abort"===t&&a.panels.stop(!1,!0),n.removeClass("ui-tabs-loading"),s.removeAttr("aria-busy"),e===a.xhr&&delete a.xhr},1)})))},_ajaxSettings:function(t,i,a){var n=this;return{url:t.attr("href"),beforeSend:function(t,o){return n._trigger("beforeLoad",i,e.extend({jqXHR:t,ajaxSettings:o},a))}}},_getPanelForTab:function(t){var i=e(t).attr("aria-controls");return this.element.find(this._sanitizeSelector("#"+i))}}),e.widget("ui.tooltip",{version:"1.11.2",options:{content:function(){var t=e(this).attr("title")||"";return e("<a>").text(t).html()},hide:!0,items:"[title]:not([disabled])",position:{my:"left top+15",at:"left bottom",collision:"flipfit flip"},show:!0,tooltipClass:null,track:!1,close:null,open:null},_addDescribedBy:function(t,i){var a=(t.attr("aria-describedby")||"").split(/\s+/);a.push(i),t.data("ui-tooltip-id",i).attr("aria-describedby",e.trim(a.join(" ")))},_removeDescribedBy:function(t){var i=t.data("ui-tooltip-id"),a=(t.attr("aria-describedby")||"").split(/\s+/),n=e.inArray(i,a);-1!==n&&a.splice(n,1),t.removeData("ui-tooltip-id"),a=e.trim(a.join(" ")),a?t.attr("aria-describedby",a):t.removeAttr("aria-describedby")},_create:function(){this._on({mouseover:"open",focusin:"open"}),this.tooltips={},this.parents={},this.options.disabled&&this._disable(),this.liveRegion=e("<div>").attr({role:"log","aria-live":"assertive","aria-relevant":"additions"}).addClass("ui-helper-hidden-accessible").appendTo(this.document[0].body)},_setOption:function(t,i){var a=this;return"disabled"===t?(this[i?"_disable":"_enable"](),void(this.options[t]=i)):(this._super(t,i),void("content"===t&&e.each(this.tooltips,function(e,t){a._updateContent(t.element)})))},_disable:function(){var t=this;e.each(this.tooltips,function(i,a){var n=e.Event("blur");n.target=n.currentTarget=a.element[0],t.close(n,!0)}),
this.element.find(this.options.items).addBack().each(function(){var t=e(this);t.is("[title]")&&t.data("ui-tooltip-title",t.attr("title")).removeAttr("title")})},_enable:function(){this.element.find(this.options.items).addBack().each(function(){var t=e(this);t.data("ui-tooltip-title")&&t.attr("title",t.data("ui-tooltip-title"))})},open:function(t){var i=this,a=e(t?t.target:this.element).closest(this.options.items);a.length&&!a.data("ui-tooltip-id")&&(a.attr("title")&&a.data("ui-tooltip-title",a.attr("title")),a.data("ui-tooltip-open",!0),t&&"mouseover"===t.type&&a.parents().each(function(){var t,a=e(this);a.data("ui-tooltip-open")&&(t=e.Event("blur"),t.target=t.currentTarget=this,i.close(t,!0)),a.attr("title")&&(a.uniqueId(),i.parents[this.id]={element:this,title:a.attr("title")},a.attr("title",""))}),this._updateContent(a,t))},_updateContent:function(e,t){var i,a=this.options.content,n=this,o=t?t.type:null;return"string"==typeof a?this._open(t,e,a):void((i=a.call(e[0],function(i){e.data("ui-tooltip-open")&&n._delay(function(){t&&(t.type=o),this._open(t,e,i)})}))&&this._open(t,e,i))},_open:function(t,i,a){function n(e){h.of=e,s.is(":hidden")||s.position(h)}var o,s,r,l,c,h=e.extend({},this.options.position);if(a){if(o=this._find(i))return void o.tooltip.find(".ui-tooltip-content").html(a);i.is("[title]")&&(t&&"mouseover"===t.type?i.attr("title",""):i.removeAttr("title")),o=this._tooltip(i),s=o.tooltip,this._addDescribedBy(i,s.attr("id")),s.find(".ui-tooltip-content").html(a),this.liveRegion.children().hide(),a.clone?(c=a.clone(),c.removeAttr("id").find("[id]").removeAttr("id")):c=a,e("<div>").html(c).appendTo(this.liveRegion),this.options.track&&t&&/^mouse/.test(t.type)?(this._on(this.document,{mousemove:n}),n(t)):s.position(e.extend({of:i},this.options.position)),s.hide(),this._show(s,this.options.show),this.options.show&&this.options.show.delay&&(l=this.delayedShow=setInterval(function(){s.is(":visible")&&(n(h.of),clearInterval(l))},e.fx.interval)),this._trigger("open",t,{tooltip:s}),r={keyup:function(t){if(t.keyCode===e.ui.keyCode.ESCAPE){var a=e.Event(t);a.currentTarget=i[0],this.close(a,!0)}}},i[0]!==this.element[0]&&(r.remove=function(){this._removeTooltip(s)}),t&&"mouseover"!==t.type||(r.mouseleave="close"),t&&"focusin"!==t.type||(r.focusout="close"),this._on(!0,i,r)}},close:function(t){var i,a=this,n=e(t?t.currentTarget:this.element),o=this._find(n);o&&(i=o.tooltip,o.closing||(clearInterval(this.delayedShow),n.data("ui-tooltip-title")&&!n.attr("title")&&n.attr("title",n.data("ui-tooltip-title")),this._removeDescribedBy(n),o.hiding=!0,i.stop(!0),this._hide(i,this.options.hide,function(){a._removeTooltip(e(this))}),n.removeData("ui-tooltip-open"),this._off(n,"mouseleave focusout keyup"),n[0]!==this.element[0]&&this._off(n,"remove"),this._off(this.document,"mousemove"),t&&"mouseleave"===t.type&&e.each(this.parents,function(t,i){e(i.element).attr("title",i.title),delete a.parents[t]}),o.closing=!0,this._trigger("close",t,{tooltip:i}),o.hiding||(o.closing=!1)))},_tooltip:function(t){var i=e("<div>").attr("role","tooltip").addClass("ui-tooltip ui-widget ui-corner-all ui-widget-content "+(this.options.tooltipClass||"")),a=i.uniqueId().attr("id");return e("<div>").addClass("ui-tooltip-content").appendTo(i),i.appendTo(this.document[0].body),this.tooltips[a]={element:t,tooltip:i}},_find:function(e){var t=e.data("ui-tooltip-id");return t?this.tooltips[t]:null},_removeTooltip:function(e){e.remove(),delete this.tooltips[e.attr("id")]},_destroy:function(){var t=this;e.each(this.tooltips,function(i,a){var n=e.Event("blur"),o=a.element;n.target=n.currentTarget=o[0],t.close(n,!0),e("#"+i).remove(),o.data("ui-tooltip-title")&&(o.attr("title")||o.attr("title",o.data("ui-tooltip-title")),o.removeData("ui-tooltip-title"))}),this.liveRegion.remove()}});var b="ui-effects-",y=e;e.effects={effect:{}},function(e,t){function i(e,t,i){var a=h[t.type]||{};return null==e?i||!t.def?null:t.def:(e=a.floor?~~e:parseFloat(e),isNaN(e)?t.def:a.mod?(e+a.mod)%a.mod:0>e?0:e>a.max?a.max:e)}function a(i){var a=l(),n=a._rgba=[];return i=i.toLowerCase(),p(r,function(e,o){var s,r=o.re.exec(i),l=r&&o.parse(r),h=o.space||"rgba";return l?(s=a[h](l),a[c[h].cache]=s[c[h].cache],n=a._rgba=s._rgba,!1):t}),n.length?("0,0,0,0"===n.join()&&e.extend(n,o.transparent),a):o[i]}function n(e,t,i){return i=(i+1)%1,1>6*i?e+6*(t-e)*i:1>2*i?t:2>3*i?e+6*(t-e)*(2/3-i):e}var o,s=/^([\-+])=\s*(\d+\.?\d*)/,r=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(e){return[e[1],e[2],e[3],e[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(e){return[2.55*e[1],2.55*e[2],2.55*e[3],e[4]]}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,parse:function(e){return[parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16)]}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])/,parse:function(e){return[parseInt(e[1]+e[1],16),parseInt(e[2]+e[2],16),parseInt(e[3]+e[3],16)]}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(e){return[e[1],e[2]/100,e[3]/100,e[4]]}}],l=e.Color=function(t,i,a,n){return new e.Color.fn.parse(t,i,a,n)},c={rgba:{props:{red:{idx:0,type:"byte"},green:{idx:1,type:"byte"},blue:{idx:2,type:"byte"}}},hsla:{props:{hue:{idx:0,type:"degrees"},saturation:{idx:1,type:"percent"},lightness:{idx:2,type:"percent"}}}},h={byte:{floor:!0,max:255},percent:{max:1},degrees:{mod:360,floor:!0}},u=l.support={},d=e("<p>")[0],p=e.each;d.style.cssText="background-color:rgba(1,1,1,.5)",u.rgba=d.style.backgroundColor.indexOf("rgba")>-1,p(c,function(e,t){t.cache="_"+e,t.props.alpha={idx:3,type:"percent",def:1}}),l.fn=e.extend(l.prototype,{parse:function(n,s,r,h){if(n===t)return this._rgba=[null,null,null,null],this;(n.jquery||n.nodeType)&&(n=e(n).css(s),s=t);var u=this,d=e.type(n),f=this._rgba=[];return s!==t&&(n=[n,s,r,h],d="array"),"string"===d?this.parse(a(n)||o._default):"array"===d?(p(c.rgba.props,function(e,t){f[t.idx]=i(n[t.idx],t)}),this):"object"===d?(n instanceof l?p(c,function(e,t){n[t.cache]&&(u[t.cache]=n[t.cache].slice())}):p(c,function(t,a){var o=a.cache;p(a.props,function(e,t){if(!u[o]&&a.to){if("alpha"===e||null==n[e])return;u[o]=a.to(u._rgba)}u[o][t.idx]=i(n[e],t,!0)}),u[o]&&0>e.inArray(null,u[o].slice(0,3))&&(u[o][3]=1,a.from&&(u._rgba=a.from(u[o])))}),this):t},is:function(e){var i=l(e),a=!0,n=this;return p(c,function(e,o){var s,r=i[o.cache];return r&&(s=n[o.cache]||o.to&&o.to(n._rgba)||[],p(o.props,function(e,i){return null!=r[i.idx]?a=r[i.idx]===s[i.idx]:t})),a}),a},_space:function(){var e=[],t=this;return p(c,function(i,a){t[a.cache]&&e.push(i)}),e.pop()},transition:function(e,t){var a=l(e),n=a._space(),o=c[n],s=0===this.alpha()?l("transparent"):this,r=s[o.cache]||o.to(s._rgba),u=r.slice();return a=a[o.cache],p(o.props,function(e,n){var o=n.idx,s=r[o],l=a[o],c=h[n.type]||{};null!==l&&(null===s?u[o]=l:(c.mod&&(l-s>c.mod/2?s+=c.mod:s-l>c.mod/2&&(s-=c.mod)),u[o]=i((l-s)*t+s,n)))}),this[n](u)},blend:function(t){if(1===this._rgba[3])return this;var i=this._rgba.slice(),a=i.pop(),n=l(t)._rgba;return l(e.map(i,function(e,t){return(1-a)*n[t]+a*e}))},toRgbaString:function(){var t="rgba(",i=e.map(this._rgba,function(e,t){return null==e?t>2?1:0:e});return 1===i[3]&&(i.pop(),t="rgb("),t+i.join()+")"},toHslaString:function(){var t="hsla(",i=e.map(this.hsla(),function(e,t){return null==e&&(e=t>2?1:0),t&&3>t&&(e=Math.round(100*e)+"%"),e});return 1===i[3]&&(i.pop(),t="hsl("),t+i.join()+")"},toHexString:function(t){var i=this._rgba.slice(),a=i.pop();return t&&i.push(~~(255*a)),"#"+e.map(i,function(e){return e=(e||0).toString(16),1===e.length?"0"+e:e}).join("")},toString:function(){return 0===this._rgba[3]?"transparent":this.toRgbaString()}}),l.fn.parse.prototype=l.fn,c.hsla.to=function(e){if(null==e[0]||null==e[1]||null==e[2])return[null,null,null,e[3]];var t,i,a=e[0]/255,n=e[1]/255,o=e[2]/255,s=e[3],r=Math.max(a,n,o),l=Math.min(a,n,o),c=r-l,h=r+l,u=.5*h;return t=l===r?0:a===r?60*(n-o)/c+360:n===r?60*(o-a)/c+120:60*(a-n)/c+240,i=0===c?0:.5>=u?c/h:c/(2-h),[Math.round(t)%360,i,u,null==s?1:s]},c.hsla.from=function(e){if(null==e[0]||null==e[1]||null==e[2])return[null,null,null,e[3]];var t=e[0]/360,i=e[1],a=e[2],o=e[3],s=.5>=a?a*(1+i):a+i-a*i,r=2*a-s;return[Math.round(255*n(r,s,t+1/3)),Math.round(255*n(r,s,t)),Math.round(255*n(r,s,t-1/3)),o]},p(c,function(a,n){var o=n.props,r=n.cache,c=n.to,h=n.from;l.fn[a]=function(a){if(c&&!this[r]&&(this[r]=c(this._rgba)),a===t)return this[r].slice();var n,s=e.type(a),u="array"===s||"object"===s?a:arguments,d=this[r].slice();return p(o,function(e,t){var a=u["object"===s?e:t.idx];null==a&&(a=d[t.idx]),d[t.idx]=i(a,t)}),h?(n=l(h(d)),n[r]=d,n):l(d)},p(o,function(t,i){l.fn[t]||(l.fn[t]=function(n){var o,r=e.type(n),l="alpha"===t?this._hsla?"hsla":"rgba":a,c=this[l](),h=c[i.idx];return"undefined"===r?h:("function"===r&&(n=n.call(this,h),r=e.type(n)),null==n&&i.empty?this:("string"===r&&(o=s.exec(n))&&(n=h+parseFloat(o[2])*("+"===o[1]?1:-1)),c[i.idx]=n,this[l](c)))})})}),l.hook=function(t){var i=t.split(" ");p(i,function(t,i){e.cssHooks[i]={set:function(t,n){var o,s,r="";if("transparent"!==n&&("string"!==e.type(n)||(o=a(n)))){if(n=l(o||n),!u.rgba&&1!==n._rgba[3]){for(s="backgroundColor"===i?t.parentNode:t;(""===r||"transparent"===r)&&s&&s.style;)try{r=e.css(s,"backgroundColor"),s=s.parentNode}catch(e){}n=n.blend(r&&"transparent"!==r?r:"_default")}n=n.toRgbaString()}try{t.style[i]=n}catch(e){}}},e.fx.step[i]=function(t){t.colorInit||(t.start=l(t.elem,i),t.end=l(t.end),t.colorInit=!0),e.cssHooks[i].set(t.elem,t.start.transition(t.end,t.pos))}})},l.hook("backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor"),e.cssHooks.borderColor={expand:function(e){var t={};return p(["Top","Right","Bottom","Left"],function(i,a){t["border"+a+"Color"]=e}),t}},o=e.Color.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"}}(y),function(){function t(t){var i,a,n=t.ownerDocument.defaultView?t.ownerDocument.defaultView.getComputedStyle(t,null):t.currentStyle,o={};if(n&&n.length&&n[0]&&n[n[0]])for(a=n.length;a--;)i=n[a],"string"==typeof n[i]&&(o[e.camelCase(i)]=n[i]);else for(i in n)"string"==typeof n[i]&&(o[i]=n[i]);return o}function i(t,i){var a,o,s={};for(a in i)o=i[a],t[a]!==o&&(n[a]||(e.fx.step[a]||!isNaN(parseFloat(o)))&&(s[a]=o));return s}var a=["add","remove","toggle"],n={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};e.each(["borderLeftStyle","borderRightStyle","borderBottomStyle","borderTopStyle"],function(t,i){e.fx.step[i]=function(e){("none"!==e.end&&!e.setAttr||1===e.pos&&!e.setAttr)&&(y.style(e.elem,i,e.end),e.setAttr=!0)}}),e.fn.addBack||(e.fn.addBack=function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}),e.effects.animateClass=function(n,o,s,r){var l=e.speed(o,s,r);return this.queue(function(){var o,s=e(this),r=s.attr("class")||"",c=l.children?s.find("*").addBack():s;c=c.map(function(){return{el:e(this),start:t(this)}}),o=function(){e.each(a,function(e,t){n[t]&&s[t+"Class"](n[t])})},o(),c=c.map(function(){return this.end=t(this.el[0]),this.diff=i(this.start,this.end),this}),s.attr("class",r),c=c.map(function(){var t=this,i=e.Deferred(),a=e.extend({},l,{queue:!1,complete:function(){i.resolve(t)}});return this.el.animate(this.diff,a),i.promise()}),e.when.apply(e,c.get()).done(function(){o(),e.each(arguments,function(){var t=this.el;e.each(this.diff,function(e){t.css(e,"")})}),l.complete.call(s[0])})})},e.fn.extend({addClass:function(t){return function(i,a,n,o){return a?e.effects.animateClass.call(this,{add:i},a,n,o):t.apply(this,arguments)}}(e.fn.addClass),removeClass:function(t){return function(i,a,n,o){return arguments.length>1?e.effects.animateClass.call(this,{remove:i},a,n,o):t.apply(this,arguments)}}(e.fn.removeClass),toggleClass:function(t){return function(i,a,n,o,s){return"boolean"==typeof a||void 0===a?n?e.effects.animateClass.call(this,a?{add:i}:{remove:i},n,o,s):t.apply(this,arguments):e.effects.animateClass.call(this,{toggle:i},a,n,o)}}(e.fn.toggleClass),switchClass:function(t,i,a,n,o){return e.effects.animateClass.call(this,{add:i,remove:t},a,n,o)}})}(),function(){function t(t,i,a,n){return e.isPlainObject(t)&&(i=t,t=t.effect),t={effect:t},null==i&&(i={}),e.isFunction(i)&&(n=i,a=null,i={}),("number"==typeof i||e.fx.speeds[i])&&(n=a,a=i,i={}),e.isFunction(a)&&(n=a,a=null),i&&e.extend(t,i),a=a||i.duration,t.duration=e.fx.off?0:"number"==typeof a?a:a in e.fx.speeds?e.fx.speeds[a]:e.fx.speeds._default,t.complete=n||i.complete,t}function i(t){return!(t&&"number"!=typeof t&&!e.fx.speeds[t])||("string"==typeof t&&!e.effects.effect[t]||(!!e.isFunction(t)||"object"==typeof t&&!t.effect))}e.extend(e.effects,{version:"1.11.2",save:function(e,t){for(var i=0;t.length>i;i++)null!==t[i]&&e.data(b+t[i],e[0].style[t[i]])},restore:function(e,t){var i,a;for(a=0;t.length>a;a++)null!==t[a]&&(i=e.data(b+t[a]),void 0===i&&(i=""),e.css(t[a],i))},setMode:function(e,t){return"toggle"===t&&(t=e.is(":hidden")?"show":"hide"),t},getBaseline:function(e,t){var i,a;switch(e[0]){case"top":i=0;break;case"middle":i=.5;break;case"bottom":i=1;break;default:i=e[0]/t.height}switch(e[1]){case"left":a=0;break;case"center":a=.5;break;case"right":a=1;break;default:a=e[1]/t.width}return{x:a,y:i}},createWrapper:function(t){if(t.parent().is(".ui-effects-wrapper"))return t.parent();var i={width:t.outerWidth(!0),height:t.outerHeight(!0),float:t.css("float")},a=e("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),n={width:t.width(),height:t.height()},o=document.activeElement;try{o.id}catch(e){o=document.body}return t.wrap(a),(t[0]===o||e.contains(t[0],o))&&e(o).focus(),a=t.parent(),"static"===t.css("position")?(a.css({position:"relative"}),t.css({position:"relative"})):(e.extend(i,{position:t.css("position"),zIndex:t.css("z-index")}),e.each(["top","left","bottom","right"],function(e,a){i[a]=t.css(a),isNaN(parseInt(i[a],10))&&(i[a]="auto")}),t.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"})),t.css(n),a.css(i).show()},removeWrapper:function(t){var i=document.activeElement;return t.parent().is(".ui-effects-wrapper")&&(t.parent().replaceWith(t),(t[0]===i||e.contains(t[0],i))&&e(i).focus()),t},setTransition:function(t,i,a,n){return n=n||{},e.each(i,function(e,i){var o=t.cssUnit(i);o[0]>0&&(n[i]=o[0]*a+o[1])}),n}}),e.fn.extend({effect:function(){function i(t){function i(){e.isFunction(o)&&o.call(n[0]),e.isFunction(t)&&t()}var n=e(this),o=a.complete,r=a.mode;(n.is(":hidden")?"hide"===r:"show"===r)?(n[r](),i()):s.call(n[0],a,i)}var a=t.apply(this,arguments),n=a.mode,o=a.queue,s=e.effects.effect[a.effect];return e.fx.off||!s?n?this[n](a.duration,a.complete):this.each(function(){a.complete&&a.complete.call(this)}):!1===o?this.each(i):this.queue(o||"fx",i)},show:function(e){return function(a){if(i(a))return e.apply(this,arguments);var n=t.apply(this,arguments);return n.mode="show",this.effect.call(this,n)}}(e.fn.show),hide:function(e){return function(a){if(i(a))return e.apply(this,arguments);var n=t.apply(this,arguments);return n.mode="hide",this.effect.call(this,n)}}(e.fn.hide),toggle:function(e){return function(a){if(i(a)||"boolean"==typeof a)return e.apply(this,arguments);var n=t.apply(this,arguments);return n.mode="toggle",this.effect.call(this,n)}}(e.fn.toggle),cssUnit:function(t){var i=this.css(t),a=[];return e.each(["em","px","%","pt"],function(e,t){i.indexOf(t)>0&&(a=[parseFloat(i),t])}),a}})}(),function(){var t={};e.each(["Quad","Cubic","Quart","Quint","Expo"],function(e,i){t[i]=function(t){return Math.pow(t,e+2)}}),e.extend(t,{Sine:function(e){return 1-Math.cos(e*Math.PI/2)},Circ:function(e){return 1-Math.sqrt(1-e*e)},Elastic:function(e){return 0===e||1===e?e:-Math.pow(2,8*(e-1))*Math.sin((80*(e-1)-7.5)*Math.PI/15)},Back:function(e){return e*e*(3*e-2)},Bounce:function(e){for(var t,i=4;((t=Math.pow(2,--i))-1)/11>e;);return 1/Math.pow(4,3-i)-7.5625*Math.pow((3*t-2)/22-e,2)}}),e.each(t,function(t,i){e.easing["easeIn"+t]=i,e.easing["easeOut"+t]=function(e){return 1-i(1-e)},e.easing["easeInOut"+t]=function(e){return.5>e?i(2*e)/2:1-i(-2*e+2)/2}})}(),e.effects,e.effects.effect.blind=function(t,i){var a,n,o,s=e(this),r=/up|down|vertical/,l=/up|left|vertical|horizontal/,c=["position","top","bottom","left","right","height","width"],h=e.effects.setMode(s,t.mode||"hide"),u=t.direction||"up",d=r.test(u),p=d?"height":"width",f=d?"top":"left",m=l.test(u),g={},v="show"===h;s.parent().is(".ui-effects-wrapper")?e.effects.save(s.parent(),c):e.effects.save(s,c),s.show(),a=e.effects.createWrapper(s).css({overflow:"hidden"}),n=a[p](),o=parseFloat(a.css(f))||0,g[p]=v?n:0,m||(s.css(d?"bottom":"right",0).css(d?"top":"left","auto").css({position:"absolute"}),g[f]=v?o:n+o),v&&(a.css(p,0),m||a.css(f,o+n)),a.animate(g,{duration:t.duration,easing:t.easing,queue:!1,complete:function(){"hide"===h&&s.hide(),e.effects.restore(s,c),e.effects.removeWrapper(s),i()}})},e.effects.effect.bounce=function(t,i){var a,n,o,s=e(this),r=["position","top","bottom","left","right","height","width"],l=e.effects.setMode(s,t.mode||"effect"),c="hide"===l,h="show"===l,u=t.direction||"up",d=t.distance,p=t.times||5,f=2*p+(h||c?1:0),m=t.duration/f,g=t.easing,v="up"===u||"down"===u?"top":"left",b="up"===u||"left"===u,y=s.queue(),x=y.length;for((h||c)&&r.push("opacity"),e.effects.save(s,r),s.show(),e.effects.createWrapper(s),d||(d=s["top"===v?"outerHeight":"outerWidth"]()/3),h&&(o={opacity:1},o[v]=0,s.css("opacity",0).css(v,b?2*-d:2*d).animate(o,m,g)),c&&(d/=Math.pow(2,p-1)),o={},o[v]=0,a=0;p>a;a++)n={},n[v]=(b?"-=":"+=")+d,s.animate(n,m,g).animate(o,m,g),d=c?2*d:d/2;c&&(n={opacity:0},n[v]=(b?"-=":"+=")+d,s.animate(n,m,g)),s.queue(function(){c&&s.hide(),e.effects.restore(s,r),e.effects.removeWrapper(s),i()}),x>1&&y.splice.apply(y,[1,0].concat(y.splice(x,f+1))),s.dequeue()},e.effects.effect.clip=function(t,i){var a,n,o,s=e(this),r=["position","top","bottom","left","right","height","width"],l=e.effects.setMode(s,t.mode||"hide"),c="show"===l,h=t.direction||"vertical",u="vertical"===h,d=u?"height":"width",p=u?"top":"left",f={};e.effects.save(s,r),s.show(),a=e.effects.createWrapper(s).css({overflow:"hidden"}),n="IMG"===s[0].tagName?a:s,o=n[d](),c&&(n.css(d,0),n.css(p,o/2)),f[d]=c?o:0,f[p]=c?0:o/2,n.animate(f,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){c||s.hide(),e.effects.restore(s,r),e.effects.removeWrapper(s),i()}})},e.effects.effect.drop=function(t,i){var a,n=e(this),o=["position","top","bottom","left","right","opacity","height","width"],s=e.effects.setMode(n,t.mode||"hide"),r="show"===s,l=t.direction||"left",c="up"===l||"down"===l?"top":"left",h="up"===l||"left"===l?"pos":"neg",u={opacity:r?1:0};e.effects.save(n,o),n.show(),e.effects.createWrapper(n),a=t.distance||n["top"===c?"outerHeight":"outerWidth"](!0)/2,r&&n.css("opacity",0).css(c,"pos"===h?-a:a),u[c]=(r?"pos"===h?"+=":"-=":"pos"===h?"-=":"+=")+a,n.animate(u,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){"hide"===s&&n.hide(),e.effects.restore(n,o),e.effects.removeWrapper(n),i()}})},e.effects.effect.explode=function(t,i){function a(){y.push(this),y.length===u*d&&n()}function n(){p.css({visibility:"visible"}),e(y).remove(),m||p.hide(),i()}var o,s,r,l,c,h,u=t.pieces?Math.round(Math.sqrt(t.pieces)):3,d=u,p=e(this),f=e.effects.setMode(p,t.mode||"hide"),m="show"===f,g=p.show().css("visibility","hidden").offset(),v=Math.ceil(p.outerWidth()/d),b=Math.ceil(p.outerHeight()/u),y=[];for(o=0;u>o;o++)for(l=g.top+o*b,h=o-(u-1)/2,s=0;d>s;s++)r=g.left+s*v,c=s-(d-1)/2,p.clone().appendTo("body").wrap("<div></div>").css({position:"absolute",visibility:"visible",left:-s*v,top:-o*b}).parent().addClass("ui-effects-explode").css({position:"absolute",overflow:"hidden",width:v,height:b,left:r+(m?c*v:0),top:l+(m?h*b:0),opacity:m?0:1}).animate({left:r+(m?0:c*v),top:l+(m?0:h*b),opacity:m?1:0},t.duration||500,t.easing,a)},e.effects.effect.fade=function(t,i){var a=e(this),n=e.effects.setMode(a,t.mode||"toggle");a.animate({opacity:n},{queue:!1,duration:t.duration,easing:t.easing,complete:i})},e.effects.effect.fold=function(t,i){var a,n,o=e(this),s=["position","top","bottom","left","right","height","width"],r=e.effects.setMode(o,t.mode||"hide"),l="show"===r,c="hide"===r,h=t.size||15,u=/([0-9]+)%/.exec(h),d=!!t.horizFirst,p=l!==d,f=p?["width","height"]:["height","width"],m=t.duration/2,g={},v={};e.effects.save(o,s),o.show(),a=e.effects.createWrapper(o).css({overflow:"hidden"}),n=p?[a.width(),a.height()]:[a.height(),a.width()],u&&(h=parseInt(u[1],10)/100*n[c?0:1]),l&&a.css(d?{height:0,width:h}:{height:h,width:0}),g[f[0]]=l?n[0]:h,v[f[1]]=l?n[1]:0,a.animate(g,m,t.easing).animate(v,m,t.easing,function(){c&&o.hide(),e.effects.restore(o,s),e.effects.removeWrapper(o),i()})},e.effects.effect.highlight=function(t,i){var a=e(this),n=["backgroundImage","backgroundColor","opacity"],o=e.effects.setMode(a,t.mode||"show"),s={backgroundColor:a.css("backgroundColor")};"hide"===o&&(s.opacity=0),e.effects.save(a,n),a.show().css({backgroundImage:"none",backgroundColor:t.color||"#ffff99"}).animate(s,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){"hide"===o&&a.hide(),e.effects.restore(a,n),i()}})},e.effects.effect.size=function(t,i){var a,n,o,s=e(this),r=["position","top","bottom","left","right","width","height","overflow","opacity"],l=["position","top","bottom","left","right","overflow","opacity"],c=["width","height","overflow"],h=["fontSize"],u=["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"],d=["borderLeftWidth","borderRightWidth","paddingLeft","paddingRight"],p=e.effects.setMode(s,t.mode||"effect"),f=t.restore||"effect"!==p,m=t.scale||"both",g=t.origin||["middle","center"],v=s.css("position"),b=f?r:l,y={height:0,width:0,outerHeight:0,outerWidth:0};"show"===p&&s.show(),a={height:s.height(),width:s.width(),outerHeight:s.outerHeight(),outerWidth:s.outerWidth()},"toggle"===t.mode&&"show"===p?(s.from=t.to||y,s.to=t.from||a):(s.from=t.from||("show"===p?y:a),s.to=t.to||("hide"===p?y:a)),o={from:{y:s.from.height/a.height,x:s.from.width/a.width},to:{y:s.to.height/a.height,x:s.to.width/a.width}},("box"===m||"both"===m)&&(o.from.y!==o.to.y&&(b=b.concat(u),s.from=e.effects.setTransition(s,u,o.from.y,s.from),s.to=e.effects.setTransition(s,u,o.to.y,s.to)),o.from.x!==o.to.x&&(b=b.concat(d),s.from=e.effects.setTransition(s,d,o.from.x,s.from),s.to=e.effects.setTransition(s,d,o.to.x,s.to))),("content"===m||"both"===m)&&o.from.y!==o.to.y&&(b=b.concat(h).concat(c),s.from=e.effects.setTransition(s,h,o.from.y,s.from),s.to=e.effects.setTransition(s,h,o.to.y,s.to)),e.effects.save(s,b),s.show(),e.effects.createWrapper(s),s.css("overflow","hidden").css(s.from),g&&(n=e.effects.getBaseline(g,a),s.from.top=(a.outerHeight-s.outerHeight())*n.y,s.from.left=(a.outerWidth-s.outerWidth())*n.x,s.to.top=(a.outerHeight-s.to.outerHeight)*n.y,s.to.left=(a.outerWidth-s.to.outerWidth)*n.x),s.css(s.from),("content"===m||"both"===m)&&(u=u.concat(["marginTop","marginBottom"]).concat(h),d=d.concat(["marginLeft","marginRight"]),c=r.concat(u).concat(d),s.find("*[width]").each(function(){var i=e(this),a={height:i.height(),width:i.width(),outerHeight:i.outerHeight(),outerWidth:i.outerWidth()};f&&e.effects.save(i,c),i.from={height:a.height*o.from.y,width:a.width*o.from.x,outerHeight:a.outerHeight*o.from.y,outerWidth:a.outerWidth*o.from.x},i.to={height:a.height*o.to.y,width:a.width*o.to.x,outerHeight:a.height*o.to.y,outerWidth:a.width*o.to.x},o.from.y!==o.to.y&&(i.from=e.effects.setTransition(i,u,o.from.y,i.from),i.to=e.effects.setTransition(i,u,o.to.y,i.to)),o.from.x!==o.to.x&&(i.from=e.effects.setTransition(i,d,o.from.x,i.from),i.to=e.effects.setTransition(i,d,o.to.x,i.to)),i.css(i.from),i.animate(i.to,t.duration,t.easing,function(){f&&e.effects.restore(i,c)})})),s.animate(s.to,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){0===s.to.opacity&&s.css("opacity",s.from.opacity),"hide"===p&&s.hide(),e.effects.restore(s,b),f||("static"===v?s.css({position:"relative",top:s.to.top,left:s.to.left}):e.each(["top","left"],function(e,t){s.css(t,function(t,i){var a=parseInt(i,10),n=e?s.to.left:s.to.top;return"auto"===i?n+"px":a+n+"px"})})),e.effects.removeWrapper(s),i()}})},e.effects.effect.scale=function(t,i){var a=e(this),n=e.extend(!0,{},t),o=e.effects.setMode(a,t.mode||"effect"),s=parseInt(t.percent,10)||(0===parseInt(t.percent,10)?0:"hide"===o?0:100),r=t.direction||"both",l=t.origin,c={height:a.height(),width:a.width(),outerHeight:a.outerHeight(),outerWidth:a.outerWidth()},h={y:"horizontal"!==r?s/100:1,x:"vertical"!==r?s/100:1};n.effect="size",n.queue=!1,n.complete=i,"effect"!==o&&(n.origin=l||["middle","center"],n.restore=!0),n.from=t.from||("show"===o?{height:0,width:0,outerHeight:0,outerWidth:0}:c),n.to={height:c.height*h.y,width:c.width*h.x,outerHeight:c.outerHeight*h.y,outerWidth:c.outerWidth*h.x},n.fade&&("show"===o&&(n.from.opacity=0,n.to.opacity=1),"hide"===o&&(n.from.opacity=1,n.to.opacity=0)),a.effect(n)},e.effects.effect.puff=function(t,i){var a=e(this),n=e.effects.setMode(a,t.mode||"hide"),o="hide"===n,s=parseInt(t.percent,10)||150,r=s/100,l={height:a.height(),width:a.width(),outerHeight:a.outerHeight(),outerWidth:a.outerWidth()};e.extend(t,{effect:"scale",queue:!1,fade:!0,mode:n,complete:i,percent:o?s:100,from:o?l:{height:l.height*r,width:l.width*r,outerHeight:l.outerHeight*r,outerWidth:l.outerWidth*r}}),a.effect(t)},e.effects.effect.pulsate=function(t,i){var a,n=e(this),o=e.effects.setMode(n,t.mode||"show"),s="show"===o,r="hide"===o,l=s||"hide"===o,c=2*(t.times||5)+(l?1:0),h=t.duration/c,u=0,d=n.queue(),p=d.length;for((s||!n.is(":visible"))&&(n.css("opacity",0).show(),u=1),a=1;c>a;a++)n.animate({opacity:u},h,t.easing),u=1-u;n.animate({opacity:u},h,t.easing),n.queue(function(){r&&n.hide(),i()}),p>1&&d.splice.apply(d,[1,0].concat(d.splice(p,c+1))),n.dequeue()},e.effects.effect.shake=function(t,i){var a,n=e(this),o=["position","top","bottom","left","right","height","width"],s=e.effects.setMode(n,t.mode||"effect"),r=t.direction||"left",l=t.distance||20,c=t.times||3,h=2*c+1,u=Math.round(t.duration/h),d="up"===r||"down"===r?"top":"left",p="up"===r||"left"===r,f={},m={},g={},v=n.queue(),b=v.length;for(e.effects.save(n,o),n.show(),e.effects.createWrapper(n),f[d]=(p?"-=":"+=")+l,m[d]=(p?"+=":"-=")+2*l,g[d]=(p?"-=":"+=")+2*l,n.animate(f,u,t.easing),a=1;c>a;a++)n.animate(m,u,t.easing).animate(g,u,t.easing);n.animate(m,u,t.easing).animate(f,u/2,t.easing).queue(function(){"hide"===s&&n.hide(),e.effects.restore(n,o),e.effects.removeWrapper(n),i()}),b>1&&v.splice.apply(v,[1,0].concat(v.splice(b,h+1))),n.dequeue()},e.effects.effect.slide=function(t,i){var a,n=e(this),o=["position","top","bottom","left","right","width","height"],s=e.effects.setMode(n,t.mode||"show"),r="show"===s,l=t.direction||"left",c="up"===l||"down"===l?"top":"left",h="up"===l||"left"===l,u={};e.effects.save(n,o),n.show(),a=t.distance||n["top"===c?"outerHeight":"outerWidth"](!0),e.effects.createWrapper(n).css({overflow:"hidden"}),r&&n.css(c,h?isNaN(a)?"-"+a:-a:a),u[c]=(r?h?"+=":"-=":h?"-=":"+=")+a,n.animate(u,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){"hide"===s&&n.hide(),e.effects.restore(n,o),e.effects.removeWrapper(n),i()}})},e.effects.effect.transfer=function(t,i){var a=e(this),n=e(t.to),o="fixed"===n.css("position"),s=e("body"),r=o?s.scrollTop():0,l=o?s.scrollLeft():0,c=n.offset(),h={top:c.top-r,left:c.left-l,height:n.innerHeight(),width:n.innerWidth()},u=a.offset(),d=e("<div class='ui-effects-transfer'></div>").appendTo(document.body).addClass(t.className).css({top:u.top-r,left:u.left-l,height:a.innerHeight(),width:a.innerWidth(),position:o?"fixed":"absolute"}).animate(h,t.duration,t.easing,function(){d.remove(),i()})}}),function(e){function t(e,t){if(!(e.originalEvent.touches.length>1)){e.preventDefault();var i=e.originalEvent.changedTouches[0],a=document.createEvent("MouseEvents");a.initMouseEvent(t,!0,!0,window,1,i.screenX,i.screenY,i.clientX,i.clientY,!1,!1,!1,!1,0,null),e.target.dispatchEvent(a)}}if(e.support.touch="ontouchend"in document,e.support.touch){var i,a=e.ui.mouse.prototype,n=a._mouseInit,o=a._mouseDestroy;a._touchStart=function(e){var a=this;!i&&a._mouseCapture(e.originalEvent.changedTouches[0])&&(i=!0,a._touchMoved=!1,t(e,"mouseover"),t(e,"mousemove"),t(e,"mousedown"))},a._touchMove=function(e){i&&(this._touchMoved=!0,t(e,"mousemove"))},a._touchEnd=function(e){i&&(t(e,"mouseup"),t(e,"mouseout"),this._touchMoved||t(e,"click"),i=!1)},a._mouseInit=function(){var t=this;t.element.bind({touchstart:e.proxy(t,"_touchStart"),touchmove:e.proxy(t,"_touchMove"),touchend:e.proxy(t,"_touchEnd")}),n.call(t)},a._mouseDestroy=function(){var t=this;t.element.unbind({touchstart:e.proxy(t,"_touchStart"),touchmove:e.proxy(t,"_touchMove"),touchend:e.proxy(t,"_touchEnd")}),o.call(t)}}}(jQuery),void 0===jQuery.migrateMute&&(jQuery.migrateMute=!0),function(e,t,i){function a(i){var a=t.console;o[i]||(o[i]=!0,e.migrateWarnings.push(i),a&&a.warn&&!e.migrateMute&&(a.warn("JQMIGRATE: "+i),e.migrateTrace&&a.trace&&a.trace()))}function n(t,n,o,s){if(Object.defineProperty)try{return Object.defineProperty(t,n,{configurable:!0,enumerable:!0,get:function(){return a(s),o},set:function(e){a(s),o=e}}),i}catch(e){}e._definePropertyBroken=!0,t[n]=o}var o={};e.migrateWarnings=[],!e.migrateMute&&t.console&&t.console.log&&t.console.log("JQMIGRATE: Logging is active"),e.migrateTrace===i&&(e.migrateTrace=!0),e.migrateReset=function(){o={},e.migrateWarnings.length=0},"BackCompat"===document.compatMode&&a("jQuery is not compatible with Quirks Mode");var s=e("<input/>",{size:1}).attr("size")&&e.attrFn,r=e.attr,l=e.attrHooks.value&&e.attrHooks.value.get||function(){return null},c=e.attrHooks.value&&e.attrHooks.value.set||function(){return i},h=/^(?:input|button)$/i,u=/^[238]$/,d=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,p=/^(?:checked|selected)$/i;n(e,"attrFn",s||{},"jQuery.attrFn is deprecated"),e.attr=function(t,n,o,l){var c=n.toLowerCase(),f=t&&t.nodeType;return l&&(4>r.length&&a("jQuery.fn.attr( props, pass ) is deprecated"),t&&!u.test(f)&&(s?n in s:e.isFunction(e.fn[n])))?e(t)[n](o):("type"===n&&o!==i&&h.test(t.nodeName)&&t.parentNode&&a("Can't change the 'type' of an input or button in IE 6/7/8"),!e.attrHooks[c]&&d.test(c)&&(e.attrHooks[c]={get:function(t,a){var n,o=e.prop(t,a);return!0===o||"boolean"!=typeof o&&(n=t.getAttributeNode(a))&&!1!==n.nodeValue?a.toLowerCase():i},set:function(t,i,a){var n;return!1===i?e.removeAttr(t,a):(n=e.propFix[a]||a,n in t&&(t[n]=!0),t.setAttribute(a,a.toLowerCase())),a}},p.test(c)&&a("jQuery.fn.attr('"+c+"') may use property instead of attribute")),r.call(e,t,n,o))},e.attrHooks.value={get:function(e,t){var i=(e.nodeName||"").toLowerCase();return"button"===i?l.apply(this,arguments):("input"!==i&&"option"!==i&&a("jQuery.fn.attr('value') no longer gets properties"),t in e?e.value:null)},set:function(e,t){var n=(e.nodeName||"").toLowerCase();return"button"===n?c.apply(this,arguments):("input"!==n&&"option"!==n&&a("jQuery.fn.attr('value', val) no longer sets properties"),e.value=t,i)}};var f,m,g=e.fn.init,v=e.parseJSON,b=/^([^<]*)(<[\w\W]+>)([^>]*)$/;e.fn.init=function(t,i,n){var o;return t&&"string"==typeof t&&!e.isPlainObject(i)&&(o=b.exec(e.trim(t)))&&o[0]&&("<"!==t.charAt(0)&&a("$(html) HTML strings must start with '<' character"),o[3]&&a("$(html) HTML text after last tag is ignored"),"#"===o[0].charAt(0)&&(a("HTML string cannot start with a '#' character"),
e.error("JQMIGRATE: Invalid selector string (XSS)")),i&&i.context&&(i=i.context),e.parseHTML)?g.call(this,e.parseHTML(o[2],i,!0),i,n):g.apply(this,arguments)},e.fn.init.prototype=e.fn,e.parseJSON=function(e){return e||null===e?v.apply(this,arguments):(a("jQuery.parseJSON requires a valid JSON string"),null)},e.uaMatch=function(e){e=e.toLowerCase();var t=/(chrome)[ \/]([\w.]+)/.exec(e)||/(webkit)[ \/]([\w.]+)/.exec(e)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(e)||/(msie) ([\w.]+)/.exec(e)||0>e.indexOf("compatible")&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(e)||[];return{browser:t[1]||"",version:t[2]||"0"}},e.browser||(f=e.uaMatch(navigator.userAgent),m={},f.browser&&(m[f.browser]=!0,m.version=f.version),m.chrome?m.webkit=!0:m.webkit&&(m.safari=!0),e.browser=m),n(e,"browser",e.browser,"jQuery.browser is deprecated"),e.sub=function(){function t(e,i){return new t.fn.init(e,i)}e.extend(!0,t,this),t.superclass=this,t.fn=t.prototype=this(),t.fn.constructor=t,t.sub=this.sub,t.fn.init=function(a,n){return n&&n instanceof e&&!(n instanceof t)&&(n=t(n)),e.fn.init.call(this,a,n,i)},t.fn.init.prototype=t.fn;var i=t(document);return a("jQuery.sub() is deprecated"),t},e.ajaxSetup({converters:{"text json":e.parseJSON}});var y=e.fn.data;e.fn.data=function(t){var n,o,s=this[0];return!s||"events"!==t||1!==arguments.length||(n=e.data(s,t),o=e._data(s,t),n!==i&&n!==o||o===i)?y.apply(this,arguments):(a("Use of jQuery.fn.data('events') is deprecated"),o)};var x=/\/(java|ecma)script/i,C=e.fn.andSelf||e.fn.addBack;e.fn.andSelf=function(){return a("jQuery.fn.andSelf() replaced by jQuery.fn.addBack()"),C.apply(this,arguments)},e.clean||(e.clean=function(t,n,o,s){n=n||document,n=!n.nodeType&&n[0]||n,n=n.ownerDocument||n,a("jQuery.clean() is deprecated");var r,l,c,h,u=[];if(e.merge(u,e.buildFragment(t,n).childNodes),o)for(c=function(e){return!e.type||x.test(e.type)?s?s.push(e.parentNode?e.parentNode.removeChild(e):e):o.appendChild(e):i},r=0;null!=(l=u[r]);r++)e.nodeName(l,"script")&&c(l)||(o.appendChild(l),l.getElementsByTagName!==i&&(h=e.grep(e.merge([],l.getElementsByTagName("script")),c),u.splice.apply(u,[r+1,0].concat(h)),r+=h.length));return u});var w=e.event.add,k=e.event.remove,S=e.event.trigger,D=e.fn.toggle,T=e.fn.live,M=e.fn.die,P="ajaxStart|ajaxStop|ajaxSend|ajaxComplete|ajaxError|ajaxSuccess",$=RegExp("\\b(?:"+P+")\\b"),_=/(?:^|\s)hover(\.\S+|)\b/,A=function(t){return"string"!=typeof t||e.event.special.hover?t:(_.test(t)&&a("'hover' pseudo-event is deprecated, use 'mouseenter mouseleave'"),t&&t.replace(_,"mouseenter$1 mouseleave$1"))};e.event.props&&"attrChange"!==e.event.props[0]&&e.event.props.unshift("attrChange","attrName","relatedNode","srcElement"),e.event.dispatch&&n(e.event,"handle",e.event.dispatch,"jQuery.event.handle is undocumented and deprecated"),e.event.add=function(e,t,i,n,o){e!==document&&$.test(t)&&a("AJAX events should be attached to document: "+t),w.call(this,e,A(t||""),i,n,o)},e.event.remove=function(e,t,i,a,n){k.call(this,e,A(t)||"",i,a,n)},e.fn.error=function(){var e=Array.prototype.slice.call(arguments,0);return a("jQuery.fn.error() is deprecated"),e.splice(0,0,"error"),arguments.length?this.bind.apply(this,e):(this.triggerHandler.apply(this,e),this)},e.fn.toggle=function(t,i){if(!e.isFunction(t)||!e.isFunction(i))return D.apply(this,arguments);a("jQuery.fn.toggle(handler, handler...) is deprecated");var n=arguments,o=t.guid||e.guid++,s=0,r=function(i){var a=(e._data(this,"lastToggle"+t.guid)||0)%s;return e._data(this,"lastToggle"+t.guid,a+1),i.preventDefault(),n[a].apply(this,arguments)||!1};for(r.guid=o;n.length>s;)n[s++].guid=o;return this.click(r)},e.fn.live=function(t,i,n){return a("jQuery.fn.live() is deprecated"),T?T.apply(this,arguments):(e(this.context).on(t,this.selector,i,n),this)},e.fn.die=function(t,i){return a("jQuery.fn.die() is deprecated"),M?M.apply(this,arguments):(e(this.context).off(t,this.selector||"**",i),this)},e.event.trigger=function(e,t,i,n){return i||$.test(e)||a("Global events are undocumented and deprecated"),S.call(this,e,t,i||document,n)},e.each(P.split("|"),function(t,i){e.event.special[i]={setup:function(){var t=this;return t!==document&&(e.event.add(document,i+"."+e.guid,function(){e.event.trigger(i,null,t,!0)}),e._data(this,i,e.guid++)),!1},teardown:function(){return this!==document&&e.event.remove(document,i+"."+e._data(this,i)),!1}}})}(jQuery,window),"undefined"==typeof jQuery)throw new Error("Bootstrap's JavaScript requires jQuery");+function(e){"use strict";var t=e.fn.jquery.split(" ")[0].split(".");if(t[0]<2&&t[1]<9||1==t[0]&&9==t[1]&&t[2]<1)throw new Error("Bootstrap's JavaScript requires jQuery version 1.9.1 or higher")}(jQuery),function(e){"use strict";function t(){var e=document.createElement("bootstrap"),t={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var i in t)if(void 0!==e.style[i])return{end:t[i]};return!1}e.fn.emulateTransitionEnd=function(t){var i=!1,a=this;e(this).one("bsTransitionEnd",function(){i=!0});var n=function(){i||e(a).trigger(e.support.transition.end)};return setTimeout(n,t),this},e(function(){e.support.transition=t(),e.support.transition&&(e.event.special.bsTransitionEnd={bindType:e.support.transition.end,delegateType:e.support.transition.end,handle:function(t){return e(t.target).is(this)?t.handleObj.handler.apply(this,arguments):void 0}})})}(jQuery),function(e){"use strict";function t(t){return this.each(function(){var i=e(this),n=i.data("bs.alert");n||i.data("bs.alert",n=new a(this)),"string"==typeof t&&n[t].call(i)})}var i='[data-dismiss="alert"]',a=function(t){e(t).on("click",i,this.close)};a.VERSION="3.3.4",a.TRANSITION_DURATION=150,a.prototype.close=function(t){function i(){s.detach().trigger("closed.bs.alert").remove()}var n=e(this),o=n.attr("data-target");o||(o=n.attr("href"),o=o&&o.replace(/.*(?=#[^\s]*$)/,""));var s=e(o);t&&t.preventDefault(),s.length||(s=n.closest(".alert")),s.trigger(t=e.Event("close.bs.alert")),t.isDefaultPrevented()||(s.removeClass("in"),e.support.transition&&s.hasClass("fade")?s.one("bsTransitionEnd",i).emulateTransitionEnd(a.TRANSITION_DURATION):i())};var n=e.fn.alert;e.fn.alert=t,e.fn.alert.Constructor=a,e.fn.alert.noConflict=function(){return e.fn.alert=n,this},e(document).on("click.bs.alert.data-api",i,a.prototype.close)}(jQuery),function(e){"use strict";function t(t){return this.each(function(){var a=e(this),n=a.data("bs.button"),o="object"==typeof t&&t;n||a.data("bs.button",n=new i(this,o)),"toggle"==t?n.toggle():t&&n.setState(t)})}var i=function(t,a){this.$element=e(t),this.options=e.extend({},i.DEFAULTS,a),this.isLoading=!1};i.VERSION="3.3.4",i.DEFAULTS={loadingText:"loading..."},i.prototype.setState=function(t){var i="disabled",a=this.$element,n=a.is("input")?"val":"html",o=a.data();t+="Text",null==o.resetText&&a.data("resetText",a[n]()),setTimeout(e.proxy(function(){a[n](null==o[t]?this.options[t]:o[t]),"loadingText"==t?(this.isLoading=!0,a.addClass(i).attr(i,i)):this.isLoading&&(this.isLoading=!1,a.removeClass(i).removeAttr(i))},this),0)},i.prototype.toggle=function(){var e=!0,t=this.$element.closest('[data-toggle="buttons"]');if(t.length){var i=this.$element.find("input");"radio"==i.prop("type")&&(i.prop("checked")&&this.$element.hasClass("active")?e=!1:t.find(".active").removeClass("active")),e&&i.prop("checked",!this.$element.hasClass("active")).trigger("change")}else this.$element.attr("aria-pressed",!this.$element.hasClass("active"));e&&this.$element.toggleClass("active")};var a=e.fn.button;e.fn.button=t,e.fn.button.Constructor=i,e.fn.button.noConflict=function(){return e.fn.button=a,this},e(document).on("click.bs.button.data-api",'[data-toggle^="button"]',function(i){var a=e(i.target);a.hasClass("btn")||(a=a.closest(".btn")),t.call(a,"toggle"),i.preventDefault()}).on("focus.bs.button.data-api blur.bs.button.data-api",'[data-toggle^="button"]',function(t){e(t.target).closest(".btn").toggleClass("focus",/^focus(in)?$/.test(t.type))})}(jQuery),function(e){"use strict";function t(t){return this.each(function(){var a=e(this),n=a.data("bs.carousel"),o=e.extend({},i.DEFAULTS,a.data(),"object"==typeof t&&t),s="string"==typeof t?t:o.slide;n||a.data("bs.carousel",n=new i(this,o)),"number"==typeof t?n.to(t):s?n[s]():o.interval&&n.pause().cycle()})}var i=function(t,i){this.$element=e(t),this.$indicators=this.$element.find(".carousel-indicators"),this.options=i,this.paused=null,this.sliding=null,this.interval=null,this.$active=null,this.$items=null,this.options.keyboard&&this.$element.on("keydown.bs.carousel",e.proxy(this.keydown,this)),"hover"==this.options.pause&&!("ontouchstart"in document.documentElement)&&this.$element.on("mouseenter.bs.carousel",e.proxy(this.pause,this)).on("mouseleave.bs.carousel",e.proxy(this.cycle,this))};i.VERSION="3.3.4",i.TRANSITION_DURATION=600,i.DEFAULTS={interval:5e3,pause:"hover",wrap:!0,keyboard:!0},i.prototype.keydown=function(e){if(!/input|textarea/i.test(e.target.tagName)){switch(e.which){case 37:this.prev();break;case 39:this.next();break;default:return}e.preventDefault()}},i.prototype.cycle=function(t){return t||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(e.proxy(this.next,this),this.options.interval)),this},i.prototype.getItemIndex=function(e){return this.$items=e.parent().children(".item"),this.$items.index(e||this.$active)},i.prototype.getItemForDirection=function(e,t){var i=this.getItemIndex(t);if(("prev"==e&&0===i||"next"==e&&i==this.$items.length-1)&&!this.options.wrap)return t;var a="prev"==e?-1:1,n=(i+a)%this.$items.length;return this.$items.eq(n)},i.prototype.to=function(e){var t=this,i=this.getItemIndex(this.$active=this.$element.find(".item.active"));return e>this.$items.length-1||0>e?void 0:this.sliding?this.$element.one("slid.bs.carousel",function(){t.to(e)}):i==e?this.pause().cycle():this.slide(e>i?"next":"prev",this.$items.eq(e))},i.prototype.pause=function(t){return t||(this.paused=!0),this.$element.find(".next, .prev").length&&e.support.transition&&(this.$element.trigger(e.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this},i.prototype.next=function(){return this.sliding?void 0:this.slide("next")},i.prototype.prev=function(){return this.sliding?void 0:this.slide("prev")},i.prototype.slide=function(t,a){var n=this.$element.find(".item.active"),o=a||this.getItemForDirection(t,n),s=this.interval,r="next"==t?"left":"right",l=this;if(o.hasClass("active"))return this.sliding=!1;var c=o[0],h=e.Event("slide.bs.carousel",{relatedTarget:c,direction:r});if(this.$element.trigger(h),!h.isDefaultPrevented()){if(this.sliding=!0,s&&this.pause(),this.$indicators.length){this.$indicators.find(".active").removeClass("active");var u=e(this.$indicators.children()[this.getItemIndex(o)]);u&&u.addClass("active")}var d=e.Event("slid.bs.carousel",{relatedTarget:c,direction:r});return e.support.transition&&this.$element.hasClass("slide")?(o.addClass(t),o[0].offsetWidth,n.addClass(r),o.addClass(r),n.one("bsTransitionEnd",function(){o.removeClass([t,r].join(" ")).addClass("active"),n.removeClass(["active",r].join(" ")),l.sliding=!1,setTimeout(function(){l.$element.trigger(d)},0)}).emulateTransitionEnd(i.TRANSITION_DURATION)):(n.removeClass("active"),o.addClass("active"),this.sliding=!1,this.$element.trigger(d)),s&&this.cycle(),this}};var a=e.fn.carousel;e.fn.carousel=t,e.fn.carousel.Constructor=i,e.fn.carousel.noConflict=function(){return e.fn.carousel=a,this};var n=function(i){var a,n=e(this),o=e(n.attr("data-target")||(a=n.attr("href"))&&a.replace(/.*(?=#[^\s]+$)/,""));if(o.hasClass("carousel")){var s=e.extend({},o.data(),n.data()),r=n.attr("data-slide-to");r&&(s.interval=!1),t.call(o,s),r&&o.data("bs.carousel").to(r),i.preventDefault()}};e(document).on("click.bs.carousel.data-api","[data-slide]",n).on("click.bs.carousel.data-api","[data-slide-to]",n),e(window).on("load",function(){e('[data-ride="carousel"]').each(function(){var i=e(this);t.call(i,i.data())})})}(jQuery),function(e){"use strict";function t(t){var i,a=t.attr("data-target")||(i=t.attr("href"))&&i.replace(/.*(?=#[^\s]+$)/,"");return e(a)}function i(t){return this.each(function(){var i=e(this),n=i.data("bs.collapse"),o=e.extend({},a.DEFAULTS,i.data(),"object"==typeof t&&t);!n&&o.toggle&&/show|hide/.test(t)&&(o.toggle=!1),n||i.data("bs.collapse",n=new a(this,o)),"string"==typeof t&&n[t]()})}var a=function(t,i){this.$element=e(t),this.options=e.extend({},a.DEFAULTS,i),this.$trigger=e('[data-toggle="collapse"][href="#'+t.id+'"],[data-toggle="collapse"][data-target="#'+t.id+'"]'),this.transitioning=null,this.options.parent?this.$parent=this.getParent():this.addAriaAndCollapsedClass(this.$element,this.$trigger),this.options.toggle&&this.toggle()};a.VERSION="3.3.4",a.TRANSITION_DURATION=350,a.DEFAULTS={toggle:!0},a.prototype.dimension=function(){return this.$element.hasClass("width")?"width":"height"},a.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var t,n=this.$parent&&this.$parent.children(".panel").children(".in, .collapsing");if(!(n&&n.length&&(t=n.data("bs.collapse"))&&t.transitioning)){var o=e.Event("show.bs.collapse");if(this.$element.trigger(o),!o.isDefaultPrevented()){n&&n.length&&(i.call(n,"hide"),t||n.data("bs.collapse",null));var s=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[s](0).attr("aria-expanded",!0),this.$trigger.removeClass("collapsed").attr("aria-expanded",!0),this.transitioning=1;var r=function(){this.$element.removeClass("collapsing").addClass("collapse in")[s](""),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!e.support.transition)return r.call(this);var l=e.camelCase(["scroll",s].join("-"));this.$element.one("bsTransitionEnd",e.proxy(r,this)).emulateTransitionEnd(a.TRANSITION_DURATION)[s](this.$element[0][l])}}}},a.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var t=e.Event("hide.bs.collapse");if(this.$element.trigger(t),!t.isDefaultPrevented()){var i=this.dimension();this.$element[i](this.$element[i]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse in").attr("aria-expanded",!1),this.$trigger.addClass("collapsed").attr("aria-expanded",!1),this.transitioning=1;var n=function(){this.transitioning=0,this.$element.removeClass("collapsing").addClass("collapse").trigger("hidden.bs.collapse")};return e.support.transition?void this.$element[i](0).one("bsTransitionEnd",e.proxy(n,this)).emulateTransitionEnd(a.TRANSITION_DURATION):n.call(this)}}},a.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()},a.prototype.getParent=function(){return e(this.options.parent).find('[data-toggle="collapse"][data-parent="'+this.options.parent+'"]').each(e.proxy(function(i,a){var n=e(a);this.addAriaAndCollapsedClass(t(n),n)},this)).end()},a.prototype.addAriaAndCollapsedClass=function(e,t){var i=e.hasClass("in");e.attr("aria-expanded",i),t.toggleClass("collapsed",!i).attr("aria-expanded",i)};var n=e.fn.collapse;e.fn.collapse=i,e.fn.collapse.Constructor=a,e.fn.collapse.noConflict=function(){return e.fn.collapse=n,this},e(document).on("click.bs.collapse.data-api",'[data-toggle="collapse"]',function(a){var n=e(this);n.attr("data-target")||a.preventDefault();var o=t(n),s=o.data("bs.collapse"),r=s?"toggle":n.data();i.call(o,r)})}(jQuery),function(e){"use strict";function t(t){t&&3===t.which||(e(n).remove(),e(o).each(function(){var a=e(this),n=i(a),o={relatedTarget:this};n.hasClass("open")&&(n.trigger(t=e.Event("hide.bs.dropdown",o)),t.isDefaultPrevented()||(a.attr("aria-expanded","false"),n.removeClass("open").trigger("hidden.bs.dropdown",o)))}))}function i(t){var i=t.attr("data-target");i||(i=t.attr("href"),i=i&&/#[A-Za-z]/.test(i)&&i.replace(/.*(?=#[^\s]*$)/,""));var a=i&&e(i);return a&&a.length?a:t.parent()}function a(t){return this.each(function(){var i=e(this),a=i.data("bs.dropdown");a||i.data("bs.dropdown",a=new s(this)),"string"==typeof t&&a[t].call(i)})}var n=".dropdown-backdrop",o='[data-toggle="dropdown"]',s=function(t){e(t).on("click.bs.dropdown",this.toggle)};s.VERSION="3.3.4",s.prototype.toggle=function(a){var n=e(this);if(!n.is(".disabled, :disabled")){var o=i(n),s=o.hasClass("open");if(t(),!s){"ontouchstart"in document.documentElement&&!o.closest(".navbar-nav").length&&e('<div class="dropdown-backdrop"/>').insertAfter(e(this)).on("click",t);var r={relatedTarget:this};if(o.trigger(a=e.Event("show.bs.dropdown",r)),a.isDefaultPrevented())return;n.trigger("focus").attr("aria-expanded","true"),o.toggleClass("open").trigger("shown.bs.dropdown",r)}return!1}},s.prototype.keydown=function(t){if(/(38|40|27|32)/.test(t.which)&&!/input|textarea/i.test(t.target.tagName)){var a=e(this);if(t.preventDefault(),t.stopPropagation(),!a.is(".disabled, :disabled")){var n=i(a),s=n.hasClass("open");if(!s&&27!=t.which||s&&27==t.which)return 27==t.which&&n.find(o).trigger("focus"),a.trigger("click");var r=" li:not(.disabled):visible a",l=n.find('[role="menu"]'+r+', [role="listbox"]'+r);if(l.length){var c=l.index(t.target);38==t.which&&c>0&&c--,40==t.which&&c<l.length-1&&c++,~c||(c=0),l.eq(c).trigger("focus")}}}};var r=e.fn.dropdown;e.fn.dropdown=a,e.fn.dropdown.Constructor=s,e.fn.dropdown.noConflict=function(){return e.fn.dropdown=r,this},e(document).on("click.bs.dropdown.data-api",t).on("click.bs.dropdown.data-api",".dropdown form",function(e){e.stopPropagation()}).on("click.bs.dropdown.data-api",o,s.prototype.toggle).on("keydown.bs.dropdown.data-api",o,s.prototype.keydown).on("keydown.bs.dropdown.data-api",'[role="menu"]',s.prototype.keydown).on("keydown.bs.dropdown.data-api",'[role="listbox"]',s.prototype.keydown)}(jQuery),function(e){"use strict";function t(t,a){return this.each(function(){var n=e(this),o=n.data("bs.modal"),s=e.extend({},i.DEFAULTS,n.data(),"object"==typeof t&&t);o||n.data("bs.modal",o=new i(this,s)),"string"==typeof t?o[t](a):s.show&&o.show(a)})}var i=function(t,i){this.options=i,this.$body=e(document.body),this.$element=e(t),this.$dialog=this.$element.find(".modal-dialog"),this.$backdrop=null,this.isShown=null,this.originalBodyPad=null,this.scrollbarWidth=0,this.ignoreBackdropClick=!1,this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,e.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))};i.VERSION="3.3.4",i.TRANSITION_DURATION=300,i.BACKDROP_TRANSITION_DURATION=150,i.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},i.prototype.toggle=function(e){return this.isShown?this.hide():this.show(e)},i.prototype.show=function(t){var a=this,n=e.Event("show.bs.modal",{relatedTarget:t});this.$element.trigger(n),this.isShown||n.isDefaultPrevented()||(this.isShown=!0,this.checkScrollbar(),this.setScrollbar(),this.$body.addClass("modal-open"),this.escape(),this.resize(),this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',e.proxy(this.hide,this)),this.$dialog.on("mousedown.dismiss.bs.modal",function(){a.$element.one("mouseup.dismiss.bs.modal",function(t){e(t.target).is(a.$element)&&(a.ignoreBackdropClick=!0)})}),this.backdrop(function(){var n=e.support.transition&&a.$element.hasClass("fade");a.$element.parent().length||a.$element.appendTo(a.$body),a.$element.show().scrollTop(0),a.adjustDialog(),n&&a.$element[0].offsetWidth,a.$element.addClass("in").attr("aria-hidden",!1),a.enforceFocus();var o=e.Event("shown.bs.modal",{relatedTarget:t});n?a.$dialog.one("bsTransitionEnd",function(){a.$element.trigger("focus").trigger(o)}).emulateTransitionEnd(i.TRANSITION_DURATION):a.$element.trigger("focus").trigger(o)}))},i.prototype.hide=function(t){t&&t.preventDefault(),t=e.Event("hide.bs.modal"),this.$element.trigger(t),this.isShown&&!t.isDefaultPrevented()&&(this.isShown=!1,this.escape(),this.resize(),e(document).off("focusin.bs.modal"),this.$element.removeClass("in").attr("aria-hidden",!0).off("click.dismiss.bs.modal").off("mouseup.dismiss.bs.modal"),this.$dialog.off("mousedown.dismiss.bs.modal"),e.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",e.proxy(this.hideModal,this)).emulateTransitionEnd(i.TRANSITION_DURATION):this.hideModal())},i.prototype.enforceFocus=function(){e(document).off("focusin.bs.modal").on("focusin.bs.modal",e.proxy(function(e){this.$element[0]===e.target||this.$element.has(e.target).length||this.$element.trigger("focus")},this))},i.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keydown.dismiss.bs.modal",e.proxy(function(e){27==e.which&&this.hide()},this)):this.isShown||this.$element.off("keydown.dismiss.bs.modal")},i.prototype.resize=function(){this.isShown?e(window).on("resize.bs.modal",e.proxy(this.handleUpdate,this)):e(window).off("resize.bs.modal")},i.prototype.hideModal=function(){var e=this;this.$element.hide(),this.backdrop(function(){e.$body.removeClass("modal-open"),e.resetAdjustments(),e.resetScrollbar(),e.$element.trigger("hidden.bs.modal")})},i.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},i.prototype.backdrop=function(t){var a=this,n=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var o=e.support.transition&&n;if(this.$backdrop=e('<div class="modal-backdrop '+n+'" />').appendTo(this.$body),this.$element.on("click.dismiss.bs.modal",e.proxy(function(e){return this.ignoreBackdropClick?void(this.ignoreBackdropClick=!1):void(e.target===e.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus():this.hide()))},this)),o&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!t)return;o?this.$backdrop.one("bsTransitionEnd",t).emulateTransitionEnd(i.BACKDROP_TRANSITION_DURATION):t()}else if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass("in");var s=function(){a.removeBackdrop(),t&&t()};e.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one("bsTransitionEnd",s).emulateTransitionEnd(i.BACKDROP_TRANSITION_DURATION):s()}else t&&t()},i.prototype.handleUpdate=function(){this.adjustDialog()},i.prototype.adjustDialog=function(){var e=this.$element[0].scrollHeight>document.documentElement.clientHeight;this.$element.css({paddingLeft:!this.bodyIsOverflowing&&e?this.scrollbarWidth:"",paddingRight:this.bodyIsOverflowing&&!e?this.scrollbarWidth:""})},i.prototype.resetAdjustments=function(){this.$element.css({paddingLeft:"",paddingRight:""})},i.prototype.checkScrollbar=function(){var e=window.innerWidth;if(!e){var t=document.documentElement.getBoundingClientRect();e=t.right-Math.abs(t.left)}this.bodyIsOverflowing=document.body.clientWidth<e,this.scrollbarWidth=this.measureScrollbar()},i.prototype.setScrollbar=function(){var e=parseInt(this.$body.css("padding-right")||0,10);this.originalBodyPad=document.body.style.paddingRight||"",this.bodyIsOverflowing&&this.$body.css("padding-right",e+this.scrollbarWidth)},i.prototype.resetScrollbar=function(){this.$body.css("padding-right",this.originalBodyPad)},i.prototype.measureScrollbar=function(){var e=document.createElement("div");e.className="modal-scrollbar-measure",this.$body.append(e);var t=e.offsetWidth-e.clientWidth;return this.$body[0].removeChild(e),t};var a=e.fn.modal;e.fn.modal=t,e.fn.modal.Constructor=i,e.fn.modal.noConflict=function(){return e.fn.modal=a,this},e(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(i){var a=e(this),n=a.attr("href"),o=e(a.attr("data-target")||n&&n.replace(/.*(?=#[^\s]+$)/,"")),s=o.data("bs.modal")?"toggle":e.extend({remote:!/#/.test(n)&&n},o.data(),a.data());a.is("a")&&i.preventDefault(),o.one("show.bs.modal",function(e){e.isDefaultPrevented()||o.one("hidden.bs.modal",function(){a.is(":visible")&&a.trigger("focus")})}),t.call(o,s,this)})}(jQuery),function(e){"use strict";function t(t){return this.each(function(){var a=e(this),n=a.data("bs.tooltip"),o="object"==typeof t&&t;(n||!/destroy|hide/.test(t))&&(n||a.data("bs.tooltip",n=new i(this,o)),"string"==typeof t&&n[t]())})}var i=function(e,t){this.type=null,this.options=null,this.enabled=null,this.timeout=null,this.hoverState=null,this.$element=null,this.init("tooltip",e,t)};i.VERSION="3.3.4",i.TRANSITION_DURATION=150,i.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1,viewport:{selector:"body",padding:0}},i.prototype.init=function(t,i,a){if(this.enabled=!0,this.type=t,this.$element=e(i),this.options=this.getOptions(a),this.$viewport=this.options.viewport&&e(this.options.viewport.selector||this.options.viewport),this.$element[0]instanceof document.constructor&&!this.options.selector)throw new Error("`selector` option must be specified when initializing "+this.type+" on the window.document object!");for(var n=this.options.trigger.split(" "),o=n.length;o--;){var s=n[o];if("click"==s)this.$element.on("click."+this.type,this.options.selector,e.proxy(this.toggle,this));else if("manual"!=s){var r="hover"==s?"mouseenter":"focusin",l="hover"==s?"mouseleave":"focusout";this.$element.on(r+"."+this.type,this.options.selector,e.proxy(this.enter,this)),this.$element.on(l+"."+this.type,this.options.selector,e.proxy(this.leave,this))}}this.options.selector?this._options=e.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},i.prototype.getDefaults=function(){return i.DEFAULTS},i.prototype.getOptions=function(t){return t=e.extend({},this.getDefaults(),this.$element.data(),t),t.delay&&"number"==typeof t.delay&&(t.delay={show:t.delay,hide:t.delay}),t},i.prototype.getDelegateOptions=function(){var t={},i=this.getDefaults();return this._options&&e.each(this._options,function(e,a){i[e]!=a&&(t[e]=a)}),t},i.prototype.enter=function(t){var i=t instanceof this.constructor?t:e(t.currentTarget).data("bs."+this.type);return i&&i.$tip&&i.$tip.is(":visible")?void(i.hoverState="in"):(i||(i=new this.constructor(t.currentTarget,this.getDelegateOptions()),e(t.currentTarget).data("bs."+this.type,i)),clearTimeout(i.timeout),i.hoverState="in",i.options.delay&&i.options.delay.show?void(i.timeout=setTimeout(function(){"in"==i.hoverState&&i.show()},i.options.delay.show)):i.show())},i.prototype.leave=function(t){var i=t instanceof this.constructor?t:e(t.currentTarget).data("bs."+this.type);return i||(i=new this.constructor(t.currentTarget,this.getDelegateOptions()),e(t.currentTarget).data("bs."+this.type,i)),clearTimeout(i.timeout),i.hoverState="out",i.options.delay&&i.options.delay.hide?void(i.timeout=setTimeout(function(){"out"==i.hoverState&&i.hide()},i.options.delay.hide)):i.hide()},i.prototype.show=function(){var t=e.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){this.$element.trigger(t);var a=e.contains(this.$element[0].ownerDocument.documentElement,this.$element[0]);if(t.isDefaultPrevented()||!a)return;var n=this,o=this.tip(),s=this.getUID(this.type);this.setContent(),o.attr("id",s),this.$element.attr("aria-describedby",s),this.options.animation&&o.addClass("fade");var r="function"==typeof this.options.placement?this.options.placement.call(this,o[0],this.$element[0]):this.options.placement,l=/\s?auto?\s?/i,c=l.test(r);c&&(r=r.replace(l,"")||"top"),o.detach().css({top:0,left:0,display:"block"}).addClass(r).data("bs."+this.type,this),this.options.container?o.appendTo(this.options.container):o.insertAfter(this.$element);var h=this.getPosition(),u=o[0].offsetWidth,d=o[0].offsetHeight;if(c){var p=r,f=this.options.container?e(this.options.container):this.$element.parent(),m=this.getPosition(f);r="bottom"==r&&h.bottom+d>m.bottom?"top":"top"==r&&h.top-d<m.top?"bottom":"right"==r&&h.right+u>m.width?"left":"left"==r&&h.left-u<m.left?"right":r,o.removeClass(p).addClass(r)}var g=this.getCalculatedOffset(r,h,u,d);this.applyPlacement(g,r);var v=function(){var e=n.hoverState;n.$element.trigger("shown.bs."+n.type),n.hoverState=null,"out"==e&&n.leave(n)};e.support.transition&&this.$tip.hasClass("fade")?o.one("bsTransitionEnd",v).emulateTransitionEnd(i.TRANSITION_DURATION):v()}},i.prototype.applyPlacement=function(t,i){var a=this.tip(),n=a[0].offsetWidth,o=a[0].offsetHeight,s=parseInt(a.css("margin-top"),10),r=parseInt(a.css("margin-left"),10);isNaN(s)&&(s=0),isNaN(r)&&(r=0),t.top=t.top+s,t.left=t.left+r,e.offset.setOffset(a[0],e.extend({using:function(e){a.css({top:Math.round(e.top),left:Math.round(e.left)})}},t),0),a.addClass("in");var l=a[0].offsetWidth,c=a[0].offsetHeight;"top"==i&&c!=o&&(t.top=t.top+o-c);var h=this.getViewportAdjustedDelta(i,t,l,c);h.left?t.left+=h.left:t.top+=h.top;var u=/top|bottom/.test(i),d=u?2*h.left-n+l:2*h.top-o+c,p=u?"offsetWidth":"offsetHeight";a.offset(t),this.replaceArrow(d,a[0][p],u)},i.prototype.replaceArrow=function(e,t,i){this.arrow().css(i?"left":"top",50*(1-e/t)+"%").css(i?"top":"left","")},i.prototype.setContent=function(){var e=this.tip(),t=this.getTitle();e.find(".tooltip-inner")[this.options.html?"html":"text"](t),e.removeClass("fade in top bottom left right")},i.prototype.hide=function(t){function a(){"in"!=n.hoverState&&o.detach(),n.$element.removeAttr("aria-describedby").trigger("hidden.bs."+n.type),t&&t()}var n=this,o=e(this.$tip),s=e.Event("hide.bs."+this.type);return this.$element.trigger(s),s.isDefaultPrevented()?void 0:(o.removeClass("in"),e.support.transition&&o.hasClass("fade")?o.one("bsTransitionEnd",a).emulateTransitionEnd(i.TRANSITION_DURATION):a(),this.hoverState=null,this)},i.prototype.fixTitle=function(){var e=this.$element;(e.attr("title")||"string"!=typeof e.attr("data-original-title"))&&e.attr("data-original-title",e.attr("title")||"").attr("title","")},i.prototype.hasContent=function(){return this.getTitle()},i.prototype.getPosition=function(t){t=t||this.$element;var i=t[0],a="BODY"==i.tagName,n=i.getBoundingClientRect();null==n.width&&(n=e.extend({},n,{width:n.right-n.left,height:n.bottom-n.top}));var o=a?{top:0,left:0}:t.offset(),s={scroll:a?document.documentElement.scrollTop||document.body.scrollTop:t.scrollTop()},r=a?{width:e(window).width(),height:e(window).height()}:null;return e.extend({},n,s,r,o)},i.prototype.getCalculatedOffset=function(e,t,i,a){return"bottom"==e?{top:t.top+t.height,left:t.left+t.width/2-i/2}:"top"==e?{top:t.top-a,left:t.left+t.width/2-i/2}:"left"==e?{top:t.top+t.height/2-a/2,left:t.left-i}:{top:t.top+t.height/2-a/2,left:t.left+t.width}},i.prototype.getViewportAdjustedDelta=function(e,t,i,a){var n={top:0,left:0};if(!this.$viewport)return n;var o=this.options.viewport&&this.options.viewport.padding||0,s=this.getPosition(this.$viewport);if(/right|left/.test(e)){var r=t.top-o-s.scroll,l=t.top+o-s.scroll+a;r<s.top?n.top=s.top-r:l>s.top+s.height&&(n.top=s.top+s.height-l)}else{var c=t.left-o,h=t.left+o+i;c<s.left?n.left=s.left-c:h>s.width&&(n.left=s.left+s.width-h)}return n},i.prototype.getTitle=function(){var e=this.$element,t=this.options;return e.attr("data-original-title")||("function"==typeof t.title?t.title.call(e[0]):t.title)},i.prototype.getUID=function(e){do{e+=~~(1e6*Math.random())}while(document.getElementById(e));return e},i.prototype.tip=function(){return this.$tip=this.$tip||e(this.options.template)},i.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},i.prototype.enable=function(){this.enabled=!0},i.prototype.disable=function(){this.enabled=!1},i.prototype.toggleEnabled=function(){this.enabled=!this.enabled},i.prototype.toggle=function(t){var i=this;t&&((i=e(t.currentTarget).data("bs."+this.type))||(i=new this.constructor(t.currentTarget,this.getDelegateOptions()),e(t.currentTarget).data("bs."+this.type,i))),i.tip().hasClass("in")?i.leave(i):i.enter(i)},i.prototype.destroy=function(){var e=this;clearTimeout(this.timeout),this.hide(function(){e.$element.off("."+e.type).removeData("bs."+e.type)})};var a=e.fn.tooltip;e.fn.tooltip=t,e.fn.tooltip.Constructor=i,e.fn.tooltip.noConflict=function(){return e.fn.tooltip=a,this}}(jQuery),function(e){"use strict";function t(t){return this.each(function(){
var a=e(this),n=a.data("bs.popover"),o="object"==typeof t&&t;(n||!/destroy|hide/.test(t))&&(n||a.data("bs.popover",n=new i(this,o)),"string"==typeof t&&n[t]())})}var i=function(e,t){this.init("popover",e,t)};if(!e.fn.tooltip)throw new Error("Popover requires tooltip.js");i.VERSION="3.3.4",i.DEFAULTS=e.extend({},e.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),i.prototype=e.extend({},e.fn.tooltip.Constructor.prototype),i.prototype.constructor=i,i.prototype.getDefaults=function(){return i.DEFAULTS},i.prototype.setContent=function(){var e=this.tip(),t=this.getTitle(),i=this.getContent();e.find(".popover-title")[this.options.html?"html":"text"](t),e.find(".popover-content").children().detach().end()[this.options.html?"string"==typeof i?"html":"append":"text"](i),e.removeClass("fade top bottom left right in"),e.find(".popover-title").html()||e.find(".popover-title").hide()},i.prototype.hasContent=function(){return this.getTitle()||this.getContent()},i.prototype.getContent=function(){var e=this.$element,t=this.options;return e.attr("data-content")||("function"==typeof t.content?t.content.call(e[0]):t.content)},i.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")};var a=e.fn.popover;e.fn.popover=t,e.fn.popover.Constructor=i,e.fn.popover.noConflict=function(){return e.fn.popover=a,this}}(jQuery),function(e){"use strict";function t(i,a){this.$body=e(document.body),this.$scrollElement=e(e(i).is(document.body)?window:i),this.options=e.extend({},t.DEFAULTS,a),this.selector=(this.options.target||"")+" .nav li > a",this.offsets=[],this.targets=[],this.activeTarget=null,this.scrollHeight=0,this.$scrollElement.on("scroll.bs.scrollspy",e.proxy(this.process,this)),this.refresh(),this.process()}function i(i){return this.each(function(){var a=e(this),n=a.data("bs.scrollspy"),o="object"==typeof i&&i;n||a.data("bs.scrollspy",n=new t(this,o)),"string"==typeof i&&n[i]()})}t.VERSION="3.3.4",t.DEFAULTS={offset:10},t.prototype.getScrollHeight=function(){return this.$scrollElement[0].scrollHeight||Math.max(this.$body[0].scrollHeight,document.documentElement.scrollHeight)},t.prototype.refresh=function(){var t=this,i="offset",a=0;this.offsets=[],this.targets=[],this.scrollHeight=this.getScrollHeight(),e.isWindow(this.$scrollElement[0])||(i="position",a=this.$scrollElement.scrollTop()),this.$body.find(this.selector).map(function(){var t=e(this),n=t.data("target")||t.attr("href"),o=/^#./.test(n)&&e(n);return o&&o.length&&o.is(":visible")&&[[o[i]().top+a,n]]||null}).sort(function(e,t){return e[0]-t[0]}).each(function(){t.offsets.push(this[0]),t.targets.push(this[1])})},t.prototype.process=function(){var e,t=this.$scrollElement.scrollTop()+this.options.offset,i=this.getScrollHeight(),a=this.options.offset+i-this.$scrollElement.height(),n=this.offsets,o=this.targets,s=this.activeTarget;if(this.scrollHeight!=i&&this.refresh(),t>=a)return s!=(e=o[o.length-1])&&this.activate(e);if(s&&t<n[0])return this.activeTarget=null,this.clear();for(e=n.length;e--;)s!=o[e]&&t>=n[e]&&(void 0===n[e+1]||t<n[e+1])&&this.activate(o[e])},t.prototype.activate=function(t){this.activeTarget=t,this.clear();var i=this.selector+'[data-target="'+t+'"],'+this.selector+'[href="'+t+'"]',a=e(i).parents("li").addClass("active");a.parent(".dropdown-menu").length&&(a=a.closest("li.dropdown").addClass("active")),a.trigger("activate.bs.scrollspy")},t.prototype.clear=function(){e(this.selector).parentsUntil(this.options.target,".active").removeClass("active")};var a=e.fn.scrollspy;e.fn.scrollspy=i,e.fn.scrollspy.Constructor=t,e.fn.scrollspy.noConflict=function(){return e.fn.scrollspy=a,this},e(window).on("load.bs.scrollspy.data-api",function(){e('[data-spy="scroll"]').each(function(){var t=e(this);i.call(t,t.data())})})}(jQuery),function(e){"use strict";function t(t){return this.each(function(){var a=e(this),n=a.data("bs.tab");n||a.data("bs.tab",n=new i(this)),"string"==typeof t&&n[t]()})}var i=function(t){this.element=e(t)};i.VERSION="3.3.4",i.TRANSITION_DURATION=150,i.prototype.show=function(){var t=this.element,i=t.closest("ul:not(.dropdown-menu)"),a=t.data("target");if(a||(a=t.attr("href"),a=a&&a.replace(/.*(?=#[^\s]*$)/,"")),!t.parent("li").hasClass("active")){var n=i.find(".active:last a"),o=e.Event("hide.bs.tab",{relatedTarget:t[0]}),s=e.Event("show.bs.tab",{relatedTarget:n[0]});if(n.trigger(o),t.trigger(s),!s.isDefaultPrevented()&&!o.isDefaultPrevented()){var r=e(a);this.activate(t.closest("li"),i),this.activate(r,r.parent(),function(){n.trigger({type:"hidden.bs.tab",relatedTarget:t[0]}),t.trigger({type:"shown.bs.tab",relatedTarget:n[0]})})}}},i.prototype.activate=function(t,a,n){function o(){s.removeClass("active").find("> .dropdown-menu > .active").removeClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!1),t.addClass("active").find('[data-toggle="tab"]').attr("aria-expanded",!0),r?(t[0].offsetWidth,t.addClass("in")):t.removeClass("fade"),t.parent(".dropdown-menu").length&&t.closest("li.dropdown").addClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!0),n&&n()}var s=a.find("> .active"),r=n&&e.support.transition&&(s.length&&s.hasClass("fade")||!!a.find("> .fade").length);s.length&&r?s.one("bsTransitionEnd",o).emulateTransitionEnd(i.TRANSITION_DURATION):o(),s.removeClass("in")};var a=e.fn.tab;e.fn.tab=t,e.fn.tab.Constructor=i,e.fn.tab.noConflict=function(){return e.fn.tab=a,this};var n=function(i){i.preventDefault(),t.call(e(this),"show")};e(document).on("click.bs.tab.data-api",'[data-toggle="tab"]',n).on("click.bs.tab.data-api",'[data-toggle="pill"]',n)}(jQuery),function(e){"use strict";function t(t){return this.each(function(){var a=e(this),n=a.data("bs.affix"),o="object"==typeof t&&t;n||a.data("bs.affix",n=new i(this,o)),"string"==typeof t&&n[t]()})}var i=function(t,a){this.options=e.extend({},i.DEFAULTS,a),this.$target=e(this.options.target).on("scroll.bs.affix.data-api",e.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",e.proxy(this.checkPositionWithEventLoop,this)),this.$element=e(t),this.affixed=null,this.unpin=null,this.pinnedOffset=null,this.checkPosition()};i.VERSION="3.3.4",i.RESET="affix affix-top affix-bottom",i.DEFAULTS={offset:0,target:window},i.prototype.getState=function(e,t,i,a){var n=this.$target.scrollTop(),o=this.$element.offset(),s=this.$target.height();if(null!=i&&"top"==this.affixed)return i>n&&"top";if("bottom"==this.affixed)return null!=i?!(n+this.unpin<=o.top)&&"bottom":!(e-a>=n+s)&&"bottom";var r=null==this.affixed,l=r?n:o.top,c=r?s:t;return null!=i&&i>=n?"top":null!=a&&l+c>=e-a&&"bottom"},i.prototype.getPinnedOffset=function(){if(this.pinnedOffset)return this.pinnedOffset;this.$element.removeClass(i.RESET).addClass("affix");var e=this.$target.scrollTop(),t=this.$element.offset();return this.pinnedOffset=t.top-e},i.prototype.checkPositionWithEventLoop=function(){setTimeout(e.proxy(this.checkPosition,this),1)},i.prototype.checkPosition=function(){if(this.$element.is(":visible")){var t=this.$element.height(),a=this.options.offset,n=a.top,o=a.bottom,s=e(document.body).height();"object"!=typeof a&&(o=n=a),"function"==typeof n&&(n=a.top(this.$element)),"function"==typeof o&&(o=a.bottom(this.$element));var r=this.getState(s,t,n,o);if(this.affixed!=r){null!=this.unpin&&this.$element.css("top","");var l="affix"+(r?"-"+r:""),c=e.Event(l+".bs.affix");if(this.$element.trigger(c),c.isDefaultPrevented())return;this.affixed=r,this.unpin="bottom"==r?this.getPinnedOffset():null,this.$element.removeClass(i.RESET).addClass(l).trigger(l.replace("affix","affixed")+".bs.affix")}"bottom"==r&&this.$element.offset({top:s-t-o})}};var a=e.fn.affix;e.fn.affix=t,e.fn.affix.Constructor=i,e.fn.affix.noConflict=function(){return e.fn.affix=a,this},e(window).on("load",function(){e('[data-spy="affix"]').each(function(){var i=e(this),a=i.data();a.offset=a.offset||{},null!=a.offsetBottom&&(a.offset.bottom=a.offsetBottom),null!=a.offsetTop&&(a.offset.top=a.offsetTop),t.call(i,a)})})}(jQuery),function(e,t,i){var a=e();e.fn.dropdownHover=function(i){return"ontouchstart"in document?this:(a=a.add(this.parent()),this.each(function(){var n,o=e(this),s=o.parent(),r={delay:500,instantlyCloseOthers:!0},l={delay:e(this).data("delay"),instantlyCloseOthers:e(this).data("close-others")},c="show.bs.dropdown",h=e.extend(!0,{},r,i,l);s.hover(function(e){if(!s.hasClass("open")&&!o.is(e.target))return!0;a.find(":focus").blur(),!0===h.instantlyCloseOthers&&a.removeClass("open"),t.clearTimeout(n),s.addClass("open"),o.trigger(c)},function(){n=t.setTimeout(function(){s.removeClass("open"),o.trigger("hide.bs.dropdown")},h.delay)}),o.hover(function(){a.find(":focus").blur(),!0===h.instantlyCloseOthers&&a.removeClass("open"),t.clearTimeout(n),s.addClass("open"),o.trigger(c)}),s.find(".dropdown-submenu").each(function(){var i,a=e(this);a.hover(function(){t.clearTimeout(i),a.children(".dropdown-menu").show(),a.siblings().children(".dropdown-menu").hide()},function(){var e=a.children(".dropdown-menu");i=t.setTimeout(function(){e.hide()},h.delay)})})}))},e(document).ready(function(){e('[data-hover="dropdown"]').dropdownHover()})}(jQuery,this),function(e){jQuery.fn.extend({slimScroll:function(i){var a={width:"auto",height:"250px",size:"7px",color:"#000",position:"right",distance:"1px",start:"top",opacity:.4,alwaysVisible:!1,disableFadeOut:!1,railVisible:!1,railColor:"#333",railOpacity:.2,railDraggable:!0,railClass:"slimScrollRail",barClass:"slimScrollBar",wrapperClass:"slimScrollDiv",allowPageScroll:!1,wheelStep:20,touchScrollStep:200,borderRadius:"7px",railBorderRadius:"7px",animate:!0},n=e.extend(a,i);return this.each(function(){function a(t){if(c){var t=t||window.event,i=0;t.wheelDelta&&(i=-t.wheelDelta/120),t.detail&&(i=t.detail/3);var a=t.target||t.srcTarget||t.srcElement;e(a).closest("."+n.wrapperClass).is(x.parent())&&o(i,!0),t.preventDefault&&!y&&t.preventDefault(),y||(t.returnValue=!1)}}function o(e,t,i){y=!1;var a=e,o=x.outerHeight()-D.outerHeight();if(t&&(a=parseInt(D.css("top"))+e*parseInt(n.wheelStep)/100*D.outerHeight(),a=Math.min(Math.max(a,0),o),a=e>0?Math.ceil(a):Math.floor(a),D.css({top:a+"px"})),m=parseInt(D.css("top"))/(x.outerHeight()-D.outerHeight()),a=m*(x[0].scrollHeight-x.outerHeight()),i){a=e;var s=a/x[0].scrollHeight*x.outerHeight();s=Math.min(Math.max(s,0),o),D.css({top:s+"px"})}"scrollTo"in n&&n.animate?x.animate({scrollTop:a}):x.scrollTop(a),x.trigger("slimscrolling",~~a),r(),l()}function s(){f=Math.max(x.outerHeight()/x[0].scrollHeight*x.outerHeight(),b),D.css({height:f+"px"});var e=f==x.outerHeight()?"none":"block";D.css({display:e})}function r(){if(s(),clearTimeout(d),m==~~m){if(y=n.allowPageScroll,g!=m){var e=0==~~m?"top":"bottom";x.trigger("slimscroll",e)}}else y=!1;return g=m,f>=x.outerHeight()?void(y=!0):(D.stop(!0,!0).fadeIn("fast"),void(n.railVisible&&S.stop(!0,!0).fadeIn("fast")))}function l(){n.alwaysVisible||(d=setTimeout(function(){n.disableFadeOut&&c||h||u||(D.fadeOut("slow"),S.fadeOut("slow"))},1e3))}var c,h,u,d,p,f,m,g,v="<div></div>",b=30,y=!1,x=e(this);if("ontouchstart"in window&&window.navigator.msPointerEnabled&&x.css("-ms-touch-action","none"),x.parent().hasClass(n.wrapperClass)){var C=x.scrollTop();if(D=x.parent().find("."+n.barClass),S=x.parent().find("."+n.railClass),s(),e.isPlainObject(i)){if("height"in i&&"auto"==i.height){x.parent().css("height","auto"),x.css("height","auto");var w=x.parent().parent().height();x.parent().css("height",w),x.css("height",w)}if("scrollTo"in i)C=parseInt(n.scrollTo);else if("scrollBy"in i)C+=parseInt(n.scrollBy);else if("destroy"in i)return D.remove(),S.remove(),void x.unwrap();o(C,!1,!0)}}else{n.height="auto"==i.height?x.parent().height():i.height;var k=e(v).addClass(n.wrapperClass).css({position:"relative",overflow:"hidden",width:n.width,height:n.height});x.css({overflow:"hidden",width:n.width,height:n.height});var S=e(v).addClass(n.railClass).css({width:n.size,height:"100%",position:"absolute",top:0,display:n.alwaysVisible&&n.railVisible?"block":"none","border-radius":n.railBorderRadius,background:n.railColor,opacity:n.railOpacity,zIndex:90}),D=e(v).addClass(n.barClass).css({background:n.color,width:n.size,position:"absolute",top:0,opacity:n.opacity,display:n.alwaysVisible?"block":"none","border-radius":n.borderRadius,BorderRadius:n.borderRadius,MozBorderRadius:n.borderRadius,WebkitBorderRadius:n.borderRadius,zIndex:99}),T="right"==n.position?{right:n.distance}:{left:n.distance};S.css(T),D.css(T),x.wrap(k),x.parent().append(D),x.parent().append(S),n.railDraggable&&D.bind("mousedown",function(i){var a=e(document);return u=!0,t=parseFloat(D.css("top")),pageY=i.pageY,a.bind("mousemove.slimscroll",function(e){currTop=t+e.pageY-pageY,D.css("top",currTop),o(0,D.position().top,!1)}),a.bind("mouseup.slimscroll",function(){u=!1,l(),a.unbind(".slimscroll")}),!1}).bind("selectstart.slimscroll",function(e){return e.stopPropagation(),e.preventDefault(),!1}),"ontouchstart"in window&&window.navigator.msPointerEnabled&&(x.bind("MSPointerDown",function(e){p=e.originalEvent.pageY}),x.bind("MSPointerMove",function(e){e.originalEvent.preventDefault(),o((p-e.originalEvent.pageY)/n.touchScrollStep,!0),p=e.originalEvent.pageY})),S.hover(function(){r()},function(){l()}),D.hover(function(){h=!0},function(){h=!1}),x.hover(function(){c=!0,r(),l()},function(){c=!1,l()}),x.bind("touchstart",function(e){e.originalEvent.touches.length&&(p=e.originalEvent.touches[0].pageY)}),x.bind("touchmove",function(e){if(y||e.originalEvent.preventDefault(),e.originalEvent.touches.length){o((p-e.originalEvent.touches[0].pageY)/n.touchScrollStep,!0),p=e.originalEvent.touches[0].pageY}}),s(),"bottom"===n.start?(D.css({top:x.outerHeight()-D.outerHeight()}),o(0,!0)):"top"!==n.start&&(o(e(n.start).position().top,null,!0),n.alwaysVisible||D.hide()),function(){window.addEventListener?(this.addEventListener("DOMMouseScroll",a,!1),this.addEventListener("mousewheel",a,!1)):document.attachEvent("onmousewheel",a)}()}}),this}}),jQuery.fn.extend({slimscroll:jQuery.fn.slimScroll})}(jQuery),function(){"use strict";function e(e){function t(t,a){var o,m,g=t==window,v=a&&void 0!==a.message?a.message:void 0;if(a=e.extend({},e.blockUI.defaults,a||{}),!a.ignoreIfBlocked||!e(t).data("blockUI.isBlocked")){if(a.overlayCSS=e.extend({},e.blockUI.defaults.overlayCSS,a.overlayCSS||{}),o=e.extend({},e.blockUI.defaults.css,a.css||{}),a.onOverlayClick&&(a.overlayCSS.cursor="pointer"),m=e.extend({},e.blockUI.defaults.themedCSS,a.themedCSS||{}),v=void 0===v?a.message:v,g&&p&&i(window,{fadeOut:0}),v&&"string"!=typeof v&&(v.parentNode||v.jquery)){var b=v.jquery?v[0]:v,y={};e(t).data("blockUI.history",y),y.el=b,y.parent=b.parentNode,y.display=b.style.display,y.position=b.style.position,y.parent&&y.parent.removeChild(b)}e(t).data("blockUI.onUnblock",a.onUnblock);var x,C,w,k,S=a.baseZ;x=e(h||a.forceIframe?'<iframe class="blockUI" style="z-index:'+S+++';display:none;border:none;margin:0;padding:0;position:absolute;width:100%;height:100%;top:0;left:0" src="'+a.iframeSrc+'"></iframe>':'<div class="blockUI" style="display:none"></div>'),C=e(a.theme?'<div class="blockUI blockOverlay ui-widget-overlay" style="z-index:'+S+++';display:none"></div>':'<div class="blockUI blockOverlay" style="z-index:'+S+++';display:none;border:none;margin:0;padding:0;width:100%;height:100%;top:0;left:0"></div>'),a.theme&&g?(k='<div class="blockUI '+a.blockMsgClass+' blockPage ui-dialog ui-widget ui-corner-all" style="z-index:'+(S+10)+';display:none;position:fixed">',a.title&&(k+='<div class="ui-widget-header ui-dialog-titlebar ui-corner-all blockTitle">'+(a.title||"&nbsp;")+"</div>"),k+='<div class="ui-widget-content ui-dialog-content"></div>',k+="</div>"):a.theme?(k='<div class="blockUI '+a.blockMsgClass+' blockElement ui-dialog ui-widget ui-corner-all" style="z-index:'+(S+10)+';display:none;position:absolute">',a.title&&(k+='<div class="ui-widget-header ui-dialog-titlebar ui-corner-all blockTitle">'+(a.title||"&nbsp;")+"</div>"),k+='<div class="ui-widget-content ui-dialog-content"></div>',k+="</div>"):k=g?'<div class="blockUI '+a.blockMsgClass+' blockPage" style="z-index:'+(S+10)+';display:none;position:fixed"></div>':'<div class="blockUI '+a.blockMsgClass+' blockElement" style="z-index:'+(S+10)+';display:none;position:absolute"></div>',w=e(k),v&&(a.theme?(w.css(m),w.addClass("ui-widget-content")):w.css(o)),a.theme||C.css(a.overlayCSS),C.css("position",g?"fixed":"absolute"),(h||a.forceIframe)&&x.css("opacity",0);var D=[x,C,w],T=e(g?"body":t);e.each(D,function(){this.appendTo(T)}),a.theme&&a.draggable&&e.fn.draggable&&w.draggable({handle:".ui-dialog-titlebar",cancel:"li"});var M=d&&(!e.support.boxModel||e("object,embed",g?null:t).length>0);if(u||M){if(g&&a.allowBodyStretch&&e.support.boxModel&&e("html,body").css("height","100%"),(u||!e.support.boxModel)&&!g)var P=l(t,"borderTopWidth"),$=l(t,"borderLeftWidth"),_=P?"(0 - "+P+")":0,A=$?"(0 - "+$+")":0;e.each(D,function(e,t){var i=t[0].style;if(i.position="absolute",2>e)g?i.setExpression("height","Math.max(document.body.scrollHeight, document.body.offsetHeight) - (jQuery.support.boxModel?0:"+a.quirksmodeOffsetHack+') + "px"'):i.setExpression("height",'this.parentNode.offsetHeight + "px"'),g?i.setExpression("width",'jQuery.support.boxModel && document.documentElement.clientWidth || document.body.clientWidth + "px"'):i.setExpression("width",'this.parentNode.offsetWidth + "px"'),A&&i.setExpression("left",A),_&&i.setExpression("top",_);else if(a.centerY)g&&i.setExpression("top",'(document.documentElement.clientHeight || document.body.clientHeight) / 2 - (this.offsetHeight / 2) + (blah = document.documentElement.scrollTop ? document.documentElement.scrollTop : document.body.scrollTop) + "px"'),i.marginTop=0;else if(!a.centerY&&g){var n=a.css&&a.css.top?parseInt(a.css.top,10):0,o="((document.documentElement.scrollTop ? document.documentElement.scrollTop : document.body.scrollTop) + "+n+') + "px"';i.setExpression("top",o)}})}if(v&&(a.theme?w.find(".ui-widget-content").append(v):w.append(v),(v.jquery||v.nodeType)&&e(v).show()),(h||a.forceIframe)&&a.showOverlay&&x.show(),a.fadeIn){var I=a.onBlock?a.onBlock:c,F=a.showOverlay&&!v?I:c,E=v?I:c;a.showOverlay&&C._fadeIn(a.fadeIn,F),v&&w._fadeIn(a.fadeIn,E)}else a.showOverlay&&C.show(),v&&w.show(),a.onBlock&&a.onBlock();if(n(1,t,a),g?(p=w[0],f=e(a.focusableElements,p),a.focusInput&&setTimeout(s,20)):r(w[0],a.centerX,a.centerY),a.timeout){var L=setTimeout(function(){g?e.unblockUI(a):e(t).unblock(a)},a.timeout);e(t).data("blockUI.timeout",L)}}}function i(t,i){var o,s=t==window,r=e(t),l=r.data("blockUI.history"),c=r.data("blockUI.timeout");c&&(clearTimeout(c),r.removeData("blockUI.timeout")),i=e.extend({},e.blockUI.defaults,i||{}),n(0,t,i),null===i.onUnblock&&(i.onUnblock=r.data("blockUI.onUnblock"),r.removeData("blockUI.onUnblock"));var h;h=s?e("body").children().filter(".blockUI").add("body > .blockUI"):r.find(">.blockUI"),i.cursorReset&&(h.length>1&&(h[1].style.cursor=i.cursorReset),h.length>2&&(h[2].style.cursor=i.cursorReset)),s&&(p=f=null),i.fadeOut?(o=h.length,h.stop().fadeOut(i.fadeOut,function(){0==--o&&a(h,l,i,t)})):a(h,l,i,t)}function a(t,i,a,n){var o=e(n);if(!o.data("blockUI.isBlocked")){t.each(function(){this.parentNode&&this.parentNode.removeChild(this)}),i&&i.el&&(i.el.style.display=i.display,i.el.style.position=i.position,i.parent&&i.parent.appendChild(i.el),o.removeData("blockUI.history")),o.data("blockUI.static")&&o.css("position","static"),"function"==typeof a.onUnblock&&a.onUnblock(n,a);var s=e(document.body),r=s.width(),l=s[0].style.width;s.width(r-1).width(r),s[0].style.width=l}}function n(t,i,a){var n=i==window,s=e(i);if((t||(!n||p)&&(n||s.data("blockUI.isBlocked")))&&(s.data("blockUI.isBlocked",t),n&&a.bindEvents&&(!t||a.showOverlay))){var r="mousedown mouseup keydown keypress keyup touchstart touchend touchmove";t?e(document).bind(r,a,o):e(document).unbind(r,o)}}function o(t){if("keydown"===t.type&&t.keyCode&&9==t.keyCode&&p&&t.data.constrainTabKey){var i=f,a=!t.shiftKey&&t.target===i[i.length-1],n=t.shiftKey&&t.target===i[0];if(a||n)return setTimeout(function(){s(n)},10),!1}var o=t.data,r=e(t.target);return r.hasClass("blockOverlay")&&o.onOverlayClick&&o.onOverlayClick(t),r.parents("div."+o.blockMsgClass).length>0||0===r.parents().children().filter("div.blockUI").length}function s(e){if(f){var t=f[!0===e?f.length-1:0];t&&t.focus()}}function r(e,t,i){var a=e.parentNode,n=e.style,o=(a.offsetWidth-e.offsetWidth)/2-l(a,"borderLeftWidth"),s=(a.offsetHeight-e.offsetHeight)/2-l(a,"borderTopWidth");t&&(n.left=o>0?o+"px":"0"),i&&(n.top=s>0?s+"px":"0")}function l(t,i){return parseInt(e.css(t,i),10)||0}e.fn._fadeIn=e.fn.fadeIn;var c=e.noop||function(){},h=/MSIE/.test(navigator.userAgent),u=/MSIE 6.0/.test(navigator.userAgent)&&!/MSIE 8.0/.test(navigator.userAgent),d=(document.documentMode,e.isFunction(document.createElement("div").style.setExpression));e.blockUI=function(e){t(window,e)},e.unblockUI=function(e){i(window,e)},e.growlUI=function(t,i,a,n){var o=e('<div class="growlUI"></div>');t&&o.append("<h1>"+t+"</h1>"),i&&o.append("<h2>"+i+"</h2>"),void 0===a&&(a=3e3);var s=function(t){t=t||{},e.blockUI({message:o,fadeIn:void 0!==t.fadeIn?t.fadeIn:700,fadeOut:void 0!==t.fadeOut?t.fadeOut:1e3,timeout:void 0!==t.timeout?t.timeout:a,centerY:!1,showOverlay:!1,onUnblock:n,css:e.blockUI.defaults.growlCSS})};s(),o.css("opacity"),o.mouseover(function(){s({fadeIn:0,timeout:3e4});var t=e(".blockMsg");t.stop(),t.fadeTo(300,1)}).mouseout(function(){e(".blockMsg").fadeOut(1e3)})},e.fn.block=function(i){if(this[0]===window)return e.blockUI(i),this;var a=e.extend({},e.blockUI.defaults,i||{});return this.each(function(){var t=e(this);a.ignoreIfBlocked&&t.data("blockUI.isBlocked")||t.unblock({fadeOut:0})}),this.each(function(){"static"==e.css(this,"position")&&(this.style.position="relative",e(this).data("blockUI.static",!0)),this.style.zoom=1,t(this,i)})},e.fn.unblock=function(t){return this[0]===window?(e.unblockUI(t),this):this.each(function(){i(this,t)})},e.blockUI.version=2.66,e.blockUI.defaults={message:"<h1>Please wait...</h1>",title:null,draggable:!0,theme:!1,css:{padding:0,margin:0,width:"30%",top:"40%",left:"35%",textAlign:"center",color:"#000",border:"3px solid #aaa",backgroundColor:"#fff",cursor:"wait"},themedCSS:{width:"30%",top:"40%",left:"35%"},overlayCSS:{backgroundColor:"#000",opacity:.6,cursor:"wait"},cursorReset:"default",growlCSS:{width:"350px",top:"10px",left:"",right:"10px",border:"none",padding:"5px",opacity:.6,cursor:"default",color:"#fff",backgroundColor:"#000","-webkit-border-radius":"10px","-moz-border-radius":"10px","border-radius":"10px"},iframeSrc:/^https/i.test(window.location.href||"")?"javascript:false":"about:blank",forceIframe:!1,baseZ:1e3,centerX:!0,centerY:!0,allowBodyStretch:!0,bindEvents:!0,constrainTabKey:!0,fadeIn:200,fadeOut:400,timeout:0,showOverlay:!0,focusInput:!0,focusableElements:":input:enabled:visible",onBlock:null,onUnblock:null,onOverlayClick:null,quirksmodeOffsetHack:4,blockMsgClass:"blockMsg",ignoreIfBlocked:!1};var p=null,f=[]}"function"==typeof define&&define.amd&&define.amd.jQuery?define(["jquery"],e):e(jQuery)}(),function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e(jQuery)}(function(e){function t(e){return e}function i(e){return decodeURIComponent(e.replace(n," "))}function a(e){0===e.indexOf('"')&&(e=e.slice(1,-1).replace(/\\"/g,'"').replace(/\\\\/g,"\\"));try{return o.json?JSON.parse(e):e}catch(e){}}var n=/\+/g,o=e.cookie=function(n,s,r){if(void 0!==s){if(r=e.extend({},o.defaults,r),"number"==typeof r.expires){var l=r.expires,c=r.expires=new Date;c.setDate(c.getDate()+l)}return s=o.json?JSON.stringify(s):String(s),document.cookie=[o.raw?n:encodeURIComponent(n),"=",o.raw?s:encodeURIComponent(s),r.expires?"; expires="+r.expires.toUTCString():"",r.path?"; path="+r.path:"",r.domain?"; domain="+r.domain:"",r.secure?"; secure":""].join("")}for(var h=o.raw?t:i,u=document.cookie.split("; "),d=n?void 0:{},p=0,f=u.length;p<f;p++){var m=u[p].split("="),g=h(m.shift()),v=h(m.join("="));if(n&&n===g){d=a(v);break}n||(d[g]=a(v))}return d};o.defaults={},e.removeCookie=function(t,i){return void 0!==e.cookie(t)&&(e.cookie(t,"",e.extend({},i,{expires:-1})),!0)}}),function(e,t){"use strict";function i(e){var t=Array.prototype.slice.call(arguments,1);return e.prop?e.prop.apply(e,t):e.attr.apply(e,t)}function a(e,t,i){var a,n;for(a in i)i.hasOwnProperty(a)&&(n=a.replace(/ |$/g,t.eventNamespace),e.bind(n,i[a]))}function n(e,t,i){a(e,i,{focus:function(){t.addClass(i.focusClass)},blur:function(){t.removeClass(i.focusClass),t.removeClass(i.activeClass)},mouseenter:function(){t.addClass(i.hoverClass)},mouseleave:function(){t.removeClass(i.hoverClass),t.removeClass(i.activeClass)},"mousedown touchbegin":function(){e.is(":disabled")||t.addClass(i.activeClass)},"mouseup touchend":function(){t.removeClass(i.activeClass)}})}function o(e,t){e.removeClass(t.hoverClass+" "+t.focusClass+" "+t.activeClass)}function s(e,t,i){i?e.addClass(t):e.removeClass(t)}function r(e,t,i){var a="checked",n=t.is(":"+a);t.prop?t.prop(a,n):n?t.attr(a,a):t.removeAttr(a),s(e,i.checkedClass,n)}function l(e,t,i){s(e,i.disabledClass,t.is(":disabled"))}function c(e,t,i){switch(i){case"after":return e.after(t),e.next();case"before":return e.before(t),e.prev();case"wrap":return e.wrap(t),e.parent()}return null}function h(t,a,n){var o,s,r;return n||(n={}),n=e.extend({bind:{},divClass:null,divWrap:"wrap",spanClass:null,spanHtml:null,spanWrap:"wrap"},n),o=e("<div />"),s=e("<span />"),a.autoHide&&t.is(":hidden")&&"none"===t.css("display")&&o.hide(),n.divClass&&o.addClass(n.divClass),a.wrapperClass&&o.addClass(a.wrapperClass),n.spanClass&&s.addClass(n.spanClass),r=i(t,"id"),a.useID&&r&&i(o,"id",a.idPrefix+"-"+r),n.spanHtml&&s.html(n.spanHtml),o=c(t,o,n.divWrap),s=c(t,s,n.spanWrap),l(o,t,a),{div:o,span:s}}function u(t,i){var a;return i.wrapperClass?(a=e("<span />").addClass(i.wrapperClass),a=c(t,a,"wrap")):null}function d(){var t,i,a,n;return n="rgb(120,2,153)",i=e('<div style="width:0;height:0;color:'+n+'">'),e("body").append(i),a=i.get(0),t=window.getComputedStyle?window.getComputedStyle(a,"").color:(a.currentStyle||a.style||{}).color,i.remove(),t.replace(/ /g,"")!==n}function p(t){return t?e("<span />").text(t).html():""}function f(){return navigator.cpuClass&&!navigator.product}function m(e){var t;return!!e[0].multiple||!(!(t=i(e,"size"))||1>=t)}function g(){return!1}function v(e,t){var i="none";a(e,t,{"selectstart dragstart mousedown":g}),e.css({MozUserSelect:i,msUserSelect:i,webkitUserSelect:i,userSelect:i})}function b(e,t,i){var a=e.val();""===a?a=i.fileDefaultHtml:(a=a.split(/[\/\\]+/),a=a[a.length-1]),t.text(a)}function y(e,t,i){var a,n;for(a=[],e.each(function(){var e;for(e in t)Object.prototype.hasOwnProperty.call(t,e)&&(a.push({el:this,name:e,old:this.style[e]}),this.style[e]=t[e])}),i();a.length;)n=a.pop(),n.el.style[n.name]=n.old}function x(e,t){var i;i=e.parents(),i.push(e[0]),i=i.not(":visible"),y(i,{visibility:"hidden",display:"block",position:"absolute"},t)}function C(e,t){return function(){e.unwrap().unwrap().unbind(t.eventNamespace)}}var w=!0,k=!1,S=[{match:function(e){return e.is("a, button, :submit, :reset, input[type='button']")},apply:function(e,t){var s,r,c,u,d;return r=t.submitDefaultHtml,e.is(":reset")&&(r=t.resetDefaultHtml),u=e.is("a, button")?function(){return e.html()||r}:function(){return p(i(e,"value"))||r},c=h(e,t,{divClass:t.buttonClass,spanHtml:u()}),s=c.div,n(e,s,t),d=!1,a(s,t,{"click touchend":function(){var t,a,n,o;d||e.is(":disabled")||(d=!0,e[0].dispatchEvent?(t=document.createEvent("MouseEvents"),t.initEvent("click",!0,!0),a=e[0].dispatchEvent(t),e.is("a")&&a&&(n=i(e,"target"),o=i(e,"href"),n&&"_self"!==n?window.open(o,n):document.location.href=o)):e.click(),d=!1)}}),v(s,t),{remove:function(){return s.after(e),s.remove(),e.unbind(t.eventNamespace),e},update:function(){o(s,t),l(s,e,t),e.detach(),c.span.html(u()).append(e)}}}},{match:function(e){return e.is(":checkbox")},apply:function(e,t){var i,s,c;return i=h(e,t,{divClass:t.checkboxClass}),s=i.div,c=i.span,n(e,s,t),a(e,t,{"click touchend":function(){r(c,e,t)}}),r(c,e,t),{remove:C(e,t),update:function(){o(s,t),c.removeClass(t.checkedClass),r(c,e,t),l(s,e,t)}}}},{match:function(e){return e.is(":file")},apply:function(t,s){function r(){b(t,p,s)}var u,d,p,m;return u=h(t,s,{divClass:s.fileClass,spanClass:s.fileButtonClass,spanHtml:s.fileButtonHtml,spanWrap:"after"}),d=u.div,m=u.span,p=e("<span />").html(s.fileDefaultHtml),p.addClass(s.filenameClass),p=c(t,p,"after"),i(t,"size")||i(t,"size",d.width()/10),n(t,d,s),r(),f()?a(t,s,{click:function(){t.trigger("change"),setTimeout(r,0)}}):a(t,s,{change:r}),v(p,s),v(m,s),{remove:function(){return p.remove(),m.remove(),t.unwrap().unbind(s.eventNamespace)},update:function(){o(d,s),b(t,p,s),l(d,t,s)}}}},{match:function(e){if(e.is("input")){return" color date datetime datetime-local email month number password search tel text time url week ".indexOf((" "+i(e,"type")+" ").toLowerCase())>=0}return!1},apply:function(e,t){var a,o;return a=i(e,"type"),e.addClass(t.inputClass),o=u(e,t),n(e,e,t),t.inputAddTypeAsClass&&e.addClass(a),{remove:function(){e.removeClass(t.inputClass),t.inputAddTypeAsClass&&e.removeClass(a),o&&e.unwrap()},update:g}}},{match:function(e){return e.is(":radio")},apply:function(t,s){var c,u,d;return c=h(t,s,{divClass:s.radioClass}),u=c.div,d=c.span,n(t,u,s),a(t,s,{"click touchend":function(){e.uniform.update(e(':radio[name="'+i(t,"name")+'"]'))}}),r(d,t,s),{remove:C(t,s),update:function(){o(u,s),r(d,t,s),l(u,t,s)}}}},{match:function(e){return!(!e.is("select")||m(e))},apply:function(t,i){var s,r,c,u;return i.selectAutoWidth&&x(t,function(){u=t.width()}),s=h(t,i,{divClass:i.selectClass,spanHtml:(t.find(":selected:first")||t.find("option:first")).html(),spanWrap:"before"}),r=s.div,c=s.span,i.selectAutoWidth?x(t,function(){y(e([c[0],r[0]]),{display:"block"},function(){var e;e=c.outerWidth()-c.width(),r.width(u+e),c.width(u)})}):r.addClass("fixedWidth"),n(t,r,i),a(t,i,{change:function(){c.html(t.find(":selected").html()),r.removeClass(i.activeClass)},"click touchend":function(){var e=t.find(":selected").html();c.html()!==e&&t.trigger("change")},keyup:function(){c.html(t.find(":selected").html())}}),v(c,i),{remove:function(){return c.remove(),t.unwrap().unbind(i.eventNamespace),t},update:function(){i.selectAutoWidth?(e.uniform.restore(t),t.uniform(i)):(o(r,i),c.html(t.find(":selected").html()),l(r,t,i))}}}},{match:function(e){return!(!e.is("select")||!m(e))},apply:function(e,t){var i;return e.addClass(t.selectMultiClass),i=u(e,t),n(e,e,t),{remove:function(){e.removeClass(t.selectMultiClass),i&&e.unwrap()},update:g}}},{match:function(e){return e.is("textarea")},apply:function(e,t){var i;return e.addClass(t.textareaClass),i=u(e,t),n(e,e,t),{remove:function(){e.removeClass(t.textareaClass),i&&e.unwrap()},update:g}}}];f()&&!function(){return void 0!==window.XMLHttpRequest}()&&(w=!1),e.uniform={defaults:{activeClass:"active",autoHide:!0,buttonClass:"button",checkboxClass:"checker",checkedClass:"checked",disabledClass:"disabled",eventNamespace:".uniform",fileButtonClass:"action",fileButtonHtml:"Choose File",fileClass:"uploader",fileDefaultHtml:"No file selected",filenameClass:"filename",focusClass:"focus",hoverClass:"hover",idPrefix:"uniform",inputAddTypeAsClass:!0,inputClass:"uniform-input",radioClass:"radio",resetDefaultHtml:"Reset",resetSelector:!1,selectAutoWidth:!0,selectClass:"selector",selectMultiClass:"uniform-multiselect",submitDefaultHtml:"Submit",textareaClass:"uniform",useID:!0,wrapperClass:null},elements:[]},e.fn.uniform=function(t){var i=this;return t=e.extend({},e.uniform.defaults,t),k||(k=!0,d()&&(w=!1)),w?(t.resetSelector&&e(t.resetSelector).mouseup(function(){window.setTimeout(function(){e.uniform.update(i)},10)}),this.each(function(){var i,a,n,o=e(this);if(o.data("uniformed"))return void e.uniform.update(o)
;for(i=0;S.length>i;i+=1)if(a=S[i],a.match(o,t))return n=a.apply(o,t),o.data("uniformed",n),void e.uniform.elements.push(o.get(0))})):this},e.uniform.restore=e.fn.uniform.restore=function(i){i===t&&(i=e.uniform.elements),e(i).each(function(){var t,i,a=e(this);(i=a.data("uniformed"))&&(i.remove(),t=e.inArray(this,e.uniform.elements),t>=0&&e.uniform.elements.splice(t,1),a.removeData("uniformed"))})},e.uniform.update=e.fn.uniform.update=function(i){i===t&&(i=e.uniform.elements),e(i).each(function(){var t,i=e(this);(t=i.data("uniformed"))&&t.update(i,t.options)})}}(jQuery),function(e){void 0===e.fn.each2&&e.extend(e.fn,{each2:function(t){for(var i=e([0]),a=-1,n=this.length;++a<n&&(i.context=i[0]=this[a])&&!1!==t.call(i[0],a,i););return this}})}(jQuery),function(e,t){"use strict";function i(t){var i=e(document.createTextNode(""));t.before(i),i.before(t),i.remove()}function a(e){function t(e){return V[e]||e}return e.replace(/[^\u0000-\u007E]/g,t)}function n(e,t){for(var i=0,a=t.length;a>i;i+=1)if(s(e,t[i]))return i;return-1}function o(){var t=e(N);t.appendTo("body");var i={width:t.width()-t[0].clientWidth,height:t.height()-t[0].clientHeight};return t.remove(),i}function s(e,i){return e===i||e!==t&&i!==t&&(null!==e&&null!==i&&(e.constructor===String?e+""==i+"":i.constructor===String&&i+""==e+""))}function r(t,i){var a,n,o;if(null===t||t.length<1)return[];for(a=t.split(i),n=0,o=a.length;o>n;n+=1)a[n]=e.trim(a[n]);return a}function l(e){return e.outerWidth(!1)-e.width()}function c(i){var a="keyup-change-value";i.on("keydown",function(){e.data(i,a)===t&&e.data(i,a,i.val())}),i.on("keyup",function(){var n=e.data(i,a);n!==t&&i.val()!==n&&(e.removeData(i,a),i.trigger("keyup-change"))})}function h(i){i.on("mousemove",function(i){var a=O;(a===t||a.x!==i.pageX||a.y!==i.pageY)&&e(i.target).trigger("mousemove-filtered",i)})}function u(e,i,a){a=a||t;var n;return function(){var t=arguments;window.clearTimeout(n),n=window.setTimeout(function(){i.apply(a,t)},e)}}function d(e,t){var i=u(e,function(e){t.trigger("scroll-debounced",e)});t.on("scroll",function(e){n(e.target,t.get())>=0&&i(e)})}function p(e){e[0]!==document.activeElement&&window.setTimeout(function(){var t,i=e[0],a=e.val().length;e.focus(),(i.offsetWidth>0||i.offsetHeight>0)&&i===document.activeElement&&(i.setSelectionRange?i.setSelectionRange(a,a):i.createTextRange&&(t=i.createTextRange(),t.collapse(!1),t.select()))},0)}function f(t){t=e(t)[0];var i=0,a=0;if("selectionStart"in t)i=t.selectionStart,a=t.selectionEnd-i;else if("selection"in document){t.focus();var n=document.selection.createRange();a=document.selection.createRange().text.length,n.moveStart("character",-t.value.length),i=n.text.length-a}return{offset:i,length:a}}function m(e){e.preventDefault(),e.stopPropagation()}function g(e){e.preventDefault(),e.stopImmediatePropagation()}function v(t){if(!L){var i=t[0].currentStyle||window.getComputedStyle(t[0],null);L=e(document.createElement("div")).css({position:"absolute",left:"-10000px",top:"-10000px",display:"none",fontSize:i.fontSize,fontFamily:i.fontFamily,fontStyle:i.fontStyle,fontWeight:i.fontWeight,letterSpacing:i.letterSpacing,textTransform:i.textTransform,whiteSpace:"nowrap"}),L.attr("class","select2-sizer"),e("body").append(L)}return L.text(t.val()),L.width()}function b(t,i,a){var n,o,s=[];n=t.attr("class"),n&&(n=""+n,e(n.split(" ")).each2(function(){0===this.indexOf("select2-")&&s.push(this)})),n=i.attr("class"),n&&(n=""+n,e(n.split(" ")).each2(function(){0!==this.indexOf("select2-")&&(o=a(this))&&s.push(o)})),t.attr("class",s.join(" "))}function y(e,t,i,n){var o=a(e.toUpperCase()).indexOf(a(t.toUpperCase())),s=t.length;return 0>o?void i.push(n(e)):(i.push(n(e.substring(0,o))),i.push("<span class='select2-match'>"),i.push(n(e.substring(o,o+s))),i.push("</span>"),void i.push(n(e.substring(o+s,e.length))))}function x(e){var t={"\\":"&#92;","&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#47;"};return String(e).replace(/[&<>"'\/\\]/g,function(e){return t[e]})}function C(i){var a,n=null,o=i.quietMillis||100,s=i.url,r=this;return function(l){window.clearTimeout(a),a=window.setTimeout(function(){var a=i.data,o=s,c=i.transport||e.fn.select2.ajaxDefaults.transport,h={type:i.type||"GET",cache:i.cache||!1,jsonpCallback:i.jsonpCallback||t,dataType:i.dataType||"json"},u=e.extend({},e.fn.select2.ajaxDefaults.params,h);a=a?a.call(r,l.term,l.page,l.context):null,o="function"==typeof o?o.call(r,l.term,l.page,l.context):o,n&&"function"==typeof n.abort&&n.abort(),i.params&&(e.isFunction(i.params)?e.extend(u,i.params.call(r)):e.extend(u,i.params)),e.extend(u,{url:o,dataType:i.dataType,data:a,success:function(e){var t=i.results(e,l.page);l.callback(t)}}),n=c.call(r,u)},o)}}function w(t){var i,a,n=t,o=function(e){return""+e.text};e.isArray(n)&&(a=n,n={results:a}),!1===e.isFunction(n)&&(a=n,n=function(){return a});var s=n();return s.text&&(o=s.text,e.isFunction(o)||(i=s.text,o=function(e){return e[i]})),function(t){var i,a=t.term,s={results:[]};return""===a?void t.callback(n()):(i=function(n,s){var r,l;if(n=n[0],n.children){r={};for(l in n)n.hasOwnProperty(l)&&(r[l]=n[l]);r.children=[],e(n.children).each2(function(e,t){i(t,r.children)}),(r.children.length||t.matcher(a,o(r),n))&&s.push(r)}else t.matcher(a,o(n),n)&&s.push(n)},e(n().results).each2(function(e,t){i(t,s.results)}),void t.callback(s))}}function k(i){var a=e.isFunction(i);return function(n){var o=n.term,s={results:[]},r=a?i(n):i;e.isArray(r)&&(e(r).each(function(){var e=this.text!==t,i=e?this.text:this;(""===o||n.matcher(o,i))&&s.results.push(e?this:{id:this,text:this})}),n.callback(s))}}function S(t,i){if(e.isFunction(t))return!0;if(!t)return!1;if("string"==typeof t)return!0;throw new Error(i+" must be a string, function, or falsy value")}function D(t){if(e.isFunction(t)){var i=Array.prototype.slice.call(arguments,1);return t.apply(null,i)}return t}function T(t){var i=0;return e.each(t,function(e,t){t.children?i+=T(t.children):i++}),i}function M(e,i,a,n){var o,r,l,c,h,u=e,d=!1;if(!n.createSearchChoice||!n.tokenSeparators||n.tokenSeparators.length<1)return t;for(;;){for(r=-1,l=0,c=n.tokenSeparators.length;c>l&&(h=n.tokenSeparators[l],!((r=e.indexOf(h))>=0));l++);if(0>r)break;if(o=e.substring(0,r),e=e.substring(r+h.length),o.length>0&&(o=n.createSearchChoice.call(this,o,i))!==t&&null!==o&&n.id(o)!==t&&null!==n.id(o)){for(d=!1,l=0,c=i.length;c>l;l++)if(s(n.id(o),n.id(i[l]))){d=!0;break}d||a(o)}}return u!==e?e:void 0}function P(){var e=this;Array.prototype.forEach.call(arguments,function(t){e[t].remove(),e[t]=null})}function $(t,i){var a=function(){};return a.prototype=new t,a.prototype.constructor=a,a.prototype.parent=t.prototype,a.prototype=e.extend(a.prototype,i),a}if(window.Select2===t){var _,A,I,F,E,L,B,R,O={x:0,y:0},_={TAB:9,ENTER:13,ESC:27,SPACE:32,LEFT:37,UP:38,RIGHT:39,DOWN:40,SHIFT:16,CTRL:17,ALT:18,PAGE_UP:33,PAGE_DOWN:34,HOME:36,END:35,BACKSPACE:8,DELETE:46,isArrow:function(e){switch(e=e.which?e.which:e){case _.LEFT:case _.RIGHT:case _.UP:case _.DOWN:return!0}return!1},isControl:function(e){switch(e.which){case _.SHIFT:case _.CTRL:case _.ALT:return!0}return!!e.metaKey},isFunctionKey:function(e){return(e=e.which?e.which:e)>=112&&123>=e}},N="<div class='select2-measure-scrollbar'></div>",V={"":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"AA","":"AE","":"AE","":"AE","":"AO","":"AU","":"AV","":"AV","":"AY","":"B","":"B","":"B","":"B","":"B","":"B","":"B","":"B","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"DZ","":"DZ","":"Dz","":"Dz","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"F","":"F","":"F","":"F","":"F","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"J","":"J","":"J","":"J","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"LJ","":"Lj","":"M","":"M","":"M","":"M","":"M","":"M","":"M","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"NJ","":"Nj","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"OI","":"OO","":"OU","":"P","":"P","":"P","":"P","":"P","":"P","":"P","":"P","":"P","":"Q","":"Q","":"Q","":"Q","":"Q","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"TZ","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"V","":"V","":"V","":"V","":"V","":"V","":"V","":"VY","":"W","":"W","":"W","":"W","":"W","":"W","":"W","":"W","":"W","":"X","":"X","":"X","":"X","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"aa","":"ae","":"ae","":"ae","":"ao","":"au","":"av","":"av","":"ay","":"b","":"b","":"b","":"b","":"b","":"b","":"b","":"b","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"dz","":"dz","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"f","":"f","":"f","":"f","":"f","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"hv","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"j","":"j","":"j","":"j","":"j","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"lj","":"m","":"m","":"m","":"m","":"m","":"m","":"m","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"nj","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"oi","":"ou","":"oo","":"p","":"p","":"p","":"p","":"p","":"p","":"p","":"p","":"p","":"q","":"q","":"q","":"q","":"q","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"tz","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"v","":"v","":"v","":"v","":"v","":"v","":"v","":"vy","":"w","":"w","":"w","":"w","":"w","":"w","":"w","":"w","":"w","":"w","":"x","":"x","":"x","":"x","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z"};B=e(document),E=function(){var e=1;return function(){return e++}}(),B.on("mousemove",function(e){O.x=e.pageX,O.y=e.pageY}),A=$(Object,{bind:function(e){var t=this;return function(){e.apply(t,arguments)}},init:function(i){var a,n,s=".select2-results";this.opts=i=this.prepareOpts(i),this.id=i.id,i.element.data("select2")!==t&&null!==i.element.data("select2")&&i.element.data("select2").destroy(),this.container=this.createContainer(),this.liveRegion=e("<span>",{role:"status","aria-live":"polite"}).addClass("select2-hidden-accessible").appendTo(document.body),this.containerId="s2id_"+(i.element.attr("id")||"autogen"+E()),this.containerEventName=this.containerId.replace(/([.])/g,"_").replace(/([;&,\-\.\+\*\~':"\!\^#$%@\[\]\(\)=>\|])/g,"\\$1"),this.container.attr("id",this.containerId),this.container.attr("title",i.element.attr("title")),this.body=e("body"),b(this.container,this.opts.element,this.opts.adaptContainerCssClass),this.container.attr("style",i.element.attr("style")),this.container.css(D(i.containerCss)),this.container.addClass(D(i.containerCssClass)),this.elementTabIndex=this.opts.element.attr("tabindex"),this.opts.element.data("select2",this).attr("tabindex","-1").before(this.container).on("click.select2",m),this.container.data("select2",this),this.dropdown=this.container.find(".select2-drop"),b(this.dropdown,this.opts.element,this.opts.adaptDropdownCssClass),this.dropdown.addClass(D(i.dropdownCssClass)),this.dropdown.data("select2",this),this.dropdown.on("click",m),this.results=a=this.container.find(s),this.search=n=this.container.find("input.select2-input"),this.queryCount=0,this.resultsPage=0,this.context=null,this.initContainer(),this.container.on("click",m),h(this.results),this.dropdown.on("mousemove-filtered",s,this.bind(this.highlightUnderEvent)),this.dropdown.on("touchstart touchmove touchend",s,this.bind(function(e){this._touchEvent=!0,this.highlightUnderEvent(e)})),this.dropdown.on("touchmove",s,this.bind(this.touchMoved)),this.dropdown.on("touchstart touchend",s,this.bind(this.clearTouchMoved)),this.dropdown.on("click",this.bind(function(){this._touchEvent&&(this._touchEvent=!1,this.selectHighlighted())})),d(80,this.results),this.dropdown.on("scroll-debounced",s,this.bind(this.loadMoreIfNeeded)),e(this.container).on("change",".select2-input",function(e){e.stopPropagation()}),e(this.dropdown).on("change",".select2-input",function(e){e.stopPropagation()}),e.fn.mousewheel&&a.mousewheel(function(e,t,i,n){var o=a.scrollTop();n>0&&0>=o-n?(a.scrollTop(0),m(e)):0>n&&a.get(0).scrollHeight-a.scrollTop()+n<=a.height()&&(a.scrollTop(a.get(0).scrollHeight-a.height()),m(e))}),c(n),n.on("keyup-change input paste",this.bind(this.updateResults)),n.on("focus",function(){n.addClass("select2-focused")}),n.on("blur",function(){n.removeClass("select2-focused")}),this.dropdown.on("mouseup",s,this.bind(function(t){e(t.target).closest(".select2-result-selectable").length>0&&(this.highlightUnderEvent(t),this.selectHighlighted(t))})),this.dropdown.on("click mouseup mousedown touchstart touchend focusin",function(e){e.stopPropagation()}),this.nextSearchTerm=t,e.isFunction(this.opts.initSelection)&&(this.initSelection(),this.monitorSource()),null!==i.maximumInputLength&&this.search.attr("maxlength",i.maximumInputLength);var r=i.element.prop("disabled");r===t&&(r=!1),this.enable(!r);var l=i.element.prop("readonly");l===t&&(l=!1),this.readonly(l),R=R||o(),this.autofocus=i.element.prop("autofocus"),i.element.prop("autofocus",!1),this.autofocus&&this.focus(),this.search.attr("placeholder",i.searchInputPlaceholder)},destroy:function(){var e=this.opts.element,i=e.data("select2");this.close(),this.propertyObserver&&(this.propertyObserver.disconnect(),this.propertyObserver=null),i!==t&&(i.container.remove(),i.liveRegion.remove(),i.dropdown.remove(),e.removeClass("select2-offscreen").removeData("select2").off(".select2").prop("autofocus",this.autofocus||!1),this.elementTabIndex?e.attr({tabindex:this.elementTabIndex}):e.removeAttr("tabindex"),e.show()),P.call(this,"container","liveRegion","dropdown","results","search")},optionToData:function(e){return e.is("option")?{id:e.prop("value"),text:e.text(),element:e.get(),css:e.attr("class"),disabled:e.prop("disabled"),locked:s(e.attr("locked"),"locked")||s(e.data("locked"),!0)}:e.is("optgroup")?{text:e.attr("label"),children:[],element:e.get(),css:e.attr("class")}:void 0},prepareOpts:function(i){var a,n,o,l,c=this;if(a=i.element,"select"===a.get(0).tagName.toLowerCase()&&(this.select=n=i.element),n&&e.each(["id","multiple","ajax","query","createSearchChoice","initSelection","data","tags"],function(){if(this in i)throw new Error("Option '"+this+"' is not allowed for Select2 when attached to a <select> element.")}),i=e.extend({},{populateResults:function(a,n,o){var s,r=this.opts.id,l=this.liveRegion;(s=function(a,n,h){var u,d,p,f,m,g,v,b,y,x;for(a=i.sortResults(a,n,o),u=0,d=a.length;d>u;u+=1)p=a[u],m=!0===p.disabled,f=!m&&r(p)!==t,g=p.children&&p.children.length>0,v=e("<li></li>"),v.addClass("select2-results-dept-"+h),v.addClass("select2-result"),v.addClass(f?"select2-result-selectable":"select2-result-unselectable"),m&&v.addClass("select2-disabled"),g&&v.addClass("select2-result-with-children"),v.addClass(c.opts.formatResultCssClass(p)),v.attr("role","presentation"),b=e(document.createElement("div")),b.addClass("select2-result-label"),b.attr("id","select2-result-label-"+E()),b.attr("role","option"),x=i.formatResult(p,b,o,c.opts.escapeMarkup),x!==t&&(b.html(x),v.append(b)),g&&(y=e("<ul></ul>"),y.addClass("select2-result-sub"),s(p.children,y,h+1),v.append(y)),v.data("select2-data",p),n.append(v);l.text(i.formatMatches(a.length))})(n,a,0)}},e.fn.select2.defaults,i),"function"!=typeof i.id&&(o=i.id,i.id=function(e){return e[o]}),e.isArray(i.element.data("select2Tags"))){if("tags"in i)throw"tags specified as both an attribute 'data-select2-tags' and in options of Select2 "+i.element.attr("id");i.tags=i.element.data("select2Tags")}if(n?(i.query=this.bind(function(e){var i,n,o,s={results:[],more:!1},r=e.term;o=function(t,i){var a;t.is("option")?e.matcher(r,t.text(),t)&&i.push(c.optionToData(t)):t.is("optgroup")&&(a=c.optionToData(t),t.children().each2(function(e,t){o(t,a.children)}),a.children.length>0&&i.push(a))},i=a.children(),this.getPlaceholder()!==t&&i.length>0&&(n=this.getPlaceholderOption())&&(i=i.not(n)),i.each2(function(e,t){o(t,s.results)}),e.callback(s)}),i.id=function(e){return e.id}):"query"in i||("ajax"in i?(l=i.element.data("ajax-url"),l&&l.length>0&&(i.ajax.url=l),i.query=C.call(i.element,i.ajax)):"data"in i?i.query=w(i.data):"tags"in i&&(i.query=k(i.tags),i.createSearchChoice===t&&(i.createSearchChoice=function(t){return{id:e.trim(t),text:e.trim(t)}}),i.initSelection===t&&(i.initSelection=function(t,a){var n=[];e(r(t.val(),i.separator)).each(function(){var t={id:this,text:this},a=i.tags;e.isFunction(a)&&(a=a()),e(a).each(function(){return s(this.id,t.id)?(t=this,!1):void 0}),n.push(t)}),a(n)}))),"function"!=typeof i.query)throw"query function not defined for Select2 "+i.element.attr("id");if("top"===i.createSearchChoicePosition)i.createSearchChoicePosition=function(e,t){e.unshift(t)};else if("bottom"===i.createSearchChoicePosition)i.createSearchChoicePosition=function(e,t){e.push(t)};else if("function"!=typeof i.createSearchChoicePosition)throw"invalid createSearchChoicePosition option must be 'top', 'bottom' or a custom function";return i},monitorSource:function(){var e,i,a=this.opts.element;a.on("change.select2",this.bind(function(){!0!==this.opts.element.data("select2-change-triggered")&&this.initSelection()})),e=this.bind(function(){var e=a.prop("disabled");e===t&&(e=!1),this.enable(!e);var i=a.prop("readonly");i===t&&(i=!1),this.readonly(i),b(this.container,this.opts.element,this.opts.adaptContainerCssClass),this.container.addClass(D(this.opts.containerCssClass)),b(this.dropdown,this.opts.element,this.opts.adaptDropdownCssClass),this.dropdown.addClass(D(this.opts.dropdownCssClass))}),a.length&&a[0].attachEvent&&a.each(function(){this.attachEvent("onpropertychange",e)}),(i=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver)!==t&&(this.propertyObserver&&(delete this.propertyObserver,this.propertyObserver=null),this.propertyObserver=new i(function(t){t.forEach(e)}),this.propertyObserver.observe(a.get(0),{attributes:!0,subtree:!1}))},triggerSelect:function(t){var i=e.Event("select2-selecting",{val:this.id(t),object:t});return this.opts.element.trigger(i),!i.isDefaultPrevented()},triggerChange:function(t){t=t||{},t=e.extend({},t,{type:"change",val:this.val()}),this.opts.element.data("select2-change-triggered",!0),this.opts.element.trigger(t),this.opts.element.data("select2-change-triggered",!1),this.opts.element.click(),this.opts.blurOnChange&&this.opts.element.blur()},isInterfaceEnabled:function(){return!0===this.enabledInterface},enableInterface:function(){var e=this._enabled&&!this._readonly,t=!e;return e!==this.enabledInterface&&(this.container.toggleClass("select2-container-disabled",t),this.close(),this.enabledInterface=e,!0)},enable:function(e){e===t&&(e=!0),this._enabled!==e&&(this._enabled=e,this.opts.element.prop("disabled",!e),this.enableInterface())},disable:function(){this.enable(!1)},readonly:function(e){e===t&&(e=!1),this._readonly!==e&&(this._readonly=e,this.opts.element.prop("readonly",e),this.enableInterface())},opened:function(){return this.container.hasClass("select2-dropdown-open")},positionDropdown:function(){var t,i,a,n,o,s=this.dropdown,r=this.container.offset(),l=this.container.outerHeight(!1),c=this.container.outerWidth(!1),h=s.outerHeight(!1),u=e(window),d=u.width(),p=u.height(),f=u.scrollLeft()+d,m=u.scrollTop()+p,g=r.top+l,v=r.left,b=m>=g+h,y=r.top-h>=u.scrollTop(),x=s.outerWidth(!1),C=f>=v+x;s.hasClass("select2-drop-above")?(i=!0,!y&&b&&(a=!0,i=!1)):(i=!1,!b&&y&&(a=!0,i=!0)),a&&(s.hide(),r=this.container.offset(),l=this.container.outerHeight(!1),c=this.container.outerWidth(!1),h=s.outerHeight(!1),f=u.scrollLeft()+d,m=u.scrollTop()+p,g=r.top+l,v=r.left,x=s.outerWidth(!1),C=f>=v+x,s.show(),this.focusSearch()),this.opts.dropdownAutoWidth?(o=e(".select2-results",s)[0],s.addClass("select2-drop-auto-width"),s.css("width",""),x=s.outerWidth(!1)+(o.scrollHeight===o.clientHeight?0:R.width),x>c?c=x:x=c,h=s.outerHeight(!1),C=f>=v+x):this.container.removeClass("select2-drop-auto-width"),"static"!==this.body.css("position")&&(t=this.body.offset(),g-=t.top,v-=t.left),C||(v=r.left+this.container.outerWidth(!1)-x),n={left:v,width:c},i?(n.top=r.top-h,n.bottom="auto",this.container.addClass("select2-drop-above"),s.addClass("select2-drop-above")):(n.top=g,n.bottom="auto",this.container.removeClass("select2-drop-above"),s.removeClass("select2-drop-above")),n=e.extend(n,D(this.opts.dropdownCss)),s.css(n)},shouldOpen:function(){var t;return!this.opened()&&(!1!==this._enabled&&!0!==this._readonly&&(t=e.Event("select2-opening"),this.opts.element.trigger(t),!t.isDefaultPrevented()))},clearDropdownAlignmentPreference:function(){this.container.removeClass("select2-drop-above"),this.dropdown.removeClass("select2-drop-above")},open:function(){return!!this.shouldOpen()&&(this.opening(),!0)},opening:function(){var t,a=this.containerEventName,n="scroll."+a,o="resize."+a,s="orientationchange."+a;this.container.addClass("select2-dropdown-open").addClass("select2-container-active"),this.clearDropdownAlignmentPreference(),this.dropdown[0]!==this.body.children().last()[0]&&this.dropdown.detach().appendTo(this.body),t=e("#select2-drop-mask"),0==t.length&&(t=e(document.createElement("div")),t.attr("id","select2-drop-mask").attr("class","select2-drop-mask"),t.hide(),t.appendTo(this.body),t.on("mousedown touchstart click",function(a){i(t);var n,o=e("#select2-drop");o.length>0&&(n=o.data("select2"),n.opts.selectOnBlur&&n.selectHighlighted({noFocus:!0}),n.close(),a.preventDefault(),a.stopPropagation())})),this.dropdown.prev()[0]!==t[0]&&this.dropdown.before(t),e("#select2-drop").removeAttr("id"),this.dropdown.attr("id","select2-drop"),t.show(),this.positionDropdown(),this.dropdown.show(),this.positionDropdown(),this.dropdown.addClass("select2-drop-active");var r=this;this.container.parents().add(window).each(function(){e(this).on(o+" "+n+" "+s,function(){r.opened()&&r.positionDropdown()})})},close:function(){if(this.opened()){var t=this.containerEventName,i="scroll."+t,a="resize."+t,n="orientationchange."+t;this.container.parents().add(window).each(function(){e(this).off(i).off(a).off(n)}),this.clearDropdownAlignmentPreference(),e("#select2-drop-mask").hide(),this.dropdown.removeAttr("id"),this.dropdown.hide(),this.container.removeClass("select2-dropdown-open").removeClass("select2-container-active"),this.results.empty(),this.clearSearch(),this.search.removeClass("select2-active"),this.opts.element.trigger(e.Event("select2-close"))}},externalSearch:function(e){this.open(),this.search.val(e),this.updateResults(!1)},clearSearch:function(){},getMaximumSelectionSize:function(){return D(this.opts.maximumSelectionSize)},ensureHighlightVisible:function(){var t,i,a,n,o,s,r,l=this.results;if(!(0>(i=this.highlight()))){if(0==i)return void l.scrollTop(0);t=this.findHighlightableChoices().find(".select2-result-label"),a=e(t[i]),n=a.offset().top+a.outerHeight(!0),i===t.length-1&&(r=l.find("li.select2-more-results"),r.length>0&&(n=r.offset().top+r.outerHeight(!0))),o=l.offset().top+l.outerHeight(!0),n>o&&l.scrollTop(l.scrollTop()+(n-o)),0>(s=a.offset().top-l.offset().top)&&"none"!=a.css("display")&&l.scrollTop(l.scrollTop()+s)}},findHighlightableChoices:function(){return this.results.find(".select2-result-selectable:not(.select2-disabled):not(.select2-selected)")},moveHighlight:function(t){for(var i=this.findHighlightableChoices(),a=this.highlight();a>-1&&a<i.length;){a+=t;var n=e(i[a]);if(n.hasClass("select2-result-selectable")&&!n.hasClass("select2-disabled")&&!n.hasClass("select2-selected")){this.highlight(a);break}}},highlight:function(t){var i,a,o=this.findHighlightableChoices();return 0===arguments.length?n(o.filter(".select2-highlighted")[0],o.get()):(t>=o.length&&(t=o.length-1),0>t&&(t=0),this.removeHighlight(),i=e(o[t]),i.addClass("select2-highlighted"),this.search.attr("aria-activedescendant",i.find(".select2-result-label").attr("id")),this.ensureHighlightVisible(),this.liveRegion.text(i.text()),void((a=i.data("select2-data"))&&this.opts.element.trigger({type:"select2-highlight",val:this.id(a),choice:a})))},removeHighlight:function(){this.results.find(".select2-highlighted").removeClass("select2-highlighted")},touchMoved:function(){this._touchMoved=!0},clearTouchMoved:function(){this._touchMoved=!1},countSelectableResults:function(){return this.findHighlightableChoices().length},highlightUnderEvent:function(t){var i=e(t.target).closest(".select2-result-selectable");if(i.length>0&&!i.is(".select2-highlighted")){var a=this.findHighlightableChoices();this.highlight(a.index(i))}else 0==i.length&&this.removeHighlight()},loadMoreIfNeeded:function(){var e=this.results,t=e.find("li.select2-more-results"),i=this.resultsPage+1,a=this,n=this.search.val(),o=this.context;0!==t.length&&t.offset().top-e.offset().top-e.height()<=this.opts.loadMorePadding&&(t.addClass("select2-active"),this.opts.query({element:this.opts.element,term:n,page:i,context:o,matcher:this.opts.matcher,callback:this.bind(function(s){a.opened()&&(a.opts.populateResults.call(this,e,s.results,{term:n,page:i,context:o}),a.postprocessResults(s,!1,!1),!0===s.more?(t.detach().appendTo(e).text(D(a.opts.formatLoadMore,i+1)),window.setTimeout(function(){a.loadMoreIfNeeded()},10)):t.remove(),a.positionDropdown(),a.resultsPage=i,a.context=s.context,this.opts.element.trigger({type:"select2-loaded",items:s}))})}))},tokenize:function(){},updateResults:function(i){function a(){c.removeClass("select2-active"),d.positionDropdown(),h.find(".select2-no-results,.select2-selection-limit,.select2-searching").length?d.liveRegion.text(h.text()):d.liveRegion.text(d.opts.formatMatches(h.find(".select2-result-selectable").length))}function n(e){h.html(e),a()}var o,r,l,c=this.search,h=this.results,u=this.opts,d=this,p=c.val(),f=e.data(this.container,"select2-last-term");if((!0===i||!f||!s(p,f))&&(e.data(this.container,"select2-last-term",p),!0===i||!1!==this.showSearchInput&&this.opened())){l=++this.queryCount;var m=this.getMaximumSelectionSize();if(m>=1&&(o=this.data(),e.isArray(o)&&o.length>=m&&S(u.formatSelectionTooBig,"formatSelectionTooBig")))return void n("<li class='select2-selection-limit'>"+D(u.formatSelectionTooBig,m)+"</li>");if(c.val().length<u.minimumInputLength)return n(S(u.formatInputTooShort,"formatInputTooShort")?"<li class='select2-no-results'>"+D(u.formatInputTooShort,c.val(),u.minimumInputLength)+"</li>":""),void(i&&this.showSearch&&this.showSearch(!0));if(u.maximumInputLength&&c.val().length>u.maximumInputLength)return void n(S(u.formatInputTooLong,"formatInputTooLong")?"<li class='select2-no-results'>"+D(u.formatInputTooLong,c.val(),u.maximumInputLength)+"</li>":"");u.formatSearching&&0===this.findHighlightableChoices().length&&n("<li class='select2-searching'>"+D(u.formatSearching)+"</li>"),c.addClass("select2-active"),this.removeHighlight(),r=this.tokenize(),r!=t&&null!=r&&c.val(r),this.resultsPage=1,u.query({element:u.element,term:c.val(),page:this.resultsPage,context:null,matcher:u.matcher,callback:this.bind(function(o){var r=-1;if(null!=this.container.context&&void 0!=this.container.context&&(this.container.context.baseURI.match("item-report")||this.container.context.baseURI.match("costcomparison-report")||this.container.context.baseURI.match("itemvendor-report"))&&(r=3),!(c.val().length>r))return void n("<li class='select2-no-results'> Search items by enter 4 letters </li>");var p;if(l==this.queryCount){if(!this.opened())return void this.search.removeClass("select2-active");if(this.context=o.context===t?null:o.context,this.opts.createSearchChoice&&""!==c.val()&&(p=this.opts.createSearchChoice.call(d,c.val(),o.results))!==t&&null!==p&&d.id(p)!==t&&null!==d.id(p)&&0===e(o.results).filter(function(){return s(d.id(this),d.id(p))}).length&&this.opts.createSearchChoicePosition(o.results,p),
0===o.results.length&&S(u.formatNoMatches,"formatNoMatches"))return void n("<li class='select2-no-results'>"+D(u.formatNoMatches,c.val())+"</li>");h.empty(),d.opts.populateResults.call(this,h,o.results,{term:c.val(),page:this.resultsPage,context:null}),!0===o.more&&S(u.formatLoadMore,"formatLoadMore")&&(h.append("<li class='select2-more-results'>"+d.opts.escapeMarkup(D(u.formatLoadMore,this.resultsPage))+"</li>"),window.setTimeout(function(){d.loadMoreIfNeeded()},10)),this.postprocessResults(o,i),a(),this.opts.element.trigger({type:"select2-loaded",items:o})}})})}},cancel:function(){this.close()},blur:function(){this.opts.selectOnBlur&&this.selectHighlighted({noFocus:!0}),this.close(),this.container.removeClass("select2-container-active"),this.search[0]===document.activeElement&&this.search.blur(),this.clearSearch(),this.selection.find(".select2-search-choice-focus").removeClass("select2-search-choice-focus")},focusSearch:function(){p(this.search)},selectHighlighted:function(e){if(this._touchMoved)return void this.clearTouchMoved();var t=this.highlight(),i=this.results.find(".select2-highlighted"),a=i.closest(".select2-result").data("select2-data");a?(this.highlight(t),this.onSelect(a,e)):e&&e.noFocus&&this.close()},getPlaceholder:function(){var e;return this.opts.element.attr("placeholder")||this.opts.element.attr("data-placeholder")||this.opts.element.data("placeholder")||this.opts.placeholder||((e=this.getPlaceholderOption())!==t?e.text():t)},getPlaceholderOption:function(){if(this.select){var i=this.select.children("option").first();if(this.opts.placeholderOption!==t)return"first"===this.opts.placeholderOption&&i||"function"==typeof this.opts.placeholderOption&&this.opts.placeholderOption(this.select);if(""===e.trim(i.text())&&""===i.val())return i}},initContainerWidth:function(){function i(){var i,a,n,o,s,r;if("off"===this.opts.width)return null;if("element"===this.opts.width)return 0===this.opts.element.outerWidth(!1)?"auto":this.opts.element.outerWidth(!1)+"px";if("copy"===this.opts.width||"resolve"===this.opts.width){if((i=this.opts.element.attr("style"))!==t)for(a=i.split(";"),o=0,s=a.length;s>o;o+=1)if(r=a[o].replace(/\s/g,""),null!==(n=r.match(/^width:(([-+]?([0-9]*\.)?[0-9]+)(px|em|ex|%|in|cm|mm|pt|pc))/i))&&n.length>=1)return n[1];return"resolve"===this.opts.width?(i=this.opts.element.css("width"),i.indexOf("%")>0?i:0===this.opts.element.outerWidth(!1)?"auto":this.opts.element.outerWidth(!1)+"px"):null}return e.isFunction(this.opts.width)?this.opts.width():this.opts.width}var a=i.call(this);null!==a&&this.container.css("width",a)}}),I=$(A,{createContainer:function(){return e(document.createElement("div")).attr({class:"select2-container"}).html(["<a href='javascript:void(0)' class='select2-choice' tabindex='-1'>","   <span class='select2-chosen'>&#160;</span><abbr class='select2-search-choice-close'></abbr>","   <span class='select2-arrow' role='presentation'><b role='presentation'></b></span>","</a>","<label for='' class='select2-offscreen'></label>","<input class='select2-focusser select2-offscreen' type='text' aria-haspopup='true' role='button' />","<div class='select2-drop select2-display-none'>","   <div class='select2-search'>","       <label for='' class='select2-offscreen'></label>","       <input type='text' autocomplete='off' autocorrect='off' autocapitalize='off' spellcheck='false' class='select2-input' role='combobox' aria-expanded='true'","       aria-autocomplete='list' />","   </div>","   <ul class='select2-results' role='listbox'>","   </ul>","</div>"].join(""))},enableInterface:function(){this.parent.enableInterface.apply(this,arguments)&&this.focusser.prop("disabled",!this.isInterfaceEnabled())},opening:function(){var i,a,n;this.opts.minimumResultsForSearch>=0&&this.showSearch(!0),this.parent.opening.apply(this,arguments),!1!==this.showSearchInput&&this.search.val(this.focusser.val()),this.opts.shouldFocusInput(this)&&(this.search.focus(),i=this.search.get(0),i.createTextRange?(a=i.createTextRange(),a.collapse(!1),a.select()):i.setSelectionRange&&(n=this.search.val().length,i.setSelectionRange(n,n))),""===this.search.val()&&this.nextSearchTerm!=t&&(this.search.val(this.nextSearchTerm),this.search.select()),this.focusser.prop("disabled",!0).val(""),this.updateResults(!0),this.opts.element.trigger(e.Event("select2-open"))},close:function(){this.opened()&&(this.parent.close.apply(this,arguments),this.focusser.prop("disabled",!1),this.opts.shouldFocusInput(this)&&this.focusser.focus())},focus:function(){this.opened()?this.close():(this.focusser.prop("disabled",!1),this.opts.shouldFocusInput(this)&&this.focusser.focus())},isFocused:function(){return this.container.hasClass("select2-container-active")},cancel:function(){this.parent.cancel.apply(this,arguments),this.focusser.prop("disabled",!1),this.opts.shouldFocusInput(this)&&this.focusser.focus()},destroy:function(){e("label[for='"+this.focusser.attr("id")+"']").attr("for",this.opts.element.attr("id")),this.parent.destroy.apply(this,arguments),P.call(this,"selection","focusser")},initContainer:function(){var t,a,n=this.container,o=this.dropdown,s=E();this.opts.minimumResultsForSearch<0?this.showSearch(!1):this.showSearch(!0),this.selection=t=n.find(".select2-choice"),this.focusser=n.find(".select2-focusser"),t.find(".select2-chosen").attr("id","select2-chosen-"+s),this.focusser.attr("aria-labelledby","select2-chosen-"+s),this.results.attr("id","select2-results-"+s),this.search.attr("aria-owns","select2-results-"+s),this.focusser.attr("id","s2id_autogen"+s),a=e("label[for='"+this.opts.element.attr("id")+"']"),this.focusser.prev().text(a.text()).attr("for",this.focusser.attr("id"));var r=this.opts.element.attr("title");this.opts.element.attr("title",r||a.text()),this.focusser.attr("tabindex",this.elementTabIndex),this.search.attr("id",this.focusser.attr("id")+"_search"),this.search.prev().text(e("label[for='"+this.focusser.attr("id")+"']").text()).attr("for",this.search.attr("id")),this.search.on("keydown",this.bind(function(e){if(this.isInterfaceEnabled()){if(e.which===_.PAGE_UP||e.which===_.PAGE_DOWN)return void m(e);switch(e.which){case _.UP:case _.DOWN:return this.moveHighlight(e.which===_.UP?-1:1),void m(e);case _.ENTER:return this.selectHighlighted(),void m(e);case _.TAB:return void this.selectHighlighted({noFocus:!0});case _.ESC:return this.cancel(e),void m(e)}}})),this.search.on("blur",this.bind(function(){document.activeElement===this.body.get(0)&&window.setTimeout(this.bind(function(){this.opened()&&this.search.focus()}),0)})),this.focusser.on("keydown",this.bind(function(e){if(this.isInterfaceEnabled()&&e.which!==_.TAB&&!_.isControl(e)&&!_.isFunctionKey(e)&&e.which!==_.ESC){if(!1===this.opts.openOnEnter&&e.which===_.ENTER)return void m(e);if(e.which==_.DOWN||e.which==_.UP||e.which==_.ENTER&&this.opts.openOnEnter){if(e.altKey||e.ctrlKey||e.shiftKey||e.metaKey)return;return this.open(),void m(e)}return e.which==_.DELETE||e.which==_.BACKSPACE?(this.opts.allowClear&&this.clear(),void m(e)):void 0}})),c(this.focusser),this.focusser.on("keyup-change input",this.bind(function(e){if(this.opts.minimumResultsForSearch>=0){if(e.stopPropagation(),this.opened())return;this.open()}})),t.on("mousedown touchstart","abbr",this.bind(function(e){this.isInterfaceEnabled()&&(this.clear(),g(e),this.close(),this.selection.focus())})),t.on("mousedown touchstart",this.bind(function(a){i(t),this.container.hasClass("select2-container-active")||this.opts.element.trigger(e.Event("select2-focus")),this.opened()?this.close():this.isInterfaceEnabled()&&this.open(),m(a)})),o.on("mousedown touchstart",this.bind(function(){this.opts.shouldFocusInput(this)&&this.search.focus()})),t.on("focus",this.bind(function(e){m(e)})),this.focusser.on("focus",this.bind(function(){this.container.hasClass("select2-container-active")||this.opts.element.trigger(e.Event("select2-focus")),this.container.addClass("select2-container-active")})).on("blur",this.bind(function(){this.opened()||(this.container.removeClass("select2-container-active"),this.opts.element.trigger(e.Event("select2-blur")))})),this.search.on("focus",this.bind(function(){this.container.hasClass("select2-container-active")||this.opts.element.trigger(e.Event("select2-focus")),this.container.addClass("select2-container-active")})),this.initContainerWidth(),this.opts.element.addClass("select2-offscreen"),this.setPlaceholder()},clear:function(t){var i=this.selection.data("select2-data");if(i){var a=e.Event("select2-clearing");if(this.opts.element.trigger(a),a.isDefaultPrevented())return;var n=this.getPlaceholderOption();this.opts.element.val(n?n.val():""),this.selection.find(".select2-chosen").empty(),this.selection.removeData("select2-data"),this.setPlaceholder(),!1!==t&&(this.opts.element.trigger({type:"select2-removed",val:this.id(i),choice:i}),this.triggerChange({removed:i}))}},initSelection:function(){if(this.isPlaceholderOptionSelected())this.updateSelection(null),this.close(),this.setPlaceholder();else{var e=this;this.opts.initSelection.call(null,this.opts.element,function(i){i!==t&&null!==i&&(e.updateSelection(i),e.close(),e.setPlaceholder(),e.nextSearchTerm=e.opts.nextSearchTerm(i,e.search.val()))})}},isPlaceholderOptionSelected:function(){var e;return this.getPlaceholder()!==t&&((e=this.getPlaceholderOption())!==t&&e.prop("selected")||""===this.opts.element.val()||this.opts.element.val()===t||null===this.opts.element.val())},prepareOpts:function(){var t=this.parent.prepareOpts.apply(this,arguments),i=this;return"select"===t.element.get(0).tagName.toLowerCase()?t.initSelection=function(e,t){var a=e.find("option").filter(function(){return this.selected&&!this.disabled});t(i.optionToData(a))}:"data"in t&&(t.initSelection=t.initSelection||function(i,a){var n=i.val(),o=null;t.query({matcher:function(e,i,a){var r=s(n,t.id(a));return r&&(o=a),r},callback:e.isFunction(a)?function(){a(o)}:e.noop})}),t},getPlaceholder:function(){return this.select&&this.getPlaceholderOption()===t?t:this.parent.getPlaceholder.apply(this,arguments)},setPlaceholder:function(){var e=this.getPlaceholder();if(this.isPlaceholderOptionSelected()&&e!==t){if(this.select&&this.getPlaceholderOption()===t)return;this.selection.find(".select2-chosen").html(this.opts.escapeMarkup(e)),this.selection.addClass("select2-default"),this.container.removeClass("select2-allowclear")}},postprocessResults:function(e,t,i){var a=0,n=this;if(this.findHighlightableChoices().each2(function(e,t){return s(n.id(t.data("select2-data")),n.opts.element.val())?(a=e,!1):void 0}),!1!==i&&(!0===t&&a>=0?this.highlight(a):this.highlight(0)),!0===t){var o=this.opts.minimumResultsForSearch;o>=0&&this.showSearch(T(e.results)>=o)}},showSearch:function(t){this.showSearchInput!==t&&(this.showSearchInput=t,this.dropdown.find(".select2-search").toggleClass("select2-search-hidden",!t),this.dropdown.find(".select2-search").toggleClass("select2-offscreen",!t),e(this.dropdown,this.container).toggleClass("select2-with-searchbox",t))},onSelect:function(e,t){if(this.triggerSelect(e)){var i=this.opts.element.val(),a=this.data();this.opts.element.val(this.id(e)),this.updateSelection(e),this.opts.element.trigger({type:"select2-selected",val:this.id(e),choice:e}),this.nextSearchTerm=this.opts.nextSearchTerm(e,this.search.val()),this.close(),t&&t.noFocus||!this.opts.shouldFocusInput(this)||this.focusser.focus(),s(i,this.id(e))||this.triggerChange({added:e,removed:a})}},updateSelection:function(e){var i,a,n=this.selection.find(".select2-chosen");this.selection.data("select2-data",e),n.empty(),null!==e&&(i=this.opts.formatSelection(e,n,this.opts.escapeMarkup)),i!==t&&n.append(i),a=this.opts.formatSelectionCssClass(e,n),a!==t&&n.addClass(a),this.selection.removeClass("select2-default"),this.opts.allowClear&&this.getPlaceholder()!==t&&this.container.addClass("select2-allowclear")},val:function(){var e,i=!1,a=null,n=this,o=this.data();if(0===arguments.length)return this.opts.element.val();if(e=arguments[0],arguments.length>1&&(i=arguments[1]),this.select)this.select.val(e).find("option").filter(function(){return this.selected}).each2(function(e,t){return a=n.optionToData(t),!1}),this.updateSelection(a),this.setPlaceholder(),i&&this.triggerChange({added:a,removed:o});else{if(!e&&0!==e)return void this.clear(i);if(this.opts.initSelection===t)throw new Error("cannot call val() if initSelection() is not defined");this.opts.element.val(e),this.opts.initSelection(this.opts.element,function(e){n.opts.element.val(e?n.id(e):""),n.updateSelection(e),n.setPlaceholder(),i&&n.triggerChange({added:e,removed:o})})}},clearSearch:function(){this.search.val(""),this.focusser.val("")},data:function(e){var i,a=!1;return 0===arguments.length?(i=this.selection.data("select2-data"),i==t&&(i=null),i):(arguments.length>1&&(a=arguments[1]),void(e?(i=this.data(),this.opts.element.val(e?this.id(e):""),this.updateSelection(e),a&&this.triggerChange({added:e,removed:i})):this.clear(a)))}}),F=$(A,{createContainer:function(){return e(document.createElement("div")).attr({class:"select2-container select2-container-multi"}).html(["<ul class='select2-choices'>","  <li class='select2-search-field'>","    <label for='' class='select2-offscreen'></label>","    <input type='text' autocomplete='off' autocorrect='off' autocapitalize='off' spellcheck='false' class='select2-input'>","  </li>","</ul>","<div class='select2-drop select2-drop-multi select2-display-none'>","   <ul class='select2-results'>","   </ul>","</div>"].join(""))},prepareOpts:function(){var t=this.parent.prepareOpts.apply(this,arguments),i=this;return"select"===t.element.get(0).tagName.toLowerCase()?t.initSelection=function(e,t){var a=[];e.find("option").filter(function(){return this.selected&&!this.disabled}).each2(function(e,t){a.push(i.optionToData(t))}),t(a)}:"data"in t&&(t.initSelection=t.initSelection||function(i,a){var n=r(i.val(),t.separator),o=[];t.query({matcher:function(i,a,r){var l=e.grep(n,function(e){return s(e,t.id(r))}).length;return l&&o.push(r),l},callback:e.isFunction(a)?function(){for(var e=[],i=0;i<n.length;i++)for(var r=n[i],l=0;l<o.length;l++){var c=o[l];if(s(r,t.id(c))){e.push(c),o.splice(l,1);break}}a(e)}:e.noop})}),t},selectChoice:function(e){var t=this.container.find(".select2-search-choice-focus");t.length&&e&&e[0]==t[0]||(t.length&&this.opts.element.trigger("choice-deselected",t),t.removeClass("select2-search-choice-focus"),e&&e.length&&(this.close(),e.addClass("select2-search-choice-focus"),this.opts.element.trigger("choice-selected",e)))},destroy:function(){e("label[for='"+this.search.attr("id")+"']").attr("for",this.opts.element.attr("id")),this.parent.destroy.apply(this,arguments),P.call(this,"searchContainer","selection")},initContainer:function(){var t,i=".select2-choices";this.searchContainer=this.container.find(".select2-search-field"),this.selection=t=this.container.find(i);var a=this;this.selection.on("click",".select2-search-choice:not(.select2-locked)",function(){a.search[0].focus(),a.selectChoice(e(this))}),this.search.attr("id","s2id_autogen"+E()),this.search.prev().text(e("label[for='"+this.opts.element.attr("id")+"']").text()).attr("for",this.search.attr("id")),this.search.on("input paste",this.bind(function(){this.isInterfaceEnabled()&&(this.opened()||this.open())})),this.search.attr("tabindex",this.elementTabIndex),this.keydowns=0,this.search.on("keydown",this.bind(function(e){if(this.isInterfaceEnabled()){++this.keydowns;var i=t.find(".select2-search-choice-focus"),a=i.prev(".select2-search-choice:not(.select2-locked)"),n=i.next(".select2-search-choice:not(.select2-locked)"),o=f(this.search);if(i.length&&(e.which==_.LEFT||e.which==_.RIGHT||e.which==_.BACKSPACE||e.which==_.DELETE||e.which==_.ENTER)){var s=i;return e.which==_.LEFT&&a.length?s=a:e.which==_.RIGHT?s=n.length?n:null:e.which===_.BACKSPACE?this.unselect(i.first())&&(this.search.width(10),s=a.length?a:n):e.which==_.DELETE?this.unselect(i.first())&&(this.search.width(10),s=n.length?n:null):e.which==_.ENTER&&(s=null),this.selectChoice(s),m(e),void(s&&s.length||this.open())}if((e.which===_.BACKSPACE&&1==this.keydowns||e.which==_.LEFT)&&0==o.offset&&!o.length)return this.selectChoice(t.find(".select2-search-choice:not(.select2-locked)").last()),void m(e);if(this.selectChoice(null),this.opened())switch(e.which){case _.UP:case _.DOWN:return this.moveHighlight(e.which===_.UP?-1:1),void m(e);case _.ENTER:return this.selectHighlighted(),void m(e);case _.TAB:return this.selectHighlighted({noFocus:!0}),void this.close();case _.ESC:return this.cancel(e),void m(e)}if(e.which!==_.TAB&&!_.isControl(e)&&!_.isFunctionKey(e)&&e.which!==_.BACKSPACE&&e.which!==_.ESC){if(e.which===_.ENTER){if(!1===this.opts.openOnEnter)return;if(e.altKey||e.ctrlKey||e.shiftKey||e.metaKey)return}this.open(),(e.which===_.PAGE_UP||e.which===_.PAGE_DOWN)&&m(e),e.which===_.ENTER&&m(e)}}})),this.search.on("keyup",this.bind(function(){this.keydowns=0,this.resizeSearch()})),this.search.on("blur",this.bind(function(t){this.container.removeClass("select2-container-active"),this.search.removeClass("select2-focused"),this.selectChoice(null),this.opened()||this.clearSearch(),t.stopImmediatePropagation(),this.opts.element.trigger(e.Event("select2-blur"))})),this.container.on("click",i,this.bind(function(t){this.isInterfaceEnabled()&&(e(t.target).closest(".select2-search-choice").length>0||(this.selectChoice(null),this.clearPlaceholder(),this.container.hasClass("select2-container-active")||this.opts.element.trigger(e.Event("select2-focus")),this.open(),this.focusSearch(),t.preventDefault()))})),this.container.on("focus",i,this.bind(function(){this.isInterfaceEnabled()&&(this.container.hasClass("select2-container-active")||this.opts.element.trigger(e.Event("select2-focus")),this.container.addClass("select2-container-active"),this.dropdown.addClass("select2-drop-active"),this.clearPlaceholder())})),this.initContainerWidth(),this.opts.element.addClass("select2-offscreen"),this.clearSearch()},enableInterface:function(){this.parent.enableInterface.apply(this,arguments)&&this.search.prop("disabled",!this.isInterfaceEnabled())},initSelection:function(){if(""===this.opts.element.val()&&""===this.opts.element.text()&&(this.updateSelection([]),this.close(),this.clearSearch()),this.select||""!==this.opts.element.val()){var e=this;this.opts.initSelection.call(null,this.opts.element,function(i){i!==t&&null!==i&&(e.updateSelection(i),e.close(),e.clearSearch())})}},clearSearch:function(){var e=this.getPlaceholder(),i=this.getMaxSearchWidth();e!==t&&0===this.getVal().length&&!1===this.search.hasClass("select2-focused")?(this.search.val(e).addClass("select2-default"),this.search.width(i>0?i:this.container.css("width"))):this.search.val("").width(10)},clearPlaceholder:function(){this.search.hasClass("select2-default")&&this.search.val("").removeClass("select2-default")},opening:function(){this.clearPlaceholder(),this.resizeSearch(),this.parent.opening.apply(this,arguments),this.focusSearch(),""===this.search.val()&&this.nextSearchTerm!=t&&(this.search.val(this.nextSearchTerm),this.search.select()),this.updateResults(!0),this.opts.shouldFocusInput(this)&&this.search.focus(),this.opts.element.trigger(e.Event("select2-open"))},close:function(){this.opened()&&this.parent.close.apply(this,arguments)},focus:function(){this.close(),this.search.focus()},isFocused:function(){return this.search.hasClass("select2-focused")},updateSelection:function(t){var i=[],a=[],o=this;e(t).each(function(){n(o.id(this),i)<0&&(i.push(o.id(this)),a.push(this))}),t=a,this.selection.find(".select2-search-choice").remove(),e(t).each(function(){o.addSelectedChoice(this)}),o.postprocessResults()},tokenize:function(){var e=this.search.val();null!=(e=this.opts.tokenizer.call(this,e,this.data(),this.bind(this.onSelect),this.opts))&&e!=t&&(this.search.val(e),e.length>0&&this.open())},onSelect:function(e,i){this.triggerSelect(e)&&(this.addSelectedChoice(e),this.opts.element.trigger({type:"selected",val:this.id(e),choice:e}),this.nextSearchTerm=this.opts.nextSearchTerm(e,this.search.val()),this.clearSearch(),this.updateResults(),(this.select||!this.opts.closeOnSelect)&&this.postprocessResults(e,!1,!0===this.opts.closeOnSelect),this.opts.closeOnSelect?(this.close(),this.search.width(10)):this.countSelectableResults()>0?(this.search.width(10),this.resizeSearch(),this.getMaximumSelectionSize()>0&&this.val().length>=this.getMaximumSelectionSize()?this.updateResults(!0):this.nextSearchTerm!=t&&(this.search.val(this.nextSearchTerm),this.updateResults(),this.search.select()),this.positionDropdown()):(this.close(),this.search.width(10)),this.triggerChange({added:e}),i&&i.noFocus||this.focusSearch())},cancel:function(){this.close(),this.focusSearch()},addSelectedChoice:function(i){var a,n,o=!i.locked,s=e("<li class='select2-search-choice'>    <div></div>    <a href='#' class='select2-search-choice-close' tabindex='-1'></a></li>"),r=e("<li class='select2-search-choice select2-locked'><div></div></li>"),l=o?s:r,c=this.id(i),h=this.getVal();a=this.opts.formatSelection(i,l.find("div"),this.opts.escapeMarkup),a!=t&&l.find("div").replaceWith("<div>"+a+"</div>"),n=this.opts.formatSelectionCssClass(i,l.find("div")),n!=t&&l.addClass(n),o&&l.find(".select2-search-choice-close").on("mousedown",m).on("click dblclick",this.bind(function(t){this.isInterfaceEnabled()&&(this.unselect(e(t.target)),this.selection.find(".select2-search-choice-focus").removeClass("select2-search-choice-focus"),m(t),this.close(),this.focusSearch())})).on("focus",this.bind(function(){this.isInterfaceEnabled()&&(this.container.addClass("select2-container-active"),this.dropdown.addClass("select2-drop-active"))})),l.data("select2-data",i),l.insertBefore(this.searchContainer),h.push(c),this.setVal(h)},unselect:function(t){var i,a,o=this.getVal();if(t=t.closest(".select2-search-choice"),0===t.length)throw"Invalid argument: "+t+". Must be .select2-search-choice";if(i=t.data("select2-data")){var s=e.Event("select2-removing");if(s.val=this.id(i),s.choice=i,this.opts.element.trigger(s),s.isDefaultPrevented())return!1;for(;(a=n(this.id(i),o))>=0;)o.splice(a,1),this.setVal(o),this.select&&this.postprocessResults();return t.remove(),this.opts.element.trigger({type:"select2-removed",val:this.id(i),choice:i}),this.triggerChange({removed:i}),!0}},postprocessResults:function(e,t,i){var a=this.getVal(),o=this.results.find(".select2-result"),s=this.results.find(".select2-result-with-children"),r=this;o.each2(function(e,t){n(r.id(t.data("select2-data")),a)>=0&&(t.addClass("select2-selected"),t.find(".select2-result-selectable").addClass("select2-selected"))}),s.each2(function(e,t){t.is(".select2-result-selectable")||0!==t.find(".select2-result-selectable:not(.select2-selected)").length||t.addClass("select2-selected")}),-1==this.highlight()&&!1!==i&&r.highlight(0),!this.opts.createSearchChoice&&!o.filter(".select2-result:not(.select2-selected)").length>0&&(!e||e&&!e.more&&0===this.results.find(".select2-no-results").length)&&S(r.opts.formatNoMatches,"formatNoMatches")&&this.results.append("<li class='select2-no-results'>"+D(r.opts.formatNoMatches,r.search.val())+"</li>")},getMaxSearchWidth:function(){return this.selection.width()-l(this.search)},resizeSearch:function(){var e,t,i,a,n,o=l(this.search);e=v(this.search)+10,t=this.search.offset().left,i=this.selection.width(),a=this.selection.offset().left,n=i-(t-a)-o,e>n&&(n=i-o),40>n&&(n=i-o),0>=n&&(n=e),this.search.width(Math.floor(n))},getVal:function(){var e;return this.select?(e=this.select.val(),null===e?[]:e):(e=this.opts.element.val(),r(e,this.opts.separator))},setVal:function(t){var i;this.select?this.select.val(t):(i=[],e(t).each(function(){n(this,i)<0&&i.push(this)}),this.opts.element.val(0===i.length?"":i.join(this.opts.separator)))},buildChangeDetails:function(e,t){for(var t=t.slice(0),e=e.slice(0),i=0;i<t.length;i++)for(var a=0;a<e.length;a++)s(this.opts.id(t[i]),this.opts.id(e[a]))&&(t.splice(i,1),i>0&&i--,e.splice(a,1),a--);return{added:t,removed:e}},val:function(i,a){var n,o=this;if(0===arguments.length)return this.getVal();if(n=this.data(),n.length||(n=[]),!i&&0!==i)return this.opts.element.val(""),this.updateSelection([]),this.clearSearch(),void(a&&this.triggerChange({added:this.data(),removed:n}));if(this.setVal(i),this.select)this.opts.initSelection(this.select,this.bind(this.updateSelection)),a&&this.triggerChange(this.buildChangeDetails(n,this.data()));else{if(this.opts.initSelection===t)throw new Error("val() cannot be called if initSelection() is not defined");this.opts.initSelection(this.opts.element,function(t){var i=e.map(t,o.id);o.setVal(i),o.updateSelection(t),o.clearSearch(),a&&o.triggerChange(o.buildChangeDetails(n,o.data()))})}this.clearSearch()},onSortStart:function(){if(this.select)throw new Error("Sorting of elements is not supported when attached to <select>. Attach to <input type='hidden'/> instead.");this.search.width(0),this.searchContainer.hide()},onSortEnd:function(){var t=[],i=this;this.searchContainer.show(),this.searchContainer.appendTo(this.searchContainer.parent()),this.resizeSearch(),this.selection.find(".select2-search-choice").each(function(){t.push(i.opts.id(e(this).data("select2-data")))}),this.setVal(t),this.triggerChange()},data:function(t,i){var a,n,o=this;return 0===arguments.length?this.selection.children(".select2-search-choice").map(function(){return e(this).data("select2-data")}).get():(n=this.data(),t||(t=[]),a=e.map(t,function(e){return o.opts.id(e)}),this.setVal(a),this.updateSelection(t),this.clearSearch(),void(i&&this.triggerChange(this.buildChangeDetails(n,this.data()))))}}),e.fn.select2=function(){var i,a,o,s,r,l=Array.prototype.slice.call(arguments,0),c=["val","destroy","opened","open","close","focus","isFocused","container","dropdown","onSortStart","onSortEnd","enable","disable","readonly","positionDropdown","data","search"],h=["opened","isFocused","container","dropdown"],u=["val","data"],d={search:"externalSearch"};return this.each(function(){if(0===l.length||"object"==typeof l[0])i=0===l.length?{}:e.extend({},l[0]),i.element=e(this),"select"===i.element.get(0).tagName.toLowerCase()?r=i.element.prop("multiple"):(r=i.multiple||!1,"tags"in i&&(i.multiple=r=!0)),a=r?new window.Select2.class.multi:new window.Select2.class.single,a.init(i);else{if("string"!=typeof l[0])throw"Invalid arguments to select2 plugin: "+l;if(n(l[0],c)<0)throw"Unknown method: "+l[0];if(s=t,(a=e(this).data("select2"))===t)return;if(o=l[0],"container"===o?s=a.container:"dropdown"===o?s=a.dropdown:(d[o]&&(o=d[o]),s=a[o].apply(a,l.slice(1))),n(l[0],h)>=0||n(l[0],u)>=0&&1==l.length)return!1}}),s===t?this:s},e.fn.select2.defaults={width:"copy",loadMorePadding:0,closeOnSelect:!0,openOnEnter:!0,containerCss:{},dropdownCss:{},containerCssClass:"",dropdownCssClass:"",formatResult:function(e,t,i,a){var n=[];return y(e.text,i.term,n,a),n.join("")},formatSelection:function(e,i,a){return e?a(e.text):t},sortResults:function(e){return e},formatResultCssClass:function(e){return e.css},formatSelectionCssClass:function(){return t},formatMatches:function(e){return e+" results are available, use up and down arrow keys to navigate."},formatNoMatches:function(){return"No matches found"},formatInputTooShort:function(e,t){var i=t-e.length;return"Please enter "+i+" or more character"+(1==i?"":"s")},formatInputTooLong:function(e,t){var i=e.length-t;return"Please delete "+i+" character"+(1==i?"":"s")},formatSelectionTooBig:function(e){return"You can only select "+e+" item"+(1==e?"":"s")},formatLoadMore:function(){return"Loading more results"},formatSearching:function(){return"Searching"},minimumResultsForSearch:0,minimumInputLength:0,maximumInputLength:null,maximumSelectionSize:0,id:function(e){return e==t?null:e.id},matcher:function(e,t){return a(""+t).toUpperCase().indexOf(a(""+e).toUpperCase())>=0},separator:",",tokenSeparators:[],tokenizer:M,escapeMarkup:x,blurOnChange:!1,selectOnBlur:!1,adaptContainerCssClass:function(e){return e},adaptDropdownCssClass:function(){return null},nextSearchTerm:function(){return t},searchInputPlaceholder:"",createSearchChoicePosition:"top",shouldFocusInput:function(e){return!(("ontouchstart"in window||navigator.msMaxTouchPoints>0)&&e.opts.minimumResultsForSearch<0)}},e.fn.select2.ajaxDefaults={transport:e.ajax,params:{type:"GET",cache:!1,dataType:"json"}},window.Select2={query:{ajax:C,local:w,tags:k},util:{debounce:u,markMatch:y,escapeMarkup:x,stripDiacritics:a},class:{abstract:A,single:I,multi:F}}}}(jQuery),function(e,t,i){e.fn.backstretch=function(a,n){return(a===i||0===a.length)&&e.error("No images were supplied for Backstretch"),0===e(t).scrollTop()&&t.scrollTo(0,0),this.each(function(){var t=e(this),i=t.data("backstretch");if(i){if("string"==typeof a&&"function"==typeof i[a])return void i[a](n);n=e.extend(i.options,n),i.destroy(!0)}i=new o(this,a,n),t.data("backstretch",i)})},e.backstretch=function(t,i){return e("body").backstretch(t,i).data("backstretch")},e.expr[":"].backstretch=function(t){return e(t).data("backstretch")!==i},e.fn.backstretch.defaults={centeredX:!0,centeredY:!0,duration:5e3,fade:0};var a={left:0,top:0,overflow:"hidden",margin:0,padding:0,height:"100%",width:"100%",zIndex:-999999},n={position:"absolute",display:"none",margin:0,padding:0,border:"none",width:"auto",height:"auto",maxHeight:"none",maxWidth:"none",zIndex:-999999},o=function(i,n,o){this.options=e.extend({},e.fn.backstretch.defaults,o||{}),this.images=e.isArray(n)?n:[n],e.each(this.images,function(){e("<img />")[0].src=this}),this.isBody=i===document.body,this.$container=e(i),this.$root=this.isBody?e(s?t:document):this.$container,i=this.$container.children(".backstretch").first(),this.$wrap=i.length?i:e('<div class="backstretch"></div>').css(a).appendTo(this.$container),this.isBody||(i=this.$container.css("position"),n=this.$container.css("zIndex"),this.$container.css({position:"static"===i?"relative":i,zIndex:"auto"===n?0:n,background:"none"}),this.$wrap.css({zIndex:-999998})),this.$wrap.css({position:this.isBody&&s?"fixed":"absolute"}),this.index=0,this.show(this.index),e(t).on("resize.backstretch",e.proxy(this.resize,this)).on("orientationchange.backstretch",e.proxy(function(){this.isBody&&0===t.pageYOffset&&(t.scrollTo(0,1),this.resize())},this))};o.prototype={resize:function(){try{var e,i={left:0,top:0},a=this.isBody?this.$root.width():this.$root.innerWidth(),n=a,o=this.isBody?t.innerHeight?t.innerHeight:this.$root.height():this.$root.innerHeight(),s=n/this.$img.data("ratio");s>=o?(e=(s-o)/2,this.options.centeredY&&(i.top="-"+e+"px")):(s=o,n=s*this.$img.data("ratio"),e=(n-a)/2,this.options.centeredX&&(i.left="-"+e+"px")),this.$wrap.css({width:a,height:o}).find("img:not(.deleteable)").css({width:n,height:s}).css(i)}catch(e){}return this},show:function(t){if(!(Math.abs(t)>this.images.length-1)){var i=this,a=i.$wrap.find("img").addClass("deleteable"),o={relatedTarget:i.$container[0]};return i.$container.trigger(e.Event("backstretch.before",o),[i,t]),this.index=t,clearInterval(i.interval),i.$img=e("<img />").css(n).bind("load",function(n){var s=this.width||e(n.target).width();n=this.height||e(n.target).height(),e(this).data("ratio",s/n),e(this).fadeIn(i.options.speed||i.options.fade,function(){a.remove(),i.paused||i.cycle(),e(["after","show"]).each(function(){i.$container.trigger(e.Event("backstretch."+this,o),[i,t])})}),i.resize()}).appendTo(i.$wrap),i.$img.attr("src",i.images[t]),i}},next:function(){return this.show(this.index<this.images.length-1?this.index+1:0)},prev:function(){return this.show(0===this.index?this.images.length-1:this.index-1)},pause:function(){return this.paused=!0,this},resume:function(){return this.paused=!1,this.next(),this},cycle:function(){return 1<this.images.length&&(clearInterval(this.interval),this.interval=setInterval(e.proxy(function(){this.paused||this.next()},this),this.options.duration)),this},destroy:function(i){e(t).off("resize.backstretch orientationchange.backstretch"),clearInterval(this.interval),i||this.$wrap.remove(),this.$container.removeData("backstretch")}}
;var s,r=navigator.userAgent,l=navigator.platform,c=r.match(/AppleWebKit\/([0-9]+)/),c=!!c&&c[1],h=r.match(/Fennec\/([0-9]+)/),h=!!h&&h[1],u=r.match(/Opera Mobi\/([0-9]+)/),d=!!u&&u[1],p=r.match(/MSIE ([0-9]+)/),p=!!p&&p[1];s=!((-1<l.indexOf("iPhone")||-1<l.indexOf("iPad")||-1<l.indexOf("iPod"))&&c&&534>c||t.operamini&&"[object OperaMini]"==={}.toString.call(t.operamini)||u&&7458>d||-1<r.indexOf("Android")&&c&&533>c||h&&6>h||"palmGetResource"in t&&c&&534>c||-1<r.indexOf("MeeGo")&&-1<r.indexOf("NokiaBrowser/8.5.0")||p&&6>=p)}(jQuery,window),function(e,t,i){"use strict";function a(e){return function(){var t,i=arguments[0];for(t="["+(e?e+":":"")+i+"] http://errors.angularjs.org/1.3.10/"+(e?e+"/":"")+i,i=1;i<arguments.length;i++){t=t+(1==i?"?":"&")+"p"+(i-1)+"=";var a,n=encodeURIComponent;a=arguments[i],a="function"==typeof a?a.toString().replace(/ \{[\s\S]*$/,""):void 0===a?"undefined":"string"!=typeof a?JSON.stringify(a):a,t+=n(a)}return Error(t)}}function n(e){if(null==e||k(e))return!1;var t=e.length;return!(e.nodeType!==Oi||!t)||(b(e)||Ai(e)||0===t||"number"==typeof t&&0<t&&t-1 in e)}function o(e,t,i){var a,s;if(e)if(C(e))for(a in e)"prototype"==a||"length"==a||"name"==a||e.hasOwnProperty&&!e.hasOwnProperty(a)||t.call(i,e[a],a,e);else if(Ai(e)||n(e)){var r="object"!=typeof e;for(a=0,s=e.length;a<s;a++)(r||a in e)&&t.call(i,e[a],a,e)}else if(e.forEach&&e.forEach!==o)e.forEach(t,i,e);else for(a in e)e.hasOwnProperty(a)&&t.call(i,e[a],a,e);return e}function s(e,t,i){for(var a=Object.keys(e).sort(),n=0;n<a.length;n++)t.call(i,e[a[n]],a[n]);return a}function r(e){return function(t,i){e(i,t)}}function l(){return++$i}function c(e,t){t?e.$$hashKey=t:delete e.$$hashKey}function h(e){for(var t=e.$$hashKey,i=1,a=arguments.length;i<a;i++){var n=arguments[i];if(n)for(var o=Object.keys(n),s=0,r=o.length;s<r;s++){var l=o[s];e[l]=n[l]}}return c(e,t),e}function u(e){return parseInt(e,10)}function d(){}function p(e){return e}function f(e){return function(){return e}}function m(e){return void 0===e}function g(e){return void 0!==e}function v(e){return null!==e&&"object"==typeof e}function b(e){return"string"==typeof e}function y(e){return"number"==typeof e}function x(e){return"[object Date]"===Ti.call(e)}function C(e){return"function"==typeof e}function w(e){return"[object RegExp]"===Ti.call(e)}function k(e){return e&&e.window===e}function S(e){return e&&e.$evalAsync&&e.$watch}function D(e){return"boolean"==typeof e}function T(e){return!(!e||!(e.nodeName||e.prop&&e.attr&&e.find))}function M(e){var t={};e=e.split(",");var i;for(i=0;i<e.length;i++)t[e[i]]=!0;return t}function P(e){return xi(e.nodeName||e[0]&&e[0].nodeName)}function $(e,t){var i=e.indexOf(t);return 0<=i&&e.splice(i,1),t}function _(e,t,i,a){if(k(e)||S(e))throw Mi("cpws");if(t){if(e===t)throw Mi("cpi");if(i=i||[],a=a||[],v(e)){var n=i.indexOf(e);if(-1!==n)return a[n];i.push(e),a.push(t)}if(Ai(e))for(var s=t.length=0;s<e.length;s++)n=_(e[s],null,i,a),v(e[s])&&(i.push(e[s]),a.push(n)),t.push(n);else{var r=t.$$hashKey;Ai(t)?t.length=0:o(t,function(e,i){delete t[i]});for(s in e)e.hasOwnProperty(s)&&(n=_(e[s],null,i,a),v(e[s])&&(i.push(e[s]),a.push(n)),t[s]=n);c(t,r)}}else(t=e)&&(Ai(e)?t=_(e,[],i,a):x(e)?t=new Date(e.getTime()):w(e)?(t=new RegExp(e.source,e.toString().match(/[^\/]*$/)[0]),t.lastIndex=e.lastIndex):v(e)&&(n=Object.create(Object.getPrototypeOf(e)),t=_(e,n,i,a)));return t}function A(e,t){if(Ai(e)){t=t||[];for(var i=0,a=e.length;i<a;i++)t[i]=e[i]}else if(v(e))for(i in t=t||{},e)"$"===i.charAt(0)&&"$"===i.charAt(1)||(t[i]=e[i]);return t||e}function I(e,t){if(e===t)return!0;if(null===e||null===t)return!1;if(e!==e&&t!==t)return!0;var a,n=typeof e;if(n==typeof t&&"object"==n){if(!Ai(e)){if(x(e))return!!x(t)&&I(e.getTime(),t.getTime());if(w(e)&&w(t))return e.toString()==t.toString();if(S(e)||S(t)||k(e)||k(t)||Ai(t))return!1;n={};for(a in e)if("$"!==a.charAt(0)&&!C(e[a])){if(!I(e[a],t[a]))return!1;n[a]=!0}for(a in t)if(!n.hasOwnProperty(a)&&"$"!==a.charAt(0)&&t[a]!==i&&!C(t[a]))return!1;return!0}if(!Ai(t))return!1;if((n=e.length)==t.length){for(a=0;a<n;a++)if(!I(e[a],t[a]))return!1;return!0}}return!1}function F(e,t,i){return e.concat(ki.call(t,i))}function E(e,t){var i=2<arguments.length?ki.call(arguments,2):[];return!C(t)||t instanceof RegExp?t:i.length?function(){return arguments.length?t.apply(e,F(i,arguments,0)):t.apply(e,i)}:function(){return arguments.length?t.apply(e,arguments):t.call(e)}}function L(e,a){var n=a;return"string"==typeof e&&"$"===e.charAt(0)&&"$"===e.charAt(1)?n=i:k(a)?n="$WINDOW":a&&t===a?n="$DOCUMENT":S(a)&&(n="$SCOPE"),n}function B(e,t){return void 0===e?i:(y(t)||(t=t?2:null),JSON.stringify(e,L,t))}function R(e){return b(e)?JSON.parse(e):e}function O(e){e=gi(e).clone();try{e.empty()}catch(e){}var t=gi("<div>").append(e).html();try{return e[0].nodeType===Ni?xi(t):t.match(/^(<[^>]+>)/)[1].replace(/^<([\w\-]+)/,function(e,t){return"<"+xi(t)})}catch(e){return xi(t)}}function N(e){try{return decodeURIComponent(e)}catch(e){}}function V(e){var t,i,a={};return o((e||"").split("&"),function(e){e&&(t=e.replace(/\+/g,"%20").split("="),i=N(t[0]),g(i)&&(e=!g(t[1])||N(t[1]),Ci.call(a,i)?Ai(a[i])?a[i].push(e):a[i]=[a[i],e]:a[i]=e))}),a}function W(e){var t=[];return o(e,function(e,i){Ai(e)?o(e,function(e){t.push(Y(i,!0)+(!0===e?"":"="+Y(e,!0)))}):t.push(Y(i,!0)+(!0===e?"":"="+Y(e,!0)))}),t.length?t.join("&"):""}function z(e){return Y(e,!0).replace(/%26/gi,"&").replace(/%3D/gi,"=").replace(/%2B/gi,"+")}function Y(e,t){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%20/g,t?"%20":"+")}function H(e,t){var i,a,n=Li.length;for(e=gi(e),a=0;a<n;++a)if(i=Li[a]+t,b(i=e.attr(i)))return i;return null}function U(e,t){var i,a,n={};o(Li,function(t){t+="app",!i&&e.hasAttribute&&e.hasAttribute(t)&&(i=e,a=e.getAttribute(t))}),o(Li,function(t){t+="app";var n;!i&&(n=e.querySelector("["+t.replace(":","\\:")+"]"))&&(i=n,a=n.getAttribute(t))}),i&&(n.strictDi=null!==H(i,"strict-di"),t(i,a?[a]:[],n))}function j(i,a,n){v(n)||(n={}),n=h({strictDi:!1},n);var s=function(){if(i=gi(i),i.injector()){var e=i[0]===t?"document":O(i);throw Mi("btstrpd",e.replace(/</,"&lt;").replace(/>/,"&gt;"))}return a=a||[],a.unshift(["$provide",function(e){e.value("$rootElement",i)}]),n.debugInfoEnabled&&a.push(["$compileProvider",function(e){e.debugInfoEnabled(!0)}]),a.unshift("ng"),e=_e(a,n.strictDi),e.invoke(["$rootScope","$rootElement","$compile","$injector",function(e,t,i,a){e.$apply(function(){t.data("$injector",a),i(t)(e)})}]),e},r=/^NG_ENABLE_DEBUG_INFO!/,l=/^NG_DEFER_BOOTSTRAP!/;if(e&&r.test(e.name)&&(n.debugInfoEnabled=!0,e.name=e.name.replace(r,"")),e&&!l.test(e.name))return s();e.name=e.name.replace(l,""),Pi.resumeBootstrap=function(e){o(e,function(e){a.push(e)}),s()}}function G(){e.name="NG_ENABLE_DEBUG_INFO!"+e.name,e.location.reload()}function X(e){if(!(e=Pi.element(e).injector()))throw Mi("test");return e.get("$$testability")}function q(e,t){return t=t||"_",e.replace(Bi,function(e,i){return(i?t:"")+e.toLowerCase()})}function Q(e,t,i){if(!e)throw Mi("areq",t||"?",i||"required");return e}function K(e,t,i){return i&&Ai(e)&&(e=e[e.length-1]),Q(C(e),t,"not a function, got "+(e&&"object"==typeof e?e.constructor.name||"Object":typeof e)),e}function J(e,t){if("hasOwnProperty"===e)throw Mi("badname",t)}function Z(e,t,i){if(!t)return e;t=t.split(".");for(var a,n=e,o=t.length,s=0;s<o;s++)a=t[s],e&&(e=(n=e)[a]);return!i&&C(e)?E(n,e):e}function ee(e){var t=e[0];e=e[e.length-1];var i=[t];do{if(!(t=t.nextSibling))break;i.push(t)}while(t!==e);return gi(i)}function te(){return Object.create(null)}function ie(e){function t(e,t,i){return e[t]||(e[t]=i())}var i=a("$injector"),n=a("ng");return e=t(e,"angular",Object),e.$$minErr=e.$$minErr||a,t(e,"module",function(){var e={};return function(a,o,s){if("hasOwnProperty"===a)throw n("badname","module");return o&&e.hasOwnProperty(a)&&(e[a]=null),t(e,a,function(){function e(e,i,a,n){return n||(n=t),function(){return n[a||"push"]([e,i,arguments]),c}}if(!o)throw i("nomod",a);var t=[],n=[],r=[],l=e("$injector","invoke","push",n),c={_invokeQueue:t,_configBlocks:n,_runBlocks:r,requires:o,name:a,provider:e("$provide","provider"),factory:e("$provide","factory"),service:e("$provide","service"),value:e("$provide","value"),constant:e("$provide","constant","unshift"),animation:e("$animateProvider","register"),filter:e("$filterProvider","register"),controller:e("$controllerProvider","register"),directive:e("$compileProvider","directive"),config:l,run:function(e){return r.push(e),this}};return s&&l(s),c})}})}function ae(e){return e.replace(Yi,function(e,t,i,a){return a?i.toUpperCase():i}).replace(Hi,"Moz$1")}function ne(e){return(e=e.nodeType)===Oi||!e||9===e}function oe(e,t){var i,a,n=t.createDocumentFragment(),s=[];if(Xi.test(e)){for(i=i||n.appendChild(t.createElement("div")),a=(qi.exec(e)||["",""])[1].toLowerCase(),a=Ki[a]||Ki._default,i.innerHTML=a[1]+e.replace(Qi,"<$1></$2>")+a[2],a=a[0];a--;)i=i.lastChild;s=F(s,i.childNodes),i=n.firstChild,i.textContent=""}else s.push(t.createTextNode(e));return n.textContent="",n.innerHTML="",o(s,function(e){n.appendChild(e)}),n}function se(e){if(e instanceof se)return e;var i;if(b(e)&&(e=Ii(e),i=!0),!(this instanceof se)){if(i&&"<"!=e.charAt(0))throw ji("nosel");return new se(e)}if(i){i=t;var a;e=(a=Gi.exec(e))?[i.createElement(a[1])]:(a=oe(e,i))?a.childNodes:[]}ge(this,e)}function re(e){return e.cloneNode(!0)}function le(e,t){if(t||he(e),e.querySelectorAll)for(var i=e.querySelectorAll("*"),a=0,n=i.length;a<n;a++)he(i[a])}function ce(e,t,i,a){if(g(a))throw ji("offargs");var n=(a=ue(e))&&a.events,s=a&&a.handle;if(s)if(t)o(t.split(" "),function(t){if(g(i)){var a=n[t];if($(a||[],i),a&&0<a.length)return}e.removeEventListener(t,s,!1),delete n[t]});else for(t in n)"$destroy"!==t&&e.removeEventListener(t,s,!1),delete n[t]}function he(e,t){var a=e.ng339,n=a&&Wi[a];n&&(t?delete n.data[t]:(n.handle&&(n.events.$destroy&&n.handle({},"$destroy"),ce(e)),delete Wi[a],e.ng339=i))}function ue(e,t){var a=e.ng339,a=a&&Wi[a];return t&&!a&&(e.ng339=a=++zi,a=Wi[a]={events:{},data:{},handle:i}),a}function de(e,t,i){if(ne(e)){var a=g(i),n=!a&&t&&!v(t),o=!t;if(e=(e=ue(e,!n))&&e.data,a)e[t]=i;else{if(o)return e;if(n)return e&&e[t];h(e,t)}}}function pe(e,t){return!!e.getAttribute&&-1<(" "+(e.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").indexOf(" "+t+" ")}function fe(e,t){t&&e.setAttribute&&o(t.split(" "),function(t){e.setAttribute("class",Ii((" "+(e.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").replace(" "+Ii(t)+" "," ")))})}function me(e,t){if(t&&e.setAttribute){var i=(" "+(e.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ");o(t.split(" "),function(e){e=Ii(e),-1===i.indexOf(" "+e+" ")&&(i+=e+" ")}),e.setAttribute("class",Ii(i))}}function ge(e,t){if(t)if(t.nodeType)e[e.length++]=t;else{var i=t.length;if("number"==typeof i&&t.window!==t){if(i)for(var a=0;a<i;a++)e[e.length++]=t[a]}else e[e.length++]=t}}function ve(e,t){return be(e,"$"+(t||"ngController")+"Controller")}function be(e,t,a){for(9==e.nodeType&&(e=e.documentElement),t=Ai(t)?t:[t];e;){for(var n=0,o=t.length;n<o;n++)if((a=gi.data(e,t[n]))!==i)return a;e=e.parentNode||11===e.nodeType&&e.host}}function ye(e){for(le(e,!0);e.firstChild;)e.removeChild(e.firstChild)}function xe(e,t){t||le(e);var i=e.parentNode;i&&i.removeChild(e)}function Ce(t,i){i=i||e,"complete"===i.document.readyState?i.setTimeout(t):gi(i).on("load",t)}function we(e,t){var i=Zi[t.toLowerCase()];return i&&ea[P(e)]&&i}function ke(e,t){var i=e.nodeName;return("INPUT"===i||"TEXTAREA"===i)&&ta[t]}function Se(e,t){var i=function(i,a){i.isDefaultPrevented=function(){return i.defaultPrevented};var n=t[a||i.type],o=n?n.length:0;if(o){if(m(i.immediatePropagationStopped)){var s=i.stopImmediatePropagation;i.stopImmediatePropagation=function(){i.immediatePropagationStopped=!0,i.stopPropagation&&i.stopPropagation(),s&&s.call(i)}}i.isImmediatePropagationStopped=function(){return!0===i.immediatePropagationStopped},1<o&&(n=A(n));for(var r=0;r<o;r++)i.isImmediatePropagationStopped()||n[r].call(e,i)}};return i.elem=e,i}function De(){this.$get=function(){return h(se,{hasClass:function(e,t){return e.attr&&(e=e[0]),pe(e,t)},addClass:function(e,t){return e.attr&&(e=e[0]),me(e,t)},removeClass:function(e,t){return e.attr&&(e=e[0]),fe(e,t)}})}}function Te(e,t){var i=e&&e.$$hashKey;return i?("function"==typeof i&&(i=e.$$hashKey()),i):(i=typeof e,i="function"==i||"object"==i&&null!==e?e.$$hashKey=i+":"+(t||l)():i+":"+e)}function Me(e,t){if(t){var i=0;this.nextUid=function(){return++i}}o(e,this.put,this)}function Pe(e){return(e=e.toString().replace(oa,"").match(ia))?"function("+(e[1]||"").replace(/[\s\r\n]+/," ")+")":"fn"}function $e(e,t,i){var a;if("function"==typeof e){if(!(a=e.$inject)){if(a=[],e.length){if(t)throw b(i)&&i||(i=e.name||Pe(e)),sa("strictdi",i);t=e.toString().replace(oa,""),t=t.match(ia),o(t[1].split(aa),function(e){e.replace(na,function(e,t,i){a.push(i)})})}e.$inject=a}}else Ai(e)?(t=e.length-1,K(e[t],"fn"),a=e.slice(0,t)):K(e,"fn",!0);return a}function _e(e,t){function a(e){return function(t,i){if(!v(t))return e(t,i);o(t,r(e))}}function n(e,t){if(J(e,"service"),(C(t)||Ai(t))&&(t=x.instantiate(t)),!t.$get)throw sa("pget",e);return y[e+"Provider"]=t}function s(e,t){return function(){var i=k.invoke(t,this);if(m(i))throw sa("undef",e);return i}}function l(e,t,i){return n(e,{$get:!1!==i?s(e,t):t})}function c(e){var t,i=[];return o(e,function(e){function a(e){var t,i;for(t=0,i=e.length;t<i;t++){var a=e[t],n=x.get(a[0]);n[a[1]].apply(n,a[2])}}if(!g.get(e)){g.put(e,!0);try{b(e)?(t=bi(e),i=i.concat(c(t.requires)).concat(t._runBlocks),a(t._invokeQueue),a(t._configBlocks)):C(e)?i.push(x.invoke(e)):Ai(e)?i.push(x.invoke(e)):K(e,"module")}catch(t){throw Ai(e)&&(e=e[e.length-1]),t.message&&t.stack&&-1==t.stack.indexOf(t.message)&&(t=t.message+"\n"+t.stack),sa("modulerr",e,t.stack||t.message||t)}}}),i}function h(e,i){function a(t,a){if(e.hasOwnProperty(t)){if(e[t]===u)throw sa("cdep",t+" <- "+p.join(" <- "));return e[t]}try{return p.unshift(t),e[t]=u,e[t]=i(t,a)}catch(i){throw e[t]===u&&delete e[t],i}finally{p.shift()}}function n(e,i,n,o){"string"==typeof n&&(o=n,n=null);var s,r,l,c=[],h=$e(e,t,o);for(r=0,s=h.length;r<s;r++){if("string"!=typeof(l=h[r]))throw sa("itkn",l);c.push(n&&n.hasOwnProperty(l)?n[l]:a(l,o))}return Ai(e)&&(e=e[s]),e.apply(i,c)}return{invoke:n,instantiate:function(e,t,i){var a=Object.create((Ai(e)?e[e.length-1]:e).prototype||null);return e=n(e,a,t,i),v(e)||C(e)?e:a},get:a,annotate:$e,has:function(t){return y.hasOwnProperty(t+"Provider")||e.hasOwnProperty(t)}}}t=!0===t;var u={},p=[],g=new Me([],!0),y={$provide:{provider:a(n),factory:a(l),service:a(function(e,t){return l(e,["$injector",function(e){return e.instantiate(t)}])}),value:a(function(e,t){return l(e,f(t),!1)}),constant:a(function(e,t){J(e,"constant"),y[e]=t,w[e]=t}),decorator:function(e,t){var i=x.get(e+"Provider"),a=i.$get;i.$get=function(){var e=k.invoke(a,i);return k.invoke(t,null,{$delegate:e})}}}},x=y.$injector=h(y,function(e,t){throw Pi.isString(t)&&p.push(t),sa("unpr",p.join(" <- "))}),w={},k=w.$injector=h(w,function(e,t){var a=x.get(e+"Provider",t);return k.invoke(a.$get,a,i,e)});return o(c(e),function(e){k.invoke(e||d)}),k}function Ae(){var e=!0;this.disableAutoScrolling=function(){e=!1},this.$get=["$window","$location","$rootScope",function(t,i,a){function n(e){var t=null;return Array.prototype.some.call(e,function(e){if("a"===P(e))return t=e,!0}),t}function o(e){if(e){e.scrollIntoView();var i;i=s.yOffset,C(i)?i=i():T(i)?(i=i[0],i="fixed"!==t.getComputedStyle(i).position?0:i.getBoundingClientRect().bottom):y(i)||(i=0),i&&(e=e.getBoundingClientRect().top,t.scrollBy(0,e-i))}else t.scrollTo(0,0)}function s(){var e,t=i.hash();t?(e=r.getElementById(t))?o(e):(e=n(r.getElementsByName(t)))?o(e):"top"===t&&o(null):o(null)}var r=t.document;return e&&a.$watch(function(){return i.hash()},function(e,t){e===t&&""===e||Ce(function(){a.$evalAsync(s)})}),s}]}function Ie(){this.$get=["$$rAF","$timeout",function(e,t){return e.supported?function(t){return e(t)}:function(e){return t(e,0,!1)}}]}function Fe(e,t,a,n){function s(e){try{e.apply(null,ki.call(arguments,1))}finally{if(0===--w)for(;k.length;)try{k.pop()()}catch(e){a.error(e)}}}function r(e,t){!function i(){o(D,function(e){e()}),S=t(i,e)}()}function l(){c(),h()}function c(){T=e.history.state,T=m(T)?null:T,I(T,E)&&(T=E),E=T}function h(){P===p.url()&&M===T||(P=p.url(),M=T,o(A,function(e){e(p.url(),T)}))}function u(e){try{return decodeURIComponent(e)}catch(t){return e}}var p=this,f=t[0],g=e.location,v=e.history,y=e.setTimeout,x=e.clearTimeout,C={};p.isMock=!1;var w=0,k=[];p.$$completeOutstandingRequest=s,p.$$incOutstandingRequestCount=function(){w++},p.notifyWhenNoOutstandingRequests=function(e){o(D,function(e){e()}),0===w?e():k.push(e)};var S,D=[];p.addPollFn=function(e){return m(S)&&r(100,y),D.push(e),e};var T,M,P=g.href,$=t.find("base"),_=null;c(),M=T,p.url=function(t,i,a){if(m(a)&&(a=null),g!==e.location&&(g=e.location),v!==e.history&&(v=e.history),t){var o=M===a;if(P===t&&(!n.history||o))return p;var s=P&&ot(P)===ot(t);return P=t,M=a,!n.history||s&&o?(s||(_=t),i?g.replace(t):s?(i=g,a=t.indexOf("#"),t=-1===a?"":t.substr(a+1),i.hash=t):g.href=t):(v[i?"replaceState":"pushState"](a,"",t),c(),M=T),p}return _||g.href.replace(/%27/g,"'")},p.state=function(){return T};var A=[],F=!1,E=null;p.onUrlChange=function(t){return F||(n.history&&gi(e).on("popstate",l),gi(e).on("hashchange",l),F=!0),A.push(t),t},p.$$checkUrlChange=h,p.baseHref=function(){var e=$.attr("href");return e?e.replace(/^(https?\:)?\/\/[^\/]*/,""):""};var L={},B="",R=p.baseHref();p.cookies=function(e,t){var n,o,s,r;if(!e){if(f.cookie!==B)for(B=f.cookie,n=B.split("; "),L={},s=0;s<n.length;s++)o=n[s],0<(r=o.indexOf("="))&&(e=u(o.substring(0,r)),L[e]===i&&(L[e]=u(o.substring(r+1))));return L}t===i?f.cookie=encodeURIComponent(e)+"=;path="+R+";expires=Thu, 01 Jan 1970 00:00:00 GMT":b(t)&&4096<(n=(f.cookie=encodeURIComponent(e)+"="+encodeURIComponent(t)+";path="+R).length+1)&&a.warn("Cookie '"+e+"' possibly not set or overflowed because it was too large ("+n+" > 4096 bytes)!")},p.defer=function(e,t){var i;return w++,i=y(function(){delete C[i],s(e)},t||0),C[i]=!0,i},p.defer.cancel=function(e){return!!C[e]&&(delete C[e],x(e),s(d),!0)}}function Ee(){this.$get=["$window","$log","$sniffer","$document",function(e,t,i,a){return new Fe(e,a,t,i)}]}function Le(){this.$get=function(){function e(e,i){function n(e){e!=d&&(p?p==e&&(p=e.n):p=e,o(e.n,e.p),o(e,d),d=e,d.n=null)}function o(e,t){e!=t&&(e&&(e.p=t),t&&(t.n=e))}if(e in t)throw a("$cacheFactory")("iid",e);var s=0,r=h({},i,{id:e}),l={},c=i&&i.capacity||Number.MAX_VALUE,u={},d=null,p=null;return t[e]={put:function(e,t){if(c<Number.MAX_VALUE){n(u[e]||(u[e]={key:e}))}if(!m(t))return e in l||s++,l[e]=t,s>c&&this.remove(p.key),t},get:function(e){if(c<Number.MAX_VALUE){var t=u[e];if(!t)return;n(t)}return l[e]},remove:function(e){if(c<Number.MAX_VALUE){var t=u[e];if(!t)return;t==d&&(d=t.p),t==p&&(p=t.n),o(t.n,t.p),delete u[e]}delete l[e],s--},removeAll:function(){l={},s=0,u={},d=p=null},destroy:function(){u=r=l=null,delete t[e]},info:function(){return h({},r,{size:s})}}}var t={};return e.info=function(){var e={};return o(t,function(t,i){e[i]=t.info()}),e},e.get=function(e){return t[e]},e}}function Be(){this.$get=["$cacheFactory",function(e){return e("templates")}]}function Re(e,a){function n(e,t){var i=/^\s*([@&]|=(\*?))(\??)\s*(\w*)\s*$/,a={};return o(e,function(e,n){var o=e.match(i);if(!o)throw ca("iscp",t,n,e);a[n]={mode:o[1][0],collection:"*"===o[2],optional:"?"===o[3],attrName:o[4]||n}}),a}var s={},l=/^\s*directive\:\s*([\w\-]+)\s+(.*)$/,c=/(([\w\-]+)(?:\:([^;]+))?;?)/,u=M("ngSrc,ngSrcset,src,srcset"),m=/^(?:(\^\^?)?(\?)?(\^\^?)?)?/,y=/^(on[a-z]+|formaction)$/;this.directive=function t(i,a){return J(i,"directive"),b(i)?(Q(a,"directiveFactory"),s.hasOwnProperty(i)||(s[i]=[],e.factory(i+"Directive",["$injector","$exceptionHandler",function(e,t){var a=[];return o(s[i],function(o,s){try{var r=e.invoke(o);C(r)?r={compile:f(r)}:!r.compile&&r.link&&(r.compile=f(r.link)),r.priority=r.priority||0,r.index=s,r.name=r.name||i,r.require=r.require||r.controller&&r.name,r.restrict=r.restrict||"EA",v(r.scope)&&(r.$$isolateBindings=n(r.scope,r.name)),a.push(r)}catch(e){t(e)}}),a}])),s[i].push(a)):o(i,r(t)),this},this.aHrefSanitizationWhitelist=function(e){return g(e)?(a.aHrefSanitizationWhitelist(e),this):a.aHrefSanitizationWhitelist()},this.imgSrcSanitizationWhitelist=function(e){return g(e)?(a.imgSrcSanitizationWhitelist(e),this):a.imgSrcSanitizationWhitelist()};var x=!0;this.debugInfoEnabled=function(e){return g(e)?(x=e,this):x},this.$get=["$injector","$interpolate","$exceptionHandler","$templateRequest","$parse","$controller","$rootScope","$document","$sce","$animate","$$sanitizeUri",function(e,a,n,r,f,g,w,k,D,T,M){function _(e,t){try{e.addClass(t)}catch(e){}}function A(e,t,i,a,n){e instanceof gi||(e=gi(e)),o(e,function(t,i){t.nodeType==Ni&&t.nodeValue.match(/\S+/)&&(e[i]=gi(t).wrap("<span></span>").parent()[0])});var s=F(e,t,e,i,a,n);A.$$addScopeClass(e);var r=null;return function(t,i,a){Q(t,"scope"),a=a||{};var n=a.parentBoundTranscludeFn,o=a.transcludeControllers;if(a=a.futureParentElement,n&&n.$$boundTransclude&&(n=n.$$boundTransclude),r||(r=(a=a&&a[0])&&"foreignobject"!==P(a)&&a.toString().match(/SVG/)?"svg":"html"),a="html"!==r?gi(X(r,gi("<div>").append(e).html())):i?Ji.clone.call(e):e,o)for(var l in o)a.data("$"+l+"Controller",o[l].instance);return A.$$addScopeInfo(a,t),i&&i(a,t),s&&s(t,a,a,n),a}}function F(e,t,a,n,o,s){function r(e,a,n,o){var s,r,l,c,h,u,f;if(d)for(f=Array(a.length),c=0;c<p.length;c+=3)s=p[c],f[s]=a[s];else f=a;for(c=0,h=p.length;c<h;)r=f[p[c++]],a=p[c++],s=p[c++],a?(a.scope?(l=e.$new(),A.$$addScopeInfo(gi(r),l)):l=e,u=a.transcludeOnThisElement?E(e,a.transclude,o,a.elementTranscludeOnThisElement):!a.templateOnThisElement&&o?o:!o&&t?E(e,t):null,a(s,l,r,n,u)):s&&s(e,r.childNodes,i,o)}for(var l,c,h,u,d,p=[],f=0;f<e.length;f++)l=new ae,c=L(e[f],[],l,0===f?n:i,o),(s=c.length?N(c,e[f],l,t,a,null,[],[],s):null)&&s.scope&&A.$$addScopeClass(l.$$element),l=s&&s.terminal||!(h=e[f].childNodes)||!h.length?null:F(h,s?(s.transcludeOnThisElement||!s.templateOnThisElement)&&s.transclude:t),(s||l)&&(p.push(f,s,l),u=!0,d=d||s),s=null;return u?r:null}function E(e,t,i,a){return function(a,n,o,s,r){return a||(a=e.$new(!1,r),a.$$transcluded=!0),t(a,n,{parentBoundTranscludeFn:i,transcludeControllers:o,futureParentElement:s})}}function L(e,t,i,a,n){var o,s=i.$attr;switch(e.nodeType){case Oi:W(t,Oe(P(e)),"E",a,n);for(var r,h,u,d=e.attributes,p=0,f=d&&d.length;p<f;p++){var m=!1,g=!1;r=d[p],o=r.name,h=Ii(r.value),r=Oe(o),(u=le.test(r))&&(o=o.replace(ha,"").substr(8).replace(/_(.)/g,function(e,t){return t.toUpperCase()}));var y=r.replace(/(Start|End)$/,"");z(y)&&r===y+"Start"&&(m=o,g=o.substr(0,o.length-5)+"end",o=o.substr(0,o.length-6)),r=Oe(o.toLowerCase()),s[r]=o,!u&&i.hasOwnProperty(r)||(i[r]=h,we(e,r)&&(i[r]=!0)),J(e,t,h,r,u),W(t,r,"A",a,n,m,g)}if(e=e.className,v(e)&&(e=e.animVal),b(e)&&""!==e)for(;o=c.exec(e);)r=Oe(o[2]),W(t,r,"C",a,n)&&(i[r]=Ii(o[3])),e=e.substr(o.index+o[0].length);break;case Ni:G(t,e.nodeValue);break;case 8:try{(o=l.exec(e.nodeValue))&&(r=Oe(o[1]),W(t,r,"M",a,n)&&(i[r]=Ii(o[2])))}catch(e){}}return t.sort(U),t}function B(e,t,i){var a=[],n=0;if(t&&e.hasAttribute&&e.hasAttribute(t))do{if(!e)throw ca("uterdir",t,i);e.nodeType==Oi&&(e.hasAttribute(t)&&n++,e.hasAttribute(i)&&n--),a.push(e),e=e.nextSibling}while(0<n);else a.push(e);return gi(a)}function R(e,t,i){return function(a,n,o,s,r){return n=B(n[0],t,i),e(a,n,o,s,r)}}function N(e,s,r,l,c,h,u,d,p){function y(e,t,i,a){e&&(i&&(e=R(e,i,a)),e.require=T.require,e.directiveName=M,(E===T||T.$$isolateScope)&&(e=ee(e,{isolateScope:!0})),u.push(e)),t&&(i&&(t=R(t,i,a)),t.require=T.require,t.directiveName=M,(E===T||T.$$isolateScope)&&(t=ee(t,{isolateScope:!0})),d.push(t))}function x(e,t,i,a){var n,s,r="data",l=!1,c=i;if(b(t)){if(s=t.match(m),t=t.substring(s[0].length),s[3]&&(s[1]?s[3]=null:s[1]=s[3]),"^"===s[1]?r="inheritedData":"^^"===s[1]&&(r="inheritedData",c=i.parent()),"?"===s[2]&&(l=!0),n=null,a&&"data"===r&&(n=a[t])&&(n=n.instance),!(n=n||c[r]("$"+t+"Controller"))&&!l)throw ca("ctreq",t,e);return n||null}return Ai(t)&&(n=[],o(t,function(t){n.push(x(e,t,i,a))})),n}function w(e,t,n,l,c){function h(e,t,a){var n;return S(e)||(a=t,t=e,e=i),G&&(n=y),a||(a=G?w.parent():w),c(e,t,n,a,M)}var p,m,v,b,y,C,w,k;if(s===n?(k=r,w=r.$$element):(w=gi(n),k=new ae(w,r)),E&&(b=t.$new(!0)),c&&(C=h,C.$$boundTransclude=c),F&&(D={},y={},o(F,function(e){var i={$scope:e===E||e.$$isolateScope?b:t,$element:w,$attrs:k,$transclude:C};v=e.controller,"@"==v&&(v=k[e.name]),i=g(v,i,!0,e.controllerAs),y[e.name]=i,G||w.data("$"+e.name+"Controller",i.instance),D[e.name]=i})),E){A.$$addScopeInfo(w,b,!0,!(N&&(N===E||N===E.$$originalDirective))),A.$$addScopeClass(w,!0),l=D&&D[E.name];var T=b;l&&l.identifier&&!0===E.bindToController&&(T=l.instance),o(b.$$isolateBindings=E.$$isolateBindings,function(e,i){var n,o,s,r,l=e.attrName,c=e.optional;switch(e.mode){case"@":k.$observe(l,function(e){T[i]=e}),k.$$observers[l].$$scope=t,k[l]&&(T[i]=a(k[l])(t));break;case"=":if(c&&!k[l])break;o=f(k[l]),r=o.literal?I:function(e,t){return e===t||e!==e&&t!==t},s=o.assign||function(){throw n=T[i]=o(t),ca("nonassign",k[l],E.name)},n=T[i]=o(t),c=function(e){return r(e,T[i])||(r(e,n)?s(t,e=T[i]):T[i]=e),n=e},c.$stateful=!0,c=e.collection?t.$watchCollection(k[l],c):t.$watch(f(k[l],c),null,o.literal),b.$on("$destroy",c);break;case"&":o=f(k[l]),T[i]=function(e){return o(t,e)}}})}for(D&&(o(D,function(e){e()}),D=null),l=0,p=u.length;l<p;l++)m=u[l],ie(m,m.isolateScope?b:t,w,k,m.require&&x(m.directiveName,m.require,w,y),C);var M=t;for(E&&(E.template||null===E.templateUrl)&&(M=b),e&&e(M,n.childNodes,i,c),l=d.length-1;0<=l;l--)m=d[l],ie(m,m.isolateScope?b:t,w,k,m.require&&x(m.directiveName,m.require,w,y),C)}p=p||{};for(var k,D,T,M,P,$,_=-Number.MAX_VALUE,F=p.controllerDirectives,E=p.newIsolateScopeDirective,N=p.templateDirective,W=p.nonTlbTranscludeDirective,z=!1,U=!1,G=p.hasElementTranscludeDirective,q=r.$$element=gi(s),Q=l,K=0,J=e.length;K<J;K++){T=e[K];var te=T.$$start,ne=T.$$end;if(te&&(q=B(s,te,ne)),P=i,_>T.priority)break;if((P=T.scope)&&(T.templateUrl||(v(P)?(j("new/isolated scope",E||k,T,q),E=T):j("new/isolated scope",E,T,q)),k=k||T),M=T.name,!T.templateUrl&&T.controller&&(P=T.controller,F=F||{},j("'"+M+"' controller",F[M],T,q),F[M]=T),(P=T.transclude)&&(z=!0,T.$$tlb||(j("transclusion",W,T,q),W=T),"element"==P?(G=!0,_=T.priority,P=q,q=r.$$element=gi(t.createComment(" "+M+": "+r[M]+" ")),s=q[0],Z(c,ki.call(P,0),s),Q=A(P,l,_,h&&h.name,{nonTlbTranscludeDirective:W})):(P=gi(re(s)).contents(),q.empty(),Q=A(P,l))),T.template)if(U=!0,j("template",N,T,q),N=T,P=C(T.template)?T.template(q,r):T.template,P=se(P),T.replace){if(h=T,P=Xi.test(P)?Ve(X(T.templateNamespace,Ii(P))):[],s=P[0],1!=P.length||s.nodeType!==Oi)throw ca("tplrt",M,"");Z(c,q,s),J={$attr:{}},P=L(s,[],J);var oe=e.splice(K+1,e.length-(K+1));E&&V(P),e=e.concat(P).concat(oe),Y(r,J),J=e.length}else q.html(P);if(T.templateUrl)U=!0,j("template",N,T,q),N=T,T.replace&&(h=T),w=H(e.splice(K,e.length-K),q,r,c,z&&Q,u,d,{controllerDirectives:F,newIsolateScopeDirective:E,templateDirective:N,nonTlbTranscludeDirective:W}),J=e.length;else if(T.compile)try{$=T.compile(q,r,Q),C($)?y(null,$,te,ne):$&&y($.pre,$.post,te,ne)}catch(e){n(e,O(q))}T.terminal&&(w.terminal=!0,_=Math.max(_,T.priority))}return w.scope=k&&!0===k.scope,w.transcludeOnThisElement=z,w.elementTranscludeOnThisElement=G,w.templateOnThisElement=U,w.transclude=Q,p.hasElementTranscludeDirective=G,w}function V(e){for(var t=0,i=e.length;t<i;t++){var a,n=t;a=h(Object.create(e[t]),{$$isolateScope:!0}),e[n]=a}}function W(t,a,o,r,l,c,u){if(a===l)return null;if(l=null,s.hasOwnProperty(a)){var d;a=e.get(a+"Directive");for(var p=0,f=a.length;p<f;p++)try{if(d=a[p],(r===i||r>d.priority)&&-1!=d.restrict.indexOf(o)){if(c){var m={$$start:c,$$end:u};d=h(Object.create(d),m)}t.push(d),l=d}}catch(e){n(e)}}return l}function z(t){if(s.hasOwnProperty(t))for(var i=e.get(t+"Directive"),a=0,n=i.length;a<n;a++)if(t=i[a],t.multiElement)return!0;return!1}function Y(e,t){var i=t.$attr,a=e.$attr,n=e.$$element;o(e,function(a,n){"$"!=n.charAt(0)&&(t[n]&&t[n]!==a&&(a+=("style"===n?";":" ")+t[n]),e.$set(n,a,!0,i[n]))}),o(t,function(t,o){"class"==o?(_(n,t),e.class=(e.class?e.class+" ":"")+t):"style"==o?(n.attr("style",n.attr("style")+";"+t),e.style=(e.style?e.style+";":"")+t):"$"==o.charAt(0)||e.hasOwnProperty(o)||(e[o]=t,a[o]=i[o])})}function H(e,t,i,a,n,s,l,c){var u,d,p=[],f=t[0],m=e.shift(),g=h({},m,{templateUrl:null,transclude:null,replace:null,$$originalDirective:m}),b=C(m.templateUrl)?m.templateUrl(t,i):m.templateUrl,y=m.templateNamespace;return t.empty(),r(D.getTrustedResourceUrl(b)).then(function(r){var h,x;if(r=se(r),m.replace){if(r=Xi.test(r)?Ve(X(y,Ii(r))):[],h=r[0],1!=r.length||h.nodeType!==Oi)throw ca("tplrt",m.name,b);r={$attr:{}},Z(a,t,h);var C=L(h,[],r);v(m.scope)&&V(C),e=C.concat(e),Y(i,r)}else h=f,t.html(r);for(e.unshift(g),u=N(e,h,i,n,t,m,s,l,c),o(a,function(e,i){e==h&&(a[i]=t[0])}),d=F(t[0].childNodes,n);p.length;){r=p.shift(),x=p.shift();var w=p.shift(),k=p.shift(),C=t[0];if(!r.$$destroyed){if(x!==f){var S=x.className;c.hasElementTranscludeDirective&&m.replace||(C=re(h)),Z(w,gi(x),C),_(gi(C),S)}x=u.transcludeOnThisElement?E(r,u.transclude,k):k,u(d,r,C,a,x)}}p=null}),function(e,t,i,a,n){e=n,t.$$destroyed||(p?p.push(t,i,a,e):(u.transcludeOnThisElement&&(e=E(t,u.transclude,n)),u(d,t,i,a,e)))}}function U(e,t){var i=t.priority-e.priority;return 0!==i?i:e.name!==t.name?e.name<t.name?-1:1:e.index-t.index}function j(e,t,i,a){if(t)throw ca("multidir",t.name,i.name,e,O(a))}function G(e,t){var i=a(t,!0);i&&e.push({priority:0,compile:function(e){e=e.parent();var t=!!e.length;return t&&A.$$addBindingClass(e),function(e,a){var n=a.parent();t||A.$$addBindingClass(n),A.$$addBindingInfo(n,i.expressions),e.$watch(i,function(e){a[0].nodeValue=e})}}})}function X(e,i){switch(e=xi(e||"html")){case"svg":case"math":var a=t.createElement("div");return a.innerHTML="<"+e+">"+i+"</"+e+">",a.childNodes[0].childNodes;default:return i}}function K(e,t){if("srcdoc"==t)return D.HTML;var i=P(e);return"xlinkHref"==t||"form"==i&&"action"==t||"img"!=i&&("src"==t||"ngSrc"==t)?D.RESOURCE_URL:void 0}function J(e,t,i,n,o){var s=K(e,n);o=u[n]||o;var r=a(i,!0,s,o);if(r){if("multiple"===n&&"select"===P(e))throw ca("selmulti",O(e));t.push({priority:100,compile:function(){return{pre:function(e,t,l){if(t=l.$$observers||(l.$$observers={}),y.test(n))throw ca("nodomevents");var c=l[n];c!==i&&(r=c&&a(c,!0,s,o),i=c),r&&(l[n]=r(e),(t[n]||(t[n]=[])).$$inter=!0,(l.$$observers&&l.$$observers[n].$$scope||e).$watch(r,function(e,t){"class"===n&&e!=t?l.$updateClass(e,t):l.$set(n,e)}))}}}})}}function Z(e,i,a){var n,o,s=i[0],r=i.length,l=s.parentNode;if(e)for(n=0,o=e.length;n<o;n++)if(e[n]==s){e[n++]=a,o=n+r-1;for(var c=e.length;n<c;n++,o++)o<c?e[n]=e[o]:delete e[n];e.length-=r-1,e.context===s&&(e.context=a);break}for(l&&l.replaceChild(a,s),e=t.createDocumentFragment(),e.appendChild(s),gi(a).data(gi(s).data()),vi?(_i=!0,vi.cleanData([s])):delete gi.cache[s[gi.expando]],s=1,r=i.length;s<r;s++)l=i[s],gi(l).remove(),e.appendChild(l),delete i[s];i[0]=a,i.length=1}function ee(e,t){return h(function(){return e.apply(null,arguments)},e,t)}function ie(e,t,i,a,o,s){try{e(t,i,a,o,s)}catch(e){n(e,O(i))}}var ae=function(e,t){if(t){var i,a,n,o=Object.keys(t);for(i=0,a=o.length;i<a;i++)n=o[i],this[n]=t[n]}else this.$attr={};this.$$element=e};ae.prototype={$normalize:Oe,$addClass:function(e){e&&0<e.length&&T.addClass(this.$$element,e)},$removeClass:function(e){e&&0<e.length&&T.removeClass(this.$$element,e)},$updateClass:function(e,t){var i=Ne(e,t);i&&i.length&&T.addClass(this.$$element,i),(i=Ne(t,e))&&i.length&&T.removeClass(this.$$element,i)},$set:function(e,t,a,s){var r=this.$$element[0],l=we(r,e),c=ke(r,e),r=e
;if(l?(this.$$element.prop(e,t),s=l):c&&(this[c]=t,r=c),this[e]=t,s?this.$attr[e]=s:(s=this.$attr[e])||(this.$attr[e]=s=q(e,"-")),"a"===(l=P(this.$$element))&&"href"===e||"img"===l&&"src"===e)this[e]=t=M(t,"src"===e);else if("img"===l&&"srcset"===e){for(var l="",c=Ii(t),h=/(\s+\d+x\s*,|\s+\d+w\s*,|\s+,|,\s+)/,h=/\s/.test(c)?h:/(,)/,c=c.split(h),h=Math.floor(c.length/2),u=0;u<h;u++)var d=2*u,l=l+M(Ii(c[d]),!0),l=l+" "+Ii(c[d+1]);c=Ii(c[2*u]).split(/\s/),l+=M(Ii(c[0]),!0),2===c.length&&(l+=" "+Ii(c[1])),this[e]=t=l}!1!==a&&(null===t||t===i?this.$$element.removeAttr(s):this.$$element.attr(s,t)),(e=this.$$observers)&&o(e[r],function(e){try{e(t)}catch(e){n(e)}})},$observe:function(e,t){var i=this,a=i.$$observers||(i.$$observers=te()),n=a[e]||(a[e]=[]);return n.push(t),w.$evalAsync(function(){!n.$$inter&&i.hasOwnProperty(e)&&t(i[e])}),function(){$(n,t)}}};var ne=a.startSymbol(),oe=a.endSymbol(),se="{{"==ne||"}}"==oe?p:function(e){return e.replace(/\{\{/g,ne).replace(/}}/g,oe)},le=/^ngAttr[A-Z]/;return A.$$addBindingInfo=x?function(e,t){var i=e.data("$binding")||[];Ai(t)?i=i.concat(t):i.push(t),e.data("$binding",i)}:d,A.$$addBindingClass=x?function(e){_(e,"ng-binding")}:d,A.$$addScopeInfo=x?function(e,t,i,a){e.data(i?a?"$isolateScopeNoTemplate":"$isolateScope":"$scope",t)}:d,A.$$addScopeClass=x?function(e,t){_(e,t?"ng-isolate-scope":"ng-scope")}:d,A}]}function Oe(e){return ae(e.replace(ha,""))}function Ne(e,t){var i="",a=e.split(/\s+/),n=t.split(/\s+/),o=0;e:for(;o<a.length;o++){for(var s=a[o],r=0;r<n.length;r++)if(s==n[r])continue e;i+=(0<i.length?" ":"")+s}return i}function Ve(e){e=gi(e);var t=e.length;if(1>=t)return e;for(;t--;)8===e[t].nodeType&&Si.call(e,t,1);return e}function We(){var e={},t=!1,n=/^(\S+)(\s+as\s+(\w+))?$/;this.register=function(t,i){J(t,"controller"),v(t)?h(e,t):e[t]=i},this.allowGlobals=function(){t=!0},this.$get=["$injector","$window",function(o,s){function r(e,t,i,n){if(!e||!v(e.$scope))throw a("$controller")("noscp",n,t);e.$scope[t]=i}return function(a,l,c,u){var d,p,f;return c=!0===c,u&&b(u)&&(f=u),b(a)&&(u=a.match(n),p=u[1],f=f||u[3],a=e.hasOwnProperty(p)?e[p]:Z(l.$scope,p,!0)||(t?Z(s,p,!0):i),K(a,p,!0)),c?(c=(Ai(a)?a[a.length-1]:a).prototype,d=Object.create(c||null),f&&r(l,f,d,p||a.name),h(function(){return o.invoke(a,d,l,p),d},{instance:d,identifier:f})):(d=o.instantiate(a,l,p),f&&r(l,f,d,p||a.name),d)}}]}function ze(){this.$get=["$window",function(e){return gi(e.document)}]}function Ye(){this.$get=["$log",function(e){return function(t,i){e.error.apply(e,arguments)}}]}function He(e,t){if(b(e)){var i=e.replace(ma,"").trim();if(i){var a=t("Content-Type");(a=a&&0===a.indexOf(ua))||(a=(a=i.match(pa))&&fa[a[0]].test(i)),a&&(e=R(i))}}return e}function Ue(e){var t,i,a,n=te();return e?(o(e.split("\n"),function(e){a=e.indexOf(":"),t=xi(Ii(e.substr(0,a))),i=Ii(e.substr(a+1)),t&&(n[t]=n[t]?n[t]+", "+i:i)}),n):n}function je(e){var t=v(e)?e:i;return function(i){return t||(t=Ue(e)),i?(i=t[xi(i)],void 0===i&&(i=null),i):t}}function Ge(e,t,i,a){return C(a)?a(e,t,i):(o(a,function(a){e=a(e,t,i)}),e)}function Xe(){var e=this.defaults={transformResponse:[He],transformRequest:[function(e){return v(e)&&"[object File]"!==Ti.call(e)&&"[object Blob]"!==Ti.call(e)&&"[object FormData]"!==Ti.call(e)?B(e):e}],headers:{common:{Accept:"application/json, text/plain, */*"},post:A(da),put:A(da),patch:A(da)},xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN"},t=!1;this.useApplyAsync=function(e){return g(e)?(t=!!e,this):t};var n=this.interceptors=[];this.$get=["$httpBackend","$browser","$cacheFactory","$rootScope","$q","$injector",function(r,l,c,u,d,p){function f(t){function n(e){var t=h({},e);return t.data=e.data?Ge(e.data,e.headers,e.status,r.transformResponse):e.data,e=e.status,200<=e&&300>e?t:d.reject(t)}function s(e){var t,i={};return o(e,function(e,a){C(e)?null!=(t=e())&&(i[a]=t):i[a]=e}),i}if(!Pi.isObject(t))throw a("$http")("badreq",t);var r=h({method:"get",transformRequest:e.transformRequest,transformResponse:e.transformResponse},t);r.headers=function(t){var i,a,n=e.headers,o=h({},t.headers),n=h({},n.common,n[xi(t.method)]);e:for(i in n){t=xi(i);for(a in o)if(xi(a)===t)continue e;o[i]=n[i]}return s(o)}(t),r.method=wi(r.method);var l=[function(t){var a=t.headers,s=Ge(t.data,je(a),i,t.transformRequest);return m(s)&&o(a,function(e,t){"content-type"===xi(t)&&delete a[t]}),m(t.withCredentials)&&!m(e.withCredentials)&&(t.withCredentials=e.withCredentials),y(t,s).then(n,n)},i],c=d.when(r);for(o(S,function(e){(e.request||e.requestError)&&l.unshift(e.request,e.requestError),(e.response||e.responseError)&&l.push(e.response,e.responseError)});l.length;){t=l.shift();var u=l.shift(),c=c.then(t,u)}return c.success=function(e){return c.then(function(t){e(t.data,t.status,t.headers,r)}),c},c.error=function(e){return c.then(null,function(t){e(t.data,t.status,t.headers,r)}),c},c}function y(a,n){function o(e,i,a,n){function o(){s(i,e,a,n)}p&&(200<=e&&300>e?p.put(D,[e,i,Ue(a),n]):p.remove(D)),t?u.$applyAsync(o):(o(),u.$$phase||u.$apply())}function s(e,t,i,n){t=Math.max(t,0),(200<=t&&300>t?y.resolve:y.reject)({data:e,status:t,headers:je(i),config:a,statusText:n})}function c(e){s(e.data,e.status,A(e.headers()),e.statusText)}function h(){var e=f.pendingRequests.indexOf(a);-1!==e&&f.pendingRequests.splice(e,1)}var p,b,y=d.defer(),x=y.promise,S=a.headers,D=w(a.url,a.params);return f.pendingRequests.push(a),x.then(h,h),!a.cache&&!e.cache||!1===a.cache||"GET"!==a.method&&"JSONP"!==a.method||(p=v(a.cache)?a.cache:v(e.cache)?e.cache:k),p&&(b=p.get(D),g(b)?b&&C(b.then)?b.then(c,c):Ai(b)?s(b[1],b[0],A(b[2]),b[3]):s(b,200,{},"OK"):p.put(D,x)),m(b)&&((b=Vt(a.url)?l.cookies()[a.xsrfCookieName||e.xsrfCookieName]:i)&&(S[a.xsrfHeaderName||e.xsrfHeaderName]=b),r(a.method,D,n,o,S,a.timeout,a.withCredentials,a.responseType)),x}function w(e,t){if(!t)return e;var i=[];return s(t,function(e,t){null===e||m(e)||(Ai(e)||(e=[e]),o(e,function(e){v(e)&&(e=x(e)?e.toISOString():B(e)),i.push(Y(t)+"="+Y(e))}))}),0<i.length&&(e+=(-1==e.indexOf("?")?"?":"&")+i.join("&")),e}var k=c("$http"),S=[];return o(n,function(e){S.unshift(b(e)?p.get(e):p.invoke(e))}),f.pendingRequests=[],function(e){o(arguments,function(e){f[e]=function(t,i){return f(h(i||{},{method:e,url:t}))}})}("get","delete","head","jsonp"),function(e){o(arguments,function(e){f[e]=function(t,i,a){return f(h(a||{},{method:e,url:t,data:i}))}})}("post","put","patch"),f.defaults=e,f}]}function qe(){return new e.XMLHttpRequest}function Qe(){this.$get=["$browser","$window","$document",function(e,t,i){return Ke(e,qe,e.defer,t.angular.callbacks,i[0])}]}function Ke(e,t,a,n,s){function r(e,t,i){var a=s.createElement("script"),o=null;return a.type="text/javascript",a.src=e,a.async=!0,o=function(e){a.removeEventListener("load",o,!1),a.removeEventListener("error",o,!1),s.body.removeChild(a),a=null;var r=-1,l="unknown";e&&("load"!==e.type||n[t].called||(e={type:"error"}),l=e.type,r="error"===e.type?404:200),i&&i(r,l)},a.addEventListener("load",o,!1),a.addEventListener("error",o,!1),s.body.appendChild(a),o}return function(s,l,c,h,u,p,f,m){function v(){x&&x(),w&&w.abort()}function b(t,n,o,s,r){k!==i&&a.cancel(k),x=w=null,t(n,o,s,r),e.$$completeOutstandingRequest(d)}if(e.$$incOutstandingRequestCount(),l=l||e.url(),"jsonp"==xi(s)){var y="_"+(n.counter++).toString(36);n[y]=function(e){n[y].data=e,n[y].called=!0};var x=r(l.replace("JSON_CALLBACK","angular.callbacks."+y),y,function(e,t){b(h,e,n[y].data,"",t),n[y]=d})}else{var w=t();if(w.open(s,l,!0),o(u,function(e,t){g(e)&&w.setRequestHeader(t,e)}),w.onload=function(){var e=w.statusText||"",t="response"in w?w.response:w.responseText,i=1223===w.status?204:w.status;0===i&&(i=t?200:"file"==Nt(l).protocol?404:0),b(h,i,t,w.getAllResponseHeaders(),e)},s=function(){b(h,-1,null,null,"")},w.onerror=s,w.onabort=s,f&&(w.withCredentials=!0),m)try{w.responseType=m}catch(e){if("json"!==m)throw e}w.send(c||null)}if(0<p)var k=a(v,p);else p&&C(p.then)&&p.then(v)}}function Je(){var e="{{",t="}}";this.startSymbol=function(t){return t?(e=t,this):e},this.endSymbol=function(e){return e?(t=e,this):t},this.$get=["$parse","$exceptionHandler","$sce",function(i,a,n){function o(e){return"\\\\\\"+e}function s(o,s,d,p){function f(i){return i.replace(c,e).replace(u,t)}function v(e){try{var t=e;e=d?n.getTrusted(d,t):n.valueOf(t);var i;if(p&&!g(e))i=e;else if(null==e)i="";else{switch(typeof e){case"string":break;case"number":e=""+e;break;default:e=B(e)}i=e}return i}catch(e){i=ga("interr",o,e.toString()),a(i)}}p=!!p;for(var b,y,x=0,w=[],k=[],S=o.length,D=[],T=[];x<S;){if(-1==(b=o.indexOf(e,x))||-1==(y=o.indexOf(t,b+r))){x!==S&&D.push(f(o.substring(x)));break}x!==b&&D.push(f(o.substring(x,b))),x=o.substring(b+r,y),w.push(x),k.push(i(x,v)),x=y+l,T.push(D.length),D.push("")}if(d&&1<D.length)throw ga("noconcat",o);if(!s||w.length){var M=function(e){for(var t=0,i=w.length;t<i;t++){if(p&&m(e[t]))return;D[T[t]]=e[t]}return D.join("")};return h(function(e){var t=0,i=w.length,n=Array(i);try{for(;t<i;t++)n[t]=k[t](e);return M(n)}catch(t){e=ga("interr",o,t.toString()),a(e)}},{exp:o,expressions:w,$$watchDelegate:function(e,t,i){var a;return e.$watchGroup(k,function(i,n){var o=M(i);C(t)&&t.call(this,o,i!==n?a:o,e),a=o},i)}})}}var r=e.length,l=t.length,c=new RegExp(e.replace(/./g,o),"g"),u=new RegExp(t.replace(/./g,o),"g");return s.startSymbol=function(){return e},s.endSymbol=function(){return t},s}]}function Ze(){this.$get=["$rootScope","$window","$q","$$q",function(e,t,i,a){function n(n,s,r,l){var c=t.setInterval,h=t.clearInterval,u=0,d=g(l)&&!l,p=(d?a:i).defer(),f=p.promise;return r=g(r)?r:0,f.then(null,null,n),f.$$intervalId=c(function(){p.notify(u++),0<r&&u>=r&&(p.resolve(u),h(f.$$intervalId),delete o[f.$$intervalId]),d||e.$apply()},s),o[f.$$intervalId]=p,f}var o={};return n.cancel=function(e){return!!(e&&e.$$intervalId in o)&&(o[e.$$intervalId].reject("canceled"),t.clearInterval(e.$$intervalId),delete o[e.$$intervalId],!0)},n}]}function et(){this.$get=function(){return{id:"en-us",NUMBER_FORMATS:{DECIMAL_SEP:".",GROUP_SEP:",",PATTERNS:[{minInt:1,minFrac:0,maxFrac:3,posPre:"",posSuf:"",negPre:"-",negSuf:"",gSize:3,lgSize:3},{minInt:1,minFrac:2,maxFrac:2,posPre:"",posSuf:"",negPre:"(",negSuf:")",gSize:3,lgSize:3}],CURRENCY_SYM:"$"},DATETIME_FORMATS:{MONTH:"January February March April May June July August September October November December".split(" "),SHORTMONTH:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),DAY:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),SHORTDAY:"Sun Mon Tue Wed Thu Fri Sat".split(" "),AMPMS:["AM","PM"],medium:"MMM d, y h:mm:ss a",short:"M/d/yy h:mm a",fullDate:"EEEE, MMMM d, y",longDate:"MMMM d, y",mediumDate:"MMM d, y",shortDate:"M/d/yy",mediumTime:"h:mm:ss a",shortTime:"h:mm a"},pluralCat:function(e){return 1===e?"one":"other"}}}}function tt(e){e=e.split("/");for(var t=e.length;t--;)e[t]=z(e[t]);return e.join("/")}function it(e,t){var i=Nt(e);t.$$protocol=i.protocol,t.$$host=i.hostname,t.$$port=u(i.port)||ba[i.protocol]||null}function at(e,t){var i="/"!==e.charAt(0);i&&(e="/"+e);var a=Nt(e);t.$$path=decodeURIComponent(i&&"/"===a.pathname.charAt(0)?a.pathname.substring(1):a.pathname),t.$$search=V(a.search),t.$$hash=decodeURIComponent(a.hash),t.$$path&&"/"!=t.$$path.charAt(0)&&(t.$$path="/"+t.$$path)}function nt(e,t){if(0===t.indexOf(e))return t.substr(e.length)}function ot(e){var t=e.indexOf("#");return-1==t?e:e.substr(0,t)}function st(e){return e.replace(/(#.+)|#$/,"$1")}function rt(e){return e.substr(0,ot(e).lastIndexOf("/")+1)}function lt(e,t){this.$$html5=!0,t=t||"";var a=rt(e);it(e,this),this.$$parse=function(e){var t=nt(a,e);if(!b(t))throw ya("ipthprfx",e,a);at(t,this),this.$$path||(this.$$path="/"),this.$$compose()},this.$$compose=function(){var e=W(this.$$search),t=this.$$hash?"#"+z(this.$$hash):"";this.$$url=tt(this.$$path)+(e?"?"+e:"")+t,this.$$absUrl=a+this.$$url.substr(1)},this.$$parseLinkUrl=function(n,o){if(o&&"#"===o[0])return this.hash(o.slice(1)),!0;var s,r;return(s=nt(e,n))!==i?(r=s,r=(s=nt(t,s))!==i?a+(nt("/",s)||s):e+r):(s=nt(a,n))!==i?r=a+s:a==n+"/"&&(r=a),r&&this.$$parse(r),!!r}}function ct(e,t){var i=rt(e);it(e,this),this.$$parse=function(a){a=nt(e,a)||nt(i,a);var n;"#"===a.charAt(0)?(n=nt(t,a),m(n)&&(n=a)):n=this.$$html5?a:"",at(n,this),a=this.$$path;var o=/^\/[A-Z]:(\/.*)/;0===n.indexOf(e)&&(n=n.replace(e,"")),o.exec(n)||(a=(n=o.exec(a))?n[1]:a),this.$$path=a,this.$$compose()},this.$$compose=function(){var i=W(this.$$search),a=this.$$hash?"#"+z(this.$$hash):"";this.$$url=tt(this.$$path)+(i?"?"+i:"")+a,this.$$absUrl=e+(this.$$url?t+this.$$url:"")},this.$$parseLinkUrl=function(t,i){return ot(e)==ot(t)&&(this.$$parse(t),!0)}}function ht(e,t){this.$$html5=!0,ct.apply(this,arguments);var i=rt(e);this.$$parseLinkUrl=function(a,n){if(n&&"#"===n[0])return this.hash(n.slice(1)),!0;var o,s;return e==ot(a)?o=a:(s=nt(i,a))?o=e+t+s:i===a+"/"&&(o=i),o&&this.$$parse(o),!!o},this.$$compose=function(){var i=W(this.$$search),a=this.$$hash?"#"+z(this.$$hash):"";this.$$url=tt(this.$$path)+(i?"?"+i:"")+a,this.$$absUrl=e+t+this.$$url}}function ut(e){return function(){return this[e]}}function dt(e,t){return function(i){return m(i)?this[e]:(this[e]=t(i),this.$$compose(),this)}}function pt(){var e="",t={enabled:!1,requireBase:!0,rewriteLinks:!0};this.hashPrefix=function(t){return g(t)?(e=t,this):e},this.html5Mode=function(e){return D(e)?(t.enabled=e,this):v(e)?(D(e.enabled)&&(t.enabled=e.enabled),D(e.requireBase)&&(t.requireBase=e.requireBase),D(e.rewriteLinks)&&(t.rewriteLinks=e.rewriteLinks),this):t},this.$get=["$rootScope","$browser","$sniffer","$rootElement","$window",function(i,a,n,o,s){function r(e,t,i){var n=c.url(),o=c.$$state;try{a.url(e,t,i),c.$$state=a.state()}catch(e){throw c.url(n),c.$$state=o,e}}function l(e,t){i.$broadcast("$locationChangeSuccess",c.absUrl(),e,c.$$state,t)}var c,h;h=a.baseHref();var u,d=a.url();if(t.enabled){if(!h&&t.requireBase)throw ya("nobase");u=d.substring(0,d.indexOf("/",d.indexOf("//")+2))+(h||"/"),h=n.history?lt:ht}else u=ot(d),h=ct;c=new h(u,"#"+e),c.$$parseLinkUrl(d,d),c.$$state=a.state();var p=/^\s*(javascript|mailto):/i;o.on("click",function(e){if(t.rewriteLinks&&!e.ctrlKey&&!e.metaKey&&2!=e.which){for(var n=gi(e.target);"a"!==P(n[0]);)if(n[0]===o[0]||!(n=n.parent())[0])return;var r=n.prop("href"),l=n.attr("href")||n.attr("xlink:href");v(r)&&"[object SVGAnimatedString]"===r.toString()&&(r=Nt(r.animVal).href),p.test(r)||!r||n.attr("target")||e.isDefaultPrevented()||!c.$$parseLinkUrl(r,l)||(e.preventDefault(),c.absUrl()!=a.url()&&(i.$apply(),s.angular["ff-684208-preventDefault"]=!0))}}),c.absUrl()!=d&&a.url(c.absUrl(),!0);var f=!0;return a.onUrlChange(function(e,t){i.$evalAsync(function(){var a,n=c.absUrl(),o=c.$$state;c.$$parse(e),c.$$state=t,a=i.$broadcast("$locationChangeStart",e,n,t,o).defaultPrevented,c.absUrl()===e&&(a?(c.$$parse(n),c.$$state=o,r(n,!1,o)):(f=!1,l(n,o)))}),i.$$phase||i.$digest()}),i.$watch(function(){var e=st(a.url()),t=st(c.absUrl()),o=a.state(),s=c.$$replace,h=e!==t||c.$$html5&&n.history&&o!==c.$$state;(f||h)&&(f=!1,i.$evalAsync(function(){var t=c.absUrl(),a=i.$broadcast("$locationChangeStart",t,e,c.$$state,o).defaultPrevented;c.absUrl()===t&&(a?(c.$$parse(e),c.$$state=o):(h&&r(t,s,o===c.$$state?null:c.$$state),l(e,o)))})),c.$$replace=!1}),c}]}function ft(){var e=!0,t=this;this.debugEnabled=function(t){return g(t)?(e=t,this):e},this.$get=["$window",function(i){function a(e){return e instanceof Error&&(e.stack?e=e.message&&-1===e.stack.indexOf(e.message)?"Error: "+e.message+"\n"+e.stack:e.stack:e.sourceURL&&(e=e.message+"\n"+e.sourceURL+":"+e.line)),e}function n(e){var t=i.console||{},n=t[e]||t.log||d;e=!1;try{e=!!n.apply}catch(e){}return e?function(){var e=[];return o(arguments,function(t){e.push(a(t))}),n.apply(t,e)}:function(e,t){n(e,null==t?"":t)}}return{log:n("log"),info:n("info"),warn:n("warn"),error:n("error"),debug:function(){var i=n("debug");return function(){e&&i.apply(t,arguments)}}()}}]}function mt(e,t){if("__defineGetter__"===e||"__defineSetter__"===e||"__lookupGetter__"===e||"__lookupSetter__"===e||"__proto__"===e)throw Ca("isecfld",t);return e}function gt(e,t){if(e){if(e.constructor===e)throw Ca("isecfn",t);if(e.window===e)throw Ca("isecwindow",t);if(e.children&&(e.nodeName||e.prop&&e.attr&&e.find))throw Ca("isecdom",t);if(e===Object)throw Ca("isecobj",t)}return e}function vt(e){return e.constant}function bt(e,t,i,a,n){gt(e,n),gt(t,n),i=i.split(".");for(var o,s=0;1<i.length;s++){o=mt(i.shift(),n);var r=0===s&&t&&t[o]||e[o];r||(r={},e[o]=r),e=gt(r,n)}return o=mt(i.shift(),n),gt(e[o],n),e[o]=a}function yt(e){return"constructor"==e}function xt(e,t,a,n,o,s,r){mt(e,s),mt(t,s),mt(a,s),mt(n,s),mt(o,s);var l=function(e){return gt(e,s)},c=r||yt(e)?l:p,h=r||yt(t)?l:p,u=r||yt(a)?l:p,d=r||yt(n)?l:p,f=r||yt(o)?l:p;return function(s,r){var l=r&&r.hasOwnProperty(e)?r:s;return null==l?l:(l=c(l[e]),t?null==l?i:(l=h(l[t]),a?null==l?i:(l=u(l[a]),n?null==l?i:(l=d(l[n]),o?null==l?i:l=f(l[o]):l):l):l):l)}}function Ct(e,t){return function(i,a){return e(i,a,gt,t)}}function wt(e,t,a){var n=t.expensiveChecks,s=n?Aa:_a,r=s[e];if(r)return r;var l=e.split("."),c=l.length;if(t.csp)r=6>c?xt(l[0],l[1],l[2],l[3],l[4],a,n):function(e,t){var o,s=0;do{o=xt(l[s++],l[s++],l[s++],l[s++],l[s++],a,n)(e,t),t=i,e=o}while(s<c);return o};else{var h="";n&&(h+="s = eso(s, fe);\nl = eso(l, fe);\n");var u=n;o(l,function(e,t){mt(e,a);var i=(t?"s":'((l&&l.hasOwnProperty("'+e+'"))?l:s)')+"."+e;(n||yt(e))&&(i="eso("+i+", fe)",u=!0),h+="if(s == null) return undefined;\ns="+i+";\n"}),h+="return s;",t=new Function("s","l","eso","fe",h),t.toString=f(h),u&&(t=Ct(t,a)),r=t}return r.sharedGetter=!0,r.assign=function(t,i,a){return bt(t,a,e,i,e)},s[e]=r}function kt(e){return C(e.valueOf)?e.valueOf():Ia.call(e)}function St(){var e=te(),t=te();this.$get=["$filter","$sniffer",function(i,a){function n(e){var t=e;return e.sharedGetter&&(t=function(t,i){return e(t,i)},t.literal=e.literal,t.constant=e.constant,t.assign=e.assign),t}function s(e,t){for(var i=0,a=e.length;i<a;i++){var n=e[i];n.constant||(n.inputs?s(n.inputs,t):-1===t.indexOf(n)&&t.push(n))}return t}function r(e,t){return null==e||null==t?e===t:("object"!=typeof e||"object"!=typeof(e=kt(e)))&&(e===t||e!==e&&t!==t)}function l(e,t,i,a){var n,o=a.$$inputs||(a.$$inputs=s(a.inputs,[]));if(1===o.length){var l=r,o=o[0];return e.$watch(function(e){var t=o(e);return r(t,l)||(n=a(e),l=t&&kt(t)),n},t,i)}for(var c=[],h=0,u=o.length;h<u;h++)c[h]=r;return e.$watch(function(e){for(var t=!1,i=0,s=o.length;i<s;i++){var l=o[i](e);(t||(t=!r(l,c[i])))&&(c[i]=l&&kt(l))}return t&&(n=a(e)),n},t,i)}function c(e,t,i,a){var n,o;return n=e.$watch(function(e){return a(e)},function(e,i,a){o=e,C(t)&&t.apply(this,arguments),g(e)&&a.$$postDigest(function(){g(o)&&n()})},i)}function h(e,t,i,a){function n(e){var t=!0;return o(e,function(e){g(e)||(t=!1)}),t}var s,r;return s=e.$watch(function(e){return a(e)},function(e,i,a){r=e,C(t)&&t.call(this,e,i,a),n(e)&&a.$$postDigest(function(){n(r)&&s()})},i)}function u(e,t,i,a){var n;return n=e.$watch(function(e){return a(e)},function(e,i,a){C(t)&&t.apply(this,arguments),n()},i)}function p(e,t){if(!t)return e;var i=e.$$watchDelegate,i=i!==h&&i!==c?function(i,a){var n=e(i,a);return t(n,i,a)}:function(i,a){var n=e(i,a),o=t(n,i,a);return g(n)?o:n};return e.$$watchDelegate&&e.$$watchDelegate!==l?i.$$watchDelegate=e.$$watchDelegate:t.$stateful||(i.$$watchDelegate=l,i.inputs=[e]),i}var f={csp:a.csp,expensiveChecks:!1},m={csp:a.csp,expensiveChecks:!0};return function(a,o,s){var r,g,v;switch(typeof a){case"string":v=a=a.trim();var b=s?t:e;return r=b[v],r||(":"===a.charAt(0)&&":"===a.charAt(1)&&(g=!0,a=a.substring(2)),s=s?m:f,r=new Pa(s),r=new $a(r,i,s).parse(a),r.constant?r.$$watchDelegate=u:g?(r=n(r),r.$$watchDelegate=r.literal?h:c):r.inputs&&(r.$$watchDelegate=l),b[v]=r),p(r,o);case"function":return p(a,o);default:return p(d,o)}}}]}function Dt(){this.$get=["$rootScope","$exceptionHandler",function(e,t){return Mt(function(t){e.$evalAsync(t)},t)}]}function Tt(){this.$get=["$browser","$exceptionHandler",function(e,t){return Mt(function(t){e.defer(t)},t)}]}function Mt(e,t){function n(e,t,i){function a(t){return function(i){n||(n=!0,t.call(e,i))}}var n=!1;return[a(t),a(i)]}function s(){this.$$state={status:0}}function r(e,t){return function(i){t.call(e,i)}}function l(a){!a.processScheduled&&a.pending&&(a.processScheduled=!0,e(function(){var e,n,o;o=a.pending,a.processScheduled=!1,a.pending=i;for(var s=0,r=o.length;s<r;++s){n=o[s][0],e=o[s][a.status];try{C(e)?n.resolve(e(a.value)):1===a.status?n.resolve(a.value):n.reject(a.value)}catch(e){n.reject(e),t(e)}}}))}function c(){this.promise=new s,this.resolve=r(this,this.resolve),this.reject=r(this,this.reject),this.notify=r(this,this.notify)}var h=a("$q",TypeError);s.prototype={then:function(e,t,i){var a=new c;return this.$$state.pending=this.$$state.pending||[],this.$$state.pending.push([a,e,t,i]),0<this.$$state.status&&l(this.$$state),a.promise},catch:function(e){return this.then(null,e)},finally:function(e,t){return this.then(function(t){return d(t,!0,e)},function(t){return d(t,!1,e)},t)}},c.prototype={resolve:function(e){this.promise.$$state.status||(e===this.promise?this.$$reject(h("qcycle",e)):this.$$resolve(e))},$$resolve:function(e){var i,a;a=n(this,this.$$resolve,this.$$reject);try{(v(e)||C(e))&&(i=e&&e.then),C(i)?(this.promise.$$state.status=-1,i.call(e,a[0],a[1],this.notify)):(this.promise.$$state.value=e,this.promise.$$state.status=1,l(this.promise.$$state))}catch(e){a[1](e),t(e)}},reject:function(e){this.promise.$$state.status||this.$$reject(e)},$$reject:function(e){this.promise.$$state.value=e,this.promise.$$state.status=2,l(this.promise.$$state)},notify:function(i){var a=this.promise.$$state.pending;0>=this.promise.$$state.status&&a&&a.length&&e(function(){for(var e,n,o=0,s=a.length;o<s;o++){n=a[o][0],e=a[o][3];try{n.notify(C(e)?e(i):i)}catch(e){t(e)}}})}};var u=function(e,t){var i=new c;return t?i.resolve(e):i.reject(e),i.promise},d=function(e,t,i){var a=null;try{C(i)&&(a=i())}catch(e){return u(e,!1)}return a&&C(a.then)?a.then(function(){return u(e,t)},function(e){return u(e,!1)}):u(e,t)},p=function(e,t,i,a){var n=new c;return n.resolve(e),n.promise.then(t,i,a)},f=function e(t){if(!C(t))throw h("norslvr",t);if(!(this instanceof e))return new e(t);var i=new c;return t(function(e){i.resolve(e)},function(e){i.reject(e)}),i.promise};return f.defer=function(){return new c},f.reject=function(e){var t=new c;return t.reject(e),t.promise},f.when=p,f.all=function(e){var t=new c,i=0,a=Ai(e)?[]:{};return o(e,function(e,n){i++,p(e).then(function(e){a.hasOwnProperty(n)||(a[n]=e,--i||t.resolve(a))},function(e){a.hasOwnProperty(n)||t.reject(e)})}),0===i&&t.resolve(a),t.promise},f}function Pt(){this.$get=["$window","$timeout",function(e,t){var i=e.requestAnimationFrame||e.webkitRequestAnimationFrame,a=e.cancelAnimationFrame||e.webkitCancelAnimationFrame||e.webkitCancelRequestAnimationFrame,n=!!i,o=n?function(e){var t=i(e);return function(){a(t)}}:function(e){var i=t(e,16.66,!1);return function(){t.cancel(i)}};return o.supported=n,o}]}function $t(){var e=10,t=a("$rootScope"),i=null,s=null;this.digestTtl=function(t){return arguments.length&&(e=t),e},this.$get=["$injector","$exceptionHandler","$parse","$browser",function(a,r,l,c){function h(){this.$id=++$i,this.$$phase=this.$parent=this.$$watchers=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=null,this.$root=this,this.$$destroyed=!1,this.$$listeners={},this.$$listenerCount={},this.$$isolateBindings=null}function u(e){if(y.$$phase)throw t("inprog",y.$$phase);y.$$phase=e}function p(e,t,i){do{e.$$listenerCount[i]-=t,0===e.$$listenerCount[i]&&delete e.$$listenerCount[i]}while(e=e.$parent)}function f(){}function g(){for(;k.length;)try{k.shift()()}catch(e){r(e)}s=null}function b(){null===s&&(s=c.defer(function(){y.$apply(g)}))}h.prototype={constructor:h,$new:function(e,t){function i(){a.$$destroyed=!0}var a;return t=t||this,e?(a=new h,a.$root=this.$root):(this.$$ChildScope||(this.$$ChildScope=function(){this.$$watchers=this.$$nextSibling=this.$$childHead=this.$$childTail=null,this.$$listeners={},this.$$listenerCount={},this.$id=++$i,this.$$ChildScope=null},this.$$ChildScope.prototype=this),a=new this.$$ChildScope),a.$parent=t,a.$$prevSibling=t.$$childTail,t.$$childHead?(t.$$childTail.$$nextSibling=a,t.$$childTail=a):t.$$childHead=t.$$childTail=a,(e||t!=this)&&a.$on("$destroy",i),a},$watch:function(e,t,a){var n=l(e);if(n.$$watchDelegate)return n.$$watchDelegate(this,t,a,n);var o=this.$$watchers,s={fn:t,last:f,get:n,exp:e,eq:!!a};return i=null,C(t)||(s.fn=d),o||(o=this.$$watchers=[]),o.unshift(s),function(){$(o,s),i=null}},$watchGroup:function(e,t){function i(){l=!1,c?(c=!1,t(n,n,r)):t(n,a,r)}var a=Array(e.length),n=Array(e.length),s=[],r=this,l=!1,c=!0;if(!e.length){var h=!0;return r.$evalAsync(function(){h&&t(n,n,r)}),function(){h=!1}}return 1===e.length?this.$watch(e[0],function(e,i,o){n[0]=e,a[0]=i,t(n,e===i?n:a,o)}):(o(e,function(e,t){var o=r.$watch(e,function(e,o){n[t]=e,a[t]=o,l||(l=!0,r.$evalAsync(i))});s.push(o)}),function(){for(;s.length;)s.shift()()})},$watchCollection:function(e,t){function i(e){a=e;var t,i,s;if(!m(a)){if(v(a))if(n(a))for(o!==d&&(o=d,g=o.length=0,h++),e=a.length,g!==e&&(h++,o.length=g=e),t=0;t<e;t++)s=o[t],i=a[t],s!==s&&i!==i||s===i||(h++,o[t]=i);else{o!==p&&(o=p={},g=0,h++),e=0;for(t in a)a.hasOwnProperty(t)&&(e++,i=a[t],s=o[t],t in o?s!==s&&i!==i||s===i||(h++,o[t]=i):(g++,o[t]=i,h++));if(g>e)for(t in h++,o)a.hasOwnProperty(t)||(g--,delete o[t])}else o!==a&&(o=a,h++);return h}}i.$stateful=!0;var a,o,s,r=this,c=1<t.length,h=0,u=l(e,i),d=[],p={},f=!0,g=0;return this.$watch(u,function(){if(f?(f=!1,t(a,a,r)):t(a,s,r),c)if(v(a))if(n(a)){s=Array(a.length);for(var e=0;e<a.length;e++)s[e]=a[e]}else for(e in s={},a)Ci.call(a,e)&&(s[e]=a[e]);else s=a})},$digest:function(){var a,n,o,l,h,d,p,m,v,b=e,k=[];u("$digest"),c.$$checkUrlChange(),this===y&&null!==s&&(c.defer.cancel(s),g()),i=null;do{for(d=!1,p=this;x.length;){try{v=x.shift(),v.scope.$eval(v.expression,v.locals)}catch(e){r(e)}i=null}e:do{if(l=p.$$watchers)for(h=l.length;h--;)try{if(a=l[h])if((n=a.get(p))===(o=a.last)||(a.eq?I(n,o):"number"==typeof n&&"number"==typeof o&&isNaN(n)&&isNaN(o))){if(a===i){d=!1;break e}}else d=!0,i=a,a.last=a.eq?_(n,null):n,a.fn(n,o===f?n:o,p),5>b&&(m=4-b,k[m]||(k[m]=[]),k[m].push({msg:C(a.exp)?"fn: "+(a.exp.name||a.exp.toString()):a.exp,newVal:n,oldVal:o}))}catch(e){r(e)}if(!(l=p.$$childHead||p!==this&&p.$$nextSibling))for(;p!==this&&!(l=p.$$nextSibling);)p=p.$parent}while(p=l);if((d||x.length)&&!b--)throw y.$$phase=null,t("infdig",e,k)}while(d||x.length);for(y.$$phase=null;w.length;)try{w.shift()()}catch(e){r(e)}},$destroy:function(){if(!this.$$destroyed){var e=this.$parent;if(this.$broadcast("$destroy"),this.$$destroyed=!0,this!==y){for(var t in this.$$listenerCount)p(this,this.$$listenerCount[t],t);e.$$childHead==this&&(e.$$childHead=this.$$nextSibling),e.$$childTail==this&&(e.$$childTail=this.$$prevSibling),this.$$prevSibling&&(this.$$prevSibling.$$nextSibling=this.$$nextSibling),this.$$nextSibling&&(this.$$nextSibling.$$prevSibling=this.$$prevSibling),this.$destroy=this.$digest=this.$apply=this.$evalAsync=this.$applyAsync=d,this.$on=this.$watch=this.$watchGroup=function(){return d},this.$$listeners={},this.$parent=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=this.$root=this.$$watchers=null}}},$eval:function(e,t){return l(e)(this,t)},$evalAsync:function(e,t){y.$$phase||x.length||c.defer(function(){x.length&&y.$digest()}),x.push({scope:this,expression:e,locals:t})},$$postDigest:function(e){w.push(e)},$apply:function(e){try{return u("$apply"),this.$eval(e)}catch(e){r(e)}finally{y.$$phase=null;try{y.$digest()}catch(e){throw r(e),e}}},$applyAsync:function(e){function t(){i.$eval(e)}var i=this;e&&k.push(t),b()},$on:function(e,t){var i=this.$$listeners[e];i||(this.$$listeners[e]=i=[]),i.push(t);var a=this;do{a.$$listenerCount[e]||(a.$$listenerCount[e]=0),a.$$listenerCount[e]++}while(a=a.$parent);var n=this;return function(){var a=i.indexOf(t);-1!==a&&(i[a]=null,p(n,1,e))}},$emit:function(e,t){var i,a,n,o=[],s=this,l=!1,c={name:e,targetScope:s,stopPropagation:function(){l=!0},preventDefault:function(){c.defaultPrevented=!0},defaultPrevented:!1},h=F([c],arguments,1);do{for(i=s.$$listeners[e]||o,c.currentScope=s,a=0,n=i.length;a<n;a++)if(i[a])try{i[a].apply(null,h)}catch(e){r(e)}else i.splice(a,1),a--,n--;if(l)return c.currentScope=null,c;s=s.$parent}while(s);return c.currentScope=null,c},$broadcast:function(e,t){var i=this,a=this,n={name:e,targetScope:this,preventDefault:function(){n.defaultPrevented=!0},defaultPrevented:!1};if(!this.$$listenerCount[e])return n;for(var o,s,l=F([n],arguments,1);i=a;){for(n.currentScope=i,a=i.$$listeners[e]||[],o=0,s=a.length;o<s;o++)if(a[o])try{a[o].apply(null,l)}catch(e){r(e)}else a.splice(o,1),o--,s--;if(!(a=i.$$listenerCount[e]&&i.$$childHead||i!==this&&i.$$nextSibling))for(;i!==this&&!(a=i.$$nextSibling);)i=i.$parent}return n.currentScope=null,n}};var y=new h,x=y.$$asyncQueue=[],w=y.$$postDigestQueue=[],k=y.$$applyAsyncQueue=[];return y}]}function _t(){var e=/^\s*(https?|ftp|mailto|tel|file):/,t=/^\s*((https?|ftp|file|blob):|data:image\/)/;this.aHrefSanitizationWhitelist=function(t){return g(t)?(e=t,this):e},this.imgSrcSanitizationWhitelist=function(e){return g(e)?(t=e,this):t},this.$get=function(){return function(i,a){var n,o=a?t:e;return n=Nt(i).href,""===n||n.match(o)?i:"unsafe:"+n}}}function At(e){if("self"===e)return e;if(b(e)){if(-1<e.indexOf("***"))throw Fa("iwcard",e);return e=Fi(e).replace("\\*\\*",".*").replace("\\*","[^:/.?&;]*"),new RegExp("^"+e+"$")}if(w(e))return new RegExp("^"+e.source+"$");throw Fa("imatcher")}function It(e){var t=[];return g(e)&&o(e,function(e){t.push(At(e))}),t}function Ft(){this.SCE_CONTEXTS=Ea;var e=["self"],t=[];this.resourceUrlWhitelist=function(t){return arguments.length&&(e=It(t)),e},this.resourceUrlBlacklist=function(e){return arguments.length&&(t=It(e)),t},this.$get=["$injector",function(a){function n(e,t){return"self"===e?Vt(t):!!e.exec(t.href)}function o(e){var t=function(e){this.$$unwrapTrustedValue=function(){return e}};return e&&(t.prototype=new e),t.prototype.valueOf=function(){return this.$$unwrapTrustedValue()},t.prototype.toString=function(){return this.$$unwrapTrustedValue().toString()},t}var s=function(e){throw Fa("unsafe")};a.has("$sanitize")&&(s=a.get("$sanitize"));var r=o(),l={};return l[Ea.HTML]=o(r),l[Ea.CSS]=o(r),l[Ea.URL]=o(r),l[Ea.JS]=o(r),l[Ea.RESOURCE_URL]=o(l[Ea.URL]),{trustAs:function(e,t){var a=l.hasOwnProperty(e)?l[e]:null;if(!a)throw Fa("icontext",e,t);if(null===t||t===i||""===t)return t;if("string"!=typeof t)throw Fa("itype",e);return new a(t)},getTrusted:function(a,o){if(null===o||o===i||""===o)return o;var r=l.hasOwnProperty(a)?l[a]:null;if(r&&o instanceof r)return o.$$unwrapTrustedValue();if(a===Ea.RESOURCE_URL){var c,h,r=Nt(o.toString()),u=!1;for(c=0,h=e.length;c<h;c++)if(n(e[c],r)){u=!0;break}if(u)for(c=0,h=t.length;c<h;c++)if(n(t[c],r)){u=!1;break}if(u)return o;throw Fa("insecurl",o.toString())}if(a===Ea.HTML)return s(o);throw Fa("unsafe")},valueOf:function(e){return e instanceof r?e.$$unwrapTrustedValue():e}}}]}function Et(){var e=!0;this.enabled=function(t){return arguments.length&&(e=!!t),e},this.$get=["$parse","$sceDelegate",function(t,i){if(e&&8>mi)throw Fa("iequirks");var a=A(Ea);a.isEnabled=function(){return e},a.trustAs=i.trustAs,a.getTrusted=i.getTrusted,a.valueOf=i.valueOf,e||(a.trustAs=a.getTrusted=function(e,t){return t},a.valueOf=p),a.parseAs=function(e,i){var n=t(i);return n.literal&&n.constant?n:t(i,function(t){return a.getTrusted(e,t)})};var n=a.parseAs,s=a.getTrusted,r=a.trustAs;return o(Ea,function(e,t){var i=xi(t);a[ae("parse_as_"+i)]=function(t){return n(e,t)},a[ae("get_trusted_"+i)]=function(t){return s(e,t)},a[ae("trust_as_"+i)]=function(t){return r(e,t)}}),a}]}function Lt(){this.$get=["$window","$document",function(e,t){
var i,a={},n=u((/android (\d+)/.exec(xi((e.navigator||{}).userAgent))||[])[1]),o=/Boxee/i.test((e.navigator||{}).userAgent),s=t[0]||{},r=/^(Moz|webkit|ms)(?=[A-Z])/,l=s.body&&s.body.style,c=!1,h=!1;if(l){for(var d in l)if(c=r.exec(d)){i=c[0],i=i.substr(0,1).toUpperCase()+i.substr(1);break}i||(i="WebkitOpacity"in l&&"webkit"),c=!!("transition"in l||i+"Transition"in l),h=!!("animation"in l||i+"Animation"in l),!n||c&&h||(c=b(s.body.style.webkitTransition),h=b(s.body.style.webkitAnimation))}return{history:!(!e.history||!e.history.pushState||4>n||o),hasEvent:function(e){if("input"===e&&11>=mi)return!1;if(m(a[e])){var t=s.createElement("div");a[e]="on"+e in t}return a[e]},csp:Ei(),vendorPrefix:i,transitions:c,animations:h,android:n}}]}function Bt(){this.$get=["$templateCache","$http","$q",function(e,t,i){function a(n,o){a.totalPendingRequests++;var s=t.defaults&&t.defaults.transformResponse;return Ai(s)?s=s.filter(function(e){return e!==He}):s===He&&(s=null),t.get(n,{cache:e,transformResponse:s}).finally(function(){a.totalPendingRequests--}).then(function(e){return e.data},function(e){if(!o)throw ca("tpload",n);return i.reject(e)})}return a.totalPendingRequests=0,a}]}function Rt(){this.$get=["$rootScope","$browser","$location",function(e,t,i){return{findBindings:function(e,t,i){e=e.getElementsByClassName("ng-binding");var a=[];return o(e,function(e){var n=Pi.element(e).data("$binding");n&&o(n,function(n){i?new RegExp("(^|\\s)"+Fi(t)+"(\\s|\\||$)").test(n)&&a.push(e):-1!=n.indexOf(t)&&a.push(e)})}),a},findModels:function(e,t,i){for(var a=["ng-","data-ng-","ng\\:"],n=0;n<a.length;++n){var o=e.querySelectorAll("["+a[n]+"model"+(i?"=":"*=")+'"'+t+'"]');if(o.length)return o}},getLocation:function(){return i.url()},setLocation:function(t){t!==i.url()&&(i.url(t),e.$digest())},whenStable:function(e){t.notifyWhenNoOutstandingRequests(e)}}}]}function Ot(){this.$get=["$rootScope","$browser","$q","$$q","$exceptionHandler",function(e,t,i,a,n){function o(o,r,l){var c=g(l)&&!l,h=(c?a:i).defer(),u=h.promise;return r=t.defer(function(){try{h.resolve(o())}catch(e){h.reject(e),n(e)}finally{delete s[u.$$timeoutId]}c||e.$apply()},r),u.$$timeoutId=r,s[r]=h,u}var s={};return o.cancel=function(e){return!!(e&&e.$$timeoutId in s)&&(s[e.$$timeoutId].reject("canceled"),delete s[e.$$timeoutId],t.defer.cancel(e.$$timeoutId))},o}]}function Nt(e){return mi&&(La.setAttribute("href",e),e=La.href),La.setAttribute("href",e),{href:La.href,protocol:La.protocol?La.protocol.replace(/:$/,""):"",host:La.host,search:La.search?La.search.replace(/^\?/,""):"",hash:La.hash?La.hash.replace(/^#/,""):"",hostname:La.hostname,port:La.port,pathname:"/"===La.pathname.charAt(0)?La.pathname:"/"+La.pathname}}function Vt(e){return e=b(e)?Nt(e):e,e.protocol===Ba.protocol&&e.host===Ba.host}function Wt(){this.$get=f(e)}function zt(e){function t(i,a){if(v(i)){var n={};return o(i,function(e,i){n[i]=t(i,e)}),n}return e.factory(i+"Filter",a)}this.register=t,this.$get=["$injector",function(e){return function(t){return e.get(t+"Filter")}}],t("currency",jt),t("date",ei),t("filter",Yt),t("json",ti),t("limitTo",ii),t("lowercase",Wa),t("number",Gt),t("orderBy",ai),t("uppercase",za)}function Yt(){return function(e,t,i){if(!Ai(e))return e;var a;switch(typeof t){case"function":break;case"boolean":case"number":case"string":a=!0;case"object":t=Ht(t,i,a);break;default:return e}return e.filter(t)}}function Ht(e,t,i){var a=v(e)&&"$"in e;return!0===t?t=I:C(t)||(t=function(e,t){return!v(e)&&!v(t)&&(e=xi(""+e),t=xi(""+t),-1!==e.indexOf(t))}),function(n){return a&&!v(n)?Ut(n,e.$,t,!1):Ut(n,e,t,i)}}function Ut(e,t,i,a,n){var o=typeof e,s=typeof t;if("string"===s&&"!"===t.charAt(0))return!Ut(e,t.substring(1),i,a);if(Ai(e))return e.some(function(e){return Ut(e,t,i,a)});switch(o){case"object":var r;if(a){for(r in e)if("$"!==r.charAt(0)&&Ut(e[r],t,i,!0))return!0;return!n&&Ut(e,t,i,!1)}if("object"===s){for(r in t)if(n=t[r],!C(n)&&(o="$"===r,!Ut(o?e:e[r],n,i,o,o)))return!1;return!0}return i(e,t);case"function":return!1;default:return i(e,t)}}function jt(e){var t=e.NUMBER_FORMATS;return function(e,i,a){return m(i)&&(i=t.CURRENCY_SYM),m(a)&&(a=t.PATTERNS[1].maxFrac),null==e?e:Xt(e,t.PATTERNS[1],t.GROUP_SEP,t.DECIMAL_SEP,a).replace(/\u00A4/g,i)}}function Gt(e){var t=e.NUMBER_FORMATS;return function(e,i){return null==e?e:Xt(e,t.PATTERNS[0],t.GROUP_SEP,t.DECIMAL_SEP,i)}}function Xt(e,t,i,a,n){if(!isFinite(e)||v(e))return"";var o=0>e;e=Math.abs(e);var s=e+"",r="",l=[],c=!1;if(-1!==s.indexOf("e")){var h=s.match(/([\d\.]+)e(-?)(\d+)/);h&&"-"==h[2]&&h[3]>n+1?e=0:(r=s,c=!0)}if(c)0<n&&1>e&&(r=e.toFixed(n),e=parseFloat(r));else{s=(s.split(Ra)[1]||"").length,m(n)&&(n=Math.min(Math.max(t.minFrac,s),t.maxFrac)),e=+(Math.round(+(e.toString()+"e"+n)).toString()+"e"+-n);var s=(""+e).split(Ra),c=s[0],s=s[1]||"",u=0,d=t.lgSize,p=t.gSize;if(c.length>=d+p)for(u=c.length-d,h=0;h<u;h++)0==(u-h)%p&&0!==h&&(r+=i),r+=c.charAt(h);for(h=u;h<c.length;h++)0==(c.length-h)%d&&0!==h&&(r+=i),r+=c.charAt(h);for(;s.length<n;)s+="0";n&&"0"!==n&&(r+=a+s.substr(0,n))}return 0===e&&(o=!1),l.push(o?t.negPre:t.posPre,r,o?t.negSuf:t.posSuf),l.join("")}function qt(e,t,i){var a="";for(0>e&&(a="-",e=-e),e=""+e;e.length<t;)e="0"+e;return i&&(e=e.substr(e.length-t)),a+e}function Qt(e,t,i,a){return i=i||0,function(n){return n=n["get"+e](),(0<i||n>-i)&&(n+=i),0===n&&-12==i&&(n=12),qt(n,t,a)}}function Kt(e,t){return function(i,a){var n=i["get"+e]();return a[wi(t?"SHORT"+e:e)][n]}}function Jt(e){var t=new Date(e,0,1).getDay();return new Date(e,0,(4>=t?5:12)-t)}function Zt(e){return function(t){var i=Jt(t.getFullYear());return t=+new Date(t.getFullYear(),t.getMonth(),t.getDate()+(4-t.getDay()))-+i,t=1+Math.round(t/6048e5),qt(t,e)}}function ei(e){function t(e){var t;if(t=e.match(i)){e=new Date(0);var a=0,n=0,o=t[8]?e.setUTCFullYear:e.setFullYear,s=t[8]?e.setUTCHours:e.setHours;t[9]&&(a=u(t[9]+t[10]),n=u(t[9]+t[11])),o.call(e,u(t[1]),u(t[2])-1,u(t[3])),a=u(t[4]||0)-a,n=u(t[5]||0)-n,o=u(t[6]||0),t=Math.round(1e3*parseFloat("0."+(t[7]||0))),s.call(e,a,n,o,t)}return e}var i=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/;return function(i,a,n){var s,r,l="",c=[];if(a=a||"mediumDate",a=e.DATETIME_FORMATS[a]||a,b(i)&&(i=Va.test(i)?u(i):t(i)),y(i)&&(i=new Date(i)),!x(i))return i;for(;a;)(r=Na.exec(a))?(c=F(c,r,1),a=c.pop()):(c.push(a),a=null);return n&&"UTC"===n&&(i=new Date(i.getTime()),i.setMinutes(i.getMinutes()+i.getTimezoneOffset())),o(c,function(t){s=Oa[t],l+=s?s(i,e.DATETIME_FORMATS):t.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),l}}function ti(){return function(e,t){return m(t)&&(t=2),B(e,t)}}function ii(){return function(e,t){return y(e)&&(e=e.toString()),Ai(e)||b(e)?(t=1/0===Math.abs(Number(t))?Number(t):u(t))?0<t?e.slice(0,t):e.slice(t):b(e)?"":[]:e}}function ai(e){return function(t,i,a){function o(e,t){return t?function(t,i){return e(i,t)}:e}function s(e){switch(typeof e){case"number":case"boolean":case"string":return!0;default:return!1}}function r(e){return null===e?"null":"function"==typeof e.valueOf&&(e=e.valueOf(),s(e))||"function"==typeof e.toString&&(e=e.toString(),s(e))?e:""}function l(e,t){var i=typeof e,a=typeof t;return i===a&&"object"===i&&(e=r(e),t=r(t)),i===a?("string"===i&&(e=e.toLowerCase(),t=t.toLowerCase()),e===t?0:e<t?-1:1):i<a?-1:1}return n(t)?(i=Ai(i)?i:[i],0===i.length&&(i=["+"]),i=i.map(function(t){var i=!1,a=t||p;if(b(t)){if("+"!=t.charAt(0)&&"-"!=t.charAt(0)||(i="-"==t.charAt(0),t=t.substring(1)),""===t)return o(l,i);if(a=e(t),a.constant){var n=a();return o(function(e,t){return l(e[n],t[n])},i)}}return o(function(e,t){return l(a(e),a(t))},i)}),ki.call(t).sort(o(function(e,t){for(var a=0;a<i.length;a++){var n=i[a](e,t);if(0!==n)return n}return 0},a))):t}}function ni(e){return C(e)&&(e={link:e}),e.restrict=e.restrict||"AC",f(e)}function oi(e,t,a,n,s){var r=this,l=[],c=r.$$parentForm=e.parent().controller("form")||Ua;r.$error={},r.$$success={},r.$pending=i,r.$name=s(t.name||t.ngForm||"")(a),r.$dirty=!1,r.$pristine=!0,r.$valid=!0,r.$invalid=!1,r.$submitted=!1,c.$addControl(r),r.$rollbackViewValue=function(){o(l,function(e){e.$rollbackViewValue()})},r.$commitViewValue=function(){o(l,function(e){e.$commitViewValue()})},r.$addControl=function(e){J(e.$name,"input"),l.push(e),e.$name&&(r[e.$name]=e)},r.$$renameControl=function(e,t){var i=e.$name;r[i]===e&&delete r[i],r[t]=e,e.$name=t},r.$removeControl=function(e){e.$name&&r[e.$name]===e&&delete r[e.$name],o(r.$pending,function(t,i){r.$setValidity(i,null,e)}),o(r.$error,function(t,i){r.$setValidity(i,null,e)}),o(r.$$success,function(t,i){r.$setValidity(i,null,e)}),$(l,e)},pi({ctrl:this,$element:e,set:function(e,t,i){var a=e[t];a?-1===a.indexOf(i)&&a.push(i):e[t]=[i]},unset:function(e,t,i){var a=e[t];a&&($(a,i),0===a.length&&delete e[t])},parentForm:c,$animate:n}),r.$setDirty=function(){n.removeClass(e,Mn),n.addClass(e,Pn),r.$dirty=!0,r.$pristine=!1,c.$setDirty()},r.$setPristine=function(){n.setClass(e,Mn,Pn+" ng-submitted"),r.$dirty=!1,r.$pristine=!0,r.$submitted=!1,o(l,function(e){e.$setPristine()})},r.$setUntouched=function(){o(l,function(e){e.$setUntouched()})},r.$setSubmitted=function(){n.addClass(e,"ng-submitted"),r.$submitted=!0,c.$setSubmitted()}}function si(e){e.$formatters.push(function(t){return e.$isEmpty(t)?t:t.toString()})}function ri(e,t,i,a,n,o){var s=xi(t[0].type);if(!n.android){var r=!1;t.on("compositionstart",function(e){r=!0}),t.on("compositionend",function(){r=!1,l()})}var l=function(e){if(c&&(o.defer.cancel(c),c=null),!r){var n=t.val();e=e&&e.type,"password"===s||i.ngTrim&&"false"===i.ngTrim||(n=Ii(n)),(a.$viewValue!==n||""===n&&a.$$hasNativeValidators)&&a.$setViewValue(n,e)}};if(n.hasEvent("input"))t.on("input",l);else{var c,h=function(e,t,i){c||(c=o.defer(function(){c=null,t&&t.value===i||l(e)}))};t.on("keydown",function(e){var t=e.keyCode;91===t||15<t&&19>t||37<=t&&40>=t||h(e,this,this.value)}),n.hasEvent("paste")&&t.on("paste cut",h)}t.on("change",l),a.$render=function(){t.val(a.$isEmpty(a.$viewValue)?"":a.$viewValue)}}function li(e,t){return function(i,a){var n,s;if(x(i))return i;if(b(i)){if('"'==i.charAt(0)&&'"'==i.charAt(i.length-1)&&(i=i.substring(1,i.length-1)),qa.test(i))return new Date(i);if(e.lastIndex=0,n=e.exec(i))return n.shift(),s=a?{yyyy:a.getFullYear(),MM:a.getMonth()+1,dd:a.getDate(),HH:a.getHours(),mm:a.getMinutes(),ss:a.getSeconds(),sss:a.getMilliseconds()/1e3}:{yyyy:1970,MM:1,dd:1,HH:0,mm:0,ss:0,sss:0},o(n,function(e,i){i<t.length&&(s[t[i]]=+e)}),new Date(s.yyyy,s.MM-1,s.dd,s.HH,s.mm,s.ss||0,1e3*s.sss||0)}return NaN}}function ci(e,t,a,n){return function(o,s,r,l,c,h,u){function d(e){return e&&!(e.getTime&&e.getTime()!==e.getTime())}function p(e){return g(e)?x(e)?e:a(e):i}hi(o,s,r,l),ri(o,s,r,l,c,h);var f,v=l&&l.$options&&l.$options.timezone;if(l.$$parserName=e,l.$parsers.push(function(e){return l.$isEmpty(e)?null:t.test(e)?(e=a(e,f),"UTC"===v&&e.setMinutes(e.getMinutes()-e.getTimezoneOffset()),e):i}),l.$formatters.push(function(e){if(e&&!x(e))throw _n("datefmt",e);if(d(e)){if((f=e)&&"UTC"===v){var t=6e4*f.getTimezoneOffset();f=new Date(f.getTime()+t)}return u("date")(e,n,v)}return f=null,""}),g(r.min)||r.ngMin){var b;l.$validators.min=function(e){return!d(e)||m(b)||a(e)>=b},r.$observe("min",function(e){b=p(e),l.$validate()})}if(g(r.max)||r.ngMax){var y;l.$validators.max=function(e){return!d(e)||m(y)||a(e)<=y},r.$observe("max",function(e){y=p(e),l.$validate()})}}}function hi(e,t,a,n){(n.$$hasNativeValidators=v(t[0].validity))&&n.$parsers.push(function(e){var a=t.prop("validity")||{};return a.badInput&&!a.typeMismatch?i:e})}function ui(e,t,i,n,o){if(g(n)){if(e=e(n),!e.constant)throw a("ngModel")("constexpr",i,n);return e(t)}return o}function di(e,t){return e="ngClass"+e,["$animate",function(i){function a(e,t){var i=[],a=0;e:for(;a<e.length;a++){for(var n=e[a],o=0;o<t.length;o++)if(n==t[o])continue e;i.push(n)}return i}function n(e){if(!Ai(e)){if(b(e))return e.split(" ");if(v(e)){var t=[];return o(e,function(e,i){e&&(t=t.concat(i.split(" ")))}),t}}return e}return{restrict:"AC",link:function(s,r,l){function c(e,t){var i=r.data("$classCounts")||{},a=[];return o(e,function(e){(0<t||i[e])&&(i[e]=(i[e]||0)+t,i[e]===+(0<t)&&a.push(e))}),r.data("$classCounts",i),a.join(" ")}function h(e){if(!0===t||s.$index%2===t){var o=n(e||[]);if(u){if(!I(e,u)){var h=n(u),d=a(o,h),o=a(h,o),d=c(d,1),o=c(o,-1);d&&d.length&&i.addClass(r,d),o&&o.length&&i.removeClass(r,o)}}else{var d=c(o,1);l.$addClass(d)}}u=A(e)}var u;s.$watch(l[e],h,!0),l.$observe("class",function(t){h(s.$eval(l[e]))}),"ngClass"!==e&&s.$watch("$index",function(i,a){var o=1&i;if(o!==(1&a)){var r=n(s.$eval(l[e]));o===t?(o=c(r,1),l.$addClass(o)):(o=c(r,-1),l.$removeClass(o))}})}}}]}function pi(e){function t(e,t){t&&!s[e]?(h.addClass(o,e),s[e]=!0):!t&&s[e]&&(h.removeClass(o,e),s[e]=!1)}function a(e,i){e=e?"-"+q(e,"-"):"",t(Dn+e,!0===i),t(Tn+e,!1===i)}var n=e.ctrl,o=e.$element,s={},r=e.set,l=e.unset,c=e.parentForm,h=e.$animate;s[Tn]=!(s[Dn]=o.hasClass(Dn)),n.$setValidity=function(e,o,s){o===i?(n.$pending||(n.$pending={}),r(n.$pending,e,s)):(n.$pending&&l(n.$pending,e,s),fi(n.$pending)&&(n.$pending=i)),D(o)?o?(l(n.$error,e,s),r(n.$$success,e,s)):(r(n.$error,e,s),l(n.$$success,e,s)):(l(n.$error,e,s),l(n.$$success,e,s)),n.$pending?(t($n,!0),n.$valid=n.$invalid=i,a("",null)):(t($n,!1),n.$valid=fi(n.$error),n.$invalid=!n.$valid,a("",n.$valid)),o=n.$pending&&n.$pending[e]?i:!n.$error[e]&&(!!n.$$success[e]||null),a(e,o),c.$setValidity(e,o,n)}}function fi(e){if(e)for(var t in e)return!1;return!0}var mi,gi,vi,bi,yi=/^\/(.+)\/([a-z]*)$/,xi=function(e){return b(e)?e.toLowerCase():e},Ci=Object.prototype.hasOwnProperty,wi=function(e){return b(e)?e.toUpperCase():e},ki=[].slice,Si=[].splice,Di=[].push,Ti=Object.prototype.toString,Mi=a("ng"),Pi=e.angular||(e.angular={}),$i=0;mi=t.documentMode,d.$inject=[],p.$inject=[];var _i,Ai=Array.isArray,Ii=function(e){return b(e)?e.trim():e},Fi=function(e){return e.replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08")},Ei=function(){if(g(Ei.isActive_))return Ei.isActive_;var e=!(!t.querySelector("[ng-csp]")&&!t.querySelector("[data-ng-csp]"));if(!e)try{new Function("")}catch(t){e=!0}return Ei.isActive_=e},Li=["ng-","data-ng-","ng:","x-ng-"],Bi=/[A-Z]/g,Ri=!1,Oi=1,Ni=3,Vi={full:"1.3.10",major:1,minor:3,dot:10,codeName:"heliotropic-sundial"};se.expando="ng339";var Wi=se.cache={},zi=1;se._data=function(e){return this.cache[e[this.expando]]||{}};var Yi=/([\:\-\_]+(.))/g,Hi=/^moz([A-Z])/,Ui={mouseleave:"mouseout",mouseenter:"mouseover"},ji=a("jqLite"),Gi=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,Xi=/<|&#?\w+;/,qi=/<([\w:]+)/,Qi=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Ki={option:[1,'<select multiple="multiple">',"</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Ki.optgroup=Ki.option,Ki.tbody=Ki.tfoot=Ki.colgroup=Ki.caption=Ki.thead,Ki.th=Ki.td;var Ji=se.prototype={ready:function(i){function a(){n||(n=!0,i())}var n=!1;"complete"===t.readyState?setTimeout(a):(this.on("DOMContentLoaded",a),se(e).on("load",a))},toString:function(){var e=[];return o(this,function(t){e.push(""+t)}),"["+e.join(", ")+"]"},eq:function(e){return gi(0<=e?this[e]:this[this.length+e])},length:0,push:Di,sort:[].sort,splice:[].splice},Zi={};o("multiple selected checked disabled readOnly required open".split(" "),function(e){Zi[xi(e)]=e});var ea={};o("input select option textarea button form details".split(" "),function(e){ea[e]=!0});var ta={ngMinlength:"minlength",ngMaxlength:"maxlength",ngMin:"min",ngMax:"max",ngPattern:"pattern"};o({data:de,removeData:he},function(e,t){se[t]=e}),o({data:de,inheritedData:be,scope:function(e){return gi.data(e,"$scope")||be(e.parentNode||e,["$isolateScope","$scope"])},isolateScope:function(e){return gi.data(e,"$isolateScope")||gi.data(e,"$isolateScopeNoTemplate")},controller:ve,injector:function(e){return be(e,"$injector")},removeAttr:function(e,t){e.removeAttribute(t)},hasClass:pe,css:function(e,t,i){if(t=ae(t),!g(i))return e.style[t];e.style[t]=i},attr:function(e,t,a){var n=xi(t);if(Zi[n]){if(!g(a))return e[t]||(e.attributes.getNamedItem(t)||d).specified?n:i;a?(e[t]=!0,e.setAttribute(t,n)):(e[t]=!1,e.removeAttribute(n))}else if(g(a))e.setAttribute(t,a);else if(e.getAttribute)return e=e.getAttribute(t,2),null===e?i:e},prop:function(e,t,i){if(!g(i))return e[t];e[t]=i},text:function(){function e(e,t){if(m(t)){var i=e.nodeType;return i===Oi||i===Ni?e.textContent:""}e.textContent=t}return e.$dv="",e}(),val:function(e,t){if(m(t)){if(e.multiple&&"select"===P(e)){var i=[];return o(e.options,function(e){e.selected&&i.push(e.value||e.text)}),0===i.length?null:i}return e.value}e.value=t},html:function(e,t){if(m(t))return e.innerHTML;le(e,!0),e.innerHTML=t},empty:ye},function(e,t){se.prototype[t]=function(t,a){var n,o,s=this.length;if(e!==ye&&(2==e.length&&e!==pe&&e!==ve?t:a)===i){if(v(t)){for(n=0;n<s;n++)if(e===de)e(this[n],t);else for(o in t)e(this[n],o,t[o]);return this}for(n=e.$dv,s=n===i?Math.min(s,1):s,o=0;o<s;o++){var r=e(this[o],t,a);n=n?n+r:r}return n}for(n=0;n<s;n++)e(this[n],t,a);return this}}),o({removeData:he,on:function e(t,i,a,n){if(g(n))throw ji("onargs");if(ne(t)){var o=ue(t,!0);n=o.events;var s=o.handle;s||(s=o.handle=Se(t,n));for(var o=0<=i.indexOf(" ")?i.split(" "):[i],r=o.length;r--;){i=o[r];var l=n[i];l||(n[i]=[],"mouseenter"===i||"mouseleave"===i?e(t,Ui[i],function(e){var t=e.relatedTarget;t&&(t===this||this.contains(t))||s(e,i)}):"$destroy"!==i&&t.addEventListener(i,s,!1),l=n[i]),l.push(a)}}},off:ce,one:function(e,t,i){e=gi(e),e.on(t,function a(){e.off(t,i),e.off(t,a)}),e.on(t,i)},replaceWith:function(e,t){var i,a=e.parentNode;le(e),o(new se(t),function(t){i?a.insertBefore(t,i.nextSibling):a.replaceChild(t,e),i=t})},children:function(e){var t=[];return o(e.childNodes,function(e){e.nodeType===Oi&&t.push(e)}),t},contents:function(e){return e.contentDocument||e.childNodes||[]},append:function(e,t){var i=e.nodeType;if(i===Oi||11===i){t=new se(t);for(var i=0,a=t.length;i<a;i++)e.appendChild(t[i])}},prepend:function(e,t){if(e.nodeType===Oi){var i=e.firstChild;o(new se(t),function(t){e.insertBefore(t,i)})}},wrap:function(e,t){t=gi(t).eq(0).clone()[0];var i=e.parentNode;i&&i.replaceChild(t,e),t.appendChild(e)},remove:xe,detach:function(e){xe(e,!0)},after:function(e,t){var i=e,a=e.parentNode;t=new se(t);for(var n=0,o=t.length;n<o;n++){var s=t[n];a.insertBefore(s,i.nextSibling),i=s}},addClass:me,removeClass:fe,toggleClass:function(e,t,i){t&&o(t.split(" "),function(t){var a=i;m(a)&&(a=!pe(e,t)),(a?me:fe)(e,t)})},parent:function(e){return(e=e.parentNode)&&11!==e.nodeType?e:null},next:function(e){return e.nextElementSibling},find:function(e,t){return e.getElementsByTagName?e.getElementsByTagName(t):[]},clone:re,triggerHandler:function(e,t,i){var a,n,s=t.type||t,r=ue(e);(r=(r=r&&r.events)&&r[s])&&(a={preventDefault:function(){this.defaultPrevented=!0},isDefaultPrevented:function(){return!0===this.defaultPrevented},stopImmediatePropagation:function(){this.immediatePropagationStopped=!0},isImmediatePropagationStopped:function(){return!0===this.immediatePropagationStopped},stopPropagation:d,type:s,target:e},t.type&&(a=h(a,t)),t=A(r),n=i?[a].concat(i):[a],o(t,function(t){a.isImmediatePropagationStopped()||t.apply(e,n)}))}},function(e,t){se.prototype[t]=function(t,i,a){for(var n,o=0,s=this.length;o<s;o++)m(n)?(n=e(this[o],t,i,a),g(n)&&(n=gi(n))):ge(n,e(this[o],t,i,a));return g(n)?n:this},se.prototype.bind=se.prototype.on,se.prototype.unbind=se.prototype.off}),Me.prototype={put:function(e,t){this[Te(e,this.nextUid)]=t},get:function(e){return this[Te(e,this.nextUid)]},remove:function(e){var t=this[e=Te(e,this.nextUid)];return delete this[e],t}};var ia=/^function\s*[^\(]*\(\s*([^\)]*)\)/m,aa=/,/,na=/^\s*(_?)(\S+?)\1\s*$/,oa=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm,sa=a("$injector");_e.$$annotate=$e;var ra=a("$animate"),la=["$provide",function(e){this.$$selectors={},this.register=function(t,i){var a=t+"-animation";if(t&&"."!=t.charAt(0))throw ra("notcsel",t);this.$$selectors[t.substr(1)]=a,e.factory(a,i)},this.classNameFilter=function(e){return 1===arguments.length&&(this.$$classNameFilter=e instanceof RegExp?e:null),this.$$classNameFilter},this.$get=["$$q","$$asyncCallback","$rootScope",function(e,t,i){function a(t){var a,n=e.defer();return n.promise.$$cancelFn=function(){a&&a()},i.$$postDigest(function(){a=t(function(){n.resolve()})}),n.promise}function n(e,t){var i=[],a=[],n=te();return o((e.attr("class")||"").split(/\s+/),function(e){n[e]=!0}),o(t,function(e,t){var o=n[t];!1===e&&o?a.push(t):!0!==e||o||i.push(t)}),0<i.length+a.length&&[i.length?i:null,a.length?a:null]}function s(e,t,i){for(var a=0,n=t.length;a<n;++a)e[t[a]]=i}function r(){return c||(c=e.defer(),t(function(){c.resolve(),c=null})),c.promise}function l(e,t){if(Pi.isObject(t)){var i=h(t.from||{},t.to||{});e.css(i)}}var c;return{animate:function(e,t,i){return l(e,{from:t,to:i}),r()},enter:function(e,t,i,a){return l(e,a),i?i.after(e):t.prepend(e),r()},leave:function(e,t){return e.remove(),r()},move:function(e,t,i,a){return this.enter(e,t,i,a)},addClass:function(e,t,i){return this.setClass(e,t,[],i)},$$addClassImmediately:function(e,t,i){return e=gi(e),t=b(t)?t:Ai(t)?t.join(" "):"",o(e,function(e){me(e,t)}),l(e,i),r()},removeClass:function(e,t,i){return this.setClass(e,[],t,i)},$$removeClassImmediately:function(e,t,i){return e=gi(e),t=b(t)?t:Ai(t)?t.join(" "):"",o(e,function(e){fe(e,t)}),l(e,i),r()},setClass:function(e,t,i,o){var r=this,l=!1;e=gi(e);var c=e.data("$$animateClasses");return c?o&&c.options&&(c.options=Pi.extend(c.options||{},o)):(c={classes:{},options:o},l=!0),o=c.classes,t=Ai(t)?t:t.split(" "),i=Ai(i)?i:i.split(" "),s(o,t,!0),s(o,i,!1),l&&(c.promise=a(function(t){var i=e.data("$$animateClasses");if(e.removeData("$$animateClasses"),i){var a=n(e,i.classes);a&&r.$$setClassImmediately(e,a[0],a[1],i.options)}t()}),e.data("$$animateClasses",c)),c.promise},$$setClassImmediately:function(e,t,i,a){return t&&this.$$addClassImmediately(e,t),i&&this.$$removeClassImmediately(e,i),l(e,a),r()},enabled:d,cancel:d}}]}],ca=a("$compile");Re.$inject=["$provide","$$sanitizeUriProvider"];var ha=/^((?:x|data)[\:\-_])/i,ua="application/json",da={"Content-Type":ua+";charset=utf-8"},pa=/^\[|^\{(?!\{)/,fa={"[":/]$/,"{":/}$/},ma=/^\)\]\}',?\n/,ga=a("$interpolate"),va=/^([^\?#]*)(\?([^#]*))?(#(.*))?$/,ba={http:80,https:443,ftp:21},ya=a("$location"),xa={$$html5:!1,$$replace:!1,absUrl:ut("$$absUrl"),url:function(e){if(m(e))return this.$$url;var t=va.exec(e);return(t[1]||""===e)&&this.path(decodeURIComponent(t[1])),(t[2]||t[1]||""===e)&&this.search(t[3]||""),this.hash(t[5]||""),this},protocol:ut("$$protocol"),host:ut("$$host"),port:ut("$$port"),path:dt("$$path",function(e){return e=null!==e?e.toString():"","/"==e.charAt(0)?e:"/"+e}),search:function(e,t){switch(arguments.length){case 0:return this.$$search;case 1:if(b(e)||y(e))e=e.toString(),this.$$search=V(e);else{if(!v(e))throw ya("isrcharg");e=_(e,{}),o(e,function(t,i){null==t&&delete e[i]}),this.$$search=e}break;default:m(t)||null===t?delete this.$$search[e]:this.$$search[e]=t}return this.$$compose(),this},hash:dt("$$hash",function(e){return null!==e?e.toString():""}),replace:function(){return this.$$replace=!0,this}};o([ht,ct,lt],function(e){e.prototype=Object.create(xa),e.prototype.state=function(t){if(!arguments.length)return this.$$state;if(e!==lt||!this.$$html5)throw ya("nostate");return this.$$state=m(t)?null:t,this}});var Ca=a("$parse"),wa=Function.prototype.call,ka=Function.prototype.apply,Sa=Function.prototype.bind,Da=te();o({null:function(){return null},true:function(){return!0},false:function(){return!1},undefined:function(){}},function(e,t){e.constant=e.literal=e.sharedGetter=!0,Da[t]=e}),Da.this=function(e){return e},Da.this.sharedGetter=!0;var Ta=h(te(),{"+":function(e,t,a,n){return a=a(e,t),n=n(e,t),g(a)?g(n)?a+n:a:g(n)?n:i},"-":function(e,t,i,a){return i=i(e,t),a=a(e,t),(g(i)?i:0)-(g(a)?a:0)},"*":function(e,t,i,a){return i(e,t)*a(e,t)},"/":function(e,t,i,a){return i(e,t)/a(e,t)},"%":function(e,t,i,a){return i(e,t)%a(e,t)},"===":function(e,t,i,a){return i(e,t)===a(e,t)},"!==":function(e,t,i,a){return i(e,t)!==a(e,t)},"==":function(e,t,i,a){return i(e,t)==a(e,t)},"!=":function(e,t,i,a){return i(e,t)!=a(e,t)},"<":function(e,t,i,a){return i(e,t)<a(e,t)},">":function(e,t,i,a){return i(e,t)>a(e,t)},"<=":function(e,t,i,a){return i(e,t)<=a(e,t)},">=":function(e,t,i,a){return i(e,t)>=a(e,t)},"&&":function(e,t,i,a){return i(e,t)&&a(e,t)},"||":function(e,t,i,a){return i(e,t)||a(e,t)},"!":function(e,t,i){return!i(e,t)},"=":!0,"|":!0}),Ma={n:"\n",f:"\f",r:"\r",t:"\t",v:"\v","'":"'",'"':'"'},Pa=function(e){this.options=e};Pa.prototype={constructor:Pa,lex:function(e){for(this.text=e,this.index=0,this.tokens=[];this.index<this.text.length;)if('"'===(e=this.text.charAt(this.index))||"'"===e)this.readString(e);else if(this.isNumber(e)||"."===e&&this.isNumber(this.peek()))this.readNumber();else if(this.isIdent(e))this.readIdent();else if(this.is(e,"(){}[].,;:?"))this.tokens.push({index:this.index,text:e}),this.index++;else if(this.isWhitespace(e))this.index++;else{var t=e+this.peek(),i=t+this.peek(2),a=Ta[t],n=Ta[i];Ta[e]||a||n?(e=n?i:a?t:e,this.tokens.push({index:this.index,text:e,operator:!0}),this.index+=e.length):this.throwError("Unexpected next character ",this.index,this.index+1)}return this.tokens},is:function(e,t){return-1!==t.indexOf(e)},peek:function(e){return e=e||1,this.index+e<this.text.length&&this.text.charAt(this.index+e)},isNumber:function(e){return"0"<=e&&"9">=e&&"string"==typeof e},isWhitespace:function(e){return" "===e||"\r"===e||"\t"===e||"\n"===e||"\v"===e||""===e},isIdent:function(e){return"a"<=e&&"z">=e||"A"<=e&&"Z">=e||"_"===e||"$"===e},isExpOperator:function(e){return"-"===e||"+"===e||this.isNumber(e)},throwError:function(e,t,i){throw i=i||this.index,t=g(t)?"s "+t+"-"+this.index+" ["+this.text.substring(t,i)+"]":" "+i,Ca("lexerr",e,t,this.text)},readNumber:function(){for(var e="",t=this.index;this.index<this.text.length;){var i=xi(this.text.charAt(this.index));if("."==i||this.isNumber(i))e+=i;else{var a=this.peek();if("e"==i&&this.isExpOperator(a))e+=i;else if(this.isExpOperator(i)&&a&&this.isNumber(a)&&"e"==e.charAt(e.length-1))e+=i;else{if(!this.isExpOperator(i)||a&&this.isNumber(a)||"e"!=e.charAt(e.length-1))break;this.throwError("Invalid exponent")}}this.index++}this.tokens.push({index:t,text:e,constant:!0,value:Number(e)})},readIdent:function(){for(var e=this.index;this.index<this.text.length;){var t=this.text.charAt(this.index);if(!this.isIdent(t)&&!this.isNumber(t))break;this.index++}this.tokens.push({index:e,text:this.text.slice(e,this.index),identifier:!0})},readString:function(e){var t=this.index;this.index++;for(var i="",a=e,n=!1;this.index<this.text.length;){var o=this.text.charAt(this.index),a=a+o;if(n)"u"===o?(n=this.text.substring(this.index+1,this.index+5),n.match(/[\da-f]{4}/i)||this.throwError("Invalid unicode escape [\\u"+n+"]"),this.index+=4,i+=String.fromCharCode(parseInt(n,16))):i+=Ma[o]||o,n=!1;else if("\\"===o)n=!0;else{if(o===e)return this.index++,void this.tokens.push({index:t,text:a,constant:!0,value:i});i+=o}this.index++}this.throwError("Unterminated quote",t)}};var $a=function(e,t,i){this.lexer=e,this.$filter=t,this.options=i};$a.ZERO=h(function(){return 0},{sharedGetter:!0,constant:!0}),$a.prototype={constructor:$a,parse:function(e){return this.text=e,this.tokens=this.lexer.lex(e),e=this.statements(),0!==this.tokens.length&&this.throwError("is an unexpected token",this.tokens[0]),e.literal=!!e.literal,e.constant=!!e.constant,e},primary:function(){var e;this.expect("(")?(e=this.filterChain(),this.consume(")")):this.expect("[")?e=this.arrayDeclaration():this.expect("{")?e=this.object():this.peek().identifier&&this.peek().text in Da?e=Da[this.consume().text]:this.peek().identifier?e=this.identifier():this.peek().constant?e=this.constant():this.throwError("not a primary expression",this.peek());for(var t,i;t=this.expect("(","[",".");)"("===t.text?(e=this.functionCall(e,i),i=null):"["===t.text?(i=e,e=this.objectIndex(e)):"."===t.text?(i=e,e=this.fieldAccess(e)):this.throwError("IMPOSSIBLE");return e},throwError:function(e,t){throw Ca("syntax",t.text,e,t.index+1,this.text,this.text.substring(t.index))},peekToken:function(){if(0===this.tokens.length)throw Ca("ueoe",this.text);return this.tokens[0]},peek:function(e,t,i,a){return this.peekAhead(0,e,t,i,a)},peekAhead:function(e,t,i,a,n){if(this.tokens.length>e){e=this.tokens[e];var o=e.text;if(o===t||o===i||o===a||o===n||!(t||i||a||n))return e}return!1},expect:function(e,t,i,a){return!!(e=this.peek(e,t,i,a))&&(this.tokens.shift(),e)},consume:function(e){if(0===this.tokens.length)throw Ca("ueoe",this.text);var t=this.expect(e);return t||this.throwError("is unexpected, expecting ["+e+"]",this.peek()),t},unaryFn:function(e,t){var i=Ta[e];return h(function(e,a){return i(e,a,t)},{constant:t.constant,inputs:[t]})},binaryFn:function(e,t,i,a){var n=Ta[t];return h(function(t,a){return n(t,a,e,i)},{constant:e.constant&&i.constant,inputs:!a&&[e,i]})},identifier:function(){for(var e=this.consume().text;this.peek(".")&&this.peekAhead(1).identifier&&!this.peekAhead(2,"(");)e+=this.consume().text+this.consume().text;return wt(e,this.options,this.text)},constant:function(){var e=this.consume().value;return h(function(){return e},{constant:!0,literal:!0})},statements:function(){for(var e=[];;)if(0<this.tokens.length&&!this.peek("}",")",";","]")&&e.push(this.filterChain()),!this.expect(";"))return 1===e.length?e[0]:function(t,i){for(var a,n=0,o=e.length;n<o;n++)a=e[n](t,i);return a}},filterChain:function(){for(var e=this.expression();this.expect("|");)e=this.filter(e);return e},filter:function(e){var t,a,n=this.$filter(this.consume().text);if(this.peek(":"))for(t=[],a=[];this.expect(":");)t.push(this.expression());var o=[e].concat(t||[]);return h(function(o,s){var r=e(o,s);if(a){for(a[0]=r,r=t.length;r--;)a[r+1]=t[r](o,s);return n.apply(i,a)}return n(r)},{constant:!n.$stateful&&o.every(vt),inputs:!n.$stateful&&o})},expression:function(){return this.assignment()},assignment:function(){var e,t,i=this.ternary();return(t=this.expect("="))?(i.assign||this.throwError("implies assignment but ["+this.text.substring(0,t.index)+"] can not be assigned to",t),e=this.ternary(),h(function(t,a){return i.assign(t,e(t,a),a)},{inputs:[i,e]})):i},ternary:function(){var e,t=this.logicalOR();if(this.expect("?")&&(e=this.assignment(),this.consume(":"))){var i=this.assignment();return h(function(a,n){return t(a,n)?e(a,n):i(a,n)},{constant:t.constant&&e.constant&&i.constant})}return t},logicalOR:function(){for(var e,t=this.logicalAND();e=this.expect("||");)t=this.binaryFn(t,e.text,this.logicalAND(),!0);return t},logicalAND:function(){for(var e,t=this.equality();e=this.expect("&&");)t=this.binaryFn(t,e.text,this.equality(),!0);return t},equality:function(){for(var e,t=this.relational();e=this.expect("==","!=","===","!==");)t=this.binaryFn(t,e.text,this.relational());return t},relational:function(){for(var e,t=this.additive();e=this.expect("<",">","<=",">=");)t=this.binaryFn(t,e.text,this.additive());return t},additive:function(){for(var e,t=this.multiplicative();e=this.expect("+","-");)t=this.binaryFn(t,e.text,this.multiplicative());return t},multiplicative:function(){for(var e,t=this.unary();e=this.expect("*","/","%");)t=this.binaryFn(t,e.text,this.unary());return t},unary:function(){var e;return this.expect("+")?this.primary():(e=this.expect("-"))?this.binaryFn($a.ZERO,e.text,this.unary()):(e=this.expect("!"))?this.unaryFn(e.text,this.unary()):this.primary()},fieldAccess:function(e){var t=this.identifier();return h(function(a,n,o){return a=o||e(a,n),null==a?i:t(a)},{assign:function(i,a,n){var o=e(i,n);return o||e.assign(i,o={},n),t.assign(o,a)}})},objectIndex:function(e){var t=this.text,a=this.expression();return this.consume("]"),h(function(n,o){var s=e(n,o),r=a(n,o)
;return mt(r,t),s?gt(s[r],t):i},{assign:function(i,n,o){var s=mt(a(i,o),t),r=gt(e(i,o),t);return r||e.assign(i,r={},o),r[s]=n}})},functionCall:function(e,t){var a=[];if(")"!==this.peekToken().text)do{a.push(this.expression())}while(this.expect(","));this.consume(")");var n=this.text,o=a.length?[]:null;return function(s,r){var l=t?t(s,r):g(t)?i:s,c=e(s,r,l)||d;if(o)for(var h=a.length;h--;)o[h]=gt(a[h](s,r),n);if(gt(l,n),c){if(c.constructor===c)throw Ca("isecfn",n);if(c===wa||c===ka||c===Sa)throw Ca("isecff",n)}return l=c.apply?c.apply(l,o):c(o[0],o[1],o[2],o[3],o[4]),gt(l,n)}},arrayDeclaration:function(){var e=[];if("]"!==this.peekToken().text)do{if(this.peek("]"))break;e.push(this.expression())}while(this.expect(","));return this.consume("]"),h(function(t,i){for(var a=[],n=0,o=e.length;n<o;n++)a.push(e[n](t,i));return a},{literal:!0,constant:e.every(vt),inputs:e})},object:function(){var e=[],t=[];if("}"!==this.peekToken().text)do{if(this.peek("}"))break;var i=this.consume();i.constant?e.push(i.value):i.identifier?e.push(i.text):this.throwError("invalid key",i),this.consume(":"),t.push(this.expression())}while(this.expect(","));return this.consume("}"),h(function(i,a){for(var n={},o=0,s=t.length;o<s;o++)n[e[o]]=t[o](i,a);return n},{literal:!0,constant:t.every(vt),inputs:t})}};var _a=te(),Aa=te(),Ia=Object.prototype.valueOf,Fa=a("$sce"),Ea={HTML:"html",CSS:"css",URL:"url",RESOURCE_URL:"resourceUrl",JS:"js"},ca=a("$compile"),La=t.createElement("a"),Ba=Nt(e.location.href);zt.$inject=["$provide"],jt.$inject=["$locale"],Gt.$inject=["$locale"];var Ra=".",Oa={yyyy:Qt("FullYear",4),yy:Qt("FullYear",2,0,!0),y:Qt("FullYear",1),MMMM:Kt("Month"),MMM:Kt("Month",!0),MM:Qt("Month",2,1),M:Qt("Month",1,1),dd:Qt("Date",2),d:Qt("Date",1),HH:Qt("Hours",2),H:Qt("Hours",1),hh:Qt("Hours",2,-12),h:Qt("Hours",1,-12),mm:Qt("Minutes",2),m:Qt("Minutes",1),ss:Qt("Seconds",2),s:Qt("Seconds",1),sss:Qt("Milliseconds",3),EEEE:Kt("Day"),EEE:Kt("Day",!0),a:function(e,t){return 12>e.getHours()?t.AMPMS[0]:t.AMPMS[1]},Z:function(e){return e=-1*e.getTimezoneOffset(),e=(0<=e?"+":"")+(qt(Math[0<e?"floor":"ceil"](e/60),2)+qt(Math.abs(e%60),2))},ww:Zt(2),w:Zt(1)},Na=/((?:[^yMdHhmsaZEw']+)|(?:'(?:[^']|'')*')|(?:E+|y+|M+|d+|H+|h+|m+|s+|a|Z|w+))(.*)/,Va=/^\-?\d+$/;ei.$inject=["$locale"];var Wa=f(xi),za=f(wi);ai.$inject=["$parse"];var Ya=f({restrict:"E",compile:function(e,t){if(!t.href&&!t.xlinkHref&&!t.name)return function(e,t){var i="[object SVGAnimatedString]"===Ti.call(t.prop("href"))?"xlink:href":"href";t.on("click",function(e){t.attr(i)||e.preventDefault()})}}}),Ha={};o(Zi,function(e,t){if("multiple"!=e){var i=Oe("ng-"+t);Ha[i]=function(){return{restrict:"A",priority:100,link:function(e,a,n){e.$watch(n[i],function(e){n.$set(t,!!e)})}}}}}),o(ta,function(e,t){Ha[t]=function(){return{priority:100,link:function(e,i,a){if("ngPattern"===t&&"/"==a.ngPattern.charAt(0)&&(i=a.ngPattern.match(yi)))return void a.$set("ngPattern",new RegExp(i[1],i[2]));e.$watch(a[t],function(e){a.$set(t,e)})}}}}),o(["src","srcset","href"],function(e){var t=Oe("ng-"+e);Ha[t]=function(){return{priority:99,link:function(i,a,n){var o=e,s=e;"href"===e&&"[object SVGAnimatedString]"===Ti.call(a.prop("href"))&&(s="xlinkHref",n.$attr[s]="xlink:href",o=null),n.$observe(t,function(t){t?(n.$set(s,t),mi&&o&&a.prop(o,n[s])):"href"===e&&n.$set(s,null)})}}}});var Ua={$addControl:d,$$renameControl:function(e,t){e.$name=t},$removeControl:d,$setValidity:d,$setDirty:d,$setPristine:d,$setSubmitted:d};oi.$inject=["$element","$attrs","$scope","$animate","$interpolate"];var ja=function(e){return["$timeout",function(t){return{name:"form",restrict:e?"EAC":"E",controller:oi,compile:function(e){return e.addClass(Mn).addClass(Dn),{pre:function(e,a,n,o){if(!("action"in n)){var s=function(t){e.$apply(function(){o.$commitViewValue(),o.$setSubmitted()}),t.preventDefault()};a[0].addEventListener("submit",s,!1),a.on("$destroy",function(){t(function(){a[0].removeEventListener("submit",s,!1)},0,!1)})}var r=o.$$parentForm,l=o.$name;l&&(bt(e,null,l,o,l),n.$observe(n.name?"name":"ngForm",function(t){l!==t&&(bt(e,null,l,i,l),l=t,bt(e,null,l,o,l),r.$$renameControl(o,l))})),a.on("$destroy",function(){r.$removeControl(o),l&&bt(e,null,l,i,l),h(o,Ua)})}}}}}]},Ga=ja(),Xa=ja(!0),qa=/\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z)/,Qa=/^(ftp|http|https):\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?$/,Ka=/^[a-z0-9!#$%&'*+\/=?^_`{|}~.-]+@[a-z0-9]([a-z0-9-]*[a-z0-9])?(\.[a-z0-9]([a-z0-9-]*[a-z0-9])?)*$/i,Ja=/^\s*(\-|\+)?(\d+|(\d*(\.\d*)))\s*$/,Za=/^(\d{4})-(\d{2})-(\d{2})$/,en=/^(\d{4})-(\d\d)-(\d\d)T(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,tn=/^(\d{4})-W(\d\d)$/,an=/^(\d{4})-(\d\d)$/,nn=/^(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,on={text:function(e,t,i,a,n,o){ri(e,t,i,a,n,o),si(a)},date:ci("date",Za,li(Za,["yyyy","MM","dd"]),"yyyy-MM-dd"),"datetime-local":ci("datetimelocal",en,li(en,"yyyy MM dd HH mm ss sss".split(" ")),"yyyy-MM-ddTHH:mm:ss.sss"),time:ci("time",nn,li(nn,["HH","mm","ss","sss"]),"HH:mm:ss.sss"),week:ci("week",tn,function(e,t){if(x(e))return e;if(b(e)){tn.lastIndex=0;var i=tn.exec(e);if(i){var a=+i[1],n=+i[2],o=i=0,s=0,r=0,l=Jt(a),n=7*(n-1);return t&&(i=t.getHours(),o=t.getMinutes(),s=t.getSeconds(),r=t.getMilliseconds()),new Date(a,0,l.getDate()+n,i,o,s,r)}}return NaN},"yyyy-Www"),month:ci("month",an,li(an,["yyyy","MM"]),"yyyy-MM"),number:function(e,t,a,n,o,s){if(hi(e,t,a,n),ri(e,t,a,n,o,s),n.$$parserName="number",n.$parsers.push(function(e){return n.$isEmpty(e)?null:Ja.test(e)?parseFloat(e):i}),n.$formatters.push(function(e){if(!n.$isEmpty(e)){if(!y(e))throw _n("numfmt",e);e=e.toString()}return e}),a.min||a.ngMin){var r;n.$validators.min=function(e){return n.$isEmpty(e)||m(r)||e>=r},a.$observe("min",function(e){g(e)&&!y(e)&&(e=parseFloat(e,10)),r=y(e)&&!isNaN(e)?e:i,n.$validate()})}if(a.max||a.ngMax){var l;n.$validators.max=function(e){return n.$isEmpty(e)||m(l)||e<=l},a.$observe("max",function(e){g(e)&&!y(e)&&(e=parseFloat(e,10)),l=y(e)&&!isNaN(e)?e:i,n.$validate()})}},url:function(e,t,i,a,n,o){ri(e,t,i,a,n,o),si(a),a.$$parserName="url",a.$validators.url=function(e,t){var i=e||t;return a.$isEmpty(i)||Qa.test(i)}},email:function(e,t,i,a,n,o){ri(e,t,i,a,n,o),si(a),a.$$parserName="email",a.$validators.email=function(e,t){var i=e||t;return a.$isEmpty(i)||Ka.test(i)}},radio:function(e,t,i,a){m(i.name)&&t.attr("name",++$i),t.on("click",function(e){t[0].checked&&a.$setViewValue(i.value,e&&e.type)}),a.$render=function(){t[0].checked=i.value==a.$viewValue},i.$observe("value",a.$render)},checkbox:function(e,t,i,a,n,o,s,r){var l=ui(r,e,"ngTrueValue",i.ngTrueValue,!0),c=ui(r,e,"ngFalseValue",i.ngFalseValue,!1);t.on("click",function(e){a.$setViewValue(t[0].checked,e&&e.type)}),a.$render=function(){t[0].checked=a.$viewValue},a.$isEmpty=function(e){return!1===e},a.$formatters.push(function(e){return I(e,l)}),a.$parsers.push(function(e){return e?l:c})},hidden:d,button:d,submit:d,reset:d,file:d},sn=["$browser","$sniffer","$filter","$parse",function(e,t,i,a){return{restrict:"E",require:["?ngModel"],link:{pre:function(n,o,s,r){r[0]&&(on[xi(s.type)]||on.text)(n,o,s,r[0],t,e,i,a)}}}}],rn=/^(true|false|\d+)$/,ln=function(){return{restrict:"A",priority:100,compile:function(e,t){return rn.test(t.ngValue)?function(e,t,i){i.$set("value",e.$eval(i.ngValue))}:function(e,t,i){e.$watch(i.ngValue,function(e){i.$set("value",e)})}}}},cn=["$compile",function(e){return{restrict:"AC",compile:function(t){return e.$$addBindingClass(t),function(t,a,n){e.$$addBindingInfo(a,n.ngBind),a=a[0],t.$watch(n.ngBind,function(e){a.textContent=e===i?"":e})}}}}],hn=["$interpolate","$compile",function(e,t){return{compile:function(a){return t.$$addBindingClass(a),function(a,n,o){a=e(n.attr(o.$attr.ngBindTemplate)),t.$$addBindingInfo(n,a.expressions),n=n[0],o.$observe("ngBindTemplate",function(e){n.textContent=e===i?"":e})}}}}],un=["$sce","$parse","$compile",function(e,t,i){return{restrict:"A",compile:function(a,n){var o=t(n.ngBindHtml),s=t(n.ngBindHtml,function(e){return(e||"").toString()});return i.$$addBindingClass(a),function(t,a,n){i.$$addBindingInfo(a,n.ngBindHtml),t.$watch(s,function(){a.html(e.getTrustedHtml(o(t))||"")})}}}}],dn=f({restrict:"A",require:"ngModel",link:function(e,t,i,a){a.$viewChangeListeners.push(function(){e.$eval(i.ngChange)})}}),pn=di("",!0),fn=di("Odd",0),mn=di("Even",1),gn=ni({compile:function(e,t){t.$set("ngCloak",i),e.removeClass("ng-cloak")}}),vn=[function(){return{restrict:"A",scope:!0,controller:"@",priority:500}}],bn={},yn={blur:!0,focus:!0};o("click dblclick mousedown mouseup mouseover mouseout mousemove mouseenter mouseleave keydown keyup keypress submit focus blur copy cut paste".split(" "),function(e){var t=Oe("ng-"+e);bn[t]=["$parse","$rootScope",function(i,a){return{restrict:"A",compile:function(n,o){var s=i(o[t],null,!0);return function(t,i){i.on(e,function(i){var n=function(){s(t,{$event:i})};yn[e]&&a.$$phase?t.$evalAsync(n):t.$apply(n)})}}}}]});var xn=["$animate",function(e){return{multiElement:!0,transclude:"element",priority:600,terminal:!0,restrict:"A",$$tlb:!0,link:function(i,a,n,o,s){var r,l,c;i.$watch(n.ngIf,function(i){i?l||s(function(i,o){l=o,i[i.length++]=t.createComment(" end ngIf: "+n.ngIf+" "),r={clone:i},e.enter(i,a.parent(),a)}):(c&&(c.remove(),c=null),l&&(l.$destroy(),l=null),r&&(c=ee(r.clone),e.leave(c).then(function(){c=null}),r=null))})}}}],Cn=["$templateRequest","$anchorScroll","$animate","$sce",function(e,t,i,a){return{restrict:"ECA",priority:400,terminal:!0,transclude:"element",controller:Pi.noop,compile:function(n,o){var s=o.ngInclude||o.src,r=o.onload||"",l=o.autoscroll;return function(n,o,c,h,u){var d,p,f,m=0,v=function(){p&&(p.remove(),p=null),d&&(d.$destroy(),d=null),f&&(i.leave(f).then(function(){p=null}),p=f,f=null)};n.$watch(a.parseAsResourceUrl(s),function(a){var s=function(){!g(l)||l&&!n.$eval(l)||t()},c=++m;a?(e(a,!0).then(function(e){if(c===m){var t=n.$new();h.template=e,e=u(t,function(e){v(),i.enter(e,null,o).then(s)}),d=t,f=e,d.$emit("$includeContentLoaded",a),n.$eval(r)}},function(){c===m&&(v(),n.$emit("$includeContentError",a))}),n.$emit("$includeContentRequested",a)):(v(),h.template=null)})}}}}],wn=["$compile",function(e){return{restrict:"ECA",priority:-400,require:"ngInclude",link:function(i,a,n,o){/SVG/.test(a[0].toString())?(a.empty(),e(oe(o.template,t).childNodes)(i,function(e){a.append(e)},{futureParentElement:a})):(a.html(o.template),e(a.contents())(i))}}}],kn=ni({priority:450,compile:function(){return{pre:function(e,t,i){e.$eval(i.ngInit)}}}}),Sn=function(){return{restrict:"A",priority:100,require:"ngModel",link:function(e,t,a,n){var s=t.attr(a.$attr.ngList)||", ",r="false"!==a.ngTrim,l=r?Ii(s):s;n.$parsers.push(function(e){if(!m(e)){var t=[];return e&&o(e.split(l),function(e){e&&t.push(r?Ii(e):e)}),t}}),n.$formatters.push(function(e){return Ai(e)?e.join(s):i}),n.$isEmpty=function(e){return!e||!e.length}}}},Dn="ng-valid",Tn="ng-invalid",Mn="ng-pristine",Pn="ng-dirty",$n="ng-pending",_n=new a("ngModel"),An=["$scope","$exceptionHandler","$attrs","$element","$parse","$animate","$timeout","$rootScope","$q","$interpolate",function(e,t,a,n,s,r,l,c,h,u){this.$modelValue=this.$viewValue=Number.NaN,this.$$rawModelValue=i,this.$validators={},this.$asyncValidators={},this.$parsers=[],this.$formatters=[],this.$viewChangeListeners=[],this.$untouched=!0,this.$touched=!1,this.$pristine=!0,this.$dirty=!1,this.$valid=!0,this.$invalid=!1,this.$error={},this.$$success={},this.$pending=i,this.$name=u(a.name||"",!1)(e);var p=s(a.ngModel),f=p.assign,v=p,b=f,x=null,w=this;this.$$setOptions=function(e){if((w.$options=e)&&e.getterSetter){var t=s(a.ngModel+"()"),i=s(a.ngModel+"($$$p)");v=function(e){var i=p(e);return C(i)&&(i=t(e)),i},b=function(e,t){C(p(e))?i(e,{$$$p:w.$modelValue}):f(e,w.$modelValue)}}else if(!p.assign)throw _n("nonassign",a.ngModel,O(n))},this.$render=d,this.$isEmpty=function(e){return m(e)||""===e||null===e||e!==e};var k=n.inheritedData("$formController")||Ua,S=0;pi({ctrl:this,$element:n,set:function(e,t){e[t]=!0},unset:function(e,t){delete e[t]},parentForm:k,$animate:r}),this.$setPristine=function(){w.$dirty=!1,w.$pristine=!0,r.removeClass(n,Pn),r.addClass(n,Mn)},this.$setDirty=function(){w.$dirty=!0,w.$pristine=!1,r.removeClass(n,Mn),r.addClass(n,Pn),k.$setDirty()},this.$setUntouched=function(){w.$touched=!1,w.$untouched=!0,r.setClass(n,"ng-untouched","ng-touched")},this.$setTouched=function(){w.$touched=!0,w.$untouched=!1,r.setClass(n,"ng-touched","ng-untouched")},this.$rollbackViewValue=function(){l.cancel(x),w.$viewValue=w.$$lastCommittedViewValue,w.$render()},this.$validate=function(){if(!y(w.$modelValue)||!isNaN(w.$modelValue)){var e=w.$$rawModelValue,t=w.$valid,a=w.$modelValue,n=w.$options&&w.$options.allowInvalid;w.$$runValidators(!w.$error[w.$$parserName||"parse"]&&i,e,w.$$lastCommittedViewValue,function(o){n||t===o||(w.$modelValue=o?e:i,w.$modelValue!==a&&w.$$writeModelToScope())})}},this.$$runValidators=function(e,t,a,n){function s(e,t){l===S&&w.$setValidity(e,t)}function r(e){l===S&&n(e)}S++;var l=S;!function(e){var t=w.$$parserName||"parse";if(e===i)s(t,null);else if(s(t,e),!e)return o(w.$validators,function(e,t){s(t,null)}),o(w.$asyncValidators,function(e,t){s(t,null)}),!1;return!0}(e)?r(!1):function(){var e=!0;return o(w.$validators,function(i,n){var o=i(t,a);e=e&&o,s(n,o)}),!!e||(o(w.$asyncValidators,function(e,t){s(t,null)}),!1)}()?function(){var e=[],n=!0;o(w.$asyncValidators,function(o,r){var l=o(t,a);if(!l||!C(l.then))throw _n("$asyncValidators",l);s(r,i),e.push(l.then(function(){s(r,!0)},function(e){n=!1,s(r,!1)}))}),e.length?h.all(e).then(function(){r(n)},d):r(!0)}():r(!1)},this.$commitViewValue=function(){var e=w.$viewValue;l.cancel(x),(w.$$lastCommittedViewValue!==e||""===e&&w.$$hasNativeValidators)&&(w.$$lastCommittedViewValue=e,w.$pristine&&this.$setDirty(),this.$$parseAndValidate())},this.$$parseAndValidate=function(){var t=w.$$lastCommittedViewValue,a=!m(t)||i;if(a)for(var n=0;n<w.$parsers.length;n++)if(t=w.$parsers[n](t),m(t)){a=!1;break}y(w.$modelValue)&&isNaN(w.$modelValue)&&(w.$modelValue=v(e));var o=w.$modelValue,s=w.$options&&w.$options.allowInvalid;w.$$rawModelValue=t,s&&(w.$modelValue=t,w.$modelValue!==o&&w.$$writeModelToScope()),w.$$runValidators(a,t,w.$$lastCommittedViewValue,function(e){s||(w.$modelValue=e?t:i,w.$modelValue!==o&&w.$$writeModelToScope())})},this.$$writeModelToScope=function(){b(e,w.$modelValue),o(w.$viewChangeListeners,function(e){try{e()}catch(e){t(e)}})},this.$setViewValue=function(e,t){w.$viewValue=e,w.$options&&!w.$options.updateOnDefault||w.$$debounceViewValueCommit(t)},this.$$debounceViewValueCommit=function(t){var i=0,a=w.$options;a&&g(a.debounce)&&(a=a.debounce,y(a)?i=a:y(a[t])?i=a[t]:y(a.default)&&(i=a.default)),l.cancel(x),i?x=l(function(){w.$commitViewValue()},i):c.$$phase?w.$commitViewValue():e.$apply(function(){w.$commitViewValue()})},e.$watch(function(){var t=v(e);if(t!==w.$modelValue){w.$modelValue=w.$$rawModelValue=t;for(var a=w.$formatters,n=a.length,o=t;n--;)o=a[n](o);w.$viewValue!==o&&(w.$viewValue=w.$$lastCommittedViewValue=o,w.$render(),w.$$runValidators(i,t,o,d))}return t})}],In=["$rootScope",function(e){return{restrict:"A",require:["ngModel","^?form","^?ngModelOptions"],controller:An,priority:1,compile:function(t){return t.addClass(Mn).addClass("ng-untouched").addClass(Dn),{pre:function(e,t,i,a){var n=a[0],o=a[1]||Ua;n.$$setOptions(a[2]&&a[2].$options),o.$addControl(n),i.$observe("name",function(e){n.$name!==e&&o.$$renameControl(n,e)}),e.$on("$destroy",function(){o.$removeControl(n)})},post:function(t,i,a,n){var o=n[0];o.$options&&o.$options.updateOn&&i.on(o.$options.updateOn,function(e){o.$$debounceViewValueCommit(e&&e.type)}),i.on("blur",function(i){o.$touched||(e.$$phase?t.$evalAsync(o.$setTouched):t.$apply(o.$setTouched))})}}}}}],Fn=/(\s+|^)default(\s+|$)/,En=function(){return{restrict:"A",controller:["$scope","$attrs",function(e,t){var a=this;this.$options=e.$eval(t.ngModelOptions),this.$options.updateOn!==i?(this.$options.updateOnDefault=!1,this.$options.updateOn=Ii(this.$options.updateOn.replace(Fn,function(){return a.$options.updateOnDefault=!0," "}))):this.$options.updateOnDefault=!0}]}},Ln=ni({terminal:!0,priority:1e3}),Bn=["$locale","$interpolate",function(e,t){var i=/{}/g,a=/^when(Minus)?(.+)$/;return{restrict:"EA",link:function(n,s,r){function l(e){s.text(e||"")}var c,h=r.count,u=r.$attr.when&&s.attr(r.$attr.when),d=r.offset||0,p=n.$eval(u)||{},f={},u=t.startSymbol(),m=t.endSymbol(),g=u+h+"-"+d+m,v=Pi.noop;o(r,function(e,t){var i=a.exec(t);i&&(i=(i[1]?"-":"")+xi(i[2]),p[i]=s.attr(r.$attr[t]))}),o(p,function(e,a){f[a]=t(e.replace(i,g))}),n.$watch(h,function(t){t=parseFloat(t);var i=isNaN(t);i||t in p||(t=e.pluralCat(t-d)),t===c||i&&isNaN(c)||(v(),v=n.$watch(f[t],l),c=t)})}}}],Rn=["$parse","$animate",function(e,s){var r=a("ngRepeat"),l=function(e,t,i,a,n,o,s){e[i]=a,n&&(e[n]=o),e.$index=t,e.$first=0===t,e.$last=t===s-1,e.$middle=!(e.$first||e.$last),e.$odd=!(e.$even=0==(1&t))};return{restrict:"A",multiElement:!0,transclude:"element",priority:1e3,terminal:!0,$$tlb:!0,compile:function(a,c){var h=c.ngRepeat,u=t.createComment(" end ngRepeat: "+h+" "),d=h.match(/^\s*([\s\S]+?)\s+in\s+([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+track\s+by\s+([\s\S]+?))?\s*$/);if(!d)throw r("iexp",h);var p=d[1],f=d[2],m=d[3],g=d[4],d=p.match(/^(?:(\s*[\$\w]+)|\(\s*([\$\w]+)\s*,\s*([\$\w]+)\s*\))$/);if(!d)throw r("iidexp",p);var v=d[3]||d[1],b=d[2];if(m&&(!/^[$a-zA-Z_][$a-zA-Z0-9_]*$/.test(m)||/^(null|undefined|this|\$index|\$first|\$middle|\$last|\$even|\$odd|\$parent|\$root|\$id)$/.test(m)))throw r("badident",m);var y,x,C,w,k={$id:Te};return g?y=e(g):(C=function(e,t){return Te(t)},w=function(e){return e}),function(e,t,a,c,d){y&&(x=function(t,i,a){return b&&(k[b]=t),k[v]=i,k.$index=a,y(e,k)});var p=te();e.$watchCollection(f,function(a){var c,f,g,y,k,S,D,T,M,P,$=t[0],_=te();if(m&&(e[m]=a),n(a))T=a,f=x||C;else{f=x||w,T=[];for(P in a)a.hasOwnProperty(P)&&"$"!=P.charAt(0)&&T.push(P);T.sort()}for(y=T.length,P=Array(y),c=0;c<y;c++)if(k=a===T?c:T[c],S=a[k],D=f(k,S,c),p[D])M=p[D],delete p[D],_[D]=M,P[c]=M;else{if(_[D])throw o(P,function(e){e&&e.scope&&(p[e.id]=e)}),r("dupes",h,D,S);P[c]={id:D,scope:i,clone:i},_[D]=!0}for(g in p){if(M=p[g],D=ee(M.clone),s.leave(D),D[0].parentNode)for(c=0,f=D.length;c<f;c++)D[c].$$NG_REMOVED=!0;M.scope.$destroy()}for(c=0;c<y;c++)if(k=a===T?c:T[c],S=a[k],M=P[c],M.scope){g=$;do{g=g.nextSibling}while(g&&g.$$NG_REMOVED);M.clone[0]!=g&&s.move(ee(M.clone),null,gi($)),$=M.clone[M.clone.length-1],l(M.scope,c,v,S,b,k,y)}else d(function(e,t){M.scope=t;var i=u.cloneNode(!1);e[e.length++]=i,s.enter(e,null,gi($)),$=i,M.clone=e,_[M.id]=M,l(M.scope,c,v,S,b,k,y)});p=_})}}}}],On=["$animate",function(e){return{restrict:"A",multiElement:!0,link:function(t,i,a){t.$watch(a.ngShow,function(t){e[t?"removeClass":"addClass"](i,"ng-hide",{tempClasses:"ng-hide-animate"})})}}}],Nn=["$animate",function(e){return{restrict:"A",multiElement:!0,link:function(t,i,a){t.$watch(a.ngHide,function(t){e[t?"addClass":"removeClass"](i,"ng-hide",{tempClasses:"ng-hide-animate"})})}}}],Vn=ni(function(e,t,i){e.$watchCollection(i.ngStyle,function(e,i){i&&e!==i&&o(i,function(e,i){t.css(i,"")}),e&&t.css(e)})}),Wn=["$animate",function(e){return{restrict:"EA",require:"ngSwitch",controller:["$scope",function(){this.cases={}}],link:function(i,a,n,s){var r=[],l=[],c=[],h=[],u=function(e,t){return function(){e.splice(t,1)}};i.$watch(n.ngSwitch||n.on,function(i){var a,n;for(a=0,n=c.length;a<n;++a)e.cancel(c[a]);for(a=c.length=0,n=h.length;a<n;++a){var d=ee(l[a].clone);h[a].$destroy(),(c[a]=e.leave(d)).then(u(c,a))}l.length=0,h.length=0,(r=s.cases["!"+i]||s.cases["?"])&&o(r,function(i){i.transclude(function(a,n){h.push(n);var o=i.element;a[a.length++]=t.createComment(" end ngSwitchWhen: "),l.push({clone:a}),e.enter(a,o.parent(),o)})})})}}}],zn=ni({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(e,t,i,a,n){a.cases["!"+i.ngSwitchWhen]=a.cases["!"+i.ngSwitchWhen]||[],a.cases["!"+i.ngSwitchWhen].push({transclude:n,element:t})}}),Yn=ni({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(e,t,i,a,n){a.cases["?"]=a.cases["?"]||[],a.cases["?"].push({transclude:n,element:t})}}),Hn=ni({restrict:"EAC",link:function(e,t,i,n,o){if(!o)throw a("ngTransclude")("orphan",O(t));o(function(e){t.empty(),t.append(e)})}}),Un=["$templateCache",function(e){return{restrict:"E",terminal:!0,compile:function(t,i){"text/ng-template"==i.type&&e.put(i.id,t[0].text)}}}],jn=a("ngOptions"),Gn=f({restrict:"A",terminal:!0}),Xn=["$compile","$parse",function(e,a){var n=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+group\s+by\s+([\s\S]+?))?\s+for\s+(?:([\$\w][\$\w]*)|(?:\(\s*([\$\w][\$\w]*)\s*,\s*([\$\w][\$\w]*)\s*\)))\s+in\s+([\s\S]+?)(?:\s+track\s+by\s+([\s\S]+?))?$/,s={$setViewValue:d};return{restrict:"E",require:["select","?ngModel"],controller:["$element","$scope","$attrs",function(e,t,i){var a,n=this,o={},r=s;n.databound=i.ngModel,n.init=function(e,t,i){r=e,a=i},n.addOption=function(t,i){J(t,'"option value"'),o[t]=!0,r.$viewValue==t&&(e.val(t),a.parent()&&a.remove()),i&&i[0].hasAttribute("selected")&&(i[0].selected=!0)},n.removeOption=function(e){this.hasOption(e)&&(delete o[e],r.$viewValue===e&&this.renderUnknownOption(e))},n.renderUnknownOption=function(t){t="? "+Te(t)+" ?",a.val(t),e.prepend(a),e.val(t),a.prop("selected",!0)},n.hasOption=function(e){return o.hasOwnProperty(e)},t.$on("$destroy",function(){n.renderUnknownOption=d})}],link:function(s,r,l,c){if(c[1]){var h=c[0];c=c[1];var u,d=l.multiple,p=l.ngOptions,f=!1,v=!1,b=gi(t.createElement("option")),y=gi(t.createElement("optgroup")),x=b.clone();l=0;for(var C=r.children(),w=C.length;l<w;l++)if(""===C[l].value){u=f=C.eq(l);break}h.init(c,f,x),d&&(c.$isEmpty=function(e){return!e||0===e.length}),p?function(t,s,r){function l(e,i,a){return F[k]=a,T&&(F[T]=i),e(t,F)}function c(e){var t;if(d)if(_&&Ai(e)){t=new Me([]);for(var i=0;i<e.length;i++)t.put(l(_,null,e[i]),!0)}else t=new Me(e);else _&&(e=l(_,null,e));return function(i,a){var n;return n=_||(D||P),d?g(t.remove(l(n,i,a))):e===l(n,i,a)}}function u(){v||(t.$$postDigest(x),v=!0)}function m(e,t,i){e[t]=e[t]||0,e[t]+=i?1:-1}function x(){v=!1;var e,i,a,n,u,p={"":[]},x=[""];a=r.$viewValue,n=$(t)||[];var C,k,S,D,P=T?Object.keys(n).sort():n,E={};u=c(a);var L,B,R=!1;for(A={},D=0;S=P.length,D<S;D++)C=D,T&&(C=P[D],"$"===C.charAt(0))||(k=n[C],e=l(M,C,k)||"",(i=p[e])||(i=p[e]=[],x.push(e)),e=u(C,k),R=R||e,k=l(w,C,k),k=g(k)?k:"",B=_?_(t,F):T?P[D]:D,_&&(A[B]=C),i.push({id:B,label:k,selected:e}));for(d||(f||null===a?p[""].unshift({id:"",label:"",selected:!R}):R||p[""].unshift({id:"?",label:"",selected:!0})),C=0,P=x.length;C<P;C++){for(e=x[C],i=p[e],I.length<=C?(a={element:y.clone().attr("label",e),label:i.label},n=[a],I.push(n),s.append(a.element)):(n=I[C],a=n[0],a.label!=e&&a.element.attr("label",a.label=e)),R=null,D=0,S=i.length;D<S;D++)e=i[D],(u=n[D+1])?(R=u.element,u.label!==e.label&&(m(E,u.label,!1),m(E,e.label,!0),R.text(u.label=e.label),R.prop("label",u.label)),u.id!==e.id&&R.val(u.id=e.id),R[0].selected!==e.selected&&(R.prop("selected",u.selected=e.selected),mi&&R.prop("selected",u.selected))):(""===e.id&&f?L=f:(L=b.clone()).val(e.id).prop("selected",e.selected).attr("selected",e.selected).prop("label",e.label).text(e.label),n.push(u={element:L,label:e.label,id:e.id,selected:e.selected}),m(E,e.label,!0),R?R.after(L):a.element.append(L),R=L);for(D++;n.length>D;)e=n.pop(),m(E,e.label,!1),e.element.remove()}for(;I.length>C;){for(i=I.pop(),D=1;D<i.length;++D)m(E,i[D].label,!1);i[0].element.remove()}o(E,function(e,t){0<e?h.addOption(t):0>e&&h.removeOption(t)})}var C;if(!(C=p.match(n)))throw jn("iexp",p,O(s));var w=a(C[2]||C[1]),k=C[4]||C[6],S=/ as /.test(C[0])&&C[1],D=S?a(S):null,T=C[5],M=a(C[3]||""),P=a(C[2]?C[1]:k),$=a(C[7]),_=C[8]?a(C[8]):null,A={},I=[[{element:s,label:""}]],F={};f&&(e(f)(t),f.removeClass("ng-scope"),f.remove()),s.empty(),s.on("change",function(){t.$apply(function(){var e,a=$(t)||[];if(d)e=[],o(s.val(),function(t){t=_?A[t]:t,e.push("?"===t?i:""===t?null:l(D||P,t,a[t]))});else{var n=_?A[s.val()]:s.val();e="?"===n?i:""===n?null:l(D||P,n,a[n])}r.$setViewValue(e),x()})}),r.$render=x,t.$watchCollection($,u),t.$watchCollection(function(){var e,i=$(t);if(i&&Ai(i)){e=Array(i.length);for(var a=0,n=i.length;a<n;a++)e[a]=l(w,a,i[a])}else if(i)for(a in e={},i)i.hasOwnProperty(a)&&(e[a]=l(w,a,i[a]));return e},u),d&&t.$watchCollection(function(){return r.$modelValue},u)}(s,r,c):d?function(e,t,i){var a;i.$render=function(){var e=new Me(i.$viewValue);o(t.find("option"),function(t){t.selected=g(e.get(t.value))})},e.$watch(function(){I(a,i.$viewValue)||(a=A(i.$viewValue),i.$render())}),t.on("change",function(){e.$apply(function(){var e=[];o(t.find("option"),function(t){t.selected&&e.push(t.value)}),i.$setViewValue(e)})})}(s,r,c):function(e,t,i,a){i.$render=function(){var e=i.$viewValue;a.hasOption(e)?(x.parent()&&x.remove(),t.val(e),""===e&&u.prop("selected",!0)):m(e)&&u?t.val(""):a.renderUnknownOption(e)},t.on("change",function(){e.$apply(function(){x.parent()&&x.remove(),i.$setViewValue(t.val())})})}(s,r,c,h)}}}}],qn=["$interpolate",function(e){var t={addOption:d,removeOption:d};return{restrict:"E",priority:100,compile:function(i,a){if(m(a.value)){var n=e(i.text(),!0);n||a.$set("value",i.text())}return function(e,i,a){var o=i.parent(),s=o.data("$selectController")||o.parent().data("$selectController");s&&s.databound||(s=t),n?e.$watch(n,function(e,t){a.$set("value",e),t!==e&&s.removeOption(t),s.addOption(e,i)}):s.addOption(a.value,i),i.on("$destroy",function(){s.removeOption(a.value)})}}}}],Qn=f({restrict:"E",terminal:!1}),Kn=function(){return{restrict:"A",require:"?ngModel",link:function(e,t,i,a){a&&(i.required=!0,a.$validators.required=function(e,t){return!i.required||!a.$isEmpty(t)},i.$observe("required",function(){a.$validate()}))}}},Jn=function(){return{restrict:"A",require:"?ngModel",link:function(e,t,n,o){if(o){var s,r=n.ngPattern||n.pattern;n.$observe("pattern",function(e){if(b(e)&&0<e.length&&(e=new RegExp("^"+e+"$")),e&&!e.test)throw a("ngPattern")("noregexp",r,e,O(t));s=e||i,o.$validate()}),o.$validators.pattern=function(e){return o.$isEmpty(e)||m(s)||s.test(e)}}}}},Zn=function(){return{restrict:"A",require:"?ngModel",link:function(e,t,i,a){if(a){var n=-1;i.$observe("maxlength",function(e){e=u(e),n=isNaN(e)?-1:e,a.$validate()}),a.$validators.maxlength=function(e,t){return 0>n||a.$isEmpty(e)||t.length<=n}}}}},eo=function(){return{restrict:"A",require:"?ngModel",link:function(e,t,i,a){if(a){var n=0;i.$observe("minlength",function(e){n=u(e)||0,a.$validate()}),a.$validators.minlength=function(e,t){return a.$isEmpty(t)||t.length>=n}}}}};e.angular.bootstrap?void 0:(function(){var t;Ri||((vi=e.jQuery)&&vi.fn.on?(gi=vi,h(vi.fn,{scope:Ji.scope,isolateScope:Ji.isolateScope,controller:Ji.controller,injector:Ji.injector,inheritedData:Ji.inheritedData}),t=vi.cleanData,vi.cleanData=function(e){var i;if(_i)_i=!1;else for(var a,n=0;null!=(a=e[n]);n++)(i=vi._data(a,"events"))&&i.$destroy&&vi(a).triggerHandler("$destroy");t(e)}):gi=se,Pi.element=gi,Ri=!0)}(),function(t){h(t,{bootstrap:j,copy:_,extend:h,equals:I,element:gi,forEach:o,injector:_e,noop:d,bind:E,toJson:B,fromJson:R,identity:p,isUndefined:m,isDefined:g,isString:b,isFunction:C,isObject:v,isNumber:y,isElement:T,isArray:Ai,version:Vi,isDate:x,lowercase:xi,uppercase:wi,callbacks:{counter:0},getTestability:X,$$minErr:a,$$csp:Ei,reloadWithDebugInfo:G}),bi=ie(e);try{bi("ngLocale")}catch(e){bi("ngLocale",[]).provider("$locale",et)}bi("ng",["ngLocale"],["$provide",function(e){e.provider({$$sanitizeUri:_t}),e.provider("$compile",Re).directive({a:Ya,input:sn,textarea:sn,form:Ga,script:Un,select:Xn,style:Qn,option:qn,ngBind:cn,ngBindHtml:un,ngBindTemplate:hn,ngClass:pn,ngClassEven:mn,ngClassOdd:fn,ngCloak:gn,ngController:vn,ngForm:Xa,ngHide:Nn,ngIf:xn,ngInclude:Cn,ngInit:kn,ngNonBindable:Ln,ngPluralize:Bn,ngRepeat:Rn,ngShow:On,ngStyle:Vn,ngSwitch:Wn,ngSwitchWhen:zn,ngSwitchDefault:Yn,ngOptions:Gn,ngTransclude:Hn,ngModel:In,ngList:Sn,ngChange:dn,pattern:Jn,ngPattern:Jn,required:Kn,ngRequired:Kn,minlength:eo,ngMinlength:eo,maxlength:Zn,ngMaxlength:Zn,ngValue:ln,ngModelOptions:En}).directive({ngInclude:wn}).directive(Ha).directive(bn),e.provider({$anchorScroll:Ae,$animate:la,$browser:Ee,$cacheFactory:Le,$controller:We,$document:ze,$exceptionHandler:Ye,$filter:zt,$interpolate:Je,$interval:Ze,$http:Xe,$httpBackend:Qe,$location:pt,$log:ft,$parse:St,$rootScope:$t,$q:Dt,$$q:Tt,$sce:Et,$sceDelegate:Ft,$sniffer:Lt,$templateCache:Be,$templateRequest:Bt,$$testability:Rt,$timeout:Ot,$window:Wt,$$rAF:Pt,$$asyncCallback:Ie,$$jqLite:De})}])}(Pi),gi(t).ready(function(){U(t,j)}))}(window,document),!window.angular.$$csp()&&window.angular.element(document).find("head").prepend('<style type="text/css">@charset "UTF-8";[ng\\:cloak],[ng-cloak],[data-ng-cloak],[x-ng-cloak],.ng-cloak,.x-ng-cloak,.ng-hide:not(.ng-hide-animate){display:none !important;}ng\\:form{display:block;}</style>'),function(e,t,i){"use strict";function a(e){var i=[];return l(i,t.noop).chars(e),i.join("")}function n(e){var t={};e=e.split(",");var i;for(i=0;i<e.length;i++)t[e[i]]=!0;return t}function o(e,i){function a(e,a,o,r){if(a=t.lowercase(a),w[a])for(;b.last()&&k[b.last()];)n("",b.last());C[a]&&b.last()==a&&n("",a),(r=x[a]||!!r)||b.push(a);var l={};o.replace(d,function(e,t,i,a,n){l[t]=s(i||a||n||"")}),i.start&&i.start(a,l,r)}function n(e,a){var n,o=0;if(a=t.lowercase(a))for(o=b.length-1;0<=o&&b[o]!=a;o--);if(0<=o){for(n=b.length-1;n>=o;n--)i.end&&i.end(b[n]);b.length=o}}"string"!=typeof e&&(e=null===e||void 0===e?"":""+e);var o,r,l,b=[],y=e;for(b.last=function(){return b[b.length-1]};e;){if(l="",r=!0,b.last()&&S[b.last()]?(e=e.replace(new RegExp("(.*)<\\s*\\/\\s*"+b.last()+"[^>]*>","i"),function(e,t){return t=t.replace(m,"$1").replace(v,"$1"),i.chars&&i.chars(s(t)),""}),n("",b.last())):(0===e.indexOf("\x3c!--")?0<=(o=e.indexOf("--",4))&&e.lastIndexOf("--\x3e",o)===o&&(i.comment&&i.comment(e.substring(4,o)),e=e.substring(o+3),r=!1):g.test(e)?(o=e.match(g))&&(e=e.replace(o[0],""),r=!1):f.test(e)?(o=e.match(u))&&(e=e.substring(o[0].length),o[0].replace(u,n),r=!1):p.test(e)&&((o=e.match(h))?(o[4]&&(e=e.substring(o[0].length),o[0].replace(h,a)),r=!1):(l+="<",e=e.substring(1))),r&&(o=e.indexOf("<"),l+=0>o?e:e.substring(0,o),e=0>o?"":e.substring(o),i.chars&&i.chars(s(l)))),e==y)throw c("badparse",e);y=e}n()}function s(e){if(!e)return"";var t=$.exec(e);e=t[1];var i=t[3];return(t=t[2])&&(P.innerHTML=t.replace(/</g,"&lt;"),t="textContent"in P?P.textContent:P.innerText),e+t+i}function r(e){return e.replace(/&/g,"&amp;").replace(b,function(e){var t=e.charCodeAt(0);return e=e.charCodeAt(1),"&#"+(1024*(t-55296)+(e-56320)+65536)+";"}).replace(y,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}function l(e,i){var a=!1,n=t.bind(e,e.push);return{start:function(e,o,s){e=t.lowercase(e),!a&&S[e]&&(a=e),a||!0!==D[e]||(n("<"),n(e),t.forEach(o,function(a,o){var s=t.lowercase(o),l="img"===e&&"src"===s||"background"===s;!0!==M[s]||!0===T[s]&&!i(a,l)||(n(" "),n(o),n('="'),n(r(a)),n('"'))}),n(s?"/>":">"))},end:function(e){e=t.lowercase(e),a||!0!==D[e]||(n("</"),n(e),n(">")),e==a&&(a=!1)},chars:function(e){a||n(r(e))}}}var c=t.$$minErr("$sanitize"),h=/^<((?:[a-zA-Z])[\w:-]*)((?:\s+[\w:-]+(?:\s*=\s*(?:(?:"[^"]*")|(?:'[^']*')|[^>\s]+))?)*)\s*(\/?)\s*(>?)/,u=/^<\/\s*([\w:-]+)[^>]*>/,d=/([\w:-]+)(?:\s*=\s*(?:(?:"((?:[^"])*)")|(?:'((?:[^'])*)')|([^>\s]+)))?/g,p=/^</,f=/^<\//,m=/\x3c!--(.*?)--\x3e/g,g=/<!DOCTYPE([^>]*?)>/i,v=/<!\[CDATA\[(.*?)]]\x3e/g,b=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,y=/([^\#-~| |!])/g,x=n("area,br,col,hr,img,wbr");e=n("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),i=n("rp,rt")
;var C=t.extend({},i,e),w=t.extend({},e,n("address,article,aside,blockquote,caption,center,del,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,map,menu,nav,ol,pre,script,section,table,ul")),k=t.extend({},i,n("a,abbr,acronym,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,q,ruby,rp,rt,s,samp,small,span,strike,strong,sub,sup,time,tt,u,var"));e=n("animate,animateColor,animateMotion,animateTransform,circle,defs,desc,ellipse,font-face,font-face-name,font-face-src,g,glyph,hkern,image,linearGradient,line,marker,metadata,missing-glyph,mpath,path,polygon,polyline,radialGradient,rect,set,stop,svg,switch,text,title,tspan,use");var S=n("script,style"),D=t.extend({},x,w,k,C,e),T=n("background,cite,href,longdesc,src,usemap,xlink:href");e=n("abbr,align,alt,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,coords,dir,face,headers,height,hreflang,hspace,ismap,lang,language,nohref,nowrap,rel,rev,rows,rowspan,rules,scope,scrolling,shape,size,span,start,summary,target,title,type,valign,value,vspace,width"),i=n("accent-height,accumulate,additive,alphabetic,arabic-form,ascent,attributeName,attributeType,baseProfile,bbox,begin,by,calcMode,cap-height,class,color,color-rendering,content,cx,cy,d,dx,dy,descent,display,dur,end,fill,fill-rule,font-family,font-size,font-stretch,font-style,font-variant,font-weight,from,fx,fy,g1,g2,glyph-name,gradientUnits,hanging,height,horiz-adv-x,horiz-origin-x,ideographic,k,keyPoints,keySplines,keyTimes,lang,marker-end,marker-mid,marker-start,markerHeight,markerUnits,markerWidth,mathematical,max,min,offset,opacity,orient,origin,overline-position,overline-thickness,panose-1,path,pathLength,points,preserveAspectRatio,r,refX,refY,repeatCount,repeatDur,requiredExtensions,requiredFeatures,restart,rotate,rx,ry,slope,stemh,stemv,stop-color,stop-opacity,strikethrough-position,strikethrough-thickness,stroke,stroke-dasharray,stroke-dashoffset,stroke-linecap,stroke-linejoin,stroke-miterlimit,stroke-opacity,stroke-width,systemLanguage,target,text-anchor,to,transform,type,u1,u2,underline-position,underline-thickness,unicode,unicode-range,units-per-em,values,version,viewBox,visibility,width,widths,x,x-height,x1,x2,xlink:actuate,xlink:arcrole,xlink:role,xlink:show,xlink:title,xlink:type,xml:base,xml:lang,xml:space,xmlns,xmlns:xlink,y,y1,y2,zoomAndPan");var M=t.extend({},T,i,e),P=document.createElement("pre"),$=/^(\s*)([\s\S]*?)(\s*)$/;t.module("ngSanitize",[]).provider("$sanitize",function(){this.$get=["$$sanitizeUri",function(e){return function(t){var i=[];return o(t,l(i,function(t,i){return!/^unsafe/.test(e(t,i))})),i.join("")}}]}),t.module("ngSanitize").filter("linky",["$sanitize",function(e){var i=/((ftp|https?):\/\/|(www\.)|(mailto:)?[A-Za-z0-9._%+-]+@)\S*[^\s.;,(){}<>"\u201d\u2019]/,n=/^mailto:/;return function(o,s){function r(e){e&&d.push(a(e))}if(!o)return o;for(var l,c,h,u=o,d=[];l=u.match(i);)c=l[0],l[2]||l[4]||(c=(l[3]?"http://":"mailto:")+c),h=l.index,r(u.substr(0,h)),function(e,i){d.push("<a "),t.isDefined(s)&&d.push('target="',s,'" '),d.push('href="',e.replace(/"/g,"&quot;"),'">'),r(i),d.push("</a>")}(c,l[0].replace(n,"")),u=u.substring(h+l[0].length);return r(u),e(d.join(""))}}])}(window,window.angular),function(e,t,i){"use strict";function a(e,i,a){n.directive(e,["$parse","$swipe",function(n,o){return function(s,r,l){function c(e){if(!h)return!1;var t=Math.abs(e.y-h.y);return e=(e.x-h.x)*i,u&&75>t&&0<e&&30<e&&.3>t/e}var h,u,d=n(l[e]),p=["touch"];t.isDefined(l.ngSwipeDisableMouse)||p.push("mouse"),o.bind(r,{start:function(e,t){h=e,u=!0},cancel:function(e){u=!1},end:function(e,t){c(e)&&s.$apply(function(){r.triggerHandler(a),d(s,{$event:t})})}},p)}}])}var n=t.module("ngTouch",[]);n.factory("$swipe",[function(){function e(e){var t=e.touches&&e.touches.length?e.touches:[e];return e=e.changedTouches&&e.changedTouches[0]||e.originalEvent&&e.originalEvent.changedTouches&&e.originalEvent.changedTouches[0]||t[0].originalEvent||t[0],{x:e.clientX,y:e.clientY}}function i(e,i){var n=[];return t.forEach(e,function(e){(e=a[e][i])&&n.push(e)}),n.join(" ")}var a={mouse:{start:"mousedown",move:"mousemove",end:"mouseup"},touch:{start:"touchstart",move:"touchmove",end:"touchend",cancel:"touchcancel"}};return{bind:function(t,a,n){var o,s,r,l,c=!1;n=n||["mouse","touch"],t.on(i(n,"start"),function(t){r=e(t),c=!0,s=o=0,l=r,a.start&&a.start(r,t)});var h=i(n,"cancel");h&&t.on(h,function(e){c=!1,a.cancel&&a.cancel(e)}),t.on(i(n,"move"),function(t){if(c&&r){var i=e(t);o+=Math.abs(i.x-l.x),s+=Math.abs(i.y-l.y),l=i,10>o&&10>s||(s>o?(c=!1,a.cancel&&a.cancel(t)):(t.preventDefault(),a.move&&a.move(i,t)))}}),t.on(i(n,"end"),function(t){c&&(c=!1,a.end&&a.end(e(t),t))})}}}]),n.config(["$provide",function(e){e.decorator("ngClickDirective",["$delegate",function(e){return e.shift(),e}])}]),n.directive("ngClick",["$parse","$timeout","$rootElement",function(e,i,a){function n(e,t,i){for(var a=0;a<e.length;a+=2){var n=e[a+1],o=i;if(25>Math.abs(e[a]-t)&&25>Math.abs(n-o))return e.splice(a,a+2),!0}return!1}function o(e){if(!(2500<Date.now()-r)){var t=e.touches&&e.touches.length?e.touches:[e],i=t[0].clientX,t=t[0].clientY;1>i&&1>t||c&&c[0]===i&&c[1]===t||(c&&(c=null),"label"===e.target.tagName.toLowerCase()&&(c=[i,t]),n(l,i,t)||(e.stopPropagation(),e.preventDefault(),e.target&&e.target.blur()))}}function s(e){e=e.touches&&e.touches.length?e.touches:[e];var t=e[0].clientX,a=e[0].clientY;l.push(t,a),i(function(){for(var e=0;e<l.length;e+=2)if(l[e]==t&&l[e+1]==a){l.splice(e,e+2);break}},2500,!1)}var r,l,c;return function(i,c,h){function u(){v=!1,c.removeClass("ng-click-active")}var d,p,f,m,g=e(h.ngClick),v=!1;c.on("touchstart",function(e){v=!0,d=e.target?e.target:e.srcElement,3==d.nodeType&&(d=d.parentNode),c.addClass("ng-click-active"),p=Date.now(),e=e.touches&&e.touches.length?e.touches:[e],e=e[0].originalEvent||e[0],f=e.clientX,m=e.clientY}),c.on("touchmove",function(e){u()}),c.on("touchcancel",function(e){u()}),c.on("touchend",function(e){var i=Date.now()-p,g=e.changedTouches&&e.changedTouches.length?e.changedTouches:e.touches&&e.touches.length?e.touches:[e],b=g[0].originalEvent||g[0],g=b.clientX,b=b.clientY,y=Math.sqrt(Math.pow(g-f,2)+Math.pow(b-m,2));v&&750>i&&12>y&&(l||(a[0].addEventListener("click",o,!0),a[0].addEventListener("touchstart",s,!0),l=[]),r=Date.now(),n(l,g,b),d&&d.blur(),t.isDefined(h.disabled)&&!1!==h.disabled||c.triggerHandler("click",[e])),u()}),c.onclick=function(e){},c.on("click",function(e,t){i.$apply(function(){g(i,{$event:t||e})})}),c.on("mousedown",function(e){c.addClass("ng-click-active")}),c.on("mousemove mouseup",function(e){c.removeClass("ng-click-active")})}}]),a("ngSwipeLeft",-1,"swipeleft"),a("ngSwipeRight",1,"swiperight")}(window,window.angular),function(e,t,i){"use strict";function a(e,t,i){if(!e)throw ngMinErr("areq",t||"?",i||"required");return e}function n(e,t){return e||t?e?t?(L(e)&&(e=e.join(" ")),L(t)&&(t=t.join(" ")),e+" "+t):e:t:""}function o(e){var t={};return e&&(e.to||e.from)&&(t.to=e.to,t.from=e.from),t}function s(e,t,i){var a="";return e=L(e)?e:e&&B(e)&&e.length?e.split(/\s+/):[],E(e,function(e,n){e&&0<e.length&&(a+=0<n?" ":"",a+=i?t+e:e+t)}),a}function r(e){if(e instanceof F)switch(e.length){case 0:return[];case 1:if(1===e[0].nodeType)return e;break;default:return F(l(e))}if(1===e.nodeType)return F(e)}function l(e){if(!e[0])return e;for(var t=0;t<e.length;t++){var i=e[t];if(1==i.nodeType)return i}}function c(e,t,i){E(t,function(t){e.addClass(t,i)})}function h(e,t,i){E(t,function(t){e.removeClass(t,i)})}function u(e){return function(t,i){i.addClass&&(c(e,t,i.addClass),i.addClass=null),i.removeClass&&(h(e,t,i.removeClass),i.removeClass=null)}}function d(e){if(e=e||{},!e.$$prepared){var t=e.domOperation||A;e.domOperation=function(){e.$$domOperationFired=!0,t(),t=A},e.$$prepared=!0}return e}function p(e,t){f(e,t),m(e,t)}function f(e,t){t.from&&(e.css(t.from),t.from=null)}function m(e,t){t.to&&(e.css(t.to),t.to=null)}function g(e,t,i){var a=(t.addClass||"")+" "+(i.addClass||""),n=(t.removeClass||"")+" "+(i.removeClass||"");return e=v(e.attr("class"),a,n),I(t,i),t.addClass=e.addClass?e.addClass:null,t.removeClass=e.removeClass?e.removeClass:null,t}function v(e,t,i){function a(e){B(e)&&(e=e.split(" "));var t={};return E(e,function(e){e.length&&(t[e]=!0)}),t}var n={};e=a(e),t=a(t),E(t,function(e,t){n[t]=1}),i=a(i),E(i,function(e,t){n[t]=1===n[t]?null:-1});var o={addClass:"",removeClass:""};return E(n,function(t,i){var a,n;1===t?(a="addClass",n=!e[i]):-1===t&&(a="removeClass",n=e[i]),n&&(o[a].length&&(o[a]+=" "),o[a]+=i)}),o}function b(e){return e instanceof t.element?e[0]:e}function y(e,t,i){var a=Object.create(null),n=e.getComputedStyle(t)||{};return E(i,function(e,t){var i=n[e];if(i){var o=i.charAt(0);("-"===o||"+"===o||0<=o)&&(i=x(i)),0===i&&(i=null),a[t]=i}}),a}function x(e){var t=0;return e=e.split(/\s*,\s*/),E(e,function(e){"s"==e.charAt(e.length-1)&&(e=e.substring(0,e.length-1)),e=parseFloat(e)||0,t=t?Math.max(e,t):e}),t}function C(e){return 0===e||null!=e}function w(e,t){var i=M,a=e+"s";return t?i+="Duration":a+=" linear all",[i,a]}function k(e,t){var i=t?"-"+t+"s":"";return D(e,[H,i]),[H,i]}function S(e,t){var i=t?"paused":"",a=$+"PlayState";return D(e,[a,i]),[a,i]}function D(e,t){e.style[t[0]]=t[1]}function T(){var e=Object.create(null);return{flush:function(){e=Object.create(null)},count:function(t){return(t=e[t])?t.total:0},get:function(t){return(t=e[t])&&t.value},put:function(t,i){e[t]?e[t].total++:e[t]={total:1,value:i}}}}var M,P,$,_,A=t.noop,I=t.extend,F=t.element,E=t.forEach,L=t.isArray,B=t.isString,R=t.isObject,O=t.isUndefined,N=t.isDefined,V=t.isFunction,W=t.isElement;e.ontransitionend===i&&e.onwebkittransitionend!==i?(M="WebkitTransition",P="webkitTransitionEnd transitionend"):(M="transition",P="transitionend"),e.onanimationend===i&&e.onwebkitanimationend!==i?($="WebkitAnimation",_="webkitAnimationEnd animationend"):($="animation",_="animationend");var z=$+"Delay",Y=$+"Duration",H=M+"Delay";e=M+"Duration";var U={transitionDuration:e,transitionDelay:H,transitionProperty:M+"Property",animationDuration:Y,animationDelay:z,animationIterationCount:$+"IterationCount"},j={transitionDuration:e,transitionDelay:H,animationDuration:Y,animationDelay:z};t.module("ngAnimate",[]).directive("ngAnimateChildren",[function(){return function(e,i,a){e=a.ngAnimateChildren,t.isString(e)&&0===e.length?i.data("$$ngAnimateChildren",!0):a.$observe("ngAnimateChildren",function(e){i.data("$$ngAnimateChildren","on"===e||"true"===e)})}}]).factory("$$rAFMutex",["$$rAF",function(e){return function(){var t=!1;return e(function(){t=!0}),function(i){t?i():e(i)}}}]).factory("$$rAFScheduler",["$$rAF",function(e){function t(e){n.push([].concat(e)),i()}function i(){if(n.length){for(var t=[],o=0;o<n.length;o++){var s=n[o];s.shift()(),s.length&&t.push(s)}n=t,a||e(function(){a||i()})}}var a,n=[];return t.waitUntilQuiet=function(t){a&&a(),a=e(function(){a=null,t(),i()})},t}]).factory("$$AnimateRunner",["$q","$$rAFMutex",function(e,t){function i(e){this.setHost(e),this._doneCallbacks=[],this._runInAnimationFrame=t(),this._state=0}return i.chain=function(e,t){function i(){a===e.length?t(!0):e[a](function(e){!1===e?t(!1):(a++,i())})}var a=0;i()},i.all=function(e,t){function i(i){n=n&&i,++a===e.length&&t(n)}var a=0,n=!0;E(e,function(e){e.done(i)})},i.prototype={setHost:function(e){this.host=e||{}},done:function(e){2===this._state?e():this._doneCallbacks.push(e)},progress:A,getPromise:function(){if(!this.promise){var t=this;this.promise=e(function(e,i){t.done(function(t){!1===t?i():e()})})}return this.promise},then:function(e,t){return this.getPromise().then(e,t)},catch:function(e){return this.getPromise().catch(e)},finally:function(e){return this.getPromise().finally(e)},pause:function(){this.host.pause&&this.host.pause()},resume:function(){this.host.resume&&this.host.resume()},end:function(){this.host.end&&this.host.end(),this._resolve(!0)},cancel:function(){this.host.cancel&&this.host.cancel(),this._resolve(!1)},complete:function(e){var t=this;0===t._state&&(t._state=1,t._runInAnimationFrame(function(){t._resolve(e)}))},_resolve:function(e){2!==this._state&&(E(this._doneCallbacks,function(t){t(e)}),this._doneCallbacks.length=0,this._state=2)}},i}]).provider("$$animateQueue",["$animateProvider",function(e){function t(e,t,i,a){return n[e].some(function(e){return e(t,i,a)})}function i(e,t){e=e||{};var i=0<(e.addClass||"").length,a=0<(e.removeClass||"").length;return t?i&&a:i||a}var n=this.rules={skip:[],cancel:[],join:[]};n.join.push(function(e,t,a){return!t.structural&&i(t.options)}),n.skip.push(function(e,t,a){return!t.structural&&!i(t.options)}),n.skip.push(function(e,t,i){return"leave"==i.event&&t.structural}),n.skip.push(function(e,t,i){return i.structural&&!t.structural}),n.cancel.push(function(e,t,i){return i.structural&&t.structural}),n.cancel.push(function(e,t,i){return 2===i.state&&t.structural}),n.cancel.push(function(e,t,i){return e=t.options,i=i.options,e.addClass&&e.addClass===i.removeClass||e.removeClass&&e.removeClass===i.addClass}),this.$get=["$$rAF","$rootScope","$rootElement","$document","$$HashMap","$$animation","$$AnimateRunner","$templateRequest","$$jqLite",function(n,o,s,c,h,f,m,v,y){function x(e,t){var i=b(e),a=[],n=z[t];return n&&E(n,function(e){e.node.contains(i)&&a.push(e.callback)}),a}function C(e,t,i,a){n(function(){E(x(t,e),function(e){e(t,i,a)})})}function w(e,a,n){function s(t,i,a,n){C(i,e,a,n),t.progress(i,a,n)}function l(t){U(e,n),p(e,n),n.domOperation(),u.complete(!t)}var c,h;(e=r(e))&&(c=b(e),h=e.parent()),n=d(n);var u=new m;if(!c)return l(),u;L(n.addClass)&&(n.addClass=n.addClass.join(" ")),L(n.removeClass)&&(n.removeClass=n.removeClass.join(" ")),n.from&&!R(n.from)&&(n.from=null),n.to&&!R(n.to)&&(n.to=null);var v=[c.className,n.addClass,n.removeClass].join(" ");if(!H(v))return l(),u;var y=0<=["enter","move","leave"].indexOf(a),x=!A||_.get(c),v=!x&&$.get(c)||{},w=!!v.state;if(x||w&&1==v.state||(x=!M(e,h,a)),x)return l(),u;if(y&&k(e),x={structural:y,element:e,event:a,close:l,options:n,runner:u},w){if(t("skip",e,x,v))return 2===v.state?(l(),u):(g(e,v.options,n),v.runner);if(t("cancel",e,x,v))2===v.state?v.runner.end():v.structural?v.close():g(e,x.options,v.options);else if(t("join",e,x,v)){if(2!==v.state)return a=x.event=v.event,n=g(e,v.options,x.options),u;g(e,n,{})}}else g(e,n,{});if((w=x.structural)||(w="animate"===x.event&&0<Object.keys(x.options.to||{}).length||i(x.options)),!w)return l(),S(e),u;y&&T(h);var D=(v.counter||0)+1;return x.counter=D,P(e,1,x),o.$$postDigest(function(){var t=$.get(c),o=!t,t=t||{},r=e.parent()||[],h=0<r.length&&("animate"===t.event||t.structural||i(t.options));o||t.counter!==D||!h?(o&&(U(e,n),p(e,n)),(o||y&&t.event!==a)&&(n.domOperation(),u.end()),h||S(e)):(a=!t.structural&&i(t.options,!0)?"setClass":t.event,t.structural&&T(r),P(e,2),t=f(e,a,t.options),t.done(function(t){l(!t),(t=$.get(c))&&t.counter===D&&S(b(e)),s(u,a,"close",{})}),u.setHost(t),s(u,a,"start",{}))}),u}function k(e){e=b(e).querySelectorAll("[data-ng-animate]"),E(e,function(e){var t=parseInt(e.getAttribute("data-ng-animate")),i=$.get(e);switch(t){case 2:i.runner.end();case 1:i&&$.remove(e)}})}function S(e){e=b(e),e.removeAttribute("data-ng-animate"),$.remove(e)}function D(e,t){return b(e)===b(t)}function T(e){for(e=b(e);;){if(!e||1!==e.nodeType)break;var t=$.get(e);if(t){var a=e;!t.structural&&i(t.options)&&(2===t.state&&t.runner.end(),S(a))}e=e.parentNode}}function M(e,t,i){var a,n=i=!1,o=!1;for((e=e.data("$ngAnimatePin"))&&(t=e);t&&t.length&&(n||(n=D(t,s)),e=t[0],1===e.nodeType);){var r=$.get(e)||{};if(o||(o=r.structural||_.get(e)),(O(a)||!0===a)&&(e=t.data("$$ngAnimateChildren"),N(e)&&(a=e)),o&&!1===a)break;n||(n=D(t,s))||(e=t.data("$ngAnimatePin"))&&(t=e),i||(i=D(t,V)),t=t.parent()}return(!o||a)&&n&&i}function P(e,t,i){i=i||{},i.state=t,e=b(e),e.setAttribute("data-ng-animate",t),i=(t=$.get(e))?I(t,i):i,$.put(e,i)}var $=new h,_=new h,A=null,B=o.$watch(function(){return 0===v.totalPendingRequests},function(e){e&&(B(),o.$$postDigest(function(){o.$$postDigest(function(){null===A&&(A=!0)})}))}),V=F(c[0].body),z={},Y=e.classNameFilter(),H=Y?function(e){return Y.test(e)}:function(){return!0},U=u(y);return{on:function(e,t,i){t=l(t),z[e]=z[e]||[],z[e].push({node:t,callback:i})},off:function(e,t,i){var a=z[e];a&&(z[e]=1===arguments.length?null:function(e,t,i){var a=l(t);return e.filter(function(e){return!(e.node===a&&(!i||e.callback===i))})}(a,t,i))},pin:function(e,t){a(W(e),"element","not an element"),a(W(t),"parentElement","not an element"),e.data("$ngAnimatePin",t)},push:function(e,t,i,a){return i=i||{},i.domOperation=a,w(e,t,i)},enabled:function(e,t){var i=arguments.length;if(0===i)t=!!A;else if(W(e)){var a=b(e),n=_.get(a);1===i?t=!n:(t=!!t)?n&&_.remove(a):_.put(a,!0)}else t=A=!!e;return t}}}]}]).provider("$$animation",["$animateProvider",function(e){function t(e){return e.data("$$animationRunner")}var i=this.drivers=[];this.$get=["$$jqLite","$rootScope","$injector","$$AnimateRunner","$$rAFScheduler",function(e,a,o,s,r){var l=[],c=u(e),h=0,f=0,m=[];return function(u,g,v){function y(e){e=e.hasAttribute("ng-animate-ref")?[e]:e.querySelectorAll("[ng-animate-ref]");var t=[];return E(e,function(e){var i=e.getAttribute("ng-animate-ref");i&&i.length&&t.push(e)}),t}function x(e){var t=[],i={};E(e,function(e,a){var n=b(e.element),o=0<=["enter","move"].indexOf(e.event),n=e.structural?y(n):[];if(n.length){var s=o?"to":"from";E(n,function(e){var t=e.getAttribute("ng-animate-ref");i[t]=i[t]||{},i[t][s]={animationID:a,element:F(e)}})}else t.push(e)});var a={},n={};return E(i,function(i,o){var s=i.from,r=i.to;if(s&&r){var l=e[s.animationID],c=e[r.animationID],h=s.animationID.toString();if(!n[h]){var u=n[h]={structural:!0,beforeStart:function(){l.beforeStart(),c.beforeStart()},close:function(){l.close(),c.close()},classes:C(l.classes,c.classes),from:l,to:c,anchors:[]};u.classes.length?t.push(u):(t.push(l),t.push(c))}n[h].anchors.push({out:s.element,in:r.element})}else s=s?s.animationID:r.animationID,r=s.toString(),a[r]||(a[r]=!0,t.push(e[s]))}),t}function C(e,t){e=e.split(" "),t=t.split(" ");for(var i=[],a=0;a<e.length;a++){var n=e[a];if("ng-"!==n.substring(0,3))for(var o=0;o<t.length;o++)if(n===t[o]){i.push(n);break}}return i.join(" ")}function w(e){for(var t=i.length-1;0<=t;t--){var a=i[t];if(o.has(a)&&(a=o.get(a)(e)))return a}}function k(e,i){e.from&&e.to?(t(e.from.element).setHost(i),t(e.to.element).setHost(i)):t(e.element).setHost(i)}function S(){var e=t(u);!e||"leave"===g&&v.$$domOperationFired||e.end()}function D(t){u.off("$destroy",S),u.removeData("$$animationRunner"),c(u,v),p(u,v),v.domOperation(),$&&e.removeClass(u,$),u.removeClass("ng-animate"),M.complete(!t)}v=d(v);var T=0<=["enter","move","leave"].indexOf(g),M=new s({end:function(){D()},cancel:function(){D(!0)}});if(!i.length)return D(),M;u.data("$$animationRunner",M);var P=n(u.attr("class"),n(v.addClass,v.removeClass)),$=v.tempClasses;$&&(P+=" "+$,v.tempClasses=null);var _;return T||(_=h,h+=1),l.push({element:u,classes:P,event:g,classBasedIndex:_,structural:T,options:v,beforeStart:function(){u.addClass("ng-animate"),$&&e.addClass(u,$)},close:D}),u.on("$destroy",S),1<l.length?M:(a.$$postDigest(function(){f=h,h=0,m.length=0;var e=[];E(l,function(i){t(i.element)&&e.push(i)}),l.length=0,E(x(e),function(e){function i(){e.beforeStart();var i,a=e.close;if(t(e.anchors?e.from.element||e.to.element:e.element)){var n=w(e);n&&(i=n.start)}i?(i=i(),i.done(function(e){a(!e)}),k(e,i)):a()}e.structural?i():(m.push({node:b(e.element),fn:i}),e.classBasedIndex===f-1&&(m=m.sort(function(e,t){return t.node.contains(e.node)}).map(function(e){return e.fn}),r(m)))})}),M)}}]}]).provider("$animateCss",["$animateProvider",function(e){var t=T(),i=T();this.$get=["$window","$$jqLite","$$AnimateRunner","$timeout","$document","$sniffer","$$rAFScheduler",function(e,a,n,r,l,c,h){function g(e,t){var i=e.parentNode;return(i.$$ngAnimateParentKey||(i.$$ngAnimateParentKey=++I))+"-"+e.getAttribute("class")+"-"+t}function v(n,o,r,l){var c;return 0<t.count(r)&&((c=i.get(r))||(o=s(o,"-stagger"),a.addClass(n,o),c=y(e,n,l),c.animationDuration=Math.max(c.animationDuration,0),c.transitionDuration=Math.max(c.transitionDuration,0),a.removeClass(n,o),i.put(r,c))),c||{}}function x(e){B.push(e),h.waitUntilQuiet(function(){t.flush(),i.flush();for(var e=F.offsetWidth+1,a=0;a<B.length;a++)B[a](e);B.length=0})}function T(i,a,n){return a=t.get(n),a||(a=y(e,i,U),"infinite"===a.animationIterationCount&&(a.animationIterationCount=1)),t.put(n,a),i=a,n=i.animationDelay,a=i.transitionDelay,i.maxDelay=n&&a?Math.max(n,a):n||a,i.maxDuration=Math.max(i.animationDuration*i.animationIterationCount,i.transitionDuration),i}var A=u(a),I=0,F=b(l).body,B=[];return function(e,i){function l(){u()}function h(){u(!0)}function u(t){R||N&&O||(R=!0,O=!1,a.removeClass(e,ie),a.removeClass(e,ne),S(B,!1),k(B,!1),E(Q,function(e){B.style[e[0]]=""}),A(e,i),p(e,i),i.onDone&&i.onDone(),V&&V.complete(!t))}function y(e){he.blockTransition&&k(B,e),he.blockKeyframeAnimation&&S(B,!!e)}function I(){return V=new n({end:l,cancel:h}),u(),{$$willAnimate:!1,start:function(){return V},end:l}}function F(){function t(){if(!R){if(y(!1),E(Q,function(e){B.style[e[0]]=e[1]}),A(e,i),a.addClass(e,ne),he.recalculateTimingStyles){if(ae=B.className+" "+ie,oe=g(B,ae),le=T(B,ae,oe),ce=le.maxDelay,U=Math.max(ce,0),0===(X=le.maxDuration))return void u();he.hasTransitions=0<le.transitionDuration,he.hasAnimations=0<le.animationDuration}if(he.applyTransitionDelay||he.applyAnimationDelay){ce="boolean"!=typeof i.delay&&C(i.delay)?parseFloat(i.delay):ce,U=Math.max(ce,0);var t;he.applyTransitionDelay&&(le.transitionDelay=ce,t=[H,ce+"s"],Q.push(t),B.style[t[0]]=t[1]),he.applyAnimationDelay&&(le.animationDelay=ce,t=[z,ce+"s"],Q.push(t),B.style[t[0]]=t[1])}if(G=1e3*U,q=1e3*X,i.easing){var c=i.easing;he.hasTransitions&&(t=M+"TimingFunction",Q.push([t,c]),B.style[t]=c),he.hasAnimations&&(t=$+"TimingFunction",Q.push([t,c]),B.style[t]=c)}le.transitionDuration&&l.push(P),le.animationDuration&&l.push(_),s=Date.now(),e.on(l.join(" "),o),r(n,G+1.5*q),m(e,i)}}function n(){u()}function o(e){e.stopPropagation();var t=e.originalEvent||e;e=t.$manualTimeStamp||t.timeStamp||Date.now(),t=parseFloat(t.elapsedTime.toFixed(3)),Math.max(e-s,0)>=G&&t>=X&&(N=!0,u())}if(!R){var s,l=[],c=function(e){if(N)O&&e&&(O=!1,u());else if(O=!e,le.animationDuration)if(e=S(B,O),O)Q.push(e);else{var t=Q,i=t.indexOf(e);0<=e&&t.splice(i,1)}},h=0<re&&(le.transitionDuration&&0===se.transitionDuration||le.animationDuration&&0===se.animationDuration)&&Math.max(se.animationDelay,se.transitionDelay);h?r(t,Math.floor(h*re*1e3),!1):t(),W.resume=function(){c(!0)},W.pause=function(){c(!1)}}}var B=b(e);i=d(i);var R,O,N,V,W,U,G,X,q,Q=[],K=e.attr("class"),J=o(i);if(0===i.duration||!c.animations&&!c.transitions)return I();var Z=i.event&&L(i.event)?i.event.join(" "):i.event,ee="",te="";Z&&i.structural?ee=s(Z,"ng-",!0):Z&&(ee=Z),i.addClass&&(te+=s(i.addClass,"-add")),i.removeClass&&(te.length&&(te+=" "),te+=s(i.removeClass,"-remove")),i.applyClassesEarly&&te.length&&(A(e,i),te="");var ie=[ee,te].join(" ").trim(),ae=K+" "+ie,ne=s(ie,"-active"),K=J.to&&0<Object.keys(J.to).length;if(!K&&!ie)return I();var oe,se;0<i.stagger?(J=parseFloat(i.stagger),se={transitionDelay:J,animationDelay:J,transitionDuration:0,animationDuration:0}):(oe=g(B,ae),se=v(B,ie,oe,j)),a.addClass(e,ie),i.transitionStyle&&(J=[M,i.transitionStyle],D(B,J),Q.push(J)),0<=i.duration&&(J=0<B.style[M].length,J=w(i.duration,J),D(B,J),Q.push(J)),i.keyframeStyle&&(J=[$,i.keyframeStyle],D(B,J),Q.push(J));var re=se?0<=i.staggerIndex?i.staggerIndex:t.count(oe):0;(Z=0===re)&&k(B,9999);var le=T(B,ae,oe),ce=le.maxDelay;U=Math.max(ce,0),X=le.maxDuration;var he={};return he.hasTransitions=0<le.transitionDuration,he.hasAnimations=0<le.animationDuration,he.hasTransitionAll=he.hasTransitions&&"all"==le.transitionProperty,he.applyTransitionDuration=K&&(he.hasTransitions&&!he.hasTransitionAll||he.hasAnimations&&!he.hasTransitions),he.applyAnimationDuration=i.duration&&he.hasAnimations,he.applyTransitionDelay=C(i.delay)&&(he.applyTransitionDuration||he.hasTransitions),he.applyAnimationDelay=C(i.delay)&&he.hasAnimations,he.recalculateTimingStyles=0<te.length,(he.applyTransitionDuration||he.applyAnimationDuration)&&(X=i.duration?parseFloat(i.duration):X,he.applyTransitionDuration&&(he.hasTransitions=!0,le.transitionDuration=X,J=0<B.style[M+"Property"].length,Q.push(w(X,J))),he.applyAnimationDuration&&(he.hasAnimations=!0,le.animationDuration=X,Q.push([Y,X+"s"]))),0!==X||he.recalculateTimingStyles?(null==i.duration&&0<le.transitionDuration&&(he.recalculateTimingStyles=he.recalculateTimingStyles||Z),G=1e3*U,q=1e3*X,i.skipBlocking||(he.blockTransition=0<le.transitionDuration,he.blockKeyframeAnimation=0<le.animationDuration&&0<se.animationDelay&&0===se.animationDuration),f(e,i),he.blockTransition||k(B,!1),y(X),{$$willAnimate:!0,end:l,start:function(){if(!R)return W={end:l,cancel:h,resume:null,pause:null},V=new n(W),x(F),V}}):I()}}]}]).provider("$$animateCssDriver",["$$animationProvider",function(e){e.drivers.push("$$animateCssDriver"),this.$get=["$animateCss","$rootScope","$$AnimateRunner","$rootElement","$document","$sniffer",function(e,t,i,a,n,o){function s(e){return e.replace(/\bng-\S+\b/g,"")}function r(e,t){return B(e)&&(e=e.split(" ")),B(t)&&(t=t.split(" ")),e.filter(function(e){return-1===t.indexOf(e)}).join(" ")}function l(t,a,n){function o(e){var t={},i=b(e).getBoundingClientRect();return E(["width","height","top","left"],function(e){var a=i[e];switch(e){case"top":a+=u.scrollTop;break;case"left":a+=u.scrollLeft}t[e]=Math.floor(a)+"px"}),t}function l(){var t=s(n.attr("class")||""),i=r(t,p),t=r(p,t),i=e(h,{to:o(n),addClass:"ng-anchor-in "+i,removeClass:"ng-anchor-out "+t,delay:!0});return i.$$willAnimate?i:null}function c(){h.remove(),a.removeClass("ng-animate-shim"),n.removeClass("ng-animate-shim")}var h=F(b(a).cloneNode(!0)),p=s(h.attr("class")||"");a.addClass("ng-animate-shim"),n.addClass("ng-animate-shim"),h.addClass("ng-anchor"),d.append(h);var f;if(!(t=function(){var t=e(h,{addClass:"ng-anchor-out",delay:!0,from:o(a)});return t.$$willAnimate?t:null}())&&!(f=l()))return c();var m=t||f;return{start:function(){function e(){a&&a.end()}var t,a=m.start();return a.done(function(){if(a=null,!f&&(f=l()))return a=f.start(),a.done(function(){a=null,c(),t.complete()}),a;c(),t.complete()}),t=new i({end:e,cancel:e})}}}function c(e,t,a,n){var o=h(e),s=h(t),r=[];if(E(n,function(e){(e=l(a,e.out,e.in))&&r.push(e)}),o||s||0!==r.length)return{start:function(){function e(){E(t,function(e){e.end()})}var t=[];o&&t.push(o.start()),s&&t.push(s.start()),E(r,function(e){t.push(e.start())});var a=new i({end:e,cancel:e});return i.all(t,function(e){a.complete(e)}),a}}}function h(t){var i=t.element,a=t.options||{};return t.structural?(a.structural=a.applyClassesEarly=!0,a.event=t.event,"leave"===a.event&&(a.onDone=a.domOperation)):a.event=null,t=e(i,a),t.$$willAnimate?t:null}if(!o.animations&&!o.transitions)return A;var u=b(n).body;t=b(a);var d=F(u.parentNode===t?u:t);return function(e){return e.from&&e.to?c(e.from,e.to,e.classes,e.anchors):h(e)}}]}]).provider("$$animateJs",["$animateProvider",function(e){this.$get=["$injector","$$AnimateRunner","$$rAFMutex","$$jqLite",function(t,i,a,n){function o(i){i=L(i)?i:i.split(" ");for(var a=[],n={},o=0;o<i.length;o++){var s=i[o],r=e.$$registeredAnimations[s];r&&!n[s]&&(a.push(t.get(r)),n[s]=!0)}return a}var s=u(n);return function(e,t,a,n){function r(){n.domOperation(),s(e,n)}function l(e,t,a,n,o){switch(a){case"animate":t=[t,n.from,n.to,o];break;case"setClass":t=[t,m,g,o];break;case"addClass":t=[t,m,o];break;case"removeClass":t=[t,g,o];break;default:t=[t,o]}if(t.push(n),e=e.apply(e,t))if(V(e.start)&&(e=e.start()),e instanceof i)e.done(o);else if(V(e))return e;return A}function c(e,t,a,n,o){var s=[];return E(n,function(n){var r=n[o];r&&s.push(function(){var n,o,s=!1,c=function(e){s||(s=!0,(o||A)(e),n.complete(!e))};return n=new i({end:function(){c()},cancel:function(){c(!0)}}),o=l(r,e,t,a,function(e){c(!1===e)}),n})}),s}function h(e,t,a,n,o){var s=c(e,t,a,n,o);if(0===s.length){var r,l;"beforeSetClass"===o?(r=c(e,"removeClass",a,n,"beforeRemoveClass"),l=c(e,"addClass",a,n,"beforeAddClass")):"setClass"===o&&(r=c(e,"removeClass",a,n,"removeClass"),l=c(e,"addClass",a,n,"addClass")),r&&(s=s.concat(r)),l&&(s=s.concat(l))}if(0!==s.length)return function(e){var t=[];return s.length&&E(s,function(e){t.push(e())}),t.length?i.all(t,e):e(),function(e){E(t,function(t){e?t.cancel():t.end()})}}}3===arguments.length&&R(a)&&(n=a,a=null),n=d(n),a||(a=e.attr("class")||"",n.addClass&&(a+=" "+n.addClass),n.removeClass&&(a+=" "+n.removeClass));var u,f,m=n.addClass,g=n.removeClass,v=o(a);if(v.length){var b,y;"leave"==t?(y="leave",b="afterLeave"):(y="before"+t.charAt(0).toUpperCase()+t.substr(1),b=t),"enter"!==t&&"move"!==t&&(u=h(e,t,n,v,y)),f=h(e,t,n,v,b)}if(u||f)return{start:function(){function t(t){s=!0,r(),p(e,n),l.complete(t)}var a,o=[];u&&o.push(function(e){a=u(e)}),o.length?o.push(function(e){r(),e(!0)}):r(),f&&o.push(function(e){a=f(e)});var s=!1,l=new i({end:function(){s||((a||A)(void 0),t(void 0))},cancel:function(){s||((a||A)(!0),t(!0))}});return i.chain(o,t),l}}}}]}]).provider("$$animateJsDriver",["$$animationProvider",function(e){e.drivers.push("$$animateJsDriver"),this.$get=["$$animateJs","$$AnimateRunner",function(e,t){function i(t){return e(t.element,t.event,t.classes,t.options)}return function(e){if(!e.from||!e.to)return i(e);var a=i(e.from),n=i(e.to);return a||n?{start:function(){function e(){return function(){E(i,function(e){e.end()})}}var i=[];a&&i.push(a.start()),n&&i.push(n.start()),t.all(i,function(e){o.complete(e)});var o=new t({end:e(),cancel:e()});return o}}:void 0}}]}])}(window,window.angular),"undefined"!=typeof module&&"undefined"!=typeof exports&&module.exports===exports&&(module.exports="ui.router"),function(e,t,i){"use strict";function a(e,t){return O(new(O(function(){},{prototype:e})),t)}function n(e){return R(arguments,function(t){t!==e&&R(t,function(t,i){e.hasOwnProperty(i)||(e[i]=t)})}),e}function o(e,t){var i=[];for(var a in e.path){if(e.path[a]!==t.path[a])break;i.push(e.path[a])}return i}function s(e){if(Object.keys)return Object.keys(e);var i=[];return t.forEach(e,function(e,t){i.push(t)}),i}function r(e,t){if(Array.prototype.indexOf)return e.indexOf(t,Number(arguments[2])||0);var i=e.length>>>0,a=Number(arguments[2])||0;for(0>(a=0>a?Math.ceil(a):Math.floor(a))&&(a+=i);i>a;a++)if(a in e&&e[a]===t)return a;return-1}function l(e,t,i,a){var n,l=o(i,a),c={},h=[];for(var u in l)if(l[u].params&&(n=s(l[u].params),n.length))for(var d in n)r(h,n[d])>=0||(h.push(n[d]),c[n[d]]=e[n[d]]);return O({},c,t)}function c(e,t,i){if(!i){i=[];for(var a in e)i.push(a)}for(var n=0;n<i.length;n++){var o=i[n];if(e[o]!=t[o])return!1}return!0}function h(e,t){var i={};return R(e,function(e){i[e]=t[e]}),i}function u(e){var t={},i=Array.prototype.concat.apply(Array.prototype,Array.prototype.slice.call(arguments,1));for(var a in e)-1==r(i,a)&&(t[a]=e[a]);return t}function d(e,t){var i=B(e),a=i?[]:{};return R(e,function(e,n){t(e,n)&&(a[i?a.length:n]=e)}),a}function p(e,t){var i=B(e)?[]:{};return R(e,function(e,a){i[a]=t(e,a)}),i}function f(e,t){var a=1,o=2,l={},c=[],h=l,d=O(e.when(l),{$$promises:l,$$values:l});this.study=function(l){function p(e,i){if(b[i]!==o){if(v.push(i),b[i]===a)throw v.splice(0,r(v,i)),new Error("Cyclic dependency: "+v.join(" -> "));if(b[i]=a,E(e))g.push(i,[function(){return t.get(e)}],c);else{var n=t.annotate(e);R(n,function(e){e!==i&&l.hasOwnProperty(e)&&p(l[e],e)}),g.push(i,e,n)}v.pop(),b[i]=o}}function f(e){return L(e)&&e.then&&e.$$promises}if(!L(l))throw new Error("'invocables' must be an object");var m=s(l||{}),g=[],v=[],b={};return R(l,p),l=v=b=null,function(a,o,s){function r(){--y||(x||n(b,o.$$values),p.$$values=b,p.$$promises=p.$$promises||!0,delete p.$$inheritedValues,c.resolve(b))}function l(e){p.$$failure=e,c.reject(e)}if(f(a)&&s===i&&(s=o,o=a,
a=null),a){if(!L(a))throw new Error("'locals' must be an object")}else a=h;if(o){if(!f(o))throw new Error("'parent' must be a promise returned by $resolve.resolve()")}else o=d;var c=e.defer(),p=c.promise,v=p.$$promises={},b=O({},a),y=1+g.length/3,x=!1;if(I(o.$$failure))return l(o.$$failure),p;o.$$inheritedValues&&n(b,u(o.$$inheritedValues,m)),O(v,o.$$promises),o.$$values?(x=n(b,u(o.$$values,m)),p.$$inheritedValues=u(o.$$values,m),r()):(o.$$inheritedValues&&(p.$$inheritedValues=u(o.$$inheritedValues,m)),o.then(r,l));for(var C=0,w=g.length;w>C;C+=3)a.hasOwnProperty(g[C])?r():function(i,n,o){function c(e){u.reject(e),l(e)}function h(){if(!I(p.$$failure))try{u.resolve(t.invoke(n,s,b)),u.promise.then(function(e){b[i]=e,r()},c)}catch(e){c(e)}}var u=e.defer(),d=0;R(o,function(e){v.hasOwnProperty(e)&&!a.hasOwnProperty(e)&&(d++,v[e].then(function(t){b[e]=t,--d||h()},c))}),d||h(),v[i]=u.promise}(g[C],g[C+1],g[C+2]);return p}},this.resolve=function(e,t,i,a){return this.study(e)(t,i,a)}}function m(e,t,i){this.fromConfig=function(e,t,i){return I(e.template)?this.fromString(e.template,t):I(e.templateUrl)?this.fromUrl(e.templateUrl,t):I(e.templateProvider)?this.fromProvider(e.templateProvider,t,i):null},this.fromString=function(e,t){return F(e)?e(t):e},this.fromUrl=function(i,a){return F(i)&&(i=i(a)),null==i?null:e.get(i,{cache:t,headers:{Accept:"text/html"}}).then(function(e){return e.data})},this.fromProvider=function(e,t,a){return i.invoke(e,null,a||{params:t})}}function g(e,t,n){function o(t,i,a,n){if(g.push(t),f[t])return f[t];if(!/^\w+(-+\w+)*(?:\[\])?$/.test(t))throw new Error("Invalid parameter name '"+t+"' in pattern '"+e+"'");if(m[t])throw new Error("Duplicate parameter name '"+t+"' in pattern '"+e+"'");return m[t]=new V.Param(t,i,a,n),m[t]}function s(e,t,i){var a=["",""],n=e.replace(/[\\\[\]\^$*+?.()|{}]/g,"\\$&");if(!t)return n;switch(i){case!1:a=["(",")"];break;case!0:a=["?(",")?"];break;default:a=["("+i+"|",")?"]}return n+a[0]+t+a[1]}function r(i,n){var o,s,r,l,c;return o=i[2]||i[3],c=t.params[o],r=e.substring(d,i.index),s=n?i[4]:i[4]||("*"==i[1]?".*":null),l=V.type(s||"string")||a(V.type("string"),{pattern:new RegExp(s)}),{id:o,regexp:s,segment:r,type:l,cfg:c}}t=O({params:{}},L(t)?t:{});var l,c=/([:*])([\w\[\]]+)|\{([\w\[\]]+)(?:\:((?:[^{}\\]+|\\.|\{(?:[^{}\\]+|\\.)*\})+))?\}/g,h=/([:]?)([\w\[\]-]+)|\{([\w\[\]-]+)(?:\:((?:[^{}\\]+|\\.|\{(?:[^{}\\]+|\\.)*\})+))?\}/g,u="^",d=0,p=this.segments=[],f=n?n.params:{},m=this.params=n?n.params.$$new():new V.ParamSet,g=[];this.source=e;for(var v,b,y;(l=c.exec(e))&&(v=r(l,!1),!(v.segment.indexOf("?")>=0));)b=o(v.id,v.type,v.cfg,"path"),u+=s(v.segment,b.type.pattern.source,b.squash),p.push(v.segment),d=c.lastIndex;y=e.substring(d);var x=y.indexOf("?");if(x>=0){var C=this.sourceSearch=y.substring(x);if(y=y.substring(0,x),this.sourcePath=e.substring(0,d+x),C.length>0)for(d=0;l=h.exec(C);)v=r(l,!0),b=o(v.id,v.type,v.cfg,"search"),d=c.lastIndex}else this.sourcePath=e,this.sourceSearch="";u+=s(y)+(!1===t.strict?"/?":"")+"$",p.push(y),this.regexp=new RegExp(u,t.caseInsensitive?"i":i),this.prefix=p[0],this.$$paramNames=g}function v(e){O(this,e)}function b(){function e(e){return null!=e?e.toString().replace(/\//g,"%2F"):e}function n(e){return null!=e?e.toString().replace(/%2F/g,"/"):e}function o(e){return this.pattern.test(e)}function l(){return{strict:y,caseInsensitive:m}}function c(e){return F(e)||B(e)&&F(e[e.length-1])}function h(){for(;k.length;){var e=k.shift();if(e.pattern)throw new Error("You cannot override a type's .pattern at runtime.");t.extend(C[e.name],f.invoke(e.def))}}function u(e){O(this,e||{})}V=this;var f,m=!1,y=!0,x=!1,C={},w=!0,k=[],S={string:{encode:e,decode:n,is:o,pattern:/[^\/]*/},int:{encode:e,decode:function(e){return parseInt(e,10)},is:function(e){return I(e)&&this.decode(e.toString())===e},pattern:/\d+/},bool:{encode:function(e){return e?1:0},decode:function(e){return 0!==parseInt(e,10)},is:function(e){return!0===e||!1===e},pattern:/0|1/},date:{encode:function(e){return this.is(e)?[e.getFullYear(),("0"+(e.getMonth()+1)).slice(-2),("0"+e.getDate()).slice(-2)].join("-"):i},decode:function(e){if(this.is(e))return e;var t=this.capture.exec(e);return t?new Date(t[1],t[2]-1,t[3]):i},is:function(e){return e instanceof Date&&!isNaN(e.valueOf())},equals:function(e,t){return this.is(e)&&this.is(t)&&e.toISOString()===t.toISOString()},pattern:/[0-9]{4}-(?:0[1-9]|1[0-2])-(?:0[1-9]|[1-2][0-9]|3[0-1])/,capture:/([0-9]{4})-(0[1-9]|1[0-2])-(0[1-9]|[1-2][0-9]|3[0-1])/},json:{encode:t.toJson,decode:t.fromJson,is:t.isObject,equals:t.equals,pattern:/[^\/]*/},any:{encode:t.identity,decode:t.identity,is:t.identity,equals:t.equals,pattern:/.*/}};b.$$getDefaultValue=function(e){if(!c(e.value))return e.value;if(!f)throw new Error("Injectable functions cannot be called at configuration time");return f.invoke(e.value)},this.caseInsensitive=function(e){return I(e)&&(m=e),m},this.strictMode=function(e){return I(e)&&(y=e),y},this.defaultSquashPolicy=function(e){if(!I(e))return x;if(!0!==e&&!1!==e&&!E(e))throw new Error("Invalid squash policy: "+e+". Valid policies: false, true, arbitrary-string");return x=e,e},this.compile=function(e,t){return new g(e,O(l(),t))},this.isMatcher=function(e){if(!L(e))return!1;var t=!0;return R(g.prototype,function(i,a){F(i)&&(t=t&&I(e[a])&&F(e[a]))}),t},this.type=function(e,t,i){if(!I(t))return C[e];if(C.hasOwnProperty(e))throw new Error("A type named '"+e+"' has already been defined.");return C[e]=new v(O({name:e},t)),i&&(k.push({name:e,def:i}),w||h()),this},R(S,function(e,t){C[t]=new v(O({name:t},e))}),C=a(C,{}),this.$get=["$injector",function(e){return f=e,w=!1,h(),R(S,function(e,t){C[t]||(C[t]=new v(e))}),this}],this.Param=function(e,t,a,n){function o(){if(!f)throw new Error("Injectable functions cannot be called at configuration time");return f.invoke(a.$$fn)}function l(e){function t(e){return function(t){return t.from===e}}return e=function(e){var i=p(d(u.replace,t(e)),function(e){return e.to});return i.length?i[0]:e}(e),I(e)?u.type.decode(e):o()}function h(){return"{Param:"+e+" "+t+" squash: '"+b+"' optional: "+g+"}"}var u=this;a=function(e){var t=L(e)?s(e):[];return-1===r(t,"value")&&-1===r(t,"type")&&-1===r(t,"squash")&&-1===r(t,"array")&&(e={value:e}),e.$$fn=c(e.value)?e.value:function(){return e.value},e}(a),t=function(t,i,a){if(t.type&&i)throw new Error("Param '"+e+"' has two type configurations.");return i||(t.type?t.type instanceof v?t.type:new v(t.type):"config"===a?C.any:C.string)}(a,t,n);var m=function(){var t={array:"search"===n&&"auto"},i=e.match(/\[\]$/)?{array:!0}:{};return O(t,i,a).array}();t=m?t.$asArray(m,"search"===n):t,"string"!==t.name||m||"path"!==n||a.value!==i||(a.value="");var g=a.value!==i,b=function(e,t){var i=e.squash;if(!t||!1===i)return!1;if(!I(i)||null==i)return x;if(!0===i||E(i))return i;throw new Error("Invalid squash policy: '"+i+"'. Valid policies: false, true, or arbitrary string")}(a,g),y=function(e,t,a,n){var o,s,l=[{from:"",to:a||t?i:""},{from:null,to:a||t?i:""}];return o=B(e.replace)?e.replace:[],E(n)&&o.push({from:n,to:i}),s=p(o,function(e){return e.from}),d(l,function(e){return-1===r(s,e.from)}).concat(o)}(a,m,g,b);O(this,{id:e,type:t,location:n,array:m,squash:b,replace:y,isOptional:g,value:l,dynamic:i,config:a,toString:h})},u.prototype={$$new:function(){return a(this,O(new u,{$$parent:this}))},$$keys:function(){for(var e=[],t=[],i=this,a=s(u.prototype);i;)t.push(i),i=i.$$parent;return t.reverse(),R(t,function(t){R(s(t),function(t){-1===r(e,t)&&-1===r(a,t)&&e.push(t)})}),e},$$values:function(e){var t={},i=this;return R(i.$$keys(),function(a){t[a]=i[a].value(e&&e[a])}),t},$$equals:function(e,t){var i=!0,a=this;return R(a.$$keys(),function(n){var o=e&&e[n],s=t&&t[n];a[n].type.equals(o,s)||(i=!1)}),i},$$validates:function(e){var t,i,a,n=!0,o=this;return R(this.$$keys(),function(s){a=o[s],i=e[s],t=!i&&a.isOptional,n=n&&(t||!!a.type.is(i))}),n},$$parent:i},this.ParamSet=u}function y(e,a){function n(e){var t=/^\^((?:\\[^a-zA-Z0-9]|[^\\\[\]\^$*+?.()|{}]+)*)/.exec(e.source);return null!=t?t[1].replace(/\\(.)/g,"$1"):""}function o(e,t){return e.replace(/\$(\$|\d{1,2})/,function(e,i){return t["$"===i?0:Number(i)]})}function s(e,t,i){if(!i)return!1;var a=e.invoke(t,t,{$match:i});return!I(a)||a}function r(a,n,o,s){function r(e,t,i){return"/"===m?e:t?m.slice(0,-1)+e:i?m.slice(1)+e:e}function d(e){function t(e){var t=e(o,a);return!!t&&(E(t)&&a.replace().url(t),!0)}if(!e||!e.defaultPrevented){var n=f&&a.url()===f;if(f=i,n)return!0;var s,r=c.length;for(s=0;r>s;s++)if(t(c[s]))return;h&&t(h)}}function p(){return l=l||n.$on("$locationChangeSuccess",d)}var f,m=s.baseHref(),g=a.url();return u||p(),{sync:function(){d()},listen:function(){return p()},update:function(e){return e?void(g=a.url()):void(a.url()!==g&&(a.url(g),a.replace()))},push:function(e,t,n){a.url(e.format(t||{})),f=n&&n.$$avoidResync?a.url():i,n&&n.replace&&a.replace()},href:function(i,n,o){if(!i.validates(n))return null;var s=e.html5Mode();t.isObject(s)&&(s=s.enabled);var l=i.format(n);if(o=o||{},s||null===l||(l="#"+e.hashPrefix()+l),l=r(l,s,o.absolute),!o.absolute||!l)return l;var c=!s&&l?"/":"",h=a.port();return h=80===h||443===h?"":":"+h,[a.protocol(),"://",a.host(),h,c,l].join("")}}}var l,c=[],h=null,u=!1;this.rule=function(e){if(!F(e))throw new Error("'rule' must be a function");return c.push(e),this},this.otherwise=function(e){if(E(e)){var t=e;e=function(){return t}}else if(!F(e))throw new Error("'rule' must be a function");return h=e,this},this.when=function(e,t){var i,r=E(t);if(E(e)&&(e=a.compile(e)),!r&&!F(t)&&!B(t))throw new Error("invalid 'handler' in when()");var l={matcher:function(e,t){return r&&(i=a.compile(t),t=["$match",function(e){return i.format(e)}]),O(function(i,a){return s(i,t,e.exec(a.path(),a.search()))},{prefix:E(e.prefix)?e.prefix:""})},regex:function(e,t){if(e.global||e.sticky)throw new Error("when() RegExp must not be global or sticky");return r&&(i=t,t=["$match",function(e){return o(i,e)}]),O(function(i,a){return s(i,t,e.exec(a.path()))},{prefix:n(e)})}},c={matcher:a.isMatcher(e),regex:e instanceof RegExp};for(var h in c)if(c[h])return this.rule(l[h](e,t));throw new Error("invalid 'what' in when()")},this.deferIntercept=function(e){e===i&&(e=!0),u=e},this.$get=r,r.$inject=["$location","$rootScope","$injector","$browser"]}function x(e,n){function o(e){return 0===e.indexOf(".")||0===e.indexOf("^")}function u(e,t){if(!e)return i;var a=E(e),n=a?e:e.name;if(o(n)){if(!t)throw new Error("No reference point given for path '"+n+"'");t=u(t);for(var s=n.split("."),r=0,l=s.length,c=t;l>r;r++)if(""!==s[r]||0!==r){if("^"!==s[r])break;if(!c.parent)throw new Error("Path '"+n+"' not valid for state '"+t.name+"'");c=c.parent}else c=t;s=s.slice(r).join("."),n=c.name+(c.name&&s?".":"")+s}var h=S[n];return!h||!a&&(a||h!==e&&h.self!==e)?i:h}function d(e,t){D[e]||(D[e]=[]),D[e].push(t)}function f(e){for(var t=D[e]||[];t.length;)m(t.shift())}function m(t){t=a(t,{self:t,resolve:t.resolve||{},toString:function(){return this.name}});var i=t.name;if(!E(i)||i.indexOf("@")>=0)throw new Error("State must have a valid name");if(S.hasOwnProperty(i))throw new Error("State '"+i+"'' is already defined");var n=-1!==i.indexOf(".")?i.substring(0,i.lastIndexOf(".")):E(t.parent)?t.parent:L(t.parent)&&E(t.parent.name)?t.parent.name:"";if(n&&!S[n])return d(n,t.self);for(var o in M)F(M[o])&&(t[o]=M[o](t,M.$delegates[o]));return S[i]=t,!t[T]&&t.url&&e.when(t.url,["$match","$stateParams",function(e,i){k.$current.navigable==t&&c(e,i)||k.transitionTo(t,e,{inherit:!0,location:!1})}]),f(i),t}function g(e){return e.indexOf("*")>-1}function v(e){var t=e.split("."),i=k.$current.name.split(".");if("**"===t[0]&&(i=i.slice(r(i,t[1])),i.unshift("**")),"**"===t[t.length-1]&&(i.splice(r(i,t[t.length-2])+1,Number.MAX_VALUE),i.push("**")),t.length!=i.length)return!1;for(var a=0,n=t.length;n>a;a++)"*"===t[a]&&(i[a]="*");return i.join("")===t.join("")}function b(e,t){return E(e)&&!I(t)?M[e]:F(t)&&E(e)?(M[e]&&!M.$delegates[e]&&(M.$delegates[e]=M[e]),M[e]=t,this):this}function y(e,t){return L(e)?t=e:t.name=e,m(t),this}function x(e,n,o,r,d,f,m){function b(t,i,a,o){var s=e.$broadcast("$stateNotFound",t,i,a);if(s.defaultPrevented)return m.update(),M;if(!s.retry)return null;if(o.$retry)return m.update(),P;var r=k.transition=n.when(s.retry);return r.then(function(){return r!==k.transition?x:(t.options.$retry=!0,k.transitionTo(t.to,t.toParams,t.options))},function(){return M}),m.update(),r}function y(e,i,a,s,l,c){var u=a?i:h(e.params.$$keys(),i),p={$stateParams:u};l.resolve=d.resolve(e.resolve,p,l.resolve,e);var f=[l.resolve.then(function(e){l.globals=e})];return s&&f.push(s),R(e.views,function(i,a){var n=i.resolve&&i.resolve!==e.resolve?i.resolve:{};n.$template=[function(){return o.load(a,{view:i,locals:p,params:u,notify:c.notify})||""}],f.push(d.resolve(n,p,l.resolve,e).then(function(o){if(F(i.controllerProvider)||B(i.controllerProvider)){var s=t.extend({},n,p);o.$$controller=r.invoke(i.controllerProvider,null,s)}else o.$$controller=i.controller;o.$$state=e,o.$$controllerAs=i.controllerAs,l[a]=o}))}),n.all(f).then(function(){return l})}var x=n.reject(new Error("transition superseded")),D=n.reject(new Error("transition prevented")),M=n.reject(new Error("transition aborted")),P=n.reject(new Error("transition failed"));return w.locals={resolve:null,globals:{$stateParams:{}}},k={params:{},current:w.self,$current:w,transition:null},k.reload=function(){return k.transitionTo(k.current,f,{reload:!0,inherit:!1,notify:!0})},k.go=function(e,t,i){return k.transitionTo(e,t,O({inherit:!0,relative:k.$current},i))},k.transitionTo=function(t,i,o){i=i||{},o=O({location:!0,inherit:!1,relative:null,notify:!0,reload:!1,$retry:!1},o||{});var s,c=k.$current,d=k.params,p=c.path,g=u(t,o.relative);if(!I(g)){var v={to:t,toParams:i,options:o},S=b(v,c.self,d,o);if(S)return S;if(t=v.to,i=v.toParams,o=v.options,g=u(t,o.relative),!I(g)){if(!o.relative)throw new Error("No such state '"+t+"'");throw new Error("Could not resolve '"+t+"' from state '"+o.relative+"'")}}if(g[T])throw new Error("Cannot transition to abstract state '"+t+"'");if(o.inherit&&(i=l(f,i||{},k.$current,g)),!g.params.$$validates(i))return P;i=g.params.$$values(i),t=g;var M=t.path,$=0,_=M[$],A=w.locals,F=[];if(!o.reload)for(;_&&_===p[$]&&_.ownParams.$$equals(i,d);)A=F[$]=_.locals,$++,_=M[$];if(C(t,c,A,o))return!1!==t.self.reloadOnSearch&&m.update(),k.transition=null,n.when(k.current);if(i=h(t.params.$$keys(),i||{}),o.notify&&e.$broadcast("$stateChangeStart",t.self,i,c.self,d).defaultPrevented)return m.update(),D;for(var E=n.when(A),L=$;L<M.length;L++,_=M[L])A=F[L]=a(A),E=y(_,i,_===t,E,A,o);var B=k.transition=E.then(function(){var a,n,s;if(k.transition!==B)return x;for(a=p.length-1;a>=$;a--)s=p[a],s.self.onExit&&r.invoke(s.self.onExit,s.self,s.locals.globals),s.locals=null;for(a=$;a<M.length;a++)n=M[a],n.locals=F[a],n.self.onEnter&&r.invoke(n.self.onEnter,n.self,n.locals.globals);return k.transition!==B?x:(k.$current=t,k.current=t.self,k.params=i,N(k.params,f),k.transition=null,o.location&&t.navigable&&m.push(t.navigable.url,t.navigable.locals.globals.$stateParams,{$$avoidResync:!0,replace:"replace"===o.location}),o.notify&&e.$broadcast("$stateChangeSuccess",t.self,i,c.self,d),m.update(!0),k.current)},function(a){return k.transition!==B?x:(k.transition=null,s=e.$broadcast("$stateChangeError",t.self,i,c.self,d,a),s.defaultPrevented||m.update(),n.reject(a))});return B},k.is=function(e,t,a){a=O({relative:k.$current},a||{});var n=u(e,a.relative);return I(n)?k.$current===n&&(!t||c(n.params.$$values(t),f)):i},k.includes=function(e,t,a){if(a=O({relative:k.$current},a||{}),E(e)&&g(e)){if(!v(e))return!1;e=k.$current.name}var n=u(e,a.relative);return I(n)?!!I(k.$current.includes[n.name])&&(!t||c(n.params.$$values(t),f,s(t))):i},k.href=function(e,t,a){a=O({lossy:!0,inherit:!0,absolute:!1,relative:k.$current},a||{});var n=u(e,a.relative);if(!I(n))return null;a.inherit&&(t=l(f,t||{},k.$current,n));var o=n&&a.lossy?n.navigable:n;return o&&o.url!==i&&null!==o.url?m.href(o.url,h(n.params.$$keys(),t||{}),{absolute:a.absolute}):null},k.get=function(e,t){if(0===arguments.length)return p(s(S),function(e){return S[e].self});var i=u(e,t||k.$current);return i&&i.self?i.self:null},k}function C(e,t,i,a){return e===t&&(i===t.locals&&!a.reload||!1===e.self.reloadOnSearch)||void 0}var w,k,S={},D={},T="abstract",M={parent:function(e){if(I(e.parent)&&e.parent)return u(e.parent);var t=/^(.+)\.[^.]+$/.exec(e.name);return t?u(t[1]):w},data:function(e){return e.parent&&e.parent.data&&(e.data=e.self.data=O({},e.parent.data,e.data)),e.data},url:function(e){var t=e.url,i={params:e.params||{}};if(E(t))return"^"==t.charAt(0)?n.compile(t.substring(1),i):(e.parent.navigable||w).url.concat(t,i);if(!t||n.isMatcher(t))return t;throw new Error("Invalid url '"+t+"' in state '"+e+"'")},navigable:function(e){return e.url?e:e.parent?e.parent.navigable:null},ownParams:function(e){var t=e.url&&e.url.params||new V.ParamSet;return R(e.params||{},function(e,i){t[i]||(t[i]=new V.Param(i,null,e,"config"))}),t},params:function(e){return e.parent&&e.parent.params?O(e.parent.params.$$new(),e.ownParams):new V.ParamSet},views:function(e){var t={};return R(I(e.views)?e.views:{"":e},function(i,a){a.indexOf("@")<0&&(a+="@"+e.parent.name),t[a]=i}),t},path:function(e){return e.parent?e.parent.path.concat(e):[]},includes:function(e){var t=e.parent?O({},e.parent.includes):{};return t[e.name]=!0,t},$delegates:{}};w=m({name:"",url:"^",views:null,abstract:!0}),w.navigable=null,this.decorator=b,this.state=y,this.$get=x,x.$inject=["$rootScope","$q","$view","$injector","$resolve","$stateParams","$urlRouter","$location","$urlMatcherFactory"]}function C(){function e(e,t){return{load:function(i,a){var n;return a=O({template:null,controller:null,view:null,locals:null,notify:!0,async:!0,params:{}},a),a.view&&(n=t.fromConfig(a.view,a.params,a.locals)),n&&a.notify&&e.$broadcast("$viewContentLoading",a),n}}}this.$get=e,e.$inject=["$rootScope","$templateFactory"]}function w(){var e=!1;this.useAnchorScroll=function(){e=!0},this.$get=["$anchorScroll","$timeout",function(t,i){return e?t:function(e){i(function(){e[0].scrollIntoView()},0,!1)}}]}function k(e,i,a,n){function o(e,t){if(l)return{enter:function(e,t,i){var a=l.enter(e,null,t,i);a&&a.then&&a.then(i)},leave:function(e,t){var i=l.leave(e,t);i&&i.then&&i.then(t)}};if(r){var i=r&&r(t,e);return{enter:function(e,t,a){i.enter(e,null,t),a()},leave:function(e,t){i.leave(e),t()}}}return function(){return{enter:function(e,t,i){t.after(e),i()},leave:function(e,t){e.remove(),t()}}}()}var s=function(){return i.has?function(e){return i.has(e)?i.get(e):null}:function(e){try{return i.get(e)}catch(e){return null}}}(),r=s("$animator"),l=s("$animate");return{restrict:"ECA",terminal:!0,priority:400,transclude:"element",compile:function(i,s,r){return function(i,s,l){function c(){u&&(u.remove(),u=null),p&&(p.$destroy(),p=null),d&&(v.leave(d,function(){u=null}),u=d,d=null)}function h(o){var h,u=D(i,l,s,n),b=u&&e.$current&&e.$current.locals[u];if(o||b!==f){h=i.$new(),f=e.$current.locals[u];var y=r(h,function(e){v.enter(e,s,function(){p&&p.$emit("$viewContentAnimationEnded"),(t.isDefined(g)&&!g||i.$eval(g))&&a(e)}),c()});d=y,p=h,p.$emit("$viewContentLoaded"),p.$eval(m)}}var u,d,p,f,m=l.onload||"",g=l.autoscroll,v=o(l,i);i.$on("$stateChangeSuccess",function(){h(!1)}),i.$on("$viewContentLoading",function(){h(!1)}),h(!0)}}}}function S(e,t,i,a){return{restrict:"ECA",priority:-400,compile:function(n){var o=n.html();return function(n,s,r){var l=i.$current,c=D(n,r,s,a),h=l&&l.locals[c];if(h){s.data("$uiView",{name:c,state:h.$$state}),s.html(h.$template?h.$template:o);var u=e(s.contents());if(h.$$controller){h.$scope=n;var d=t(h.$$controller,h);h.$$controllerAs&&(n[h.$$controllerAs]=d),s.data("$ngControllerController",d),s.children().data("$ngControllerController",d)}u(n)}}}}}function D(e,t,i,a){var n=a(t.uiView||t.name||"")(e),o=i.inheritedData("$uiView");return n.indexOf("@")>=0?n:n+"@"+(o?o.state.name:"")}function T(e,t){var i,a=e.match(/^\s*({[^}]*})\s*$/);if(a&&(e=t+"("+a[1]+")"),!(i=e.replace(/\n/g," ").match(/^([^(]+?)\s*(\((.*)\))?$/))||4!==i.length)throw new Error("Invalid state ref '"+e+"'");return{state:i[1],paramExpr:i[3]||null}}function M(e){var t=e.parent().inheritedData("$uiView");return t&&t.state&&t.state.name?t.state:void 0}function P(e,i){var a=["location","inherit","reload"];return{restrict:"A",require:["?^uiSrefActive","?^uiSrefActiveEq"],link:function(n,o,s,r){var l=T(s.uiSref,e.current.name),c=null,h=M(o)||e.$current,u=null,d="A"===o.prop("tagName"),p="FORM"===o[0].nodeName,f=p?"action":"href",m=!0,g={relative:h,inherit:!0},v=n.$eval(s.uiSrefOpts)||{};t.forEach(a,function(e){e in v&&(g[e]=v[e])});var b=function(i){if(i&&(c=t.copy(i)),m){u=e.href(l.state,c,g);var a=r[1]||r[0];return a&&a.$$setStateInfo(l.state,c),null===u?(m=!1,!1):void s.$set(f,u)}};l.paramExpr&&(n.$watch(l.paramExpr,function(e){e!==c&&b(e)},!0),c=t.copy(n.$eval(l.paramExpr))),b(),p||o.bind("click",function(t){if(!((t.which||t.button)>1||t.ctrlKey||t.metaKey||t.shiftKey||o.attr("target"))){var a=i(function(){e.go(l.state,c,g)});t.preventDefault();var n=d&&!u?1:0;t.preventDefault=function(){n--<=0&&i.cancel(a)}}})}}}function $(e,t,i){return{restrict:"A",controller:["$scope","$element","$attrs",function(t,a,n){function o(){s()?a.addClass(c):a.removeClass(c)}function s(){return void 0!==n.uiSrefActiveEq?r&&e.is(r.name,l):r&&e.includes(r.name,l)}var r,l,c;c=i(n.uiSrefActiveEq||n.uiSrefActive||"",!1)(t),this.$$setStateInfo=function(t,i){r=e.get(t,M(a)),l=i,o()},t.$on("$stateChangeSuccess",o)}]}}function _(e){var t=function(t){return e.is(t)};return t.$stateful=!0,t}function A(e){var t=function(t){return e.includes(t)};return t.$stateful=!0,t}var I=t.isDefined,F=t.isFunction,E=t.isString,L=t.isObject,B=t.isArray,R=t.forEach,O=t.extend,N=t.copy;t.module("ui.router.util",["ng"]),t.module("ui.router.router",["ui.router.util"]),t.module("ui.router.state",["ui.router.router","ui.router.util"]),t.module("ui.router",["ui.router.state"]),t.module("ui.router.compat",["ui.router"]),f.$inject=["$q","$injector"],t.module("ui.router.util").service("$resolve",f),m.$inject=["$http","$templateCache","$injector"],t.module("ui.router.util").service("$templateFactory",m);var V;g.prototype.concat=function(e,t){var i={caseInsensitive:V.caseInsensitive(),strict:V.strictMode(),squash:V.defaultSquashPolicy()};return new g(this.sourcePath+e+this.sourceSearch,O(i,t),this)},g.prototype.toString=function(){return this.source},g.prototype.exec=function(e,t){var i=this.regexp.exec(e);if(!i)return null;t=t||{};var a,n,o,s=this.parameters(),r=s.length,l=this.segments.length-1,c={};if(l!==i.length-1)throw new Error("Unbalanced capture group in route '"+this.source+"'");for(a=0;l>a;a++){o=s[a];var h=this.params[o],u=i[a+1];for(n=0;n<h.replace;n++)h.replace[n].from===u&&(u=h.replace[n].to);u&&!0===h.array&&(u=function(e){function t(e){return e.split("").reverse().join("")}function i(e){return e.replace(/\\-/,"-")}return p(p(t(e).split(/-(?!\\)/),t),i).reverse()}(u)),c[o]=h.value(u)}for(;r>a;a++)o=s[a],c[o]=this.params[o].value(t[o]);return c},g.prototype.parameters=function(e){return I(e)?this.params[e]||null:this.$$paramNames},g.prototype.validates=function(e){return this.params.$$validates(e)},g.prototype.format=function(e){function t(e){return encodeURIComponent(e).replace(/-/g,function(e){return"%5C%"+e.charCodeAt(0).toString(16).toUpperCase()})}e=e||{};var i=this.segments,a=this.parameters(),n=this.params;if(!this.validates(e))return null;var o,s=!1,r=i.length-1,l=a.length,c=i[0];for(o=0;l>o;o++){var h=r>o,u=a[o],d=n[u],f=d.value(e[u]),m=d.isOptional&&d.type.equals(d.value(),f),g=!!m&&d.squash,v=d.type.encode(f);if(h){var b=i[o+1];if(!1===g)null!=v&&(c+=B(v)?p(v,t).join("-"):encodeURIComponent(v)),c+=b;else if(!0===g){var y=c.match(/\/$/)?/\/?(.*)/:/(.*)/;c+=b.match(y)[1]}else E(g)&&(c+=g+b)}else{if(null==v||m&&!1!==g)continue;B(v)||(v=[v]),v=p(v,encodeURIComponent).join("&"+u+"="),c+=(s?"&":"?")+u+"="+v,s=!0}}return c},v.prototype.is=function(){return!0},v.prototype.encode=function(e){return e},v.prototype.decode=function(e){return e},v.prototype.equals=function(e,t){return e==t},v.prototype.$subPattern=function(){var e=this.pattern.toString();return e.substr(1,e.length-2)},v.prototype.pattern=/.*/,v.prototype.toString=function(){return"{Type:"+this.name+"}"},v.prototype.$asArray=function(e,t){function a(e,t){function a(e,t){return function(){return e[t].apply(e,arguments)}}function n(e){return B(e)?e:I(e)?[e]:[]}function o(e){switch(e.length){case 0:return i;case 1:return"auto"===t?e[0]:e;default:return e}}function s(e){return!e}function r(e,t){return function(i){i=n(i);var a=p(i,e);return!0===t?0===d(a,s).length:o(a)}}this.encode=r(a(e,"encode")),this.decode=r(a(e,"decode")),this.is=r(a(e,"is"),!0),this.equals=function(e){return function(t,i){var a=n(t),o=n(i);if(a.length!==o.length)return!1;for(var s=0;s<a.length;s++)if(!e(a[s],o[s]))return!1;return!0}}(a(e,"equals")),this.pattern=e.pattern,this.$arrayMode=t}if(!e)return this;if("auto"===e&&!t)throw new Error("'auto' array mode is for query parameters only");return new a(this,e)},t.module("ui.router.util").provider("$urlMatcherFactory",b),t.module("ui.router.util").run(["$urlMatcherFactory",function(){}]),y.$inject=["$locationProvider","$urlMatcherFactoryProvider"],t.module("ui.router.router").provider("$urlRouter",y),x.$inject=["$urlRouterProvider","$urlMatcherFactoryProvider"],t.module("ui.router.state").value("$stateParams",{}).provider("$state",x),C.$inject=[],t.module("ui.router.state").provider("$view",C),t.module("ui.router.state").provider("$uiViewScroll",w),k.$inject=["$state","$injector","$uiViewScroll","$interpolate"],S.$inject=["$compile","$controller","$state","$interpolate"],t.module("ui.router.state").directive("uiView",k),t.module("ui.router.state").directive("uiView",S),P.$inject=["$state","$timeout"],$.$inject=["$state","$stateParams","$interpolate"],t.module("ui.router.state").directive("uiSref",P).directive("uiSrefActive",$).directive("uiSrefActiveEq",$),_.$inject=["$state"],A.$inject=["$state"],t.module("ui.router.state").filter("isState",_).filter("includedByState",A)}(window,window.angular),angular.module("ui.bootstrap",["ui.bootstrap.tpls","ui.bootstrap.transition","ui.bootstrap.collapse","ui.bootstrap.accordion","ui.bootstrap.alert","ui.bootstrap.bindHtml","ui.bootstrap.buttons","ui.bootstrap.carousel","ui.bootstrap.dateparser","ui.bootstrap.position","ui.bootstrap.datepicker","ui.bootstrap.dropdown","ui.bootstrap.modal","ui.bootstrap.pagination","ui.bootstrap.tooltip","ui.bootstrap.popover","ui.bootstrap.progressbar","ui.bootstrap.rating","ui.bootstrap.tabs","ui.bootstrap.timepicker","ui.bootstrap.typeahead"]),angular.module("ui.bootstrap.tpls",["template/accordion/accordion-group.html","template/accordion/accordion.html","template/alert/alert.html","template/carousel/carousel.html","template/carousel/slide.html","template/datepicker/datepicker.html","template/datepicker/day.html","template/datepicker/month.html","template/datepicker/popup.html","template/datepicker/year.html","template/modal/backdrop.html","template/modal/window.html","template/pagination/pager.html","template/pagination/pagination.html","template/tooltip/tooltip-html-unsafe-popup.html","template/tooltip/tooltip-popup.html","template/popover/popover.html","template/progressbar/bar.html","template/progressbar/progress.html","template/progressbar/progressbar.html","template/rating/rating.html","template/tabs/tab.html","template/tabs/tabset.html","template/timepicker/timepicker.html","template/typeahead/typeahead-match.html","template/typeahead/typeahead-popup.html"]),angular.module("ui.bootstrap.transition",[]).factory("$transition",["$q","$timeout","$rootScope",function(e,t,i){function a(e){for(var t in e)if(void 0!==o.style[t])return e[t]}var n=function(a,o,s){s=s||{};var r=e.defer(),l=n[s.animation?"animationEndEventName":"transitionEndEventName"],c=function(){i.$apply(function(){a.unbind(l,c),r.resolve(a)})};return l&&a.bind(l,c),t(function(){angular.isString(o)?a.addClass(o):angular.isFunction(o)?o(a):angular.isObject(o)&&a.css(o),l||r.resolve(a)}),r.promise.cancel=function(){l&&a.unbind(l,c),r.reject("Transition cancelled")},r.promise},o=document.createElement("trans"),s={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd",transition:"transitionend"},r={WebkitTransition:"webkitAnimationEnd",MozTransition:"animationend",OTransition:"oAnimationEnd",transition:"animationend"};return n.transitionEndEventName=a(s),n.animationEndEventName=a(r),n}]),angular.module("ui.bootstrap.collapse",["ui.bootstrap.transition"]).directive("collapse",["$transition",function(e){return{link:function(t,i,a){function n(t){function a(){c===n&&(c=void 0)}var n=e(i,t);return c&&c.cancel(),c=n,n.then(a,a),n}function o(){h?(h=!1,s()):(i.removeClass("collapse").addClass("collapsing"),n({height:i[0].scrollHeight+"px"}).then(s))}function s(){i.removeClass("collapsing"),i.addClass("collapse in"),i.css({height:"auto"})}function r(){h?(h=!1,l(),i.css({height:0})):(i.css({height:i[0].scrollHeight+"px"}),i[0].offsetWidth,i.removeClass("collapse in").addClass("collapsing"),n({height:0}).then(l))}function l(){i.removeClass("collapsing"),i.addClass("collapse")}var c,h=!0;t.$watch(a.collapse,function(e){e?r():o()})}}}]),angular.module("ui.bootstrap.accordion",["ui.bootstrap.collapse"]).constant("accordionConfig",{closeOthers:!0}).controller("AccordionController",["$scope","$attrs","accordionConfig",function(e,t,i){this.groups=[],this.closeOthers=function(a){(angular.isDefined(t.closeOthers)?e.$eval(t.closeOthers):i.closeOthers)&&angular.forEach(this.groups,function(e){e!==a&&(e.isOpen=!1)})},this.addGroup=function(e){var t=this;this.groups.push(e),e.$on("$destroy",function(){t.removeGroup(e)})},this.removeGroup=function(e){var t=this.groups.indexOf(e);-1!==t&&this.groups.splice(t,1)}}]).directive("accordion",function(){return{restrict:"EA",controller:"AccordionController",transclude:!0,replace:!1,templateUrl:"template/accordion/accordion.html"}}).directive("accordionGroup",function(){return{require:"^accordion",restrict:"EA",transclude:!0,replace:!0,templateUrl:"template/accordion/accordion-group.html",scope:{heading:"@",isOpen:"=?",isDisabled:"=?"},controller:function(){this.setHeading=function(e){this.heading=e}},link:function(e,t,i,a){a.addGroup(e),e.$watch("isOpen",function(t){t&&a.closeOthers(e)}),e.toggleOpen=function(){e.isDisabled||(e.isOpen=!e.isOpen)}}}}).directive("accordionHeading",function(){return{restrict:"EA",transclude:!0,template:"",replace:!0,require:"^accordionGroup",link:function(e,t,i,a,n){a.setHeading(n(e,function(){}))}}}).directive("accordionTransclude",function(){return{require:"^accordionGroup",link:function(e,t,i,a){e.$watch(function(){return a[i.accordionTransclude]},function(e){e&&(t.html(""),t.append(e))})}}}),angular.module("ui.bootstrap.alert",[]).controller("AlertController",["$scope","$attrs",function(e,t){e.closeable="close"in t,this.close=e.close}]).directive("alert",function(){return{restrict:"EA",controller:"AlertController",templateUrl:"template/alert/alert.html",transclude:!0,replace:!0,scope:{type:"@",close:"&"}}}).directive("dismissOnTimeout",["$timeout",function(e){return{require:"alert",link:function(t,i,a,n){e(function(){n.close()},parseInt(a.dismissOnTimeout,10))}}}]),angular.module("ui.bootstrap.bindHtml",[]).directive("bindHtmlUnsafe",function(){return function(e,t,i){t.addClass("ng-binding").data("$binding",i.bindHtmlUnsafe),e.$watch(i.bindHtmlUnsafe,function(e){t.html(e||"")})}}),angular.module("ui.bootstrap.buttons",[]).constant("buttonConfig",{activeClass:"active",toggleEvent:"click"}).controller("ButtonsController",["buttonConfig",function(e){this.activeClass=e.activeClass||"active",this.toggleEvent=e.toggleEvent||"click"}]).directive("btnRadio",function(){return{require:["btnRadio","ngModel"],controller:"ButtonsController",
link:function(e,t,i,a){var n=a[0],o=a[1];o.$render=function(){t.toggleClass(n.activeClass,angular.equals(o.$modelValue,e.$eval(i.btnRadio)))},t.bind(n.toggleEvent,function(){var a=t.hasClass(n.activeClass);(!a||angular.isDefined(i.uncheckable))&&e.$apply(function(){o.$setViewValue(a?null:e.$eval(i.btnRadio)),o.$render()})})}}}).directive("btnCheckbox",function(){return{require:["btnCheckbox","ngModel"],controller:"ButtonsController",link:function(e,t,i,a){function n(){return s(i.btnCheckboxTrue,!0)}function o(){return s(i.btnCheckboxFalse,!1)}function s(t,i){var a=e.$eval(t);return angular.isDefined(a)?a:i}var r=a[0],l=a[1];l.$render=function(){t.toggleClass(r.activeClass,angular.equals(l.$modelValue,n()))},t.bind(r.toggleEvent,function(){e.$apply(function(){l.$setViewValue(t.hasClass(r.activeClass)?o():n()),l.$render()})})}}}),angular.module("ui.bootstrap.carousel",["ui.bootstrap.transition"]).controller("CarouselController",["$scope","$timeout","$interval","$transition",function(e,t,i,a){function n(){o();var t=+e.interval;!isNaN(t)&&t>0&&(r=i(s,t))}function o(){r&&(i.cancel(r),r=null)}function s(){var t=+e.interval;l&&!isNaN(t)&&t>0?e.next():e.pause()}var r,l,c=this,h=c.slides=e.slides=[],u=-1;c.currentSlide=null;var d=!1;c.select=e.select=function(i,o){function s(){d||(c.currentSlide&&angular.isString(o)&&!e.noTransition&&i.$element?(i.$element.addClass(o),i.$element[0].offsetWidth,angular.forEach(h,function(e){angular.extend(e,{direction:"",entering:!1,leaving:!1,active:!1})}),angular.extend(i,{direction:o,active:!0,entering:!0}),angular.extend(c.currentSlide||{},{direction:o,leaving:!0}),e.$currentTransition=a(i.$element,{}),function(t,i){e.$currentTransition.then(function(){r(t,i)},function(){r(t,i)})}(i,c.currentSlide)):r(i,c.currentSlide),c.currentSlide=i,u=l,n())}function r(t,i){angular.extend(t,{direction:"",active:!0,leaving:!1,entering:!1}),angular.extend(i||{},{direction:"",active:!1,leaving:!1,entering:!1}),e.$currentTransition=null}var l=h.indexOf(i);void 0===o&&(o=l>u?"next":"prev"),i&&i!==c.currentSlide&&(e.$currentTransition?(e.$currentTransition.cancel(),t(s)):s())},e.$on("$destroy",function(){d=!0}),c.indexOfSlide=function(e){return h.indexOf(e)},e.next=function(){var t=(u+1)%h.length;return e.$currentTransition?void 0:c.select(h[t],"next")},e.prev=function(){var t=0>u-1?h.length-1:u-1;return e.$currentTransition?void 0:c.select(h[t],"prev")},e.isActive=function(e){return c.currentSlide===e},e.$watch("interval",n),e.$on("$destroy",o),e.play=function(){l||(l=!0,n())},e.pause=function(){e.noPause||(l=!1,o())},c.addSlide=function(t,i){t.$element=i,h.push(t),1===h.length||t.active?(c.select(h[h.length-1]),1==h.length&&e.play()):t.active=!1},c.removeSlide=function(e){var t=h.indexOf(e);h.splice(t,1),h.length>0&&e.active?c.select(t>=h.length?h[t-1]:h[t]):u>t&&u--}}]).directive("carousel",[function(){return{restrict:"EA",transclude:!0,replace:!0,controller:"CarouselController",require:"carousel",templateUrl:"template/carousel/carousel.html",scope:{interval:"=",noTransition:"=",noPause:"="}}}]).directive("slide",function(){return{require:"^carousel",restrict:"EA",transclude:!0,replace:!0,templateUrl:"template/carousel/slide.html",scope:{active:"=?"},link:function(e,t,i,a){a.addSlide(e,t),e.$on("$destroy",function(){a.removeSlide(e)}),e.$watch("active",function(t){t&&a.select(e)})}}}),angular.module("ui.bootstrap.dateparser",[]).service("dateParser",["$locale","orderByFilter",function(e,t){function i(e){var i=[],a=e.split("");return angular.forEach(n,function(t,n){var o=e.indexOf(n);if(o>-1){e=e.split(""),a[o]="("+t.regex+")",e[o]="$";for(var s=o+1,r=o+n.length;r>s;s++)a[s]="",e[s]="$";e=e.join(""),i.push({index:o,apply:t.apply})}}),{regex:new RegExp("^"+a.join("")+"$"),map:t(i,"index")}}function a(e,t,i){return 1===t&&i>28?29===i&&(e%4==0&&e%100!=0||e%400==0):3!==t&&5!==t&&8!==t&&10!==t||31>i}this.parsers={};var n={yyyy:{regex:"\\d{4}",apply:function(e){this.year=+e}},yy:{regex:"\\d{2}",apply:function(e){this.year=+e+2e3}},y:{regex:"\\d{1,4}",apply:function(e){this.year=+e}},MMMM:{regex:e.DATETIME_FORMATS.MONTH.join("|"),apply:function(t){this.month=e.DATETIME_FORMATS.MONTH.indexOf(t)}},MMM:{regex:e.DATETIME_FORMATS.SHORTMONTH.join("|"),apply:function(t){this.month=e.DATETIME_FORMATS.SHORTMONTH.indexOf(t)}},MM:{regex:"0[1-9]|1[0-2]",apply:function(e){this.month=e-1}},M:{regex:"[1-9]|1[0-2]",apply:function(e){this.month=e-1}},dd:{regex:"[0-2][0-9]{1}|3[0-1]{1}",apply:function(e){this.date=+e}},d:{regex:"[1-2]?[0-9]{1}|3[0-1]{1}",apply:function(e){this.date=+e}},EEEE:{regex:e.DATETIME_FORMATS.DAY.join("|")},EEE:{regex:e.DATETIME_FORMATS.SHORTDAY.join("|")}};this.parse=function(t,n){if(!angular.isString(t)||!n)return t;n=e.DATETIME_FORMATS[n]||n,this.parsers[n]||(this.parsers[n]=i(n));var o=this.parsers[n],s=o.regex,r=o.map,l=t.match(s);if(l&&l.length){for(var c,h={year:1900,month:0,date:1,hours:0},u=1,d=l.length;d>u;u++){var p=r[u-1];p.apply&&p.apply.call(h,l[u])}return a(h.year,h.month,h.date)&&(c=new Date(h.year,h.month,h.date,h.hours)),c}}}]),angular.module("ui.bootstrap.position",[]).factory("$position",["$document","$window",function(e,t){function i(e,i){return e.currentStyle?e.currentStyle[i]:t.getComputedStyle?t.getComputedStyle(e)[i]:e.style[i]}function a(e){return"static"===(i(e,"position")||"static")}var n=function(t){for(var i=e[0],n=t.offsetParent||i;n&&n!==i&&a(n);)n=n.offsetParent;return n||i};return{position:function(t){var i=this.offset(t),a={top:0,left:0},o=n(t[0]);o!=e[0]&&(a=this.offset(angular.element(o)),a.top+=o.clientTop-o.scrollTop,a.left+=o.clientLeft-o.scrollLeft);var s=t[0].getBoundingClientRect();return{width:s.width||t.prop("offsetWidth"),height:s.height||t.prop("offsetHeight"),top:i.top-a.top,left:i.left-a.left}},offset:function(i){var a=i[0].getBoundingClientRect();return{width:a.width||i.prop("offsetWidth"),height:a.height||i.prop("offsetHeight"),top:a.top+(t.pageYOffset||e[0].documentElement.scrollTop),left:a.left+(t.pageXOffset||e[0].documentElement.scrollLeft)}},positionElements:function(e,t,i,a){var n,o,s,r,l=i.split("-"),c=l[0],h=l[1]||"center";n=a?this.offset(e):this.position(e),o=t.prop("offsetWidth"),s=t.prop("offsetHeight");var u={center:function(){return n.left+n.width/2-o/2},left:function(){return n.left},right:function(){return n.left+n.width}},d={center:function(){return n.top+n.height/2-s/2},top:function(){return n.top},bottom:function(){return n.top+n.height}};switch(c){case"right":r={top:d[h](),left:u[c]()};break;case"left":r={top:d[h](),left:n.left-o};break;case"bottom":r={top:d[c](),left:u[h]()};break;default:r={top:n.top-s,left:u[h]()}}return r}}}]),angular.module("ui.bootstrap.datepicker",["ui.bootstrap.dateparser","ui.bootstrap.position"]).constant("datepickerConfig",{formatDay:"dd",formatMonth:"MMMM",formatYear:"yyyy",formatDayHeader:"EEE",formatDayTitle:"MMMM yyyy",formatMonthTitle:"yyyy",datepickerMode:"day",minMode:"day",maxMode:"year",showWeeks:!0,startingDay:0,yearRange:20,minDate:null,maxDate:null}).controller("DatepickerController",["$scope","$attrs","$parse","$interpolate","$timeout","$log","dateFilter","datepickerConfig",function(e,t,i,a,n,o,s,r){var l=this,c={$setViewValue:angular.noop};this.modes=["day","month","year"],angular.forEach(["formatDay","formatMonth","formatYear","formatDayHeader","formatDayTitle","formatMonthTitle","minMode","maxMode","showWeeks","startingDay","yearRange"],function(i,n){l[i]=angular.isDefined(t[i])?8>n?a(t[i])(e.$parent):e.$parent.$eval(t[i]):r[i]}),angular.forEach(["minDate","maxDate"],function(a){t[a]?e.$parent.$watch(i(t[a]),function(e){l[a]=e?new Date(e):null,l.refreshView()}):l[a]=r[a]?new Date(r[a]):null}),e.datepickerMode=e.datepickerMode||r.datepickerMode,e.uniqueId="datepicker-"+e.$id+"-"+Math.floor(1e4*Math.random()),this.activeDate=angular.isDefined(t.initDate)?e.$parent.$eval(t.initDate):new Date,e.isActive=function(t){return 0===l.compare(t.date,l.activeDate)&&(e.activeDateId=t.uid,!0)},this.init=function(e){c=e,c.$render=function(){l.render()}},this.render=function(){if(c.$modelValue){var e=new Date(c.$modelValue),t=!isNaN(e);t?this.activeDate=e:o.error('Datepicker directive: "ng-model" value must be a Date object, a number of milliseconds since 01.01.1970 or a string representing an RFC2822 or ISO 8601 date.'),c.$setValidity("date",t)}this.refreshView()},this.refreshView=function(){if(this.element){this._refreshView();var e=c.$modelValue?new Date(c.$modelValue):null;c.$setValidity("date-disabled",!e||this.element&&!this.isDisabled(e))}},this.createDateObject=function(e,t){var i=c.$modelValue?new Date(c.$modelValue):null;return{date:e,label:s(e,t),selected:i&&0===this.compare(e,i),disabled:this.isDisabled(e),current:0===this.compare(e,new Date)}},this.isDisabled=function(i){return this.minDate&&this.compare(i,this.minDate)<0||this.maxDate&&this.compare(i,this.maxDate)>0||t.dateDisabled&&e.dateDisabled({date:i,mode:e.datepickerMode})},this.split=function(e,t){for(var i=[];e.length>0;)i.push(e.splice(0,t));return i},e.select=function(t){if(e.datepickerMode===l.minMode){var i=c.$modelValue?new Date(c.$modelValue):new Date(0,0,0,0,0,0,0);i.setFullYear(t.getFullYear(),t.getMonth(),t.getDate()),c.$setViewValue(i),c.$render()}else l.activeDate=t,e.datepickerMode=l.modes[l.modes.indexOf(e.datepickerMode)-1]},e.move=function(e){var t=l.activeDate.getFullYear()+e*(l.step.years||0),i=l.activeDate.getMonth()+e*(l.step.months||0);l.activeDate.setFullYear(t,i,1),l.refreshView()},e.toggleMode=function(t){t=t||1,e.datepickerMode===l.maxMode&&1===t||e.datepickerMode===l.minMode&&-1===t||(e.datepickerMode=l.modes[l.modes.indexOf(e.datepickerMode)+t])},e.keys={13:"enter",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down"};var h=function(){n(function(){l.element[0].focus()},0,!1)};e.$on("datepicker.focus",h),e.keydown=function(t){var i=e.keys[t.which];if(i&&!t.shiftKey&&!t.altKey)if(t.preventDefault(),t.stopPropagation(),"enter"===i||"space"===i){if(l.isDisabled(l.activeDate))return;e.select(l.activeDate),h()}else!t.ctrlKey||"up"!==i&&"down"!==i?(l.handleKeyDown(i,t),l.refreshView()):(e.toggleMode("up"===i?1:-1),h())}}]).directive("datepicker",function(){return{restrict:"EA",replace:!0,templateUrl:"template/datepicker/datepicker.html",scope:{datepickerMode:"=?",dateDisabled:"&"},require:["datepicker","?^ngModel"],controller:"DatepickerController",link:function(e,t,i,a){var n=a[0],o=a[1];o&&n.init(o)}}}).directive("daypicker",["dateFilter",function(e){return{restrict:"EA",replace:!0,templateUrl:"template/datepicker/day.html",require:"^datepicker",link:function(t,i,a,n){function o(e,t){return 1!==t||e%4!=0||e%100==0&&e%400!=0?l[t]:29}function s(e,t){var i=new Array(t),a=new Date(e),n=0;for(a.setHours(12);t>n;)i[n++]=new Date(a),a.setDate(a.getDate()+1);return i}function r(e){var t=new Date(e);t.setDate(t.getDate()+4-(t.getDay()||7));var i=t.getTime();return t.setMonth(0),t.setDate(1),Math.floor(Math.round((i-t)/864e5)/7)+1}t.showWeeks=n.showWeeks,n.step={months:1},n.element=i;var l=[31,28,31,30,31,30,31,31,30,31,30,31];n._refreshView=function(){var i=n.activeDate.getFullYear(),a=n.activeDate.getMonth(),o=new Date(i,a,1),l=n.startingDay-o.getDay(),c=l>0?7-l:-l,h=new Date(o);c>0&&h.setDate(1-c);for(var u=s(h,42),d=0;42>d;d++)u[d]=angular.extend(n.createDateObject(u[d],n.formatDay),{secondary:u[d].getMonth()!==a,uid:t.uniqueId+"-"+d});t.labels=new Array(7);for(var p=0;7>p;p++)t.labels[p]={abbr:e(u[p].date,n.formatDayHeader),full:e(u[p].date,"EEEE")};if(t.title=e(n.activeDate,n.formatDayTitle),t.rows=n.split(u,7),t.showWeeks){t.weekNumbers=[];for(var f=r(t.rows[0][0].date),m=t.rows.length;t.weekNumbers.push(f++)<m;);}},n.compare=function(e,t){return new Date(e.getFullYear(),e.getMonth(),e.getDate())-new Date(t.getFullYear(),t.getMonth(),t.getDate())},n.handleKeyDown=function(e){var t=n.activeDate.getDate();if("left"===e)t-=1;else if("up"===e)t-=7;else if("right"===e)t+=1;else if("down"===e)t+=7;else if("pageup"===e||"pagedown"===e){var i=n.activeDate.getMonth()+("pageup"===e?-1:1);n.activeDate.setMonth(i,1),t=Math.min(o(n.activeDate.getFullYear(),n.activeDate.getMonth()),t)}else"home"===e?t=1:"end"===e&&(t=o(n.activeDate.getFullYear(),n.activeDate.getMonth()));n.activeDate.setDate(t)},n.refreshView()}}}]).directive("monthpicker",["dateFilter",function(e){return{restrict:"EA",replace:!0,templateUrl:"template/datepicker/month.html",require:"^datepicker",link:function(t,i,a,n){n.step={years:1},n.element=i,n._refreshView=function(){for(var i=new Array(12),a=n.activeDate.getFullYear(),o=0;12>o;o++)i[o]=angular.extend(n.createDateObject(new Date(a,o,1),n.formatMonth),{uid:t.uniqueId+"-"+o});t.title=e(n.activeDate,n.formatMonthTitle),t.rows=n.split(i,3)},n.compare=function(e,t){return new Date(e.getFullYear(),e.getMonth())-new Date(t.getFullYear(),t.getMonth())},n.handleKeyDown=function(e){var t=n.activeDate.getMonth();if("left"===e)t-=1;else if("up"===e)t-=3;else if("right"===e)t+=1;else if("down"===e)t+=3;else if("pageup"===e||"pagedown"===e){var i=n.activeDate.getFullYear()+("pageup"===e?-1:1);n.activeDate.setFullYear(i)}else"home"===e?t=0:"end"===e&&(t=11);n.activeDate.setMonth(t)},n.refreshView()}}}]).directive("yearpicker",["dateFilter",function(){return{restrict:"EA",replace:!0,templateUrl:"template/datepicker/year.html",require:"^datepicker",link:function(e,t,i,a){function n(e){return parseInt((e-1)/o,10)*o+1}var o=a.yearRange;a.step={years:o},a.element=t,a._refreshView=function(){for(var t=new Array(o),i=0,s=n(a.activeDate.getFullYear());o>i;i++)t[i]=angular.extend(a.createDateObject(new Date(s+i,0,1),a.formatYear),{uid:e.uniqueId+"-"+i});e.title=[t[0].label,t[o-1].label].join(" - "),e.rows=a.split(t,5)},a.compare=function(e,t){return e.getFullYear()-t.getFullYear()},a.handleKeyDown=function(e){var t=a.activeDate.getFullYear();"left"===e?t-=1:"up"===e?t-=5:"right"===e?t+=1:"down"===e?t+=5:"pageup"===e||"pagedown"===e?t+=("pageup"===e?-1:1)*a.step.years:"home"===e?t=n(a.activeDate.getFullYear()):"end"===e&&(t=n(a.activeDate.getFullYear())+o-1),a.activeDate.setFullYear(t)},a.refreshView()}}}]).constant("datepickerPopupConfig",{datepickerPopup:"yyyy-MM-dd",currentText:"Today",clearText:"Clear",closeText:"Done",closeOnDateSelection:!0,appendToBody:!1,showButtonBar:!0}).directive("datepickerPopup",["$compile","$parse","$document","$position","dateFilter","dateParser","datepickerPopupConfig",function(e,t,i,a,n,o,s){return{restrict:"EA",require:"ngModel",scope:{isOpen:"=?",currentText:"@",clearText:"@",closeText:"@",dateDisabled:"&"},link:function(r,l,c,h){function u(e){return e.replace(/([A-Z])/g,function(e){return"-"+e.toLowerCase()})}function d(e){if(e){if(angular.isDate(e)&&!isNaN(e))return h.$setValidity("date",!0),e;if(angular.isString(e)){var t=o.parse(e,p)||new Date(e);return isNaN(t)?void h.$setValidity("date",!1):(h.$setValidity("date",!0),t)}return void h.$setValidity("date",!1)}return h.$setValidity("date",!0),null}var p,f=angular.isDefined(c.closeOnDateSelection)?r.$parent.$eval(c.closeOnDateSelection):s.closeOnDateSelection,m=angular.isDefined(c.datepickerAppendToBody)?r.$parent.$eval(c.datepickerAppendToBody):s.appendToBody;r.showButtonBar=angular.isDefined(c.showButtonBar)?r.$parent.$eval(c.showButtonBar):s.showButtonBar,r.getText=function(e){return r[e+"Text"]||s[e+"Text"]},c.$observe("datepickerPopup",function(e){p=e||s.datepickerPopup,h.$render()});var g=angular.element("<div datepicker-popup-wrap><div datepicker></div></div>");g.attr({"ng-model":"date","ng-change":"dateSelection()"});var v=angular.element(g.children()[0]);c.datepickerOptions&&angular.forEach(r.$parent.$eval(c.datepickerOptions),function(e,t){v.attr(u(t),e)}),r.watchData={},angular.forEach(["minDate","maxDate","datepickerMode"],function(e){if(c[e]){var i=t(c[e]);if(r.$parent.$watch(i,function(t){r.watchData[e]=t}),v.attr(u(e),"watchData."+e),"datepickerMode"===e){var a=i.assign;r.$watch("watchData."+e,function(e,t){e!==t&&a(r.$parent,e)})}}}),c.dateDisabled&&v.attr("date-disabled","dateDisabled({ date: date, mode: mode })"),h.$parsers.unshift(d),r.dateSelection=function(e){angular.isDefined(e)&&(r.date=e),h.$setViewValue(r.date),h.$render(),f&&(r.isOpen=!1,l[0].focus())},l.bind("input change keyup",function(){r.$apply(function(){r.date=h.$modelValue})}),h.$render=function(){var e=h.$viewValue?n(h.$viewValue,p):"";l.val(e),r.date=d(h.$modelValue)};var b=function(e){r.isOpen&&e.target!==l[0]&&r.$apply(function(){r.isOpen=!1})},y=function(e){r.keydown(e)};l.bind("keydown",y),r.keydown=function(e){27===e.which?(e.preventDefault(),e.stopPropagation(),r.close()):40!==e.which||r.isOpen||(r.isOpen=!0)},r.$watch("isOpen",function(e){e?(r.$broadcast("datepicker.focus"),r.position=m?a.offset(l):a.position(l),r.position.top=r.position.top+l.prop("offsetHeight"),i.bind("click",b)):i.unbind("click",b)}),r.select=function(e){if("today"===e){var t=new Date;angular.isDate(h.$modelValue)?(e=new Date(h.$modelValue),e.setFullYear(t.getFullYear(),t.getMonth(),t.getDate())):e=new Date(t.setHours(0,0,0,0))}r.dateSelection(e)},r.close=function(){r.isOpen=!1,l[0].focus()};var x=e(g)(r);g.remove(),m?i.find("body").append(x):l.after(x),r.$on("$destroy",function(){x.remove(),l.unbind("keydown",y),i.unbind("click",b)})}}}]).directive("datepickerPopupWrap",function(){return{restrict:"EA",replace:!0,transclude:!0,templateUrl:"template/datepicker/popup.html",link:function(e,t){t.bind("click",function(e){e.preventDefault(),e.stopPropagation()})}}}),angular.module("ui.bootstrap.dropdown",[]).constant("dropdownConfig",{openClass:"open"}).service("dropdownService",["$document",function(e){var t=null;this.open=function(n){t||(e.bind("click",i),e.bind("keydown",a)),t&&t!==n&&(t.isOpen=!1),t=n},this.close=function(n){t===n&&(t=null,e.unbind("click",i),e.unbind("keydown",a))};var i=function(e){if(t){var i=t.getToggleElement();e&&i&&i[0].contains(e.target)||t.$apply(function(){t.isOpen=!1})}},a=function(e){27===e.which&&(t.focusToggleElement(),i())}}]).controller("DropdownController",["$scope","$attrs","$parse","dropdownConfig","dropdownService","$animate",function(e,t,i,a,n,o){var s,r=this,l=e.$new(),c=a.openClass,h=angular.noop,u=t.onToggle?i(t.onToggle):angular.noop;this.init=function(a){r.$element=a,t.isOpen&&(s=i(t.isOpen),h=s.assign,e.$watch(s,function(e){l.isOpen=!!e}))},this.toggle=function(e){return l.isOpen=arguments.length?!!e:!l.isOpen},this.isOpen=function(){return l.isOpen},l.getToggleElement=function(){return r.toggleElement},l.focusToggleElement=function(){r.toggleElement&&r.toggleElement[0].focus()},l.$watch("isOpen",function(t,i){o[t?"addClass":"removeClass"](r.$element,c),t?(l.focusToggleElement(),n.open(l)):n.close(l),h(e,t),angular.isDefined(t)&&t!==i&&u(e,{open:!!t})}),e.$on("$locationChangeSuccess",function(){l.isOpen=!1}),e.$on("$destroy",function(){l.$destroy()})}]).directive("dropdown",function(){return{controller:"DropdownController",link:function(e,t,i,a){a.init(t)}}}).directive("dropdownToggle",function(){return{require:"?^dropdown",link:function(e,t,i,a){if(a){a.toggleElement=t;var n=function(n){n.preventDefault(),t.hasClass("disabled")||i.disabled||e.$apply(function(){a.toggle()})};t.bind("click",n),t.attr({"aria-haspopup":!0,"aria-expanded":!1}),e.$watch(a.isOpen,function(e){t.attr("aria-expanded",!!e)}),e.$on("$destroy",function(){t.unbind("click",n)})}}}}),angular.module("ui.bootstrap.modal",["ui.bootstrap.transition"]).factory("$$stackedMap",function(){return{createNew:function(){var e=[];return{add:function(t,i){e.push({key:t,value:i})},get:function(t){for(var i=0;i<e.length;i++)if(t==e[i].key)return e[i]},keys:function(){for(var t=[],i=0;i<e.length;i++)t.push(e[i].key);return t},top:function(){return e[e.length-1]},remove:function(t){for(var i=-1,a=0;a<e.length;a++)if(t==e[a].key){i=a;break}return e.splice(i,1)[0]},removeTop:function(){return e.splice(e.length-1,1)[0]},length:function(){return e.length}}}}}).directive("modalBackdrop",["$timeout",function(e){return{restrict:"EA",replace:!0,templateUrl:"template/modal/backdrop.html",link:function(t,i,a){t.backdropClass=a.backdropClass||"",t.animate=!1,e(function(){t.animate=!0})}}}]).directive("modalWindow",["$modalStack","$timeout",function(e,t){return{restrict:"EA",scope:{index:"@",animate:"="},replace:!0,transclude:!0,templateUrl:function(e,t){return t.templateUrl||"template/modal/window.html"},link:function(i,a,n){a.addClass(n.windowClass||""),i.size=n.size,t(function(){i.animate=!0,a[0].querySelectorAll("[autofocus]").length||a[0].focus()}),i.close=function(t){var i=e.getTop();i&&i.value.backdrop&&"static"!=i.value.backdrop&&t.target===t.currentTarget&&(t.preventDefault(),t.stopPropagation(),e.dismiss(i.key,"backdrop click"))}}}}]).directive("modalTransclude",function(){return{link:function(e,t,i,a,n){n(e.$parent,function(e){t.empty(),t.append(e)})}}}).factory("$modalStack",["$transition","$timeout","$document","$compile","$rootScope","$$stackedMap",function(e,t,i,a,n,o){function s(){for(var e=-1,t=p.keys(),i=0;i<t.length;i++)p.get(t[i]).value.backdrop&&(e=i);return e}function r(e){var t=i.find("body").eq(0),a=p.get(e).value;p.remove(e),c(a.modalDomEl,a.modalScope,300,function(){a.modalScope.$destroy(),t.toggleClass(d,p.length()>0),l()})}function l(){if(h&&-1==s()){var e=u;c(h,u,150,function(){e.$destroy(),e=null}),h=void 0,u=void 0}}function c(i,a,n,o){function s(){s.done||(s.done=!0,i.remove(),o&&o())}a.animate=!1;var r=e.transitionEndEventName;if(r){var l=t(s,n);i.bind(r,function(){t.cancel(l),s(),a.$apply()})}else t(s)}var h,u,d="modal-open",p=o.createNew(),f={};return n.$watch(s,function(e){u&&(u.index=e)}),i.bind("keydown",function(e){var t;27===e.which&&(t=p.top())&&t.value.keyboard&&(e.preventDefault(),n.$apply(function(){f.dismiss(t.key,"escape key press")}))}),f.open=function(e,t){p.add(e,{deferred:t.deferred,modalScope:t.scope,backdrop:t.backdrop,keyboard:t.keyboard});var o=i.find("body").eq(0),r=s();if(r>=0&&!h){u=n.$new(!0),u.index=r;var l=angular.element("<div modal-backdrop></div>");l.attr("backdrop-class",t.backdropClass),h=a(l)(u),o.append(h)}var c=angular.element("<div modal-window></div>");c.attr({"template-url":t.windowTemplateUrl,"window-class":t.windowClass,size:t.size,index:p.length()-1,animate:"animate"}).html(t.content);var f=a(c)(t.scope);p.top().value.modalDomEl=f,o.append(f),o.addClass(d)},f.close=function(e,t){var i=p.get(e);i&&(i.value.deferred.resolve(t),r(e))},f.dismiss=function(e,t){var i=p.get(e);i&&(i.value.deferred.reject(t),r(e))},f.dismissAll=function(e){for(var t=this.getTop();t;)this.dismiss(t.key,e),t=this.getTop()},f.getTop=function(){return p.top()},f}]).provider("$modal",function(){var e={options:{backdrop:!0,keyboard:!0},$get:["$injector","$rootScope","$q","$http","$templateCache","$controller","$modalStack",function(t,i,a,n,o,s,r){function l(e){return e.template?a.when(e.template):n.get(angular.isFunction(e.templateUrl)?e.templateUrl():e.templateUrl,{cache:o}).then(function(e){return e.data})}function c(e){var i=[];return angular.forEach(e,function(e){(angular.isFunction(e)||angular.isArray(e))&&i.push(a.when(t.invoke(e)))}),i}var h={};return h.open=function(t){var n=a.defer(),o=a.defer(),h={result:n.promise,opened:o.promise,close:function(e){r.close(h,e)},dismiss:function(e){r.dismiss(h,e)}};if(t=angular.extend({},e.options,t),t.resolve=t.resolve||{},!t.template&&!t.templateUrl)throw new Error("One of template or templateUrl options is required.");var u=a.all([l(t)].concat(c(t.resolve)));return u.then(function(e){var a=(t.scope||i).$new();a.$close=h.close,a.$dismiss=h.dismiss;var o,l={},c=1;t.controller&&(l.$scope=a,l.$modalInstance=h,angular.forEach(t.resolve,function(t,i){l[i]=e[c++]}),o=s(t.controller,l),t.controllerAs&&(a[t.controllerAs]=o)),r.open(h,{scope:a,deferred:n,content:e[0],backdrop:t.backdrop,keyboard:t.keyboard,backdropClass:t.backdropClass,windowClass:t.windowClass,windowTemplateUrl:t.windowTemplateUrl,size:t.size})},function(e){n.reject(e)}),u.then(function(){o.resolve(!0)},function(){o.reject(!1)}),h},h}]};return e}),angular.module("ui.bootstrap.pagination",[]).controller("PaginationController",["$scope","$attrs","$parse",function(e,t,i){var a=this,n={$setViewValue:angular.noop},o=t.numPages?i(t.numPages).assign:angular.noop;this.init=function(o,s){n=o,this.config=s,n.$render=function(){a.render()},t.itemsPerPage?e.$parent.$watch(i(t.itemsPerPage),function(t){a.itemsPerPage=parseInt(t,10),e.totalPages=a.calculateTotalPages()}):this.itemsPerPage=s.itemsPerPage},this.calculateTotalPages=function(){var t=this.itemsPerPage<1?1:Math.ceil(e.totalItems/this.itemsPerPage);return Math.max(t||0,1)},this.render=function(){e.page=parseInt(n.$viewValue,10)||1},e.selectPage=function(t){e.page!==t&&t>0&&t<=e.totalPages&&(n.$setViewValue(t),n.$render())},e.getText=function(t){return e[t+"Text"]||a.config[t+"Text"]},e.noPrevious=function(){return 1===e.page},e.noNext=function(){return e.page===e.totalPages},e.$watch("totalItems",function(){e.totalPages=a.calculateTotalPages()}),e.$watch("totalPages",function(t){o(e.$parent,t),e.page>t?e.selectPage(t):n.$render()})}]).constant("paginationConfig",{itemsPerPage:10,boundaryLinks:!1,directionLinks:!0,firstText:"First",previousText:"Previous",nextText:"Next",lastText:"Last",rotate:!0}).directive("pagination",["$parse","paginationConfig",function(e,t){return{restrict:"EA",scope:{totalItems:"=",firstText:"@",previousText:"@",nextText:"@",lastText:"@"},require:["pagination","?ngModel"],controller:"PaginationController",templateUrl:"template/pagination/pagination.html",replace:!0,link:function(i,a,n,o){function s(e,t,i){return{number:e,text:t,active:i}}function r(e,t){var i=[],a=1,n=t,o=angular.isDefined(h)&&t>h;o&&(u?(a=Math.max(e-Math.floor(h/2),1),(n=a+h-1)>t&&(n=t,a=n-h+1)):(a=(Math.ceil(e/h)-1)*h+1,n=Math.min(a+h-1,t)));for(var r=a;n>=r;r++){var l=s(r,r,r===e);i.push(l)}if(o&&!u){if(a>1){var c=s(a-1,"...",!1);i.unshift(c)}if(t>n){var d=s(n+1,"...",!1);i.push(d)}}return i}var l=o[0],c=o[1];if(c){var h=angular.isDefined(n.maxSize)?i.$parent.$eval(n.maxSize):t.maxSize,u=angular.isDefined(n.rotate)?i.$parent.$eval(n.rotate):t.rotate;i.boundaryLinks=angular.isDefined(n.boundaryLinks)?i.$parent.$eval(n.boundaryLinks):t.boundaryLinks,i.directionLinks=angular.isDefined(n.directionLinks)?i.$parent.$eval(n.directionLinks):t.directionLinks,l.init(c,t),n.maxSize&&i.$parent.$watch(e(n.maxSize),function(e){h=parseInt(e,10),l.render()});var d=l.render;l.render=function(){d(),i.page>0&&i.page<=i.totalPages&&(i.pages=r(i.page,i.totalPages))}}}}}]).constant("pagerConfig",{itemsPerPage:10,previousText:" Previous",nextText:"Next ",align:!0}).directive("pager",["pagerConfig",function(e){return{restrict:"EA",scope:{totalItems:"=",previousText:"@",nextText:"@"},require:["pager","?ngModel"],controller:"PaginationController",templateUrl:"template/pagination/pager.html",replace:!0,link:function(t,i,a,n){var o=n[0],s=n[1];s&&(t.align=angular.isDefined(a.align)?t.$parent.$eval(a.align):e.align,o.init(s,e))}}}]),angular.module("ui.bootstrap.tooltip",["ui.bootstrap.position","ui.bootstrap.bindHtml"]).provider("$tooltip",function(){function e(e){var t=/[A-Z]/g;return e.replace(t,function(e,t){return(t?"-":"")+e.toLowerCase()})}var t={placement:"top",animation:!0,popupDelay:0},i={mouseenter:"mouseleave",click:"click",focus:"blur"},a={};this.options=function(e){angular.extend(a,e)},this.setTriggers=function(e){angular.extend(i,e)},this.$get=["$window","$compile","$timeout","$document","$position","$interpolate",function(n,o,s,r,l,c){return function(n,h,u){function d(e){var t=e||p.trigger||u;return{show:t,hide:i[t]||t}}var p=angular.extend({},t,a),f=e(n),m=c.startSymbol(),g=c.endSymbol(),v="<div "+f+'-popup title="'+m+"title"+g+'" content="'+m+"content"+g+'" placement="'+m+"placement"+g+'" animation="animation" is-open="isOpen"></div>';return{restrict:"EA",compile:function(){var e=o(v);return function(t,i,a){function o(){P.isOpen?u():c()}function c(){(!M||t.$eval(a[h+"Enable"]))&&(b(),P.popupDelay?S||(S=s(f,P.popupDelay,!1),S.then(function(e){e()})):f()())}function u(){t.$apply(function(){m()})}function f(){return S=null,k&&(s.cancel(k),k=null),P.content?(g(),C.css({top:0,left:0,display:"block"}),D?r.find("body").append(C):i.after(C),$(),P.isOpen=!0,P.$digest(),$):angular.noop}function m(){P.isOpen=!1,s.cancel(S),S=null,P.animation?k||(k=s(v,500)):v()}function g(){C&&v(),w=P.$new(),C=e(w,angular.noop)}function v(){k=null,C&&(C.remove(),C=null),w&&(w.$destroy(),w=null)}function b(){y(),x()}function y(){var e=a[h+"Placement"];P.placement=angular.isDefined(e)?e:p.placement}function x(){var e=a[h+"PopupDelay"],t=parseInt(e,10);P.popupDelay=isNaN(t)?p.popupDelay:t}var C,w,k,S,D=!!angular.isDefined(p.appendToBody)&&p.appendToBody,T=d(void 0),M=angular.isDefined(a[h+"Enable"]),P=t.$new(!0),$=function(){var e=l.positionElements(i,C,P.placement,D);e.top+="px",e.left+="px",C.css(e)};P.isOpen=!1,a.$observe(n,function(e){P.content=e,!e&&P.isOpen&&m()}),a.$observe(h+"Title",function(e){P.title=e});var _=function(){i.unbind(T.show,c),i.unbind(T.hide,u)};!function(){var e=a[h+"Trigger"];_(),T=d(e),T.show===T.hide?i.bind(T.show,o):(i.bind(T.show,c),i.bind(T.hide,u))}();var A=t.$eval(a[h+"Animation"]);P.animation=angular.isDefined(A)?!!A:p.animation;var I=t.$eval(a[h+"AppendToBody"]);D=angular.isDefined(I)?I:D,D&&t.$on("$locationChangeSuccess",function(){P.isOpen&&m()}),t.$on("$destroy",function(){s.cancel(k),s.cancel(S),_(),v(),P=null})}}}}}]}).directive("tooltipPopup",function(){return{restrict:"EA",replace:!0,scope:{content:"@",placement:"@",animation:"&",isOpen:"&"},templateUrl:"template/tooltip/tooltip-popup.html"}}).directive("tooltip",["$tooltip",function(e){return e("tooltip","tooltip","mouseenter")}]).directive("tooltipHtmlUnsafePopup",function(){return{restrict:"EA",replace:!0,scope:{content:"@",placement:"@",animation:"&",isOpen:"&"},templateUrl:"template/tooltip/tooltip-html-unsafe-popup.html"}}).directive("tooltipHtmlUnsafe",["$tooltip",function(e){return e("tooltipHtmlUnsafe","tooltip","mouseenter")}]),angular.module("ui.bootstrap.popover",["ui.bootstrap.tooltip"]).directive("popoverPopup",function(){return{restrict:"EA",replace:!0,scope:{title:"@",content:"@",placement:"@",animation:"&",isOpen:"&"},templateUrl:"template/popover/popover.html"}}).directive("popover",["$tooltip",function(e){return e("popover","popover","click")}]),angular.module("ui.bootstrap.progressbar",[]).constant("progressConfig",{animate:!0,max:100}).controller("ProgressController",["$scope","$attrs","progressConfig",function(e,t,i){var a=this,n=angular.isDefined(t.animate)?e.$parent.$eval(t.animate):i.animate;this.bars=[],e.max=angular.isDefined(t.max)?e.$parent.$eval(t.max):i.max,this.addBar=function(t,i){n||i.css({transition:"none"}),this.bars.push(t),t.$watch("value",function(i){t.percent=+(100*i/e.max).toFixed(2)}),t.$on("$destroy",function(){i=null,a.removeBar(t)})},this.removeBar=function(e){this.bars.splice(this.bars.indexOf(e),1)}}]).directive("progress",function(){return{restrict:"EA",replace:!0,transclude:!0,controller:"ProgressController",require:"progress",scope:{},templateUrl:"template/progressbar/progress.html"}}).directive("bar",function(){return{restrict:"EA",replace:!0,transclude:!0,require:"^progress",scope:{value:"=",type:"@"},templateUrl:"template/progressbar/bar.html",link:function(e,t,i,a){a.addBar(e,t)}}}).directive("progressbar",function(){return{restrict:"EA",replace:!0,transclude:!0,controller:"ProgressController",scope:{value:"=",type:"@"},templateUrl:"template/progressbar/progressbar.html",link:function(e,t,i,a){a.addBar(e,angular.element(t.children()[0]))}}}),angular.module("ui.bootstrap.rating",[]).constant("ratingConfig",{max:5,stateOn:null,stateOff:null}).controller("RatingController",["$scope","$attrs","ratingConfig",function(e,t,i){var a={$setViewValue:angular.noop};this.init=function(n){a=n,a.$render=this.render,this.stateOn=angular.isDefined(t.stateOn)?e.$parent.$eval(t.stateOn):i.stateOn,
this.stateOff=angular.isDefined(t.stateOff)?e.$parent.$eval(t.stateOff):i.stateOff;var o=angular.isDefined(t.ratingStates)?e.$parent.$eval(t.ratingStates):new Array(angular.isDefined(t.max)?e.$parent.$eval(t.max):i.max);e.range=this.buildTemplateObjects(o)},this.buildTemplateObjects=function(e){for(var t=0,i=e.length;i>t;t++)e[t]=angular.extend({index:t},{stateOn:this.stateOn,stateOff:this.stateOff},e[t]);return e},e.rate=function(t){!e.readonly&&t>=0&&t<=e.range.length&&(a.$setViewValue(t),a.$render())},e.enter=function(t){e.readonly||(e.value=t),e.onHover({value:t})},e.reset=function(){e.value=a.$viewValue,e.onLeave()},e.onKeydown=function(t){/(37|38|39|40)/.test(t.which)&&(t.preventDefault(),t.stopPropagation(),e.rate(e.value+(38===t.which||39===t.which?1:-1)))},this.render=function(){e.value=a.$viewValue}}]).directive("rating",function(){return{restrict:"EA",require:["rating","ngModel"],scope:{readonly:"=?",onHover:"&",onLeave:"&"},controller:"RatingController",templateUrl:"template/rating/rating.html",replace:!0,link:function(e,t,i,a){var n=a[0],o=a[1];o&&n.init(o)}}}),angular.module("ui.bootstrap.tabs",[]).controller("TabsetController",["$scope",function(e){var t=this,i=t.tabs=e.tabs=[];t.select=function(e){angular.forEach(i,function(t){t.active&&t!==e&&(t.active=!1,t.onDeselect())}),e.active=!0,e.onSelect()},t.addTab=function(e){i.push(e),1===i.length?e.active=!0:e.active&&t.select(e)},t.removeTab=function(e){var n=i.indexOf(e);if(e.active&&i.length>1&&!a){var o=n==i.length-1?n-1:n+1;t.select(i[o])}i.splice(n,1)};var a;e.$on("$destroy",function(){a=!0})}]).directive("tabset",function(){return{restrict:"EA",transclude:!0,replace:!0,scope:{type:"@"},controller:"TabsetController",templateUrl:"template/tabs/tabset.html",link:function(e,t,i){e.vertical=!!angular.isDefined(i.vertical)&&e.$parent.$eval(i.vertical),e.justified=!!angular.isDefined(i.justified)&&e.$parent.$eval(i.justified)}}}).directive("tab",["$parse",function(e){return{require:"^tabset",restrict:"EA",replace:!0,templateUrl:"template/tabs/tab.html",transclude:!0,scope:{active:"=?",heading:"@",onSelect:"&select",onDeselect:"&deselect"},controller:function(){},compile:function(t,i,a){return function(t,i,n,o){t.$watch("active",function(e){e&&o.select(t)}),t.disabled=!1,n.disabled&&t.$parent.$watch(e(n.disabled),function(e){t.disabled=!!e}),t.select=function(){t.disabled||(t.active=!0)},o.addTab(t),t.$on("$destroy",function(){o.removeTab(t)}),t.$transcludeFn=a}}}}]).directive("tabHeadingTransclude",[function(){return{restrict:"A",require:"^tab",link:function(e,t){e.$watch("headingElement",function(e){e&&(t.html(""),t.append(e))})}}}]).directive("tabContentTransclude",function(){function e(e){return e.tagName&&(e.hasAttribute("tab-heading")||e.hasAttribute("data-tab-heading")||"tab-heading"===e.tagName.toLowerCase()||"data-tab-heading"===e.tagName.toLowerCase())}return{restrict:"A",require:"^tabset",link:function(t,i,a){var n=t.$eval(a.tabContentTransclude);n.$transcludeFn(n.$parent,function(t){angular.forEach(t,function(t){e(t)?n.headingElement=t:i.append(t)})})}}}),angular.module("ui.bootstrap.timepicker",[]).constant("timepickerConfig",{hourStep:1,minuteStep:1,showMeridian:!0,meridians:null,readonlyInput:!1,mousewheel:!0}).controller("TimepickerController",["$scope","$attrs","$parse","$log","$locale","timepickerConfig",function(e,t,i,a,n,o){function s(){var t=parseInt(e.hours,10);return(e.showMeridian?t>0&&13>t:t>=0&&24>t)?(e.showMeridian&&(12===t&&(t=0),e.meridian===m[1]&&(t+=12)),t):void 0}function r(){var t=parseInt(e.minutes,10);return t>=0&&60>t?t:void 0}function l(e){return angular.isDefined(e)&&e.toString().length<2?"0"+e:e}function c(e){h(),f.$setViewValue(new Date(p)),u(e)}function h(){f.$setValidity("time",!0),e.invalidHours=!1,e.invalidMinutes=!1}function u(t){var i=p.getHours(),a=p.getMinutes();e.showMeridian&&(i=0===i||12===i?12:i%12),e.hours="h"===t?i:l(i),e.minutes="m"===t?a:l(a),e.meridian=p.getHours()<12?m[0]:m[1]}function d(e){var t=new Date(p.getTime()+6e4*e);p.setHours(t.getHours(),t.getMinutes()),c()}var p=new Date,f={$setViewValue:angular.noop},m=angular.isDefined(t.meridians)?e.$parent.$eval(t.meridians):o.meridians||n.DATETIME_FORMATS.AMPMS;this.init=function(i,a){f=i,f.$render=this.render;var n=a.eq(0),s=a.eq(1);(angular.isDefined(t.mousewheel)?e.$parent.$eval(t.mousewheel):o.mousewheel)&&this.setupMousewheelEvents(n,s),e.readonlyInput=angular.isDefined(t.readonlyInput)?e.$parent.$eval(t.readonlyInput):o.readonlyInput,this.setupInputEvents(n,s)};var g=o.hourStep;t.hourStep&&e.$parent.$watch(i(t.hourStep),function(e){g=parseInt(e,10)});var v=o.minuteStep;t.minuteStep&&e.$parent.$watch(i(t.minuteStep),function(e){v=parseInt(e,10)}),e.showMeridian=o.showMeridian,t.showMeridian&&e.$parent.$watch(i(t.showMeridian),function(t){if(e.showMeridian=!!t,f.$error.time){var i=s(),a=r();angular.isDefined(i)&&angular.isDefined(a)&&(p.setHours(i),c())}else u()}),this.setupMousewheelEvents=function(t,i){var a=function(e){e.originalEvent&&(e=e.originalEvent);var t=e.wheelDelta?e.wheelDelta:-e.deltaY;return e.detail||t>0};t.bind("mousewheel wheel",function(t){e.$apply(a(t)?e.incrementHours():e.decrementHours()),t.preventDefault()}),i.bind("mousewheel wheel",function(t){e.$apply(a(t)?e.incrementMinutes():e.decrementMinutes()),t.preventDefault()})},this.setupInputEvents=function(t,i){if(e.readonlyInput)return e.updateHours=angular.noop,void(e.updateMinutes=angular.noop);var a=function(t,i){f.$setViewValue(null),f.$setValidity("time",!1),angular.isDefined(t)&&(e.invalidHours=t),angular.isDefined(i)&&(e.invalidMinutes=i)};e.updateHours=function(){var e=s();angular.isDefined(e)?(p.setHours(e),c("h")):a(!0)},t.bind("blur",function(){!e.invalidHours&&e.hours<10&&e.$apply(function(){e.hours=l(e.hours)})}),e.updateMinutes=function(){var e=r();angular.isDefined(e)?(p.setMinutes(e),c("m")):a(void 0,!0)},i.bind("blur",function(){!e.invalidMinutes&&e.minutes<10&&e.$apply(function(){e.minutes=l(e.minutes)})})},this.render=function(){var e=f.$modelValue?new Date(f.$modelValue):null;isNaN(e)?(f.$setValidity("time",!1),a.error('Timepicker directive: "ng-model" value must be a Date object, a number of milliseconds since 01.01.1970 or a string representing an RFC2822 or ISO 8601 date.')):(e&&(p=e),h(),u())},e.incrementHours=function(){d(60*g)},e.decrementHours=function(){d(60*-g)},e.incrementMinutes=function(){d(v)},e.decrementMinutes=function(){d(-v)},e.toggleMeridian=function(){d(720*(p.getHours()<12?1:-1))}}]).directive("timepicker",function(){return{restrict:"EA",require:["timepicker","?^ngModel"],controller:"TimepickerController",replace:!0,scope:{},templateUrl:"template/timepicker/timepicker.html",link:function(e,t,i,a){var n=a[0],o=a[1];o&&n.init(o,t.find("input"))}}}),angular.module("ui.bootstrap.typeahead",["ui.bootstrap.position","ui.bootstrap.bindHtml"]).factory("typeaheadParser",["$parse",function(e){var t=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?\s+for\s+(?:([\$\w][\$\w\d]*))\s+in\s+([\s\S]+?)$/;return{parse:function(i){var a=i.match(t);if(!a)throw new Error('Expected typeahead specification in form of "_modelValue_ (as _label_)? for _item_ in _collection_" but got "'+i+'".');return{itemName:a[3],source:e(a[4]),viewMapper:e(a[2]||a[1]),modelMapper:e(a[1])}}}}]).directive("typeahead",["$compile","$parse","$q","$timeout","$document","$position","typeaheadParser",function(e,t,i,a,n,o,s){var r=[9,13,27,38,40];return{require:"ngModel",link:function(l,c,h,u){var d,p=l.$eval(h.typeaheadMinLength)||1,f=l.$eval(h.typeaheadWaitMs)||0,m=!1!==l.$eval(h.typeaheadEditable),g=t(h.typeaheadLoading).assign||angular.noop,v=t(h.typeaheadOnSelect),b=h.typeaheadInputFormatter?t(h.typeaheadInputFormatter):void 0,y=!!h.typeaheadAppendToBody&&l.$eval(h.typeaheadAppendToBody),x=!1!==l.$eval(h.typeaheadFocusFirst),C=t(h.ngModel).assign,w=s.parse(h.typeahead),k=l.$new();l.$on("$destroy",function(){k.$destroy()});var S="typeahead-"+k.$id+"-"+Math.floor(1e4*Math.random());c.attr({"aria-autocomplete":"list","aria-expanded":!1,"aria-owns":S});var D=angular.element("<div typeahead-popup></div>");D.attr({id:S,matches:"matches",active:"activeIdx",select:"select(activeIdx)",query:"query",position:"position"}),angular.isDefined(h.typeaheadTemplateUrl)&&D.attr("template-url",h.typeaheadTemplateUrl);var T=function(){k.matches=[],k.activeIdx=-1,c.attr("aria-expanded",!1)},M=function(e){return S+"-option-"+e};k.$watch("activeIdx",function(e){0>e?c.removeAttr("aria-activedescendant"):c.attr("aria-activedescendant",M(e))});var P=function(e){var t={$viewValue:e};g(l,!0),i.when(w.source(l,t)).then(function(i){var a=e===u.$viewValue;if(a&&d)if(i.length>0){k.activeIdx=x?0:-1,k.matches.length=0;for(var n=0;n<i.length;n++)t[w.itemName]=i[n],k.matches.push({id:M(n),label:w.viewMapper(k,t),model:i[n]});k.query=e,k.position=y?o.offset(c):o.position(c),k.position.top=k.position.top+c.prop("offsetHeight"),c.attr("aria-expanded",!0)}else T();a&&g(l,!1)},function(){T(),g(l,!1)})};T(),k.query=void 0;var $,_=function(e){$=a(function(){P(e)},f)},A=function(){$&&a.cancel($)};u.$parsers.unshift(function(e){return d=!0,e&&e.length>=p?f>0?(A(),_(e)):P(e):(g(l,!1),A(),T()),m?e:e?void u.$setValidity("editable",!1):(u.$setValidity("editable",!0),e)}),u.$formatters.push(function(e){var t,i,a={};return b?(a.$model=e,b(l,a)):(a[w.itemName]=e,t=w.viewMapper(l,a),a[w.itemName]=void 0,i=w.viewMapper(l,a),t!==i?t:e)}),k.select=function(e){var t,i,n={};n[w.itemName]=i=k.matches[e].model,t=w.modelMapper(l,n),C(l,t),u.$setValidity("editable",!0),v(l,{$item:i,$model:t,$label:w.viewMapper(l,n)}),T(),a(function(){c[0].focus()},0,!1)},c.bind("keydown",function(e){0!==k.matches.length&&-1!==r.indexOf(e.which)&&(-1!=k.activeIdx||13!==e.which&&9!==e.which)&&(e.preventDefault(),40===e.which?(k.activeIdx=(k.activeIdx+1)%k.matches.length,k.$digest()):38===e.which?(k.activeIdx=(k.activeIdx>0?k.activeIdx:k.matches.length)-1,k.$digest()):13===e.which||9===e.which?k.$apply(function(){k.select(k.activeIdx)}):27===e.which&&(e.stopPropagation(),T(),k.$digest()))}),c.bind("blur",function(){d=!1});var I=function(e){c[0]!==e.target&&(T(),k.$digest())};n.bind("click",I),l.$on("$destroy",function(){n.unbind("click",I),y&&F.remove()});var F=e(D)(k);y?n.find("body").append(F):c.after(F)}}}]).directive("typeaheadPopup",function(){return{restrict:"EA",scope:{matches:"=",query:"=",active:"=",position:"=",select:"&"},replace:!0,templateUrl:"template/typeahead/typeahead-popup.html",link:function(e,t,i){e.templateUrl=i.templateUrl,e.isOpen=function(){return e.matches.length>0},e.isActive=function(t){return e.active==t},e.selectActive=function(t){e.active=t},e.selectMatch=function(t){e.select({activeIdx:t})}}}}).directive("typeaheadMatch",["$http","$templateCache","$compile","$parse",function(e,t,i,a){return{restrict:"EA",scope:{index:"=",match:"=",query:"="},link:function(n,o,s){var r=a(s.templateUrl)(n.$parent)||"template/typeahead/typeahead-match.html";e.get(r,{cache:t}).success(function(e){o.replaceWith(i(e.trim())(n))})}}}]).filter("typeaheadHighlight",function(){function e(e){return e.replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")}return function(t,i){return i?(""+t).replace(new RegExp(e(i),"gi"),"<strong>$&</strong>"):t}}),angular.module("template/accordion/accordion-group.html",[]).run(["$templateCache",function(e){e.put("template/accordion/accordion-group.html",'<div class="panel panel-default">\n  <div class="panel-heading">\n    <h4 class="panel-title">\n      <a href class="accordion-toggle" ng-click="toggleOpen()" accordion-transclude="heading"><span ng-class="{\'text-muted\': isDisabled}">{{heading}}</span></a>\n    </h4>\n  </div>\n  <div class="panel-collapse" collapse="!isOpen">\n\t  <div class="panel-body" ng-transclude></div>\n  </div>\n</div>\n')}]),angular.module("template/accordion/accordion.html",[]).run(["$templateCache",function(e){e.put("template/accordion/accordion.html",'<div class="panel-group" ng-transclude></div>')}]),angular.module("template/alert/alert.html",[]).run(["$templateCache",function(e){e.put("template/alert/alert.html",'<div class="alert" ng-class="[\'alert-\' + (type || \'warning\'), closeable ? \'alert-dismissable\' : null]" role="alert">\n    <button ng-show="closeable" type="button" class="close" ng-click="close()">\n        <span aria-hidden="true">&times;</span>\n        <span class="sr-only">Close</span>\n    </button>\n    <div ng-transclude></div>\n</div>\n')}]),angular.module("template/carousel/carousel.html",[]).run(["$templateCache",function(e){e.put("template/carousel/carousel.html",'<div ng-mouseenter="pause()" ng-mouseleave="play()" class="carousel" ng-swipe-right="prev()" ng-swipe-left="next()">\n    <ol class="carousel-indicators" ng-show="slides.length > 1">\n        <li ng-repeat="slide in slides track by $index" ng-class="{active: isActive(slide)}" ng-click="select(slide)"></li>\n    </ol>\n    <div class="carousel-inner" ng-transclude></div>\n    <a class="left carousel-control" ng-click="prev()" ng-show="slides.length > 1"><span class="glyphicon glyphicon-chevron-left"></span></a>\n    <a class="right carousel-control" ng-click="next()" ng-show="slides.length > 1"><span class="glyphicon glyphicon-chevron-right"></span></a>\n</div>\n')}]),angular.module("template/carousel/slide.html",[]).run(["$templateCache",function(e){e.put("template/carousel/slide.html","<div ng-class=\"{\n    'active': leaving || (active && !entering),\n    'prev': (next || active) && direction=='prev',\n    'next': (next || active) && direction=='next',\n    'right': direction=='prev',\n    'left': direction=='next'\n  }\" class=\"item text-center\" ng-transclude></div>\n")}]),angular.module("template/datepicker/datepicker.html",[]).run(["$templateCache",function(e){e.put("template/datepicker/datepicker.html",'<div ng-switch="datepickerMode" role="application" ng-keydown="keydown($event)">\n  <daypicker ng-switch-when="day" tabindex="0"></daypicker>\n  <monthpicker ng-switch-when="month" tabindex="0"></monthpicker>\n  <yearpicker ng-switch-when="year" tabindex="0"></yearpicker>\n</div>')}]),angular.module("template/datepicker/day.html",[]).run(["$templateCache",function(e){e.put("template/datepicker/day.html",'<table role="grid" aria-labelledby="{{uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n  <thead>\n    <tr>\n      <th><button type="button" class="btn btn-default btn-sm pull-left" ng-click="move(-1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-left"></i></button></th>\n      <th colspan="{{5 + showWeeks}}"><button id="{{uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-default btn-sm" ng-click="toggleMode()" tabindex="-1" style="width:100%;"><strong>{{title}}</strong></button></th>\n      <th><button type="button" class="btn btn-default btn-sm pull-right" ng-click="move(1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-right"></i></button></th>\n    </tr>\n    <tr>\n      <th ng-show="showWeeks" class="text-center"></th>\n      <th ng-repeat="label in labels track by $index" class="text-center"><small aria-label="{{label.full}}">{{label.abbr}}</small></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr ng-repeat="row in rows track by $index">\n      <td ng-show="showWeeks" class="text-center h6"><em>{{ weekNumbers[$index] }}</em></td>\n      <td ng-repeat="dt in row track by dt.date" class="text-center" role="gridcell" id="{{dt.uid}}" aria-disabled="{{!!dt.disabled}}">\n        <button type="button" style="width:100%;" class="btn btn-default btn-sm" ng-class="{\'btn-info\': dt.selected, active: isActive(dt)}" ng-click="select(dt.date)" ng-disabled="dt.disabled" tabindex="-1"><span ng-class="{\'text-muted\': dt.secondary, \'text-info\': dt.current}">{{dt.label}}</span></button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("template/datepicker/month.html",[]).run(["$templateCache",function(e){e.put("template/datepicker/month.html",'<table role="grid" aria-labelledby="{{uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n  <thead>\n    <tr>\n      <th><button type="button" class="btn btn-default btn-sm pull-left" ng-click="move(-1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-left"></i></button></th>\n      <th><button id="{{uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-default btn-sm" ng-click="toggleMode()" tabindex="-1" style="width:100%;"><strong>{{title}}</strong></button></th>\n      <th><button type="button" class="btn btn-default btn-sm pull-right" ng-click="move(1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-right"></i></button></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr ng-repeat="row in rows track by $index">\n      <td ng-repeat="dt in row track by dt.date" class="text-center" role="gridcell" id="{{dt.uid}}" aria-disabled="{{!!dt.disabled}}">\n        <button type="button" style="width:100%;" class="btn btn-default" ng-class="{\'btn-info\': dt.selected, active: isActive(dt)}" ng-click="select(dt.date)" ng-disabled="dt.disabled" tabindex="-1"><span ng-class="{\'text-info\': dt.current}">{{dt.label}}</span></button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("template/datepicker/popup.html",[]).run(["$templateCache",function(e){e.put("template/datepicker/popup.html",'<ul class="dropdown-menu" ng-style="{display: (isOpen && \'block\') || \'none\', top: position.top+\'px\', left: position.left+\'px\'}" ng-keydown="keydown($event)">\n\t<li ng-transclude></li>\n\t<li ng-if="showButtonBar" style="padding:10px 9px 2px">\n\t\t<span class="btn-group pull-left">\n\t\t\t<button type="button" class="btn btn-sm btn-info" ng-click="select(\'today\')">{{ getText(\'current\') }}</button>\n\t\t\t<button type="button" class="btn btn-sm btn-danger" ng-click="select(null)">{{ getText(\'clear\') }}</button>\n\t\t</span>\n\t\t<button type="button" class="btn btn-sm btn-success pull-right" ng-click="close()">{{ getText(\'close\') }}</button>\n\t</li>\n</ul>\n')}]),angular.module("template/datepicker/year.html",[]).run(["$templateCache",function(e){e.put("template/datepicker/year.html",'<table role="grid" aria-labelledby="{{uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n  <thead>\n    <tr>\n      <th><button type="button" class="btn btn-default btn-sm pull-left" ng-click="move(-1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-left"></i></button></th>\n      <th colspan="3"><button id="{{uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-default btn-sm" ng-click="toggleMode()" tabindex="-1" style="width:100%;"><strong>{{title}}</strong></button></th>\n      <th><button type="button" class="btn btn-default btn-sm pull-right" ng-click="move(1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-right"></i></button></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr ng-repeat="row in rows track by $index">\n      <td ng-repeat="dt in row track by dt.date" class="text-center" role="gridcell" id="{{dt.uid}}" aria-disabled="{{!!dt.disabled}}">\n        <button type="button" style="width:100%;" class="btn btn-default" ng-class="{\'btn-info\': dt.selected, active: isActive(dt)}" ng-click="select(dt.date)" ng-disabled="dt.disabled" tabindex="-1"><span ng-class="{\'text-info\': dt.current}">{{dt.label}}</span></button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("template/modal/backdrop.html",[]).run(["$templateCache",function(e){e.put("template/modal/backdrop.html",'<div class="modal-backdrop fade {{ backdropClass }}"\n     ng-class="{in: animate}"\n     ng-style="{\'z-index\': 10040 + (index && 1 || 0) + index*10}"\n></div>\n')}]),angular.module("template/modal/window.html",[]).run(["$templateCache",function(e){e.put("template/modal/window.html",'<div tabindex="-1" role="dialog" class="modal fade" ng-class="{in: animate}" ng-style="{\'z-index\': 10050 + index*10, display: \'block\'}" ng-click="close($event)">\n    <div class="modal-dialog" ng-class="{\'modal-sm\': size == \'sm\', \'modal-lg\': size == \'lg\'}"><div class="modal-content" modal-transclude></div></div>\n</div>')}]),angular.module("template/pagination/pager.html",[]).run(["$templateCache",function(e){e.put("template/pagination/pager.html",'<ul class="pager">\n  <li ng-class="{disabled: noPrevious(), previous: align}"><a href ng-click="selectPage(page - 1)">{{getText(\'previous\')}}</a></li>\n  <li ng-class="{disabled: noNext(), next: align}"><a href ng-click="selectPage(page + 1)">{{getText(\'next\')}}</a></li>\n</ul>')}]),angular.module("template/pagination/pagination.html",[]).run(["$templateCache",function(e){e.put("template/pagination/pagination.html",'<ul class="pagination">\n  <li ng-if="boundaryLinks" ng-class="{disabled: noPrevious()}"><a href ng-click="selectPage(1)">{{getText(\'first\')}}</a></li>\n  <li ng-if="directionLinks" ng-class="{disabled: noPrevious()}"><a href ng-click="selectPage(page - 1)">{{getText(\'previous\')}}</a></li>\n  <li ng-repeat="page in pages track by $index" ng-class="{active: page.active}"><a href ng-click="selectPage(page.number)">{{page.text}}</a></li>\n  <li ng-if="directionLinks" ng-class="{disabled: noNext()}"><a href ng-click="selectPage(page + 1)">{{getText(\'next\')}}</a></li>\n  <li ng-if="boundaryLinks" ng-class="{disabled: noNext()}"><a href ng-click="selectPage(totalPages)">{{getText(\'last\')}}</a></li>\n</ul>')}]),angular.module("template/tooltip/tooltip-html-unsafe-popup.html",[]).run(["$templateCache",function(e){e.put("template/tooltip/tooltip-html-unsafe-popup.html",'<div class="tooltip {{placement}}" ng-class="{ in: isOpen(), fade: animation() }">\n  <div class="tooltip-arrow"></div>\n  <div class="tooltip-inner" bind-html-unsafe="content"></div>\n</div>\n')}]),angular.module("template/tooltip/tooltip-popup.html",[]).run(["$templateCache",function(e){e.put("template/tooltip/tooltip-popup.html",'<div class="tooltip {{placement}}" ng-class="{ in: isOpen(), fade: animation() }">\n  <div class="tooltip-arrow"></div>\n  <div class="tooltip-inner" ng-bind="content"></div>\n</div>\n')}]),angular.module("template/popover/popover.html",[]).run(["$templateCache",function(e){e.put("template/popover/popover.html",'<div class="popover {{placement}}" ng-class="{ in: isOpen(), fade: animation() }">\n  <div class="arrow"></div>\n\n  <div class="popover-inner">\n      <h3 class="popover-title" ng-bind="title" ng-show="title"></h3>\n      <div class="popover-content" ng-bind="content"></div>\n  </div>\n</div>\n')}]),angular.module("template/progressbar/bar.html",[]).run(["$templateCache",function(e){e.put("template/progressbar/bar.html",'<div class="progress-bar" ng-class="type && \'progress-bar-\' + type" role="progressbar" aria-valuenow="{{value}}" aria-valuemin="0" aria-valuemax="{{max}}" ng-style="{width: percent + \'%\'}" aria-valuetext="{{percent | number:0}}%" ng-transclude></div>')}]),angular.module("template/progressbar/progress.html",[]).run(["$templateCache",function(e){e.put("template/progressbar/progress.html",'<div class="progress" ng-transclude></div>')}]),angular.module("template/progressbar/progressbar.html",[]).run(["$templateCache",function(e){e.put("template/progressbar/progressbar.html",'<div class="progress">\n  <div class="progress-bar" ng-class="type && \'progress-bar-\' + type" role="progressbar" aria-valuenow="{{value}}" aria-valuemin="0" aria-valuemax="{{max}}" ng-style="{width: percent + \'%\'}" aria-valuetext="{{percent | number:0}}%" ng-transclude></div>\n</div>')}]),angular.module("template/rating/rating.html",[]).run(["$templateCache",function(e){e.put("template/rating/rating.html",'<span ng-mouseleave="reset()" ng-keydown="onKeydown($event)" tabindex="0" role="slider" aria-valuemin="0" aria-valuemax="{{range.length}}" aria-valuenow="{{value}}">\n    <i ng-repeat="r in range track by $index" ng-mouseenter="enter($index + 1)" ng-click="rate($index + 1)" class="glyphicon" ng-class="$index < value && (r.stateOn || \'glyphicon-star\') || (r.stateOff || \'glyphicon-star-empty\')">\n        <span class="sr-only">({{ $index < value ? \'*\' : \' \' }})</span>\n    </i>\n</span>')}]),angular.module("template/tabs/tab.html",[]).run(["$templateCache",function(e){e.put("template/tabs/tab.html",'<li ng-class="{active: active, disabled: disabled}">\n  <a href ng-click="select()" tab-heading-transclude>{{heading}}</a>\n</li>\n')}]),angular.module("template/tabs/tabset.html",[]).run(["$templateCache",function(e){e.put("template/tabs/tabset.html",'<div>\n  <ul class="nav nav-{{type || \'tabs\'}}" ng-class="{\'nav-stacked\': vertical, \'nav-justified\': justified}" ng-transclude></ul>\n  <div class="tab-content">\n    <div class="tab-pane" \n         ng-repeat="tab in tabs" \n         ng-class="{active: tab.active}"\n         tab-content-transclude="tab">\n    </div>\n  </div>\n</div>\n')}]),angular.module("template/timepicker/timepicker.html",[]).run(["$templateCache",function(e){e.put("template/timepicker/timepicker.html",'<table>\n\t<tbody>\n\t\t<tr class="text-center">\n\t\t\t<td><a ng-click="incrementHours()" class="btn btn-link"><span class="glyphicon glyphicon-chevron-up"></span></a></td>\n\t\t\t<td>&nbsp;</td>\n\t\t\t<td><a ng-click="incrementMinutes()" class="btn btn-link"><span class="glyphicon glyphicon-chevron-up"></span></a></td>\n\t\t\t<td ng-show="showMeridian"></td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style="width:50px;" class="form-group" ng-class="{\'has-error\': invalidHours}">\n\t\t\t\t<input type="text" ng-model="hours" ng-change="updateHours()" class="form-control text-center" ng-mousewheel="incrementHours()" ng-readonly="readonlyInput" maxlength="2">\n\t\t\t</td>\n\t\t\t<td>:</td>\n\t\t\t<td style="width:50px;" class="form-group" ng-class="{\'has-error\': invalidMinutes}">\n\t\t\t\t<input type="text" ng-model="minutes" ng-change="updateMinutes()" class="form-control text-center" ng-readonly="readonlyInput" maxlength="2">\n\t\t\t</td>\n\t\t\t<td ng-show="showMeridian"><button type="button" class="btn btn-default text-center" ng-click="toggleMeridian()">{{meridian}}</button></td>\n\t\t</tr>\n\t\t<tr class="text-center">\n\t\t\t<td><a ng-click="decrementHours()" class="btn btn-link"><span class="glyphicon glyphicon-chevron-down"></span></a></td>\n\t\t\t<td>&nbsp;</td>\n\t\t\t<td><a ng-click="decrementMinutes()" class="btn btn-link"><span class="glyphicon glyphicon-chevron-down"></span></a></td>\n\t\t\t<td ng-show="showMeridian"></td>\n\t\t</tr>\n\t</tbody>\n</table>\n')}]),angular.module("template/typeahead/typeahead-match.html",[]).run(["$templateCache",function(e){e.put("template/typeahead/typeahead-match.html",'<a tabindex="-1" bind-html-unsafe="match.label | typeaheadHighlight:query"></a>')}]),angular.module("template/typeahead/typeahead-popup.html",[]).run(["$templateCache",function(e){e.put("template/typeahead/typeahead-popup.html",'<ul class="dropdown-menu" ng-show="isOpen()" ng-style="{top: position.top+\'px\', left: position.left+\'px\'}" style="display: block;" role="listbox" aria-hidden="{{!isOpen()}}">\n    <li ng-repeat="match in matches track by $index" ng-class="{active: isActive($index) }" ng-mouseenter="selectActive($index)" ng-click="selectMatch($index)" role="option" id="{{match.id}}">\n        <div typeahead-match index="$index" match="match" query="query" template-url="templateUrl"></div>\n    </li>\n</ul>\n')}]),function(){"use strict";angular.module("LocalStorageModule",[]).provider("localStorageService",function(){this.prefix="ls",this.storageType="localStorage",this.cookie={expiry:30,path:"/"},this.notify={setItem:!0,removeItem:!1},this.setPrefix=function(e){this.prefix=e},this.setStorageType=function(e){this.storageType=e},this.setStorageCookie=function(e,t){this.cookie={expiry:e,path:t}},this.setStorageCookieDomain=function(e){this.cookie.domain=e},this.setNotify=function(e,t){this.notify={setItem:e,removeItem:t}},this.$get=["$rootScope","$window","$document",function(e,t,i){var a,n=this.prefix,o=this.cookie,s=this.notify,r=this.storageType;i||(i=document),"."!==n.substr(-1)&&(n=n?n+".":"");var l=function(e){return n+e},c=function(){try{var i=r in t&&null!==t[r],n=l("__"+Math.round(1e7*Math.random()));return i&&(a=t[r],a.setItem(n,""),a.removeItem(n)),i}catch(t){return r="cookie",e.$broadcast("LocalStorageModule.notification.error",t.message),!1}}(),h=function(t,i){if(!c)return e.$broadcast("LocalStorageModule.notification.warning","LOCAL_STORAGE_NOT_SUPPORTED"),s.setItem&&e.$broadcast("LocalStorageModule.notification.setitem",{key:t,newvalue:i,storageType:"cookie"}),g(t,i);void 0===i&&(i=null);try{(angular.isObject(i)||angular.isArray(i))&&(i=angular.toJson(i)),a&&a.setItem(l(t),i),s.setItem&&e.$broadcast("LocalStorageModule.notification.setitem",{key:t,newvalue:i,storageType:this.storageType})}catch(a){return e.$broadcast("LocalStorageModule.notification.error",a.message),g(t,i)}return!0},u=function(t){if(!c)return e.$broadcast("LocalStorageModule.notification.warning","LOCAL_STORAGE_NOT_SUPPORTED"),v(t);var i=a?a.getItem(l(t)):null;return i&&"null"!==i?"{"===i.charAt(0)||"["===i.charAt(0)?angular.fromJson(i):i:null},d=function(t){if(!c)return e.$broadcast("LocalStorageModule.notification.warning","LOCAL_STORAGE_NOT_SUPPORTED"),s.removeItem&&e.$broadcast("LocalStorageModule.notification.removeitem",{key:t,storageType:"cookie"}),b(t);try{a.removeItem(l(t)),s.removeItem&&e.$broadcast("LocalStorageModule.notification.removeitem",{key:t,storageType:this.storageType})}catch(i){return e.$broadcast("LocalStorageModule.notification.error",i.message),b(t)}return!0},p=function(){if(!c)return e.$broadcast("LocalStorageModule.notification.warning","LOCAL_STORAGE_NOT_SUPPORTED"),!1;var t=n.length,i=[];for(var o in a)if(o.substr(0,t)===n)try{i.push(o.substr(t))}catch(t){return e.$broadcast("LocalStorageModule.notification.error",t.Description),[]}return i},f=function(t){t=t||"";var i=n.slice(0,-1),o=new RegExp(i+"."+t);if(!c)return e.$broadcast("LocalStorageModule.notification.warning","LOCAL_STORAGE_NOT_SUPPORTED"),y();var s=n.length;for(var r in a)if(o.test(r))try{d(r.substr(s))}catch(t){return e.$broadcast("LocalStorageModule.notification.error",t.message),y()}return!0},m=function(){try{return navigator.cookieEnabled||"cookie"in i&&(i.cookie.length>0||(i.cookie="test").indexOf.call(i.cookie,"test")>-1)}catch(t){return e.$broadcast("LocalStorageModule.notification.error",t.message),!1}},g=function(t,a){if(void 0===a)return!1;if(!m())return e.$broadcast("LocalStorageModule.notification.error","COOKIES_NOT_SUPPORTED"),!1;try{var n="",s=new Date,r="";if(null===a?(s.setTime(s.getTime()+-864e5),n="; expires="+s.toGMTString(),a=""):0!==o.expiry&&(s.setTime(s.getTime()+24*o.expiry*60*60*1e3),n="; expires="+s.toGMTString()),t){var c="; path="+o.path;o.domain&&(r="; domain="+o.domain),i.cookie=l(t)+"="+encodeURIComponent(a)+n+c+r}}catch(t){return e.$broadcast("LocalStorageModule.notification.error",t.message),!1}return!0},v=function(t){if(!m())return e.$broadcast("LocalStorageModule.notification.error","COOKIES_NOT_SUPPORTED"),!1;for(var a=i.cookie&&i.cookie.split(";")||[],o=0;o<a.length;o++){for(var s=a[o];" "===s.charAt(0);)s=s.substring(1,s.length);if(0===s.indexOf(l(t)+"="))return decodeURIComponent(s.substring(n.length+t.length+1,s.length))}return null},b=function(e){g(e,null)},y=function(){for(var e=null,t=n.length,a=i.cookie.split(";"),o=0;o<a.length;o++){for(e=a[o];" "===e.charAt(0);)e=e.substring(1,e.length);var s=e.substring(t,e.indexOf("="));b(s)}};return{isSupported:c,getStorageType:function(){return r},set:h,add:h,get:u,keys:p,remove:d,clearAll:f,bind:function(e,t,i){var a=u(t);null===a&&angular.isDefined(i)?a=i:angular.isObject(a)&&angular.isObject(i)&&(a=angular.extend(i,a)),e[t]=a,e.$watchCollection(t,function(e){h(t,e)})},deriveKey:l,cookie:{set:g,add:g,get:v,remove:b,clearAll:y}}}]})}.call(this),function(e){"use strict";function t(e){return function(t){if(t&&this===t.target)return e.apply(this,arguments)}}var i=function(e,t){this.init(e,t)};i.prototype={
constructor:i,init:function(t,i){if(this.$element=e(t),this.options=e.extend({},e.fn.modalmanager.defaults,this.$element.data(),"object"==typeof i&&i),this.stack=[],this.backdropCount=0,this.options.resize){var a,n=this;e(window).on("resize.modal",function(){a&&clearTimeout(a),a=setTimeout(function(){for(var e=0;e<n.stack.length;e++)n.stack[e].isShown&&n.stack[e].layout()},10)})}},createModal:function(t,i){e(t).modal(e.extend({manager:this},i))},appendModal:function(i){this.stack.push(i);var a=this;i.$element.on("show.modalmanager",t(function(t){var n=function(){i.isShown=!0;var t=e.support.transition&&i.$element.hasClass("fade");a.$element.toggleClass("modal-open",a.hasOpenModal()).toggleClass("page-overflow",e(window).height()<a.$element.height()),i.$parent=i.$element.parent(),i.$container=a.createContainer(i),i.$element.appendTo(i.$container),a.backdrop(i,function(){i.$element.show(),t&&i.$element[0].offsetWidth,i.layout(),i.$element.addClass("in").attr("aria-hidden",!1);var n=function(){a.setFocus(),i.$element.trigger("shown")};t?i.$element.one(e.support.transition.end,n):n()})};i.options.replace?a.replace(n):n()})),i.$element.on("hidden.modalmanager",t(function(t){if(a.backdrop(i),i.$element.parent().length)if(i.$backdrop){var n=e.support.transition&&i.$element.hasClass("fade");n&&i.$element[0].offsetWidth,e.support.transition&&i.$element.hasClass("fade")?i.$backdrop.one(e.support.transition.end,function(){i.destroy()}):i.destroy()}else i.destroy();else a.destroyModal(i)})),i.$element.on("destroyed.modalmanager",t(function(e){a.destroyModal(i)}))},getOpenModals:function(){for(var e=[],t=0;t<this.stack.length;t++)this.stack[t].isShown&&e.push(this.stack[t]);return e},hasOpenModal:function(){return this.getOpenModals().length>0},setFocus:function(){for(var e,t=0;t<this.stack.length;t++)this.stack[t].isShown&&(e=this.stack[t]);e&&e.focus()},destroyModal:function(e){e.$element.off(".modalmanager"),e.$backdrop&&this.removeBackdrop(e),this.stack.splice(this.getIndexOfModal(e),1);var t=this.hasOpenModal();this.$element.toggleClass("modal-open",t),t||this.$element.removeClass("page-overflow"),this.removeContainer(e),this.setFocus()},getModalAt:function(e){return this.stack[e]},getIndexOfModal:function(e){for(var t=0;t<this.stack.length;t++)if(e===this.stack[t])return t},replace:function(i){for(var a,n=0;n<this.stack.length;n++)this.stack[n].isShown&&(a=this.stack[n]);a?(this.$backdropHandle=a.$backdrop,a.$backdrop=null,i&&a.$element.one("hidden",t(e.proxy(i,this))),a.hide()):i&&i()},removeBackdrop:function(e){e.$backdrop.remove(),e.$backdrop=null},createBackdrop:function(t,i){var a;return this.$backdropHandle?(a=this.$backdropHandle,a.off(".modalmanager"),this.$backdropHandle=null,this.isLoading&&this.removeSpinner()):a=e(i).addClass(t).appendTo(this.$element),a},removeContainer:function(e){e.$container.remove(),e.$container=null},createContainer:function(i){var n;return n=e('<div class="modal-scrollable">').css("z-index",a("modal",this.getOpenModals().length)).appendTo(this.$element),i&&"static"!=i.options.backdrop?n.on("click.modal",t(function(e){i.hide()})):i&&n.on("click.modal",t(function(e){i.attention()})),n},backdrop:function(t,i){var n=t.$element.hasClass("fade")?"fade":"",o=t.options.backdrop&&this.backdropCount<this.options.backdropLimit;if(t.isShown&&o){var s=e.support.transition&&n&&!this.$backdropHandle;t.$backdrop=this.createBackdrop(n,t.options.backdropTemplate),t.$backdrop.css("z-index",a("backdrop",this.getOpenModals().length)),s&&t.$backdrop[0].offsetWidth,t.$backdrop.addClass("in"),this.backdropCount+=1,s?t.$backdrop.one(e.support.transition.end,i):i()}else if(!t.isShown&&t.$backdrop){t.$backdrop.removeClass("in"),this.backdropCount-=1;var r=this;e.support.transition&&t.$element.hasClass("fade")?t.$backdrop.one(e.support.transition.end,function(){r.removeBackdrop(t)}):r.removeBackdrop(t)}else i&&i()},removeSpinner:function(){this.$spinner&&this.$spinner.remove(),this.$spinner=null,this.isLoading=!1},removeLoading:function(){this.$backdropHandle&&this.$backdropHandle.remove(),this.$backdropHandle=null,this.removeSpinner()},loading:function(t){if(t=t||function(){},this.$element.toggleClass("modal-open",!this.isLoading||this.hasOpenModal()).toggleClass("page-overflow",e(window).height()<this.$element.height()),this.isLoading)if(this.isLoading&&this.$backdropHandle){this.$backdropHandle.removeClass("in");var i=this;e.support.transition?this.$backdropHandle.one(e.support.transition.end,function(){i.removeLoading()}):i.removeLoading()}else t&&t(this.isLoading);else{this.$backdropHandle=this.createBackdrop("fade",this.options.backdropTemplate),this.$backdropHandle[0].offsetWidth;var n=this.getOpenModals();this.$backdropHandle.css("z-index",a("backdrop",n.length+1)).addClass("in");var o=e(this.options.spinner).css("z-index",a("modal",n.length+1)).appendTo(this.$element).addClass("in");this.$spinner=e(this.createContainer()).append(o).on("click.modalmanager",e.proxy(this.loading,this)),this.isLoading=!0,e.support.transition?this.$backdropHandle.one(e.support.transition.end,t):t()}}};var a=function(){var t,i={};return function(a,n){if(void 0===t){var o=e('<div class="modal hide" />').appendTo("body"),s=e('<div class="modal-backdrop hide" />').appendTo("body");i.modal=+o.css("z-index"),i.backdrop=+s.css("z-index"),t=i.modal-i.backdrop,o.remove(),s.remove(),s=o=null}return i[a]+t*n}}();e.fn.modalmanager=function(t,a){return this.each(function(){var n=e(this),o=n.data("modalmanager");o||n.data("modalmanager",o=new i(this,t)),"string"==typeof t&&o[t].apply(o,[].concat(a))})},e.fn.modalmanager.defaults={backdropLimit:999,resize:!0,spinner:'<div class="loading-spinner fade" style="width: 200px; margin-left: -100px;"><div class="progress progress-striped active"><div class="bar" style="width: 100%;"></div></div></div>',backdropTemplate:'<div class="modal-backdrop" />'},e.fn.modalmanager.Constructor=i,e(function(){e(document).off("show.bs.modal").off("hidden.bs.modal")})}(jQuery),function(e){"use strict";var t=function(e,t){this.init(e,t)};t.prototype={constructor:t,init:function(t,i){var a=this;this.options=i,this.$element=e(t).delegate('[data-dismiss="modal"]',"click.dismiss.modal",e.proxy(this.hide,this)),this.options.remote&&this.$element.find(".modal-body").load(this.options.remote,function(){var t=e.Event("loaded");a.$element.trigger(t)});var n="function"==typeof this.options.manager?this.options.manager.call(this):this.options.manager;n=n.appendModal?n:e(n).modalmanager().data("modalmanager"),n.appendModal(this)},toggle:function(){return this[this.isShown?"hide":"show"]()},show:function(){var t=e.Event("show");this.isShown||(this.$element.trigger(t),t.isDefaultPrevented()||(this.escape(),this.tab(),this.options.loading&&this.loading()))},hide:function(t){t&&t.preventDefault(),t=e.Event("hide"),this.$element.trigger(t),this.isShown&&!t.isDefaultPrevented()&&(this.isShown=!1,this.escape(),this.tab(),this.isLoading&&this.loading(),e(document).off("focusin.modal"),this.$element.removeClass("in").removeClass("animated").removeClass(this.options.attentionAnimation).removeClass("modal-overflow").attr("aria-hidden",!0),e.support.transition&&this.$element.hasClass("fade")?this.hideWithTransition():this.hideModal())},layout:function(){var t=this.options.height?"height":"max-height",i=this.options.height||this.options.maxHeight;if(this.options.width){this.$element.css("width",this.options.width);var a=this;this.$element.css("margin-left",function(){return/%/gi.test(a.options.width)?-parseInt(a.options.width)/2+"%":-e(this).width()/2+"px"})}else this.$element.css("width",""),this.$element.css("margin-left","");this.$element.find(".modal-body").css("overflow","").css(t,""),i&&this.$element.find(".modal-body").css("overflow","auto").css(t,i),e(window).height()-10<this.$element.height()||this.options.modalOverflow?this.$element.css("margin-top",0).addClass("modal-overflow"):this.$element.css("margin-top",0-this.$element.height()/2).removeClass("modal-overflow")},tab:function(){var t=this;this.isShown&&this.options.consumeTab?this.$element.on("keydown.tabindex.modal","[data-tabindex]",function(i){if(i.keyCode&&9==i.keyCode){var a=[],n=Number(e(this).data("tabindex"));t.$element.find("[data-tabindex]:enabled:visible:not([readonly])").each(function(t){a.push(Number(e(this).data("tabindex")))}),a.sort(function(e,t){return e-t});var o=e.inArray(n,a);i.shiftKey?0==o?t.$element.find("[data-tabindex="+a[a.length-1]+"]").focus():t.$element.find("[data-tabindex="+a[o-1]+"]").focus():o<a.length-1?t.$element.find("[data-tabindex="+a[o+1]+"]").focus():t.$element.find("[data-tabindex="+a[0]+"]").focus(),i.preventDefault()}}):this.isShown||this.$element.off("keydown.tabindex.modal")},escape:function(){var e=this;this.isShown&&this.options.keyboard?(this.$element.attr("tabindex")||this.$element.attr("tabindex",-1),this.$element.on("keyup.dismiss.modal",function(t){27==t.which&&e.hide()})):this.isShown||this.$element.off("keyup.dismiss.modal")},hideWithTransition:function(){var t=this,i=setTimeout(function(){t.$element.off(e.support.transition.end),t.hideModal()},500);this.$element.one(e.support.transition.end,function(){clearTimeout(i),t.hideModal()})},hideModal:function(){var e=this.options.height?"height":"max-height";(this.options.height||this.options.maxHeight)&&this.$element.find(".modal-body").css("overflow","").css(e,""),this.$element.hide().trigger("hidden")},removeLoading:function(){this.$loading.remove(),this.$loading=null,this.isLoading=!1},loading:function(t){t=t||function(){};var i=this.$element.hasClass("fade")?"fade":"";if(this.isLoading)if(this.isLoading&&this.$loading){this.$loading.removeClass("in");var a=this;e.support.transition&&this.$element.hasClass("fade")?this.$loading.one(e.support.transition.end,function(){a.removeLoading()}):a.removeLoading()}else t&&t(this.isLoading);else{var n=e.support.transition&&i;this.$loading=e('<div class="loading-mask '+i+'">').append(this.options.spinner).appendTo(this.$element),n&&this.$loading[0].offsetWidth,this.$loading.addClass("in"),this.isLoading=!0,n?this.$loading.one(e.support.transition.end,t):t()}},focus:function(){var e=this.$element.find(this.options.focusOn);e=e.length?e:this.$element,e.focus()},attention:function(){if(this.options.attentionAnimation){this.$element.removeClass("animated").removeClass(this.options.attentionAnimation);var e=this;setTimeout(function(){e.$element.addClass("animated").addClass(e.options.attentionAnimation)},0)}this.focus()},destroy:function(){var t=e.Event("destroy");this.$element.trigger(t),t.isDefaultPrevented()||(this.$element.off(".modal").removeData("modal").removeClass("in").attr("aria-hidden",!0),this.$parent!==this.$element.parent()?this.$element.appendTo(this.$parent):this.$parent.length||(this.$element.remove(),this.$element=null),this.$element.trigger("destroyed"))}},e.fn.modal=function(i,a){return this.each(function(){var n=e(this),o=n.data("modal"),s=e.extend({},e.fn.modal.defaults,n.data(),"object"==typeof i&&i);o||n.data("modal",o=new t(this,s)),"string"==typeof i?o[i].apply(o,[].concat(a)):s.show&&o.show()})},e.fn.modal.defaults={keyboard:!0,backdrop:!0,loading:!1,show:!0,width:null,height:null,maxHeight:null,modalOverflow:!1,consumeTab:!0,focusOn:null,replace:!1,resize:!1,attentionAnimation:"shake",manager:"body",spinner:'<div class="loading-spinner" style="width: 200px; margin-left: -100px;"><div class="progress progress-striped active"><div class="bar" style="width: 100%;"></div></div></div>',backdropTemplate:'<div class="modal-backdrop" />'},e.fn.modal.Constructor=t,e(function(){e(document).off("click.modal").on("click.modal.data-api",'[data-toggle="modal"]',function(t){var i=e(this),a=i.attr("href"),n=e(i.attr("data-target")||a&&a.replace(/.*(?=#[^\s]+$)/,"")),o=n.data("modal")?"toggle":e.extend({remote:!/#/.test(a)&&a},n.data(),i.data());t.preventDefault(),n.modal(o).one("hide",function(){i.focus()})})})}(window.jQuery),angular.module("ui.select2",[]).value("uiSelect2Config",{}).directive("uiSelect2",["uiSelect2Config","$timeout",function(e,t){var i={};return e&&angular.extend(i,e),{require:"ngModel",priority:1,compile:function(e,a){var n,o,s,r=e.is("select"),l=angular.isDefined(a.multiple);return e.is("select")&&(o=e.find("option[ng-repeat], option[data-ng-repeat]"),o.length&&(s=o.attr("ng-repeat")||o.attr("data-ng-repeat"),n=jQuery.trim(s.split("|")[0]).split(" ").pop())),function(e,o,s,c){var h=angular.extend({},i,e.$eval(s.uiSelect2)),u=function(e){var t;return h.simple_tags?(t=[],angular.forEach(e,function(e,i){t.push(e.id)})):t=e,t},d=function(e){var t=[];return e?(h.simple_tags?(t=[],angular.forEach(e,function(e,i){t.push({id:e,text:e})})):t=e,t):t};if(r?(delete h.multiple,delete h.initSelection):l&&(h.multiple=!0),c&&(e.$watch(a.ngModel,function(e,t){e&&e!==t&&c.$render()},!0),c.$render=function(){if(r)o.select2("val",c.$viewValue);else if(h.multiple){var e=c.$viewValue;angular.isString(e)&&(e=e.split(",")),o.select2("data",d(e))}else angular.isObject(c.$viewValue)?o.select2("data",c.$viewValue):c.$viewValue?o.select2("val",c.$viewValue):o.select2("data",null)},n&&e.$watch(n,function(e,i,a){angular.equals(e,i)||t(function(){o.select2("val",c.$viewValue),o.trigger("change"),e&&!i&&c.$setPristine&&c.$setPristine(!0)})}),c.$parsers.push(function(e){return o.prev().toggleClass("ng-invalid",!c.$valid).toggleClass("ng-valid",c.$valid).toggleClass("ng-invalid-required",!c.$valid).toggleClass("ng-valid-required",c.$valid).toggleClass("ng-dirty",c.$dirty).toggleClass("ng-pristine",c.$pristine),e}),!r&&(o.bind("change",function(t){t.stopImmediatePropagation(),e.$$phase||e.$root.$$phase||e.$apply(function(){c.$setViewValue(u(o.select2("data")))})}),h.initSelection))){var p=h.initSelection;h.initSelection=function(e,t){p(e,function(e){c.$setViewValue(u(e)),t(e)})}}o.bind("$destroy",function(){o.select2("destroy")}),s.$observe("disabled",function(e){o.select2("enable",!e)}),s.$observe("readonly",function(e){o.select2("readonly",!!e)}),s.ngMultiple&&e.$watch(s.ngMultiple,function(e){s.$set("multiple",!!e),o.select2(h)}),t(function(){o.select2(h),o.val(c.$viewValue),c.$render(),h.initSelection||r||c.$setViewValue(u(o.select2("data")))})}}}}]);var Metronic=function(){var e,t=!1,i=!1,a=!1,n=!1,o=[],s="../../assets/",r="global/img/",l="global/plugins/",c={blue:"#89C4F4",red:"#F3565D",green:"#1bbc9b",purple:"#9b59b6",grey:"#95a5a6",yellow:"#F8CB00"},h=function(){"rtl"===$("body").css("direction")&&(t=!0),i=!!navigator.userAgent.match(/MSIE 8.0/),a=!!navigator.userAgent.match(/MSIE 9.0/),n=!!navigator.userAgent.match(/MSIE 10.0/),n&&$("html").addClass("ie10"),(n||a||i)&&$("html").addClass("ie")},u=function(){for(var e=0;e<o.length;e++){o[e].call()}},d=function(){var e;if(i){var t;$(window).resize(function(){t!=document.documentElement.clientHeight&&(e&&clearTimeout(e),e=setTimeout(function(){u()},50),t=document.documentElement.clientHeight)})}else $(window).resize(function(){e&&clearTimeout(e),e=setTimeout(function(){u()},50)})},p=function(){$("body").on("click",".portlet > .portlet-title > .tools > a.remove",function(e){e.preventDefault();var t=$(this).closest(".portlet");$("body").hasClass("page-portlet-fullscreen")&&$("body").removeClass("page-portlet-fullscreen"),t.find(".portlet-title .fullscreen").tooltip("destroy"),t.find(".portlet-title > .tools > .reload").tooltip("destroy"),t.find(".portlet-title > .tools > .remove").tooltip("destroy"),t.find(".portlet-title > .tools > .config").tooltip("destroy"),t.find(".portlet-title > .tools > .collapse, .portlet > .portlet-title > .tools > .expand").tooltip("destroy"),t.remove()}),$("body").on("click",".portlet > .portlet-title .fullscreen",function(e){e.preventDefault();var t=$(this).closest(".portlet");if(t.hasClass("portlet-fullscreen"))$(this).removeClass("on"),t.removeClass("portlet-fullscreen"),$("body").removeClass("page-portlet-fullscreen"),t.children(".portlet-body").css("height","auto");else{var i=Metronic.getViewPort().height-t.children(".portlet-title").outerHeight()-parseInt(t.children(".portlet-body").css("padding-top"))-parseInt(t.children(".portlet-body").css("padding-bottom"));$(this).addClass("on"),t.addClass("portlet-fullscreen"),$("body").addClass("page-portlet-fullscreen"),t.children(".portlet-body").css("height",i)}}),$("body").on("click",".portlet > .portlet-title > .tools > a.reload",function(e){e.preventDefault();var t=$(this).closest(".portlet").children(".portlet-body"),i=$(this).attr("data-url"),a=$(this).attr("data-error-display");i?(Metronic.blockUI({target:t,animate:!0,overlayColor:"none"}),$.ajax({type:"GET",cache:!1,url:i,dataType:"html",success:function(e){Metronic.unblockUI(t),t.html(e)},error:function(e,i,n){Metronic.unblockUI(t);var o="Error on reloading the content. Please check your connection and try again.";"toastr"==a&&toastr?toastr.error(o):"notific8"==a&&$.notific8?($.notific8("zindex",11500),$.notific8(o,{theme:"ruby",life:3e3})):void 0}})):(Metronic.blockUI({target:t,animate:!0,overlayColor:"none"}),window.setTimeout(function(){Metronic.unblockUI(t)},1e3))}),$('.portlet .portlet-title a.reload[data-load="true"]').click(),$("body").on("click",".portlet > .portlet-title > .tools > .collapse, .portlet .portlet-title > .tools > .expand",function(e){e.preventDefault();var t=$(this).closest(".portlet").children(".portlet-body");$(this).hasClass("collapse")?($(this).removeClass("collapse").addClass("expand"),t.slideUp(200)):($(this).removeClass("expand").addClass("collapse"),t.slideDown(200))})},f=function(){if($().uniform){var e=$("input[type=checkbox]:not(.toggle, .md-check, .md-radiobtn, .make-switch, .icheck), input[type=radio]:not(.toggle, .md-check, .md-radiobtn, .star, .make-switch, .icheck)");e.size()>0&&e.each(function(){0===$(this).parents(".checker").size()&&($(this).show(),$(this).uniform())})}},m=function(){$("body").on("click",".md-checkbox > label, .md-radio > label",function(){var e=$(this),t=$(this).children("span:first-child");t.addClass("inc");var i=t.clone(!0);t.before(i),$("."+t.attr("class")+":last",e).remove()}),$("body").hasClass("page-md")&&$("body").on("click","a.btn, button.btn, input.btn, label.btn",function(e){var t,i,a,n,o;t=$(this),0==t.find(".md-click-circle").length&&t.prepend("<span class='md-click-circle'></span>"),i=t.find(".md-click-circle"),i.removeClass("md-click-animate"),i.height()||i.width()||(a=Math.max(t.outerWidth(),t.outerHeight()),i.css({height:a,width:a})),n=e.pageX-t.offset().left-i.width()/2,o=e.pageY-t.offset().top-i.height()/2,i.css({top:o+"px",left:n+"px"}).addClass("md-click-animate")});var e=function(e){""!=e.val()?e.addClass("edited"):e.removeClass("edited")};$("body").on("keydown",".form-md-floating-label .form-control",function(t){e($(this))}),$("body").on("blur",".form-md-floating-label .form-control",function(t){e($(this))})},g=function(){$().iCheck&&$(".icheck").each(function(){var e=$(this).attr("data-checkbox")?$(this).attr("data-checkbox"):"icheckbox_minimal-grey",t=$(this).attr("data-radio")?$(this).attr("data-radio"):"iradio_minimal-grey";e.indexOf("_line")>-1||t.indexOf("_line")>-1?$(this).iCheck({checkboxClass:e,radioClass:t,insert:'<div class="icheck_line-icon"></div>'+$(this).attr("data-label")}):$(this).iCheck({checkboxClass:e,radioClass:t})})},v=function(){$().bootstrapSwitch&&$(".make-switch").bootstrapSwitch()},b=function(){$().confirmation&&$("[data-toggle=confirmation]").confirmation({container:"body",btnOkClass:"btn-xs btn-success",btnCancelClass:"btn-xs btn-danger"})},y=function(){$("body").on("shown.bs.collapse",".accordion.scrollable",function(e){Metronic.scrollTo($(e.target))})},x=function(){if(location.hash){var e=location.hash.substr(1);$('a[href="#'+e+'"]').parents(".tab-pane:hidden").each(function(){var e=$(this).attr("id");$('a[href="#'+e+'"]').click()}),$('a[href="#'+e+'"]').click()}$().tabdrop&&$(".tabbable-tabdrop .nav-pills, .tabbable-tabdrop .nav-tabs").tabdrop({text:'<i class="fa fa-ellipsis-v"></i>&nbsp;<i class="fa fa-angle-down"></i>'})},C=function(){$("body").on("hide.bs.modal",function(){$(".modal:visible").size()>1&&!1===$("html").hasClass("modal-open")?$("html").addClass("modal-open"):$(".modal:visible").size()<=1&&$("html").removeClass("modal-open")}),$("body").on("show.bs.modal",".modal",function(){$(this).hasClass("modal-scroll")&&$("body").addClass("modal-open-noscroll")}),$("body").on("hide.bs.modal",".modal",function(){$("body").removeClass("modal-open-noscroll")}),$("body").on("hidden.bs.modal",".modal:not(.modal-cached)",function(){$(this).removeData("bs.modal")})},w=function(){$(".tooltips").tooltip(),$(".portlet > .portlet-title .fullscreen").tooltip({container:"body",title:"Fullscreen"}),$(".portlet > .portlet-title > .tools > .reload").tooltip({container:"body",title:"Reload"}),$(".portlet > .portlet-title > .tools > .remove").tooltip({container:"body",title:"Remove"}),$(".portlet > .portlet-title > .tools > .config").tooltip({container:"body",title:"Settings"}),$(".portlet > .portlet-title > .tools > .collapse, .portlet > .portlet-title > .tools > .expand").tooltip({container:"body",title:"Collapse/Expand"})},k=function(){$("body").on("click",".dropdown-menu.hold-on-click",function(e){e.stopPropagation()})},S=function(){$("body").on("click",'[data-close="alert"]',function(e){$(this).parent(".alert").hide(),$(this).closest(".note").hide(),e.preventDefault()}),$("body").on("click",'[data-close="note"]',function(e){$(this).closest(".note").hide(),e.preventDefault()}),$("body").on("click",'[data-remove="note"]',function(e){$(this).closest(".note").remove(),e.preventDefault()})},D=function(){$('[data-hover="dropdown"]').not(".hover-initialized").each(function(){$(this).dropdownHover(),$(this).addClass("hover-initialized")})},T=function(){"function"==typeof autosize&&autosize(document.querySelector("textarea.autosizeme"))},M=function(){$(".popovers").popover(),$(document).on("click.bs.popover.data-api",function(t){e&&e.popover("hide")})},P=function(){Metronic.initSlimScroll(".scroller")},_=function(){jQuery.fancybox&&$(".fancybox-button").size()>0&&$(".fancybox-button").fancybox({groupAttr:"data-rel",prevEffect:"none",nextEffect:"none",closeBtn:!0,helpers:{title:{type:"inside"}}})},A=function(){(i||a)&&$("input[placeholder]:not(.placeholder-no-fix), textarea[placeholder]:not(.placeholder-no-fix)").each(function(){var e=$(this);""===e.val()&&""!==e.attr("placeholder")&&e.addClass("placeholder").val(e.attr("placeholder")),e.focus(function(){e.val()==e.attr("placeholder")&&e.val("")}),e.blur(function(){""!==e.val()&&e.val()!=e.attr("placeholder")||e.val(e.attr("placeholder"))})})},I=function(){$().select2&&$(".select2me").select2({placeholder:"Select",allowClear:!0})};return{init:function(){h(),d(),m(),f(),g(),v(),P(),_(),I(),p(),S(),k(),x(),w(),M(),y(),C(),b(),T(),A()},initAjax:function(){f(),g(),v(),D(),P(),I(),_(),k(),w(),M(),y(),b()},initComponents:function(){this.initAjax()},setLastPopedPopover:function(t){e=t},addResizeHandler:function(e){o.push(e)},runResizeHandlers:function(){u()},scrollTo:function(e,t){var i=e&&e.size()>0?e.offset().top:0;e&&($("body").hasClass("page-header-fixed")?i-=$(".page-header").height():$("body").hasClass("page-header-top-fixed")?i-=$(".page-header-top").height():$("body").hasClass("page-header-menu-fixed")&&(i-=$(".page-header-menu").height()),i+=t||-1*e.height()),$("html,body").animate({scrollTop:i},"slow")},initSlimScroll:function(e){$(e).each(function(){if(!$(this).attr("data-initialized")){var e;e=$(this).attr("data-height")?$(this).attr("data-height"):$(this).css("height"),$(this).slimScroll({allowPageScroll:!0,size:"7px",color:$(this).attr("data-handle-color")?$(this).attr("data-handle-color"):"#bbb",wrapperClass:$(this).attr("data-wrapper-class")?$(this).attr("data-wrapper-class"):"slimScrollDiv",railColor:$(this).attr("data-rail-color")?$(this).attr("data-rail-color"):"#eaeaea",position:t?"left":"right",height:e,alwaysVisible:"1"==$(this).attr("data-always-visible"),railVisible:"1"==$(this).attr("data-rail-visible"),disableFadeOut:!0}),$(this).attr("data-initialized","1")}})},destroySlimScroll:function(e){$(e).each(function(){if("1"===$(this).attr("data-initialized")){$(this).removeAttr("data-initialized"),$(this).removeAttr("style");var e={};$(this).attr("data-handle-color")&&(e["data-handle-color"]=$(this).attr("data-handle-color")),$(this).attr("data-wrapper-class")&&(e["data-wrapper-class"]=$(this).attr("data-wrapper-class")),$(this).attr("data-rail-color")&&(e["data-rail-color"]=$(this).attr("data-rail-color")),$(this).attr("data-always-visible")&&(e["data-always-visible"]=$(this).attr("data-always-visible")),$(this).attr("data-rail-visible")&&(e["data-rail-visible"]=$(this).attr("data-rail-visible")),$(this).slimScroll({wrapperClass:$(this).attr("data-wrapper-class")?$(this).attr("data-wrapper-class"):"slimScrollDiv",destroy:!0});var t=$(this);$.each(e,function(e,i){t.attr(e,i)})}})},scrollTop:function(){Metronic.scrollTo()},blockUI:function(e){e=$.extend(!0,{},e);var t="";if(t=e.animate?'<div class="loading-message '+(e.boxed?"loading-message-boxed":"")+'"><div class="block-spinner-bar"><div class="bounce1"></div><div class="bounce2"></div><div class="bounce3"></div></div></div>':e.iconOnly?'<div class="loading-message '+(e.boxed?"loading-message-boxed":"")+'"><img src="'+this.getGlobalImgPath()+'loading-spinner-grey.gif" align=""></div>':e.textOnly?'<div class="loading-message '+(e.boxed?"loading-message-boxed":"")+'"><span>&nbsp;&nbsp;'+(e.message?e.message:"LOADING...")+"</span></div>":'<div class="loading-message '+(e.boxed?"loading-message-boxed":"")+'"><img src="'+this.getGlobalImgPath()+'loading-spinner-grey.gif" align=""><span>&nbsp;&nbsp;'+(e.message?e.message:"LOADING...")+"</span></div>",e.target){var i=$(e.target);i.height()<=$(window).height()&&(e.cenrerY=!0),i.block({message:t,baseZ:e.zIndex?e.zIndex:1e3,centerY:void 0!==e.cenrerY&&e.cenrerY,css:{top:"10%",border:"0",padding:"0",backgroundColor:"none"},overlayCSS:{backgroundColor:e.overlayColor?e.overlayColor:"#555",opacity:e.boxed?.05:.1,cursor:"wait"}})}else $.blockUI({message:t,baseZ:e.zIndex?e.zIndex:0xd231bfae560,css:{border:"0",padding:"0",backgroundColor:"none"},overlayCSS:{backgroundColor:e.overlayColor?e.overlayColor:"#555",opacity:e.boxed?.05:.1,cursor:"wait"}})},unblockUI:function(e){e?$(e).unblock({onUnblock:function(){$(e).css("position",""),$(e).css("zoom","")}}):$.unblockUI()},startPageLoading:function(e){e&&e.animate?($(".page-spinner-bar").remove(),$("body").append('<div class="page-spinner-bar"><div class="bounce1"></div><div class="bounce2"></div><div class="bounce3"></div></div>')):($(".page-loading").remove(),$("body").append('<div class="page-loading"><img src="'+this.getGlobalImgPath()+'loading-spinner-grey.gif"/>&nbsp;&nbsp;<span>'+(e&&e.message?e.message:"Loading...")+"</span></div>"))},stopPageLoading:function(){$(".page-loading, .page-spinner-bar").remove()},alert:function(e){e=$.extend(!0,{container:"",place:"append",type:"success",message:"",close:!0,reset:!0,focus:!0,closeInSeconds:0,icon:""},e);var t=Metronic.getUniqueID("Metronic_alert"),i='<div id="'+t+'" class="Metronic-alerts alert alert-'+e.type+' fade in">'+(e.close?'<button type="button" class="close" data-dismiss="alert" aria-hidden="true"></button>':"")+(""!==e.icon?'<i class="fa-lg fa fa-'+e.icon+'"></i>  ':"")+e.message+"</div>";return e.reset&&$(".Metronic-alerts").remove(),e.container?"append"==e.place?$(e.container).append(i):$(e.container).prepend(i):$("body").hasClass("page-container-bg-solid")?$(".page-title").after(i):$(".page-bar").size()>0?$(".page-bar").after(i):$(".page-breadcrumb").after(i),e.focus&&Metronic.scrollTo($("#"+t)),e.closeInSeconds>0&&setTimeout(function(){$("#"+t).remove()},1e3*e.closeInSeconds),t},initUniform:function(e){e?$(e).each(function(){0===$(this).parents(".checker").size()&&($(this).show(),$(this).uniform())}):f()},updateUniform:function(e){$.uniform.update(e)},initFancybox:function(){_()},getActualVal:function(e){return e=$(e),e.val()===e.attr("placeholder")?"":e.val()},getURLParameter:function(e){var t,i,a=window.location.search.substring(1),n=a.split("&");for(t=0;t<n.length;t++)if(i=n[t].split("="),i[0]==e)return unescape(i[1]);return null},isTouchDevice:function(){try{return document.createEvent("TouchEvent"),!0}catch(e){return!1}},getViewPort:function(){var e=window,t="inner";return"innerWidth"in window||(t="client",e=document.documentElement||document.body),{width:e[t+"Width"],height:e[t+"Height"]}},getUniqueID:function(e){return"prefix_"+Math.floor(Math.random()*(new Date).getTime())},isIE8:function(){return i},isIE9:function(){return a},isRTL:function(){return t},isAngularJsApp:function(){return"undefined"!=typeof angular},getAssetsPath:function(){return s},setAssetsPath:function(e){s=e},setGlobalImgPath:function(e){r=e},getGlobalImgPath:function(){return s+r},setGlobalPluginsPath:function(e){l=e},getGlobalPluginsPath:function(){return s+l},getGlobalCssPath:function(){return s+"global/css/"},getBrandColor:function(e){return c[e]?c[e]:""},getResponsiveBreakpoint:function(e){var t={xs:480,sm:768,md:992,lg:1200};return t[e]?t[e]:0}}}(),Layout=function(){var e=Metronic.getResponsiveBreakpoint("md"),t=function(t,i){setTimeout(function(){var a=location.hash.toLowerCase(),n=$(".page-sidebar-menu");if("click"===t||"set"===t?i=$(i):"match"===t&&n.find("li > a").each(function(){var e=null!=$(this).attr("href")?$(this).attr("href").toLowerCase():"";if(e.length>1&&a.substr(1,e.length-1)==e.substr(1))return void(i=$(this))}),i&&0!=i.size()&&"javascript:;"!==i.attr("href").toLowerCase()&&"#"!==i.attr("href").toLowerCase()){parseInt(n.data("slide-speed")),n.data("keep-expanded");n.find("li.active").removeClass("active"),n.find("li > a > .selected").remove(),!1===n.hasClass("page-sidebar-menu-hover-submenu")?n.find("li.open").each(function(){0===$(this).children(".sub-menu").size()&&($(this).removeClass("open"),$(this).find("> a > .arrow.open").removeClass("open"))}):n.find("li.open").removeClass("open"),i.parents("li").each(function(){$(this).addClass("active"),$(this).find("> a > span.arrow").addClass("open"),1===$(this).parent("ul.page-sidebar-menu").size()&&$(this).find("> a").append('<span class="selected"></span>'),1===$(this).children("ul.sub-menu").size()&&$(this).addClass("open")}),"click"===t&&Metronic.getViewPort().width<e&&$(".page-sidebar").hasClass("in")&&$(".page-header .responsive-toggler").click()}},500)},i=function(){$(".page-sidebar").on("click","li > a",function(t){if(!(Metronic.getViewPort().width>=e&&1===$(this).parents(".page-sidebar-menu-hover-submenu").size())){if(!1===$(this).next().hasClass("sub-menu"))return void(Metronic.getViewPort().width<e&&$(".page-sidebar").hasClass("in")&&$(".page-header .responsive-toggler").click());if(!$(this).next().hasClass("sub-menu always-open")){var i=$(this).parent().parent(),a=$(this),n=$(".page-sidebar-menu"),o=$(this).next(),s=n.data("auto-scroll"),r=parseInt(n.data("slide-speed"));!0!==n.data("keep-expanded")&&(i.children("li.open").children("a").children(".arrow").removeClass("open"),i.children("li.open").children(".sub-menu:not(.always-open)").slideUp(r),i.children("li.open").removeClass("open"));o.is(":visible")?($(".arrow",$(this)).removeClass("open"),$(this).parent().removeClass("open"),o.slideUp(r,function(){!0===s&&!1===$("body").hasClass("page-sidebar-closed")&&($("body").hasClass("page-sidebar-fixed")?n.slimScroll({scrollTo:a.position().top}):Metronic.scrollTo(a,-200))})):($(".arrow",$(this)).addClass("open"),$(this).parent().addClass("open"),o.slideDown(r,function(){!0===s&&!1===$("body").hasClass("page-sidebar-closed")&&($("body").hasClass("page-sidebar-fixed")?n.slimScroll({scrollTo:a.position().top}):Metronic.scrollTo(a,-200))})),t.preventDefault()}}}),$(".page-sidebar").on("click"," li > a.ajaxify",function(t){t.preventDefault(),Metronic.scrollTop();var i=$(this).attr("href"),a=$(".page-sidebar ul"),n=($(".page-content"),$(".page-content .page-content-body"))
;a.children("li.active").removeClass("active"),a.children("arrow.open").removeClass("open"),$(this).parents("li").each(function(){$(this).addClass("active"),$(this).children("a > span.arrow").addClass("open")}),$(this).parents("li").addClass("active"),Metronic.getViewPort().width<e&&$(".page-sidebar").hasClass("in")&&$(".page-header .responsive-toggler").click();var o=$(this);$.ajax({type:"GET",cache:!1,url:i,dataType:"html",success:function(e){0===o.parents("li.open").size()&&$(".page-sidebar-menu > li.open > a").click(),Metronic.stopPageLoading(),n.html(e),Layout.fixContentHeight(),Metronic.initAjax()},error:function(e,t,i){Metronic.stopPageLoading(),n.html("<h4>Could not load the requested content.</h4>")}})}),$(".page-content").on("click",".ajaxify",function(t){t.preventDefault(),Metronic.scrollTop();var i=$(this).attr("href"),a=($(".page-content"),$(".page-content .page-content-body"));Metronic.getViewPort().width<e&&$(".page-sidebar").hasClass("in")&&$(".page-header .responsive-toggler").click(),$.ajax({type:"GET",cache:!1,url:i,dataType:"html",success:function(e){Metronic.stopPageLoading(),a.html(e),Layout.fixContentHeight(),Metronic.initAjax()},error:function(e,t,i){a.html("<h4>Could not load the requested content.</h4>"),Metronic.stopPageLoading()}})}),$(document).on("click",".page-header-fixed-mobile .responsive-toggler",function(){Metronic.scrollTop()})},a=function(){var e=Metronic.getViewPort().height-$(".page-header").outerHeight()-30;return $("body").hasClass("page-footer-fixed")&&(e-=$(".page-footer").outerHeight()),e},n=function(){var t=$(".page-sidebar-menu");Metronic.destroySlimScroll(t),0!==$(".page-sidebar-fixed").size()&&Metronic.getViewPort().width>=e&&(t.attr("data-height",a()),Metronic.initSlimScroll(t))},o=function(){var e=$("body");e.hasClass("page-sidebar-fixed")&&$(".page-sidebar").on("mouseenter",function(){e.hasClass("page-sidebar-closed")&&$(this).find(".page-sidebar-menu").removeClass("page-sidebar-menu-closed")}).on("mouseleave",function(){e.hasClass("page-sidebar-closed")&&$(this).find(".page-sidebar-menu").addClass("page-sidebar-menu-closed")})},s=function(){var t=$("body");$.cookie&&"1"===$.cookie("sidebar_closed")&&Metronic.getViewPort().width>=e&&($("body").addClass("page-sidebar-closed"),$(".page-sidebar-menu").addClass("page-sidebar-menu-closed")),$("body").off("click",".sidebar-toggler"),$("body").on("click",".sidebar-toggler",function(e){var i=$(".page-sidebar"),a=$(".page-sidebar-menu");$(".sidebar-search",i).removeClass("open"),t.hasClass("page-sidebar-closed")?(t.removeClass("page-sidebar-closed"),a.removeClass("page-sidebar-menu-closed"),$.cookie&&($.cookie("sidebar_closed","0"),$(".page-logo-dup").hide(),$("#title-one").show(),$("#title-two").hide())):(t.addClass("page-sidebar-closed"),a.addClass("page-sidebar-menu-closed"),t.hasClass("page-sidebar-fixed")&&a.trigger("mouseleave"),$.cookie&&($.cookie("sidebar_closed","1"),$("#title-one").hide(),$("#title-two").show(),$(".page-logo-dup").show())),$(window).trigger("resize")}),o(),$(".page-sidebar").off("click",".sidebar-search .remove"),$(".page-sidebar").on("click",".sidebar-search .remove",function(e){void 0,e.preventDefault(),$(".sidebar-search").removeClass("open")}),$(".page-sidebar .sidebar-search").off("keypress","input.form-control"),$(".page-sidebar .sidebar-search").on("keypress","input.form-control",function(e){if(13==e.which)return $(".sidebar-search").submit(),!1}),$(".sidebar-search .submit").off("click"),$(".sidebar-search .submit").on("click",function(e){e.preventDefault(),$("body").hasClass("page-sidebar-closed")&&!1===$(".sidebar-search").hasClass("open")?(1===$(".page-sidebar-fixed").size()&&$(".page-sidebar .sidebar-toggler").click(),$(".sidebar-search").addClass("open")):$(".sidebar-search").submit()}),0!==$(".sidebar-search").size()&&($(".sidebar-search .input-group").on("click",function(e){e.stopPropagation()}),$("body").on("click",function(){$(".sidebar-search").hasClass("open")&&$(".sidebar-search").removeClass("open")}))},r=function(){$(".page-header").on("click",".search-form",function(e){$(this).addClass("open"),$(this).find(".form-control").focus(),$(".page-header .search-form .form-control").on("blur",function(e){$(this).closest(".search-form").removeClass("open"),$(this).unbind("blur")})}),$(".page-header").on("keypress",".hor-menu .search-form .form-control",function(e){if(13==e.which)return $(this).closest(".search-form").submit(),!1}),$(".page-header").on("mousedown",".search-form.open .submit",function(e){e.preventDefault(),e.stopPropagation(),$(this).closest(".search-form").submit()})},l=function(){navigator.userAgent.match(/iPhone|iPad|iPod/i)?$(window).bind("touchend touchcancel touchleave",function(e){$(this).scrollTop()>300?$(".scroll-to-top").fadeIn(500):$(".scroll-to-top").fadeOut(500)}):$(window).scroll(function(){$(this).scrollTop()>300?$(".scroll-to-top").fadeIn(500):$(".scroll-to-top").fadeOut(500)}),$(".scroll-to-top").click(function(e){return e.preventDefault(),$("html, body").animate({scrollTop:0},500),!1})};return{initHeader:function(){r()},setSidebarMenuActiveLink:function(e,i){t(e,i)},initSidebar:function(){n(),i(),s(),Metronic.isAngularJsApp()&&t("match"),Metronic.addResizeHandler(n)},initContent:function(){},initFooter:function(){l()},init:function(){this.initHeader(),this.initSidebar(),this.initContent(),this.initFooter()},fixContentHeight:function(){},initFixedSidebarHoverEffect:function(){o()},initFixedSidebar:function(){n()},getLayoutImgPath:function(){return Metronic.getAssetsPath()+"admin/layout4/img/"},getLayoutCssPath:function(){return Metronic.getAssetsPath()+"admin/layout4/css/"}}}(),Demo=function(){var e=function(){var e=$(".theme-panel");!1===$("body").hasClass("page-boxed")&&$(".layout-option",e).val("fluid"),$(".sidebar-option",e).val("default"),$(".page-header-option",e).val("fixed"),$(".page-footer-option",e).val("default"),!1===$(".sidebar-pos-option").attr("disabled")&&$(".sidebar-pos-option",e).val(Metronic.isRTL()?"right":"left");var t=function(){$("body").removeClass("page-boxed").removeClass("page-footer-fixed").removeClass("page-sidebar-fixed").removeClass("page-header-fixed").removeClass("page-sidebar-reversed"),$(".page-header > .page-header-inner").removeClass("container"),1===$(".page-container").parent(".container").size()&&$(".page-container").insertAfter("body > .clearfix"),1===$(".page-footer > .container").size()?$(".page-footer").html($(".page-footer > .container").html()):1===$(".page-footer").parent(".container").size()&&($(".page-footer").insertAfter(".page-container"),$(".scroll-to-top").insertAfter(".page-footer")),$(".top-menu > .navbar-nav > li.dropdown").removeClass("dropdown-dark"),$("body > .container").remove()},i="",a=function(){var a=$(".layout-option",e).val(),n=$(".sidebar-option",e).val(),o=$(".page-header-option",e).val(),s=$(".page-footer-option",e).val(),r=$(".sidebar-pos-option",e).val(),l=$(".sidebar-style-option",e).val(),c=$(".sidebar-menu-option",e).val(),h=$(".page-header-top-dropdown-style-option",e).val();if("fixed"==n&&"default"==o&&(void 0,$(".page-header-option",e).val("fixed"),$(".sidebar-option",e).val("fixed"),n="fixed",o="fixed"),t(),"boxed"===a){$("body").addClass("page-boxed"),$(".page-header > .page-header-inner").addClass("container");$("body > .clearfix").after('<div class="container"></div>');$(".page-container").appendTo("body > .container"),"fixed"===s?$(".page-footer").html('<div class="container">'+$(".page-footer").html()+"</div>"):$(".page-footer").appendTo("body > .container")}i!=a&&Metronic.runResizeHandlers(),i=a,"fixed"===o?($("body").addClass("page-header-fixed"),$(".page-header").removeClass("navbar-static-top").addClass("navbar-fixed-top")):($("body").removeClass("page-header-fixed"),$(".page-header").removeClass("navbar-fixed-top").addClass("navbar-static-top")),!1===$("body").hasClass("page-full-width")&&("fixed"===n?($("body").addClass("page-sidebar-fixed"),$("page-sidebar-menu").addClass("page-sidebar-menu-fixed"),$("page-sidebar-menu").removeClass("page-sidebar-menu-default"),Layout.initFixedSidebarHoverEffect()):($("body").removeClass("page-sidebar-fixed"),$("page-sidebar-menu").addClass("page-sidebar-menu-default"),$("page-sidebar-menu").removeClass("page-sidebar-menu-fixed"),$(".page-sidebar-menu").unbind("mouseenter").unbind("mouseleave"))),"dark"===h?$(".top-menu > .navbar-nav > li.dropdown").addClass("dropdown-dark"):$(".top-menu > .navbar-nav > li.dropdown").removeClass("dropdown-dark"),"fixed"===s?$("body").addClass("page-footer-fixed"):$("body").removeClass("page-footer-fixed"),"compact"===l?$(".page-sidebar-menu").addClass("page-sidebar-menu-compact"):$(".page-sidebar-menu").removeClass("page-sidebar-menu-compact"),"hover"===c?"fixed"==n?($(".sidebar-menu-option",e).val("accordion"),void 0):$(".page-sidebar-menu").addClass("page-sidebar-menu-hover-submenu"):$(".page-sidebar-menu").removeClass("page-sidebar-menu-hover-submenu"),Metronic.isRTL()?"left"===r?($("body").addClass("page-sidebar-reversed"),$("#frontend-link").tooltip("destroy").tooltip({placement:"right"})):($("body").removeClass("page-sidebar-reversed"),$("#frontend-link").tooltip("destroy").tooltip({placement:"left"})):"right"===r?($("body").addClass("page-sidebar-reversed"),$("#frontend-link").tooltip("destroy").tooltip({placement:"left"})):($("body").removeClass("page-sidebar-reversed"),$("#frontend-link").tooltip("destroy").tooltip({placement:"right"})),Layout.fixContentHeight(),Layout.initFixedSidebar()},n=function(e){var t=Metronic.isRTL()?e+"-rtl":e;$("#style_color").attr("href",Layout.getLayoutCssPath()+"themes/"+t+".css")};$(".theme-colors > li",e).click(function(){var t=$(this).attr("data-theme");n(t),$("ul > li",e).removeClass("active"),$(this).addClass("active"),"dark"===t?$(".page-actions .btn").removeClass("red-haze").addClass("btn-default btn-transparent"):$(".page-actions .btn").removeClass("btn-default btn-transparent").addClass("red-haze")}),$("body").hasClass("page-boxed")&&$(".layout-option",e).val("boxed"),$("body").hasClass("page-sidebar-fixed")&&$(".sidebar-option",e).val("fixed"),$("body").hasClass("page-header-fixed")&&$(".page-header-option",e).val("fixed"),$("body").hasClass("page-footer-fixed")&&$(".page-footer-option",e).val("fixed"),$("body").hasClass("page-sidebar-reversed")&&$(".sidebar-pos-option",e).val("right"),$(".page-sidebar-menu").hasClass("page-sidebar-menu-light")&&$(".sidebar-style-option",e).val("light"),$(".page-sidebar-menu").hasClass("page-sidebar-menu-hover-submenu")&&$(".sidebar-menu-option",e).val("hover");$(".sidebar-option",e).val(),$(".page-header-option",e).val(),$(".page-footer-option",e).val(),$(".sidebar-pos-option",e).val(),$(".sidebar-style-option",e).val(),$(".sidebar-menu-option",e).val();$(".layout-option, .page-header-top-dropdown-style-option, .page-header-option, .sidebar-option, .page-footer-option, .sidebar-pos-option, .sidebar-style-option, .sidebar-menu-option",e).change(a)},t=function(e){var t="rounded"===e?"components-rounded":"components";t=Metronic.isRTL()?t+"-rtl":t,$("#style_components").attr("href",Metronic.getGlobalCssPath()+t+".css"),$.cookie&&$.cookie("layout-style-option",e)};return{init:function(){e(),$(".theme-panel .layout-style-option").change(function(){t($(this).val())}),$.cookie&&"rounded"===$.cookie("layout-style-option")&&(t($.cookie("layout-style-option")),$(".theme-panel .layout-style-option").val($.cookie("layout-style-option")))}}}();!function(e){"use strict";function t(){var t={size:200,value:void 0,min:0,max:100,cap:"butt",thick:6,type:"full",foregroundColor:"rgba(0, 150, 136, 1)",backgroundColor:"rgba(0, 0, 0, 0.1)",duration:1500,fractionSize:null,labelOnly:!1};this.setOptions=function(i){if(!i||!e.isObject(i))throw new Error("Invalid option type specified in the ngGaugeProvider");t=e.merge(t,i)};var i={getOptions:function(){return e.extend({},t)}};this.$get=function(){return i}}function i(t){var i=function(e,t){this.element=e.find("canvas")[0],this.text=e.find("span"),this.legend=e.find("b"),this.unit=e.find("u"),this.context=this.element.getContext("2d"),this.options=t,this.init()};return i.prototype={init:function(){this.setupStyles(),this.create(null,null)},setupStyles:function(){this.context.canvas.width=this.options.size,this.context.canvas.height=this.options.size,this.context.lineCap=this.options.cap,this.context.lineWidth=this.options.thick;var e=.22*this.options.size,t=this.options.size;this.text.css({display:"inline-block",fontWeight:"normal",width:"100%",position:"absolute",textAlign:"center",overflow:"hidden",textOverflow:"ellipsis",fontSize:e+"px",lineHeight:t+"px"}),this.unit.css({textDecoration:"none",fontSize:"0.6em",fontWeight:200,opacity:.8});var i=this.options.labelOnly?.8*e:this.options.size/13,a=this.options.labelOnly?t:5*i+parseInt(this.options.size);this.legend.css({display:"inline-block",width:"100%",position:"absolute",textAlign:"center",overflow:"hidden",textOverflow:"ellipsis",fontWeight:"normal",fontSize:i+"px",lineHeight:a+"px"})},create:function(e,t){function i(e){e=e||(new Date).getTime();var s=e-n,r=Math.min(s/l,1),c=t?t*p:0,h=d+c+f*r;o.drawShell(d,h,m,g),s<l?a=window.requestAnimationFrame(function(e){i(e)}):cancelAnimationFrame(a)}var a,n,o=this,s=this.getType(),r=this.getBounds(s),l=this.getDuration(),c=this.getMin(),h=this.getMax(),u=this.clamp(this.getValue(),c,h),d=r.head,p=(r.tail-r.head)/(h-c),f=p*(u-c),m=r.tail,g=this.getForegroundColorByRange(u);e&&t&&(f=p*e-p*t),requestAnimationFrame(function(e){n=e||(new Date).getTime(),i(e)})},getBounds:function(e){var t,i;return"semi"==e?(t=Math.PI,i=2*Math.PI):"full"==e?(t=1.5*Math.PI,i=3.5*Math.PI):"arch"===e&&(t=.8*Math.PI,i=2.2*Math.PI),{head:t,tail:i}},drawShell:function(e,t,i,a){var n=this.context,o=this.getCenter(),s=this.getRadius(),r=a,l=this.getBackgroundColor();this.clear(),t=Math.max(t,e),t=Math.min(t,i),n.beginPath(),n.strokeStyle=l,n.arc(o.x,o.y,s,t,i,!1),n.stroke(),n.beginPath(),n.strokeStyle=r,n.arc(o.x,o.y,s,e,t,!1),n.stroke()},clear:function(){this.context.clearRect(0,0,this.getWidth(),this.getHeight())},update:function(e,t){this.create(e,t)},destroy:function(){this.clear()},getRadius:function(){return this.getCenter().x-this.getThickness()},getCenter:function(){return{x:this.getWidth()/2,y:this.getHeight()/2}},getValue:function(){return this.options.value},getMin:function(){return this.options.min},getMax:function(){return this.options.max},getWidth:function(){return this.context.canvas.width},getHeight:function(){return this.context.canvas.height},getThickness:function(){return this.options.thick},getBackgroundColor:function(){return this.options.backgroundColor},getForegroundColor:function(){return this.options.foregroundColor},getForegroundColorByRange:function(e){var t=function(e){return void 0!=e&&!isNaN(parseFloat(e))&&!isNaN(Number(e))},i=Object.keys(this.options.thresholds).filter(function(i){return t(i)&&Number(i)<=e}).sort(function(e,t){return Number(e)>Number(t)}).reverse()[0];return void 0!==i?this.options.thresholds[i].color||this.getForegroundColor():this.getForegroundColor()},getLineCap:function(){return this.options.cap},getType:function(){return this.options.type},getDuration:function(){return this.options.duration},clamp:function(e,t,i){return Math.max(t,Math.min(i,e))}},{restrict:"E",replace:!0,template:'<div style="display:inline-block;text-align:center;position:relative;"><span ng-show="{{!labelOnly}}"><u>{{prepend}}</u><span ng-if="fractionSize === null">{{value | number}}</span><span ng-if="fractionSize !== null">{{value | number: fractionSize}}</span><u>{{append}}</u></span><b>{{ label }}</b><canvas></canvas></div>',scope:{append:"@?",backgroundColor:"@?",cap:"@?",foregroundColor:"@?",label:"@?",labelOnly:"@?",prepend:"@?",size:"@?",thick:"@?",type:"@?",duration:"@?",value:"=?",min:"=?",max:"=?",thresholds:"=?",fractionSize:"=?"},link:function(a,n){function o(t,i){l&&e.isDefined(t)&&!e.equals(t,i)&&l.update(t,i)}function s(t,i){e.isDefined(t)&&!e.equals(t,i)&&(l.destroy(),l.init())}var r=t.getOptions();a.min=e.isDefined(a.min)?a.min:r.min,a.max=e.isDefined(a.max)?a.max:r.max,a.value=e.isDefined(a.value)?a.value:r.value,a.size=e.isDefined(a.size)?a.size:r.size,a.cap=e.isDefined(a.cap)?a.cap:r.cap,a.thick=e.isDefined(a.thick)?a.thick:r.thick,a.type=e.isDefined(a.type)?a.type:r.type,a.duration=e.isDefined(a.duration)?a.duration:r.duration,a.labelOnly=e.isDefined(a.labelOnly)?a.labelOnly:r.labelOnly,a.foregroundColor=e.isDefined(a.foregroundColor)?a.foregroundColor:r.foregroundColor,a.backgroundColor=e.isDefined(a.backgroundColor)?a.backgroundColor:r.backgroundColor,a.thresholds=e.isDefined(a.thresholds)?a.thresholds:{},a.fractionSize=e.isDefined(a.fractionSize)?a.fractionSize:r.fractionSize;var l=new i(n,a);a.$watch("value",o,!1),a.$watch("min",o,!1),a.$watch("max",o,!1),a.$watch("cap",s,!1),a.$watch("thick",s,!1),a.$watch("type",s,!1),a.$watch("size",s,!1),a.$watch("duration",s,!1),a.$watch("foregroundColor",s,!1),a.$watch("backgroundColor",s,!1),a.$watch("thresholds",s,!1),a.$watch("fractionSize",o,!1),a.$on("$destroy",function(){}),a.$on("$resize",function(){})}}}e.module("angularjs-gauge",[]).directive("ngGauge",i).provider("ngGauge",t),t.$inject=[],i.$inject=["ngGauge"]}(angular);var MetronicApp=angular.module("MetronicApp",["ui.router","ui.bootstrap","ngSanitize","ngAnimate","toggle-switch","Alertify","ui.select2","daterangepicker","smart-table","angular.filter","ngCsv","toggle-sidemenu","LocalStorageModule","simple-autocomplete","rzModule","angularjs-gauge"]);MetronicApp.factory("settings",["$rootScope",function(e){if("object"==typeof localStorage)try{var t=localStorage.getItem("isexpanded");"true"==t&&(t=!0),"false"==t&&(t=!1),null==t&&(localStorage.setItem("isexpanded",!1),t=!1),e.isPrivate=!1}catch(e){Storage.prototype.setItem=function(){},void 0,window.isPrivate=!0,void 0}var i={layout:{pageSidebarClosed:t,pageAutoScrollOnLoad:1e3},layoutImgPath:Metronic.getAssetsPath()+"admin/layout/img/",layoutCssPath:Metronic.getAssetsPath()+"admin/layout/css/"};return e.settings=i,i}]),MetronicApp.controller("AppController",["$scope","$rootScope",function(e,t){e.$on("$viewContentLoaded",function(){Metronic.initComponents()}),e.version=window.version,t.$on("$stateChangeStart",function(e,t,i,a,n,o){$("ul.sub-menu").each(function(){$(this).find('[ui-sref="'+t.name+'"]')&&$(this).find('[ui-sref="'+t.name+'"]').length>0&&!$(this).parent().hasClass("open")&&($(this).parent().addClass("open"),$(this).show())})})}]),MetronicApp.controller("HeaderController",["$scope",function(e){e.$on("$includeContentLoaded",function(){Layout.initHeader()})}]),MetronicApp.controller("SidebarController",["$scope",function(e){e.$on("$includeContentLoaded",function(){Layout.initSidebar()})}]),MetronicApp.controller("PageHeadController",["$scope",function(e){e.$on("$includeContentLoaded",function(){Demo.init()})}]),MetronicApp.controller("FooterController",["$scope",function(e){e.$on("$includeContentLoaded",function(){Layout.initFooter()})}]),MetronicApp.config(["$controllerProvider","$httpProvider","$compileProvider",function(e,t,i){e.allowGlobals(),t.interceptors.push("authInterceptor"),i.debugInfoEnabled(!1)}]),MetronicApp.value("isDebugging",!0),MetronicApp.constant("SessionOutDisabledUsers",["npi@nogalesproduce.com"]),window.location.href.indexOf("localhost")>0?MetronicApp.constant("ApiUrl","http://localhost:55335/"):MetronicApp.constant("ApiUrl",window.location.origin+"/api/"),MetronicApp.config(["$stateProvider","$urlRouterProvider",function(e,t){function i(e,t,i){return e.GetGlobalFilters().then(function(e){return t.defaultfilter=e.data[3],t.GlobalFilter=e.data,t.currentfilter=t.defaultfilter,0==i.getStorage("CurrentFilter")?(i.setStorage("CurrentFilter",t.defaultfilter),t.currentfilter=t.defaultfilter):t.currentfilter=i.getStorage("CurrentFilter").data,e.data})}function a(e,t,i){t.getuseraccesss().IsModuleAccess||setTimeout(function(){var e=window.location.href.split("#/").pop();e=e.replace(/\\/g,""),"dashboard"!==e&&i.go("dashboard"),Metronic.unblockUI()})}var n=window.version?window.version:0;n="?v="+n,t.otherwise("/dashboard"),e.state("login",{url:"/login",templateUrl:"app/pages/login/login.html"+n,data:{},controller:"LoginController",resolve:{GlobalFilter:["dataService","$rootScope","storageService",i]}}).state("resetPassword",{url:"/reset-password",templateUrl:"app/pages/reset-password/reset-password.html"+n,data:{},controller:"ResetController"}).state("changePassword",{url:"/change-password"+n,templateUrl:"app/pages/change-password/change-password.html"+n,data:{pageTitle:"Change Password",pageSubTitle:"",roles:["User","Tool Admin"]},controller:"ChangePasswordController"}).state("dashboard",{url:"/dashboard",templateUrl:"app/pages/dashboard/dashboard.html"+n,data:{pageTitle:"Dashboard",pageSubTitle:"statistics & reports",roles:["User"],permissions:!1},controller:"DashboardController",resolve:{GlobalFilter:["dataService","$rootScope","storageService",i]}}).state("sales",{url:"/sales/:sales"+n,templateUrl:"app/pages/sales/sales.html"+n,data:{pageTitle:"Sales",pageSubTitle:"statistics & reports",parentMenu:"dashboard",roles:["User"]},controller:"SalesController",resolve:{GlobalFilter:["dataService","$rootScope","storageService",i],AccessCheck:["$rootScope","commonService","$state",a]}}).state("casessold",{url:"/casessold"+n,templateUrl:"app/pages/cases-sold/cases-sold.html"+n,data:{pageTitle:"Cases Sold",pageSubTitle:"statistics & reports",parentMenu:"dashboard",roles:["User"]},controller:"CaseSoldController",resolve:{GlobalFilter:["dataService","$rootScope","storageService",i],AccessCheck:["$rootScope","commonService","$state",a]}}).state("expenses",{url:"/expenses/:category"+n,templateUrl:"app/pages/expenses/expenses.html"+n,data:{pageTitle:"Expenses",pageSubTitle:"statistics & reports",parentMenu:"dashboard",roles:["User"]},controller:"ExpenseController",resolve:{GlobalFilter:["dataService","$rootScope","storageService",i],AccessCheck:["$rootScope","commonService","$state",a]}}).state("Profitablity",{url:"/Profitablity/:category"+n,templateUrl:"app/pages/profitability/profitability.html"+n,data:{pageTitle:"Profitability",pageSubTitle:"statistics & reports",parentMenu:"dashboard",roles:["User"]},controller:"ProfitabiltyController",resolve:{GlobalFilter:["dataService","$rootScope","storageService",i],AccessCheck:["$rootScope","commonService","$state",a]}}).state("revenue",{url:"/revenue/:category"+n,templateUrl:"app/pages/revenue/revenue.html"+n,data:{pageTitle:"Revenue",pageSubTitle:"statistics & reports",parentMenu:"dashboard",roles:["User"]},controller:"RevenueController",resolve:{GlobalFilter:["dataService","$rootScope","storageService",i],AccessCheck:["$rootScope","commonService","$state",a]}}).state("cases-sold-categories",{url:"/cases-sold-categories"+n,templateUrl:"app/pages/cases-sold-Revenue-categories/CasesSoldRevenueCategories.html"+n,data:{pageTitle:"Cases Sold",pageSubTitle:"by categories",parentMenu:"dashboard",roles:["User"]},controller:"CategoriesController",resolve:{GlobalFilter:["dataService","$rootScope","storageService",i],AccessCheck:["$rootScope","commonService","$state",a]}}).state("revenue-categories",{url:"/revenue-categories/:category"+n,templateUrl:"app/pages/cases-sold-Revenue-categories/CasesSoldRevenueCategories.html"+n,data:{pageTitle:"Sales",pageSubTitle:"by Categories",parentMenu:"dashboard",roles:["User"]},controller:"CategoriesController",resolve:{GlobalFilter:["dataService","$rootScope","storageService",i],AccessCheck:["$rootScope","commonService","$state",a]}}).state("payroll-report",{url:"/payroll-report"+n,templateUrl:"app/pages/payroll/payroll-report.html"+n,data:{pageTitle:"Payroll",pageSubTitle:"statistics & reports",parentMenu:"dashboard",roles:["User"]},controller:"PayrollReportController",resolve:{AccessCheck:["$rootScope","commonService","$state",a]}}).state("sales-order-no-bin-report",{url:"/sales-order-no-bin-report"+n,templateUrl:"app/pages/warehouse/sales-order-no-bin-report.html"+n,data:{pageTitle:"Sales Order No Bin Report",pageSubTitle:"statistics & reports",parentMenu:"dashboard",roles:["User"]},controller:"SalesOrderNoBinReportController",resolve:{AccessCheck:["$rootScope","commonService","$state",a]}}).state("dumpdonations-report",{url:"/dumpdonations-report"+n,templateUrl:"app/pages/warehouse/dumpdonations-report.html"+n,data:{pageTitle:"Dump & Donation Report",pageSubTitle:"statistics & reports",parentMenu:"dashboard",roles:["User"]},controller:"DumpdonationsReportController",resolve:{AccessCheck:["$rootScope","commonService","$state",a]}}).state("costcomparison-report",{url:"/costcomparison-report"+n,templateUrl:"app/pages/item/costcomparison-report.html"+n,data:{pageTitle:"Cost Comparison Report",pageSubTitle:"statistics & reports",parentMenu:"dashboard",roles:["User"]},controller:"CostcomparisonController",resolve:{GlobalFilter:["dataService","$rootScope","storageService",i],AccessCheck:["$rootScope","commonService","$state",a]}}).state("itemvendor-report",{url:"/itemvendor-report"+n,templateUrl:"app/pages/item/Item-vendor-report.html"+n,data:{pageTitle:"Item Vendor Report",pageSubTitle:"statistics & reports",parentMenu:"dashboard",roles:["User"]},controller:"ItemVendorReportController",resolve:{GlobalFilter:["dataService","$rootScope","storageService",i],AccessCheck:["$rootScope","commonService","$state",a]}}).state("revenue-report",{url:"/revenue-report"+n,templateUrl:"app/pages/revenue/revenue-report.html"+n,data:{pageTitle:"Revenue Report",pageSubTitle:"statistics & reports",parentMenu:"report",roles:["User"]},controller:"RevenueReportController",resolve:{AccessCheck:["$rootScope","commonService","$state",a]}}).state("warehouse-so-short-report",{url:"/warehouse-so-short-report"+n,templateUrl:"app/pages/warehouse/so-short-report.html"+n,data:{pageTitle:"SO Short Report",pageSubTitle:"statistics & reports",parentMenu:"warehouse",roles:["User"]},controller:"WarehouseSoShortReportController",resolve:{AccessCheck:["$rootScope","commonService","$state",a]}}).state("warehouse-wms-picker-productivity-report",{url:"/warehouse-wms-picker-productivity-report/:date"+n,templateUrl:"app/pages/warehouse/wms-picker-productivity-report.html"+n,data:{pageTitle:"WMS Picker Productivity Report",pageSubTitle:"statistics & reports",parentMenu:"warehouse",roles:["User"]},controller:"WarehouseWmsPickerProductivityReportController",resolve:{AccessCheck:["$rootScope","commonService","$state",a]}}).state("warehouse",{url:"/warehouse/:warehouse"+n,templateUrl:"app/pages/warehouse/warehouse.html"+n,data:{pageTitle:"Warehouse",pageSubTitle:"statistics & reports",parentMenu:"dashboard",roles:["User"]},controller:"WarehouseController",resolve:{AccessCheck:["$rootScope","commonService","$state",a]}}).state("user-management",{url:"/user-management"+n,templateUrl:"app/pages/tool-admin/user-management/user-manager.html?v="+n,data:{pageTitle:"User Management",roles:["Tool Admin"]},controller:"UserManagement"}).state("expenses-report",{url:"/expenses-report"+n,templateUrl:"app/pages/expenses/expenses-report.html"+n,data:{pageTitle:"Expenses Report",pageSubTitle:"statistics & reports",parentMenu:"report"},controller:"ExpensesReportController",resolve:{AccessCheck:["$rootScope","commonService","$state",a]}}).state("sales-report",{url:"/sales-report"+n,templateUrl:"app/pages/sales/sales-report.html?"+n,data:{pageTitle:"Sales Report",pageSubTitle:"statistics & reports",parentMenu:"report",roles:["User"]},controller:"SalesReportController",resolve:{AccessCheck:["$rootScope","commonService","$state",a]}}).state("casesold-report",{url:"/casesold-report"+n,templateUrl:"app/pages/cases-sold/cases-sold-report.html"+n,data:{pageTitle:"Cases Sold Report",pageSubTitle:"statistics & reports",parentMenu:"report",roles:["User"]},controller:"CasesSoldReportController",resolve:{AccessCheck:["$rootScope","commonService","$state",a]}}).state("Commodity-report",{url:"/Commodity-report"+n,templateUrl:"app/pages/expenses/Commodity-report.html"+n,data:{pageTitle:"Commodity Report",pageSubTitle:"statistics & reports",parentMenu:"report",roles:["User"]},controller:"CommodityReportController",resolve:{AccessCheck:["$rootScope","commonService","$state",a]}}).state("transportation",{url:"/transportation"+n,templateUrl:"app/pages/transportation/transportation.html"+n,data:{pageTitle:"Transportation",pageSubTitle:"statistics & reports",parentMenu:"dashboard",roles:["User"]},controller:"transportationController",resolve:{GlobalFilter:["dataService","$rootScope","storageService",i],AccessCheck:["$rootScope","commonService","$state",a]}}).state("transportation-driver-report",{url:"/transportation-driver-report"+n,templateUrl:"app/pages/transportation/transportation-driver-report.html"+n,data:{pageTitle:"Transportation",pageSubTitle:"statistics & reports",parentMenu:"dashboard",roles:["User"]},controller:"TransportationReportController",resolve:{AccessCheck:["$rootScope","commonService","$state",a]}}).state("transportation-route-report",{url:"/transportation-route-report"+n,templateUrl:"app/pages/transportation/transportation-route-report.html"+n,data:{pageTitle:"Transportation",pageSubTitle:"statistics & reports",parentMenu:"dashboard",roles:["User"]},controller:"TransportationRouteReportController",resolve:{AccessCheck:["$rootScope","commonService","$state",a]}}).state("sales-person-mapping",{url:"/sales-person-mapping"+n,templateUrl:"app/pages/sales/sales-person-mapping.html"+n,data:{pageTitle:"Sales Person Mapping",pageSubTitle:"statistics & reports",parentMenu:"dashboard",roles:["Tool Admin"]},controller:"SalesPersonMapController",resolve:{AccessCheck:["$rootScope","commonService","$state",a]}}).state("sales-person-analysis-report",{url:"/sales-person-analysis-report"+n,templateUrl:"app/pages/sales/sales-person-analysis-report.html"+n,data:{pageTitle:"Sales Person Analysis Report",pageSubTitle:"statistics & reports",parentMenu:"dashboard",roles:["User"]},controller:"SalesPersonAnalysisReportController",resolve:{AccessCheck:["$rootScope","commonService","$state",a]}}).state("item-report",{url:"/item-report"+n,templateUrl:"app/pages/item/item-report.html"+n,data:{pageTitle:"Average Cost Report",pageSubTitle:"Reports",parentMenu:"report",roles:["User"]},controller:"ItemReportController",resolve:{AccessCheck:["$rootScope","commonService","$state",a]}}).state("customer-report",{url:"/customer-report"+n,templateUrl:"app/pages/customer/customer-report.html"+n,data:{pageTitle:"Customer Report",pageSubTitle:"Reports",parentMenu:"report",roles:["User"]},controller:"CustomerReportController",resolve:{AccessCheck:["$rootScope","commonService","$state",a]}}).state("lost-order-report",{url:"/lost-order-report"+n,templateUrl:"app/pages/customer/lost-order-report.html"+n,data:{pageTitle:"Lost Order Report",pageSubTitle:"Reports",parentMenu:"report",roles:["User"]},controller:"LostOrderReportController",resolve:{AccessCheck:["$rootScope","commonService","$state",a]}}).state("sales-analysis-report",{url:"/sales-analysis-report"+n,templateUrl:"app/pages/sales/sales-analysis-report.html"+n,data:{pageTitle:"Sales Analysis",pageSubTitle:"Reports",parentMenu:"report",roles:["User"]},controller:"SalesAnalysisReportController",resolve:{AccessCheck:["$rootScope","commonService","$state",a]}})}]),MetronicApp.run(["$state","authService","$rootScope",function(e,t,i){t.fillAuthData(),t.isAuthenticated()||(window.location.href="#login"),window.gettotal=!1,i.$on("$stateChangeStart",function(i,a,n,o,s,r){
"login"==a.name||"resetPassword"==a.name||(t.isAuthenticated()?a.data&&a.data.roles&&a.data.roles.length>0&&a.data.roles.indexOf(t.user.role)<0&&(i.preventDefault(),""==o.name&&e.go("login")):(i.preventDefault(),e.go("login")))})}]),MetronicApp.directive("nogalesSalesChartInvoicedGrouping",["$location","$rootScope","$filter","$state","dataService","NotificationService","HelperService",function(e,t,i,a,n,o,s){return this.count=0,{restrict:"E",replace:!0,require:"?ngModel",scope:{nlLocation:"=",nlDashboard:"=",filterType:"=",customMonth:"=",callbackFn:"&",objectToInject:"=",currentfilter:"=",percentagecallbackFn:"&"},template:' <div class="portlet-body" id="sales"><div class="portlet-body" ng-init="showChart=true"><div ng-show="showChart"><div class="chart-back-btn" ng-init="backBtnVisible = false" ng-show="backBtnVisible"><i class="fa-arrow-circle-o-left fa fa-2x" ng-click="showReport=false;showChart=true; backChart()" style="cursor:pointer;"></i></div><div id="{{::myId}}" class="chart" style="width:100%;min-height:500px;"></div><div ng-show="drillDownCount==0" id="{{::legendDiv}}"  class="clusteredBarChartLegenddiv1"></div></div><div ng-show="showReport"><div class="chart-back-btn" ng-init="chartBackBtnVisible = true" ng-show="chartBackBtnVisible"><i class="fa-arrow-circle-o-left fa fa-2x" ng-click="reportback()" style="cursor:pointer;"></i></div><div style="margin-top: -46px;"><div ng-if="!iscustomersItemReport" ng-include="\'app/pages/sales/sales-report-table.html\'"></div><div ng-if="iscustomersItemReport" ng-include="\'app/pages/sales/customer-item-table.html\'"></div></div></div></div> </div></div>',link:function(e,a,r,l){function c(e){return e.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1,")}function h(t,a){var s=i("htmlToPlaintext")("Total Sales "+e.breadcrumbtext);e.csvFileName=s+".csv",e.csvFileNameDuplicate=e.csvFileName,e.customersData=[],e.customersDataSafe=[],Metronic.blockUI({boxed:!0}),n.GetSalesPersonCustomersDataTotal(t,a).then(function(t){if(t&&t.data){e.showChart=!1,e.showReport=!0,e.customersData=t.data,e.customersDataSafe=t.data,e.TotalSalesAmtPrior=0,e.TotalSalesQuantity=0,e.TotalSalesQuantityPrior=0,e.TotalSalesAmtCurrent=0,e.TotalDifference=0;for(var i=e.customersData.length,a=0;a<i;a++)e.TotalSalesAmtPrior=e.TotalSalesAmtPrior+e.customersData[a].SalesAmountPrior,e.TotalSalesQuantity=e.TotalSalesQuantity+e.customersData[a].SalesQty,e.TotalSalesQuantityPrior=e.TotalSalesQuantityPrior+e.customersData[a].CasesSoldPrior,e.TotalSalesAmtCurrent=e.TotalSalesAmtCurrent+e.customersData[a].SalesAmountCurrent,e.TotalDifference=e.TotalDifference+e.customersData[a].Difference}Metronic.unblockUI()},function(){o.Error("Error upon the API request"),o.ConsoleLog("Error on the server"),Metronic.unblockUI()})}e.legendDiv="legenddiv_clustered_with_report"+count,e.myId="chart_div_clustered_with_report1"+count++,e.chartLoaded=!1,e.callbackFn({title:"initial"});var u,d,p=function(){return"casesold"==r.nlDashboard?"No of Cases Sold":"revenue"==r.nlDashboard?"Revenue":"revenueDashboard"==r.nlDashboard?"Revenue":"expenses"==r.nlDashboard?"Expenses":""}();e.isCM01=!1;var f=0;e.drillDownCount=f;var m=[];e.sampledata=0,e.customersData=[],e.customersDataSafe=[],e.myTableFunctions={},e.groupProperty="";var g=function(i,a,o){function r(e){function t(e){return new Date(e).getFullYear()}if(e){var i=[];return i.push({title:t(e[0].Period1)+" Produce",color:e[0].Color2}),i.push({title:t(e[0].Period1)+" Grocery",color:e[0].Color1}),i.push({title:t(e[0].Period3)+" Produce",color:e[0].Color4}),i.push({title:t(e[0].Period3)+" Grocery",color:e[0].Color3}),f>0&&(i=[],i.push({title:"",color:"white"})),i}}u=AmCharts.makeChart(e.myId,{responsive:{minWidth:200,maxWidth:400,maxHeight:400,minHeight:200,overrides:{precision:2,legend:{enabled:!1},valueAxes:{inside:!0}}},processTimeout:1,theme:"none",type:"serial",valueAxes:[{stackType:"regular",position:"left",title:p}],graphs:[{id:"000",fillAlphas:0,lineAlpha:0,title:"",type:"column",valueField:"ColumnBottomMargin",showAllValueLabels:!0,labelText:" ",balloonText:"",labelFunction:function(e,t){0==f&&e.dataContext.Label1;return""},labelRotation:-35},{id:"1",fillAlphas:1,lineAlpha:.2,title:"",type:"column",valueField:"rValue1",fillColorsField:"Color1",balloonText:" ",balloonFunction:function(t,i){var a=0,n=1==e.casesold?t.dataContext.cValue1:t.dataContext.rValue1,o=1==e.casesold?t.dataContext.cValue2:t.dataContext.rValue2,s=t.dataContext.ActiveSalesPersonCode?"Sales Person <br /> "+t.dataContext.GroupName+"("+t.dataContext.ActiveSalesPersonCode+")":"";a=n+o,a=Math.round(100*a/100);var r=v(t);return t.dataContext.Label1+"<br /><b style='font-size: 130%'>Total $"+c(a)+r+" </b><br />Produce $"+c(Math.round(o))+"<br /> Grocery $"+c(Math.round(n))+"<br/>"+s}},{id:"2",fillAlphas:1,lineAlpha:.2,title:"",type:"column",valueField:"rValue2",fillColorsField:"Color2",balloonText:" ",balloonFunction:function(e,t){var i=0,a=e.dataContext.rValue1,n=e.dataContext.rValue2,o=e.dataContext.ActiveSalesPersonCode?"Sales Person <br /> "+e.dataContext.GroupName+"("+e.dataContext.ActiveSalesPersonCode+")":"";i=a+n,i=Math.round(100*i/100);var r=v(e);return e.dataContext.Label2+"<br /><b style='font-size: 130%'>Total $"+s.formatCommaSeperate(i)+r+" </b><br />Produce $"+s.formatCommaSeperate(Math.round(n))+"<br /> Grocery $"+s.formatCommaSeperate(Math.round(a))+"<br />"+o}},{id:"000",fillAlphas:0,lineAlpha:0,title:"",type:"column",newStack:!0,valueField:"ColumnBottomMargin",showAllValueLabels:!0,labelText:" ",balloonText:"",labelFunction:function(e,t){0==f&&e.dataContext.Label2;return""},labelRotation:-35},{id:"3",fillAlphas:1,lineAlpha:.2,newStack:!1,title:"",type:"column",valueField:"rValue3",fillColorsField:"Color3",balloonText:" ",balloonFunction:function(e,t){var i=0,a=e.dataContext.rValue3,n=e.dataContext.rValue4;e.dataContext.ActiveSalesPersonCode&&(e.dataContext.GroupName,e.dataContext.ActiveSalesPersonCode);return i=a+n,i=Math.round(100*i/100),e.dataContext.Label3+"<br /><b style='font-size: 130%'>Total $"+s.formatCommaSeperate(i)+" </b><br />Produce $"+s.formatCommaSeperate(Math.round(n))+"<br /> Grocery $"+s.formatCommaSeperate(Math.round(a))+"<br />"}},{id:"4",fillAlphas:1,lineAlpha:.2,newStack:!1,title:"",type:"column",valueField:"rValue4",fillColorsField:"Color4",balloonText:" ",balloonFunction:function(e,t){var i=0,a=e.dataContext.rValue3,n=e.dataContext.rValue4;e.dataContext.ActiveSalesPersonCode&&(e.dataContext.GroupName,e.dataContext.ActiveSalesPersonCode);return i=a+n,i=Math.round(100*i/100),e.dataContext.Label4+"<br /><b style='font-size: 130%'>Total $"+s.formatCommaSeperate(i)+" </b><br />Produce $"+s.formatCommaSeperate(Math.round(n))+"<br /> Grocery $"+s.formatCommaSeperate(Math.round(a))+"<br />"}},{id:"000",fillAlphas:0,lineAlpha:0,title:"",type:"column",newStack:!0,valueField:"ColumnBottomMargin",showAllValueLabels:!0,labelText:" ",balloonText:"",labelFunction:function(e,t){0==f&&e.dataContext.Label3;return""},labelRotation:-35},{id:"5",fillAlphas:1,lineAlpha:.2,newStack:!1,title:"",type:"column",valueField:"rValue5",fillColorsField:"Color5",balloonText:" ",balloonFunction:function(t,i){var a=0,n=1==e.casesold?t.dataContext.cValue5:t.dataContext.rValue5,o=1==e.casesold?t.dataContext.cValue6:t.dataContext.rValue6;t.dataContext.ActiveSalesPersonCode&&(t.dataContext.GroupName,t.dataContext.ActiveSalesPersonCode);a=n+o,a=Math.round(100*a/100);var s=v(t,!0);return t.dataContext.Label5+"<br /><b style='font-size: 130%'>Total $"+c(a)+s+" </b><br />Produce $"+c(Math.round(o))+"<br /> Grocery $"+c(Math.round(n))+"<br/>"}},{id:"6",fillAlphas:1,lineAlpha:.2,newStack:!1,title:"",type:"column",valueField:"rValue6",fillColorsField:"Color6",balloonText:" ",balloonFunction:function(t,i){var a=0,n=1==e.casesold?t.dataContext.cValue5:t.dataContext.rValue5,o=1==e.casesold?t.dataContext.cValue6:t.dataContext.rValue6;t.dataContext.ActiveSalesPersonCode&&(t.dataContext.GroupName,t.dataContext.ActiveSalesPersonCode);a=n+o,a=Math.round(100*a/100);var s=v(t,!0);return t.dataContext.Label6+"<br /><b style='font-size: 130%'>Total $"+c(a)+s+" </b><br />Produce $"+c(Math.round(o))+"<br /> Grocery $"+c(Math.round(n))+"<br/>"}}],plotAreaFillAlphas:.1,depth3D:30,angle:30,categoryField:"GroupName",categoryAxis:{title:a,labelOffset:15,gridPosition:"start",tickPosition:"start",labelOffset:34,labelRotation:50,ignoreAxisWidth:!1,autoWrap:!0,labelFunction:function(e,t,i){var a=i.chart;return a.realWidth<=300&&e.length>5?e.substr(0,5)+"...":a.realWidth<=500&&e.length>10?e.substr(0,10)+"...":e}},legend:function(t){return void 0==t?null:{position:"bottom",data:r(t),autoMargins:!1,equalWidths:!1,divId:e.legendDiv}}(i),columnSpacing:12}),n.IsGlobal_Filter_Year()&&delete u.graphs[6],n.IsGlobal_Filter_Year()&&delete u.graphs[7],n.IsGlobal_Filter_Year()&&delete u.graphs[8],u.dataProvider=i,u.validateData(),u.addListener("clickGraphItem",function(a){if("000"!==a.graph.id)if(f<2){if(0==a.item.dataContext.SubData.length)return!1;var n=a.item;if(v(n),e.$apply(function(){e.showChart=!0,e.showReport=!1,e.backBtnVisible=!0}),void 0!=a.item.dataContext.SubData){m[f]=a.item.dataContext.SubData,f+=1,e.drillDownCount=f,subChartData=a.item.dataContext.SubData;var o=a.item.dataContext.GroupName;e.GroupName=a.item.dataContext.GroupName,e.breadcrumbtext=a.item.category,t.breadcrumbtextPrevious=a.item.category,e.callbackFn({title:e.breadcrumbtext}),e.chart_data=subChartData,g(subChartData,o,0),e.$apply(function(){e.backBtnVisible=!0})}}else{e.breadcrumbtext=e.breadcrumbtext+">"+a.item.category+"> Report",e.breadcrumbtextold=e.breadcrumbtext,e.breadcrumbback=e.breadcrumbtext,e.callbackFn({title:e.breadcrumbtext});var s,r=a.graph.id,l=a.item.index,n=i[l];switch(r){case"1":n.Period1,s=0;break;case"2":n.Period2,s=0;break;case"3":n.Period3,s=1;break;case"4":n.Period4,s=1;break;case"5":n.Period5,s=2;break;case"6":n.Period6,s=2}var n=a.item;v(n);var c={SalesPerson:e.isCM01?a.item.dataContext.GroupName:a.item.dataContext.ActiveSalesPersonCode,FilterId:t.currentfilter.Id,Period:s,Commodity:e.currentcommodity,OrderBy:"sales"};e.GlobalFilterModel=c,"000"!==r&&(a.item.dataContext.ActiveSalesPersonCode,h(c,e.isCM01))}})},v=function(t,i){var a,n;i?(a=e.casesold?t.dataContext.cValue5+t.dataContext.cValue6:t.dataContext.rValue5+t.dataContext.rValue6,n=e.casesold?t.dataContext.cValue3+t.dataContext.cValue4:t.dataContext.rValue3+t.dataContext.rValue4):(a=e.casesold?t.dataContext.cValue1+t.dataContext.cValue2:t.dataContext.rValue1+t.dataContext.rValue2,n=e.casesold?t.dataContext.cValue3+t.dataContext.cValue4:t.dataContext.rValue3+t.dataContext.rValue4);var o=a-n;0!==o?(o/=n,o*=100,o=o==1/0?0:o):o=0,e.PriorMonth=Math.round(o);return e.PriorMonth>0?"<span>(<span class='fa fa-sort-up' style='color:forestgreen'> "+Math.abs(e.PriorMonth)+" %</span>)</span>":e.PriorMonth<0?"<span>(<span class='fa fa-sort-down' style='color:red'> "+Math.abs(e.PriorMonth)+" %</span>)</span>":0==e.PriorMonth?"":void 0};e.$watch(function(){return l.$viewValue},function(t){e.backBtnVisible=!1,d=t,void 0==d||0==d.length?void 0==d?Metronic.blockUI({boxed:!0}):Metronic.unblockUI():g(d,"",0),f=0,e.drillDownCount=f,e.showChart=!0,e.showReport=!1}),e.backChart=function(){f-=1,e.drillDownCount=f,g(0==f?d:m[f-1],"",0==f?0:35),e.backBtnVisible=!(f<1)&&e.backBtnVisible,e.breadcrumbtext="",e.callbackFn({title:"initial"})},e.reportback=function(){e.isCM01&&e.callbackFn({title:e.cm01breadcrumb}),e.isCM01=!1,e.drillDownCount=f,e.iscustomersItemReport?(e.customersItemData=[],e.customersItemDataSafe=[],e.iscustomersItemReport=!1,e.breadcrumbtext=e.breadcrumbtextold,e.callbackFn({title:e.breadcrumbtext})):(e.showChart=!0,e.showReport=!1,e.breadcrumbtext=t.breadcrumbtextPrevious,e.callbackFn({title:e.breadcrumbtext})),e.csvFileName=e.csvFileNameDuplicate},e.csvFileName="TotalSales",e.getDetailedReport=function(t,i){e.breadcrumbtext=e.breadcrumbtext+">"+i,e.customer=i,e.callbackFn({title:e.breadcrumbtext}),e.GlobalFilterModel.CustomerNumber=t,Metronic.blockUI({boxed:!0}),n.GetCasesSoldDetails(e.GlobalFilterModel).then(function(t){if(t&&t.data&&(e.TotalQuantity=0,e.TotalExtPrice=0,e.customersItemData=t.data,e.customersItemDataSafe=t.data,e.iscustomersItemReport=!0,e.bk_customersItemData=angular.copy(t.data),e.bk_customersItemDataSafe=angular.copy(t.data),e.iscustomersItemReport))if("All"==e.currentcommodity){e.customersItemData=e.bk_customersItemData,e.customersItemDataSafe=e.bk_customersItemDataSafe;for(var i=0;i<e.customersItemData.length;i++)e.TotalQuantity=e.TotalQuantity+e.customersItemData[i].Quantity,e.TotalExtPrice=e.TotalExtPrice+e.customersItemData[i].ExtPrice}else{e.customersItemData=[],e.customersItemDataSafe=[];for(var i=0;i<e.bk_customersItemData.length;i++)e.bk_customersItemData[i].Comodity.trim()==e.currentcommodity&&(e.customersItemData.push(e.bk_customersItemData[i]),e.customersItemDataSafe.push(e.bk_customersItemData[i]),e.TotalQuantity=e.TotalQuantity+e.customersItemData[i].Quantity,e.TotalExtPrice=e.TotalExtPrice+e.customersItemData[i].ExtPrice)}Metronic.unblockUI()},function(){Metronic.unblockUI(),o.Error("Error upon the API request"),o.ConsoleLog("Error on the server")})},e.currentcommodity="All",e.FilterCommodity=function(t){e.currentcommodity=t,e.GlobalFilterModel.Commodity=t,h(e.GlobalFilterModel,e.isCM01)},e.getCsvHeader=function(){return e.csvFileName=e.csvFileName.replace(/_/g,"-"),e.csvFileName=e.csvFileName.replace(/>/g,"-"),e.csvFileName=e.csvFileName.replace("_","-"),e.csvFileName=e.csvFileName.toUpperCase(),["Customer Name","Sales Amt Prior","Sales Qty","Sales Amt Current","Difference","Difference (%)"]},e.getCsvData=function(){var t=[],a=[],n=0,o=0,s=0,r=0;a=["Customer","SalesAmountPrior","SalesQty","SalesAmountCurrent","Difference","Percentage"],angular.forEach(e.customersDataSafe,function(e,l){var c={};angular.forEach(e,function(e,t){var l=a.indexOf(t);l>-1&&(c[l]="SalesAmountCurrent"==t?"$"+e:"Difference"==t?"$"+e:"SalesAmountPrior"==t?"$"+e:"SalesQty"==t?i("numberWithCommas")(e):e),"SalesAmountCurrent"==t&&(n+=e),"Difference"==t&&(o+=e),"SalesAmountPrior"==t&&(s+=e),"SalesQty"==t&&(r+=e)}),void 0!=c&&t.push(c)});var l={};return l[0]="Total",l[1]="$"+Math.round(s),l[2]=i("numberWithCommas")(Math.round(r)),l[3]="$"+Math.round(n),l[4]="$"+Math.round(o),l[5]="",t.push(l),t},e.getCsvHeaderDrillDown=function(){return e.csvFileName=e.breadcrumbtext.replace(">Report","")+"-Report.csv",e.csvFileName="Total Sales "+e.csvFileName.replace(/\s/g,""),e.csvFileName=e.csvFileName.replace(/_/g,"-"),e.csvFileName=e.csvFileName.replace(/>/g,"-"),e.csvFileName=e.csvFileName.replace("_","-"),e.csvFileName=e.csvFileName.toUpperCase(),["Commodity","Invoice Date","Invoice #","Item","Item Description","Quantity","Ext Price","Sales Person","SO #"]},e.getCsvDataDrillDown=function(){var t=[],a=[];a=["Comodity","InvoiceDate","InvoiceNumber","Item","ItemDesc","Quantity","ExtPrice","SalesMan","Sono"],angular.forEach(e.customersItemDataSafe,function(e,n){var o={};angular.forEach(e,function(e,t){var n=a.indexOf(t);n>-1&&(o[n]="ExtPrice"==t?"$"+e:"Quantity"==t?i("numberWithCommas")(e):e)}),void 0!=o&&t.push(o)});var n={};return n[0]="Total",n[1]="",n[2]="",n[3]="",n[4]="",n[5]=i("numberWithCommas")(e.TotalQuantity),n[6]="$"+e.TotalExtPrice,n[7]="",n[8]="",t.push(n),t},e.getCsvDataItemSoldToCustomerHeader=function(){return["Commodity","Invoice Date","Invoice #","Item Code","Item Description","SO #","Cases Sold","Sales Amount"]},e.getCsvDataItemSoldToCustomer=function(){var t=[],a=[],n=0,o=0;a=["Comodity","InvoiceDate","InvoiceNumber","Item","ItemDesc","Sono","Quantity","ExtPrice"],angular.forEach(e.customersItemDataSafe,function(e,s){var r={};angular.forEach(e,function(e,t){var s=a.indexOf(t);s>-1&&(r[s]="ExtPrice"==t?"$"+Math.round(e):"Quantity"==t?i("numberWithCommas")(Math.round(e)):e),"Quantity"==t&&(n+=e),"ExtPrice"==t&&(o+=e)}),void 0!=r&&t.push(r)});var s={};return s[0]="Total",s[1]="",s[2]="",s[3]="",s[4]="",s[5]="",s[6]=i("numberWithCommas")(Math.round(n)),s[7]=i("currency")(Math.round(o)),t.push(s),t}}}}]),MetronicApp.directive("nlTotalChart",["$rootScope","$filter","dataService","NotificationService","HelperService",function(e,t,i,a,n){return this.count=0,{restrict:"E",replace:!0,require:"?ngModel",scope:{nlDashboard:"=",filterType:"=",callbackFn:"&"},templateUrl:"app/components/directives/nlTotalChart.html",link:function(o,s,r,l){function c(e,t){o.customersData=[],o.customersDataSafe=[],v+=1,Metronic.blockUI({boxed:!0}),i.GetCustomerServiceDetails(e,t).then(function(e){e&&e.data&&(o.showChart=!0,o.showReport=!1,"profitability"==t||"expenses"==t?x(e.data.TotalRevenue.All[0].SubData,"",50):x(e.data.TotalCasesSold.All[0].SubData,"",50)),Metronic.unblockUI()},function(){Metronic.unblockUI(),a.Error("Error upon the API request")})}function h(e,t){o.customersData=[],o.customersDataSafe=[],Metronic.blockUI({boxed:!0}),i.GetSalesPersonCustomersDataTotal(e,t).then(function(e){if(o.showChart=!1,o.showReport=!0,e&&e.data)if(o.customersData=e.data,o.customersDataSafe=e.data,o.bk_customersData=angular.copy(e.data),o.casesold){o.TotalCasesSoldPrior=0,o.TotalCasesSoldQty=0,o.TotalSalesAmtCurrent=0,o.DifferenceCasesSold=0,o.TotalSalesAmtPrior=0,o.TotalSalesQuantity=0,o.TotalDifference=0;for(var t=o.customersData.length,i=0;i<t;i++)o.TotalCasesSoldQty=o.TotalCasesSoldQty+o.customersData[i].CasesSoldCurrent,o.TotalCasesSoldPrior=o.TotalCasesSoldPrior+o.customersData[i].CasesSoldPrior,o.TotalSalesAmtCurrent=o.TotalSalesAmtCurrent+o.customersData[i].SalesAmountCurrent;o.TotalCasesSoldQty=Math.round(o.TotalCasesSoldQty),o.TotalCasesSoldPrior=Math.round(o.TotalCasesSoldPrior),o.TotalSalesAmtCurrent=Math.round(o.TotalSalesAmtCurrent)}else{for(var a=0,n=0,s=0,t=o.customersData.length,i=0;i<t;i++)a+=o.customersData[i].CasesSoldCurrent,s+=o.customersData[i].SalesAmountPrior,n+=o.customersData[i].SalesAmountCurrent;o.TotalCasesSoldQty=Math.round(a),o.TotalCasesSoldPrior=Math.round(s),o.TotalSalesAmtCurrent=Math.round(n)}Metronic.unblockUI()},function(){Metronic.unblockUI(),a.Error("Error upon the API request")})}function u(e,t){o.customersData=[],o.customersDataSafe=[],Metronic.blockUI({boxed:!0}),e.IsCM01=t,i.GetProfitByCustomerDetailAndCommodity(e,t).then(function(e){if(o.showChart=!1,o.showReport=!0,e&&e.data){o.customersData=e.data,o.customersDataSafe=e.data,o.bk_customersData=angular.copy(e.data),o.Cost=0,o.ExtPrice=0,o.Profit=0,o.QtyShip=0;for(var t=o.customersData.length,i=0;i<t;i++)o.Cost=o.Cost+o.customersData[i].Cost,o.ExtPrice=o.ExtPrice+o.customersData[i].ExtPrice,o.Profit=o.Profit+o.customersData[i].Profit,o.QtyShip=o.QtyShip+o.customersData[i].QtyShip;o.Cost=Math.round(o.Cost),o.ExtPrice=Math.round(o.ExtPrice),o.Profit=Math.round(o.Profit),o.QtyShip=Math.round(o.QtyShip)}Metronic.unblockUI()},function(){Metronic.unblockUI(),a.Error("Error upon the API request")})}function d(e,n){o.customersData=[],o.customersDataSafe=[],Metronic.blockUI({boxed:!0}),e.IsCM01=n,i.GetExpenseReportBySalesman(e,n).then(function(e){if(o.showChart=!1,o.showReport=!0,e&&e.data){o.customersData=e.data,o.customersDataSafe=e.data,o.bk_customersData=angular.copy(e.data);for(var i=0,a=0,n=0,s=0,r=o.customersData.length,l=0;l<r;l++)i+=o.customersData[l].DifferenceExpense,a+=o.customersData[l].ExpenseCurrent,n+=o.customersData[l].ExpensePrior,s+=o.customersData[l].PercentageExpense;o.TotalDifferenceExpense=t("currency")(i,"$",0),o.TotalExpenseCurrent=t("currency")(a,"$",0),o.TotalExpensePrior=t("currency")(n,"$",0),o.TotalPercentageExpense=t("numberWithCommas")(s)}Metronic.unblockUI()},function(){Metronic.unblockUI(),a.Error("Error upon the API request")})}o.legendDiv="Total_Chart_Legend"+count,o.myId="Total_Chart"+count++;var p,f,m="casesold"==r.nlDashboard?"Cases sold qty":"sales"==r.nlDashboard?"sales qty":"profitability"==r.nlDashboard?"sales qty":"expenses"==r.nlDashboard?"Commodity Expenses":"",g="casesold"==r.nlDashboard?"":"$",v=0;o.drillDownCount=v;var b=[];o.nlDashboard=r.nlDashboard,o.customersItemData=[],o.customersItemDataSafe=[],o.iscustomersItemReport=!1,o.isCM01=!1,o.sampledata=0,o.customersData=[],o.customersDataSafe=[],o.myTableFunctions={},o.groupProperty="",o.dashboard,r.nlDashboard,o.casesold="casesold"==r.nlDashboard;var y=function(e){return e.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1,")},x=function(a,s,l){p=AmCharts.makeChart(o.myId,{responsive:{minWidth:200,maxWidth:400,maxHeight:400,minHeight:200,overrides:{precision:2,legend:{enabled:!1},valueAxes:{inside:!0}}},processTimeout:1,theme:"none",type:"serial",valueAxes:[{stackType:"regular",position:"left",title:m}],graphs:[{id:"000",fillAlphas:0,lineAlpha:0,title:"",type:"column",valueField:"ColumnBottomMargin",showAllValueLabels:!0,labelText:" ",balloonText:"",labelFunction:function(e,t){var i=e.dataContext.Label1;return 0==v?"\n"+i:""},labelRotation:0==v?0:-35},{id:"1",fillAlphas:1,lineAlpha:.2,title:"",type:"column",valueField:1==o.casesold?"cValue1":"rValue1",fillColorsField:"Color1",balloonText:" ",balloonFunction:function(e,t){var i=0,a=1==o.casesold?e.dataContext.cValue1:e.dataContext.rValue1,n=1==o.casesold?e.dataContext.cValue2:e.dataContext.rValue2,s=e.dataContext.ActiveSalesPersonCode?"Sales Person <br /> "+e.dataContext.GroupName+"("+e.dataContext.ActiveSalesPersonCode+")":"";i=a+n,i=Math.round(100*i/100);var r=C(e);return e.dataContext.Label1+"<br /><b style='font-size: 130%'>Total "+g+y(i)+r+" </b><br />Produce "+g+y(Math.round(n))+"<br /> Grocery "+g+y(Math.round(a))+"<br/>"+s}},{id:"2",fillAlphas:1,lineAlpha:.2,title:"",type:"column",valueField:1==o.casesold?"cValue2":"rValue2",fillColorsField:"Color2",balloonText:" ",balloonFunction:function(e,t){var i=0,a=1==o.casesold?e.dataContext.cValue1:e.dataContext.rValue1,n=1==o.casesold?e.dataContext.cValue2:e.dataContext.rValue2,s=e.dataContext.ActiveSalesPersonCode?"Sales Person <br /> "+e.dataContext.GroupName+"("+e.dataContext.ActiveSalesPersonCode+")":"";i=a+n,i=Math.round(100*i/100);var r=C(e);return e.dataContext.Label2+"<br /><b style='font-size: 130%'>Total "+g+y(i)+r+" </b><br />Produce "+g+y(Math.round(n))+"<br /> Grocery "+g+y(Math.round(a))+"<br/>"+s}},{id:"000",fillAlphas:0,lineAlpha:0,title:"",type:"column",newStack:!0,valueField:"ColumnBottomMargin",showAllValueLabels:!0,labelText:" ",balloonText:"",labelFunction:function(e,t){var i=e.dataContext.Label3;return 0==v?"\n"+i:""},labelRotation:0==v?0:-35},{id:"3",fillAlphas:1,lineAlpha:.2,newStack:!1,title:"",type:"column",valueField:1==o.casesold?"cValue3":"rValue3",fillColorsField:"Color3",balloonText:" ",balloonFunction:function(e,t){var i=0,a=1==o.casesold?e.dataContext.cValue3:e.dataContext.rValue3,n=1==o.casesold?e.dataContext.cValue4:e.dataContext.rValue4;e.dataContext.ActiveSalesPersonCode&&(e.dataContext.GroupName,e.dataContext.ActiveSalesPersonCode);return i=a+n,i=Math.round(100*i/100),e.dataContext.Label3+"<br /><b style='font-size: 130%'>Total "+g+y(i)+" </b><br />Produce "+g+y(Math.round(n))+"<br /> Grocery "+g+y(Math.round(a))}},{id:"4",fillAlphas:1,lineAlpha:.2,newStack:!1,title:"",type:"column",valueField:1==o.casesold?"cValue4":"rValue4",fillColorsField:"Color4",balloonText:" ",balloonFunction:function(e,t){var i=0,a=1==o.casesold?e.dataContext.cValue3:e.dataContext.rValue3,n=1==o.casesold?e.dataContext.cValue4:e.dataContext.rValue4;e.dataContext.ActiveSalesPersonCode&&(e.dataContext.GroupName,e.dataContext.ActiveSalesPersonCode);return i=a+n,i=Math.round(100*i/100),e.dataContext.Label4+"<br /><b style='font-size: 130%'>Total "+g+y(i)+" </b><br />Produce "+g+y(Math.round(n))+"<br /> Grocery "+g+y(Math.round(a))}},{id:"000",fillAlphas:0,lineAlpha:0,title:"",type:"column",newStack:!0,valueField:"ColumnBottomMargin",showAllValueLabels:!0,labelText:" ",balloonText:"",labelFunction:function(e,t){var i=e.dataContext.Label5;return 0==v?"\n"+i:""},labelRotation:0==v?0:-35},{id:"5",fillAlphas:1,lineAlpha:.2,newStack:!1,title:"",type:"column",valueField:1==o.casesold?"cValue5":"rValue5",fillColorsField:"Color5",balloonText:" ",balloonFunction:function(e,t){var i=0,a=1==o.casesold?e.dataContext.cValue5:e.dataContext.rValue5,n=1==o.casesold?e.dataContext.cValue6:e.dataContext.rValue6;e.dataContext.ActiveSalesPersonCode&&(e.dataContext.GroupName,e.dataContext.ActiveSalesPersonCode);i=a+n,i=Math.round(100*i/100);var s=C(e,!0);return e.dataContext.Label5+"<br /><b style='font-size: 130%'>Total "+g+y(i)+s+" </b><br />Produce "+g+y(Math.round(n))+"<br /> Grocery "+g+y(Math.round(a))}},{id:"6",fillAlphas:1,lineAlpha:.2,newStack:!1,title:"",type:"column",valueField:1==o.casesold?"cValue6":"rValue6",fillColorsField:"Color6",balloonText:" ",balloonFunction:function(e,t){var i=0,a=1==o.casesold?e.dataContext.cValue5:e.dataContext.rValue5,n=1==o.casesold?e.dataContext.cValue6:e.dataContext.rValue6;e.dataContext.ActiveSalesPersonCode&&(e.dataContext.GroupName,e.dataContext.ActiveSalesPersonCode);i=a+n,i=Math.round(100*i/100);var s=C(e,!0);return e.dataContext.Label6+"<br /><b style='font-size: 130%'>Total "+g+y(i)+s+" </b><br />Produce "+g+y(Math.round(n))+"<br /> Grocery "+g+y(Math.round(a))}}],plotAreaFillAlphas:.1,depth3D:30,angle:30,categoryField:"GroupName",categoryAxis:{ignoreAxisWidth:0==v,title:s,gridPosition:"start",tickPosition:"start",labelRotation:l,autoWrap:!0},legend:{position:"bottom",data:n.generateLegend(a,v),autoMargins:!1,equalWidths:!1,divId:o.legendDiv},columnSpacing:12}),i.IsGlobal_Filter_Year()&&delete p.graphs[6],i.IsGlobal_Filter_Year()&&delete p.graphs[7],i.IsGlobal_Filter_Year()&&delete p.graphs[8],p.dataProvider=a,p.validateData(),p.addListener("clickGraphItem",function(i){var a=i.graph.id;if("000"!==a){if(v<2){if(0==i.item.dataContext.SubData.length)return!1;o.$apply(function(){o.showChart=!0,o.showReport=!1,o.backBtnVisible=!0});if(0==v){var n="casesold"==r.nlDashboard?"CASES SOLD (BY CATEGORY)<br/>":"sales"==r.nlDashboard?"SALES (BY CATEGORY)<br/>":"profitability"==r.nlDashboard?"PROFITABILITY (BY CATEGORY)<br/>":"expenses"==r.nlDashboard?"COMMODITY EXPENSES (BY CATEGORY)<br/>":"Total <br/>";e.titleold=n+"<span class='small-text'></span>",e.TitlePrevious=n+"<span class='small-text'></span>",o.callbackFn({title:e.TitlePrevious})}1==v&&(e.TitlePrevious=e.titleold.replace("CATEGORY","SALES PERSON")+"<span class='small-text'> "+i.item.category+" </span>",o.callbackFn({title:e.TitlePrevious})),void 0!=i.item.dataContext.SubData&&(b[v]=i.item.dataContext.SubData,v+=1,subChartData=i.item.dataContext.SubData,o.eventCategory=i.item.dataContext.GroupName.split("("),o.chart_data=subChartData,x(subChartData,"",50),o.$apply(function(){o.backBtnVisible=!0}))}else{var s="";if("000"!=a){var l=i.graph.id,p="1"==l||"2"==l?0:"3"==l||"4"==l?1:"5"==l||"6"==l?2:"",f={};f="profitability"==r.nlDashboard?{FilterId:e.currentfilter.Id,ItemCode:"",Commodity:o.currentcommodity,CustomerCode:"",Period:p,Salesman:o.isCM01?i.item.dataContext.GroupName:i.item.dataContext.ActiveSalesPersonCode}:{SalesPerson:o.isCM01?i.item.dataContext.GroupName:i.item.dataContext.ActiveSalesPersonCode,FilterId:e.currentfilter.Id,Period:p,Commodity:o.currentcommodity,OrderBy:"casessold"},o.GlobalFilterModel=f,"CM01"==i.item.dataContext.ActiveSalesPersonCode?(o.isCM01=!0,c(e.currentfilter.Id,r.nlDashboard)):"profitability"==r.nlDashboard?u(f,o.isCM01):"expenses"==r.nlDashboard?d(f,o.isCM01):h(f,o.isCM01);var m="CM01"==i.item.dataContext.ActiveSalesPersonCode?"":" > Report ";if(o.breadcrumbold=e.TitlePrevious+"<span class='small-text'> > "+i.item.dataContext.GroupName.toLowerCase(),e.secondlast=e.TitlePrevious,o.isCM01)3==v&&"CM01"==i.item.dataContext.ActiveSalesPersonCode?(o.cm01breadcrumb=e.TitlePrevious+"<span class='small-text'> > "+i.item.dataContext.GroupName.toLowerCase(),o.callbackFn({title:o.cm01breadcrumb}),s=t("htmlToPlaintext")(o.cm01breadcrumb)):(o.cm011stdrilldowntext=o.cm01breadcrumb+"> "+i.item.dataContext.GroupName+" > Report",o.callbackFn({title:o.cm011stdrilldowntext}),s=t("htmlToPlaintext")(o.cm01breadcrumb+"> "+i.item.dataContext.GroupName.toLowerCase()+" > Report")),s=s.replace(">","-"),o.csvFileName=s+".csv",o.csvFileNameOld=s+".csv";else{o.callbackFn({title:e.TitlePrevious+"<span class='small-text'> > "+i.item.dataContext.GroupName.toLowerCase()+" </span><span class='small-text'>"+m+"</span>"});var s=t("htmlToPlaintext")(e.TitlePrevious+"<span class='small-text'> > "+i.item.dataContext.GroupName.toLowerCase()+" </span><span class='small-text'>"+m+"</span>");s=s.replace(">","-"),o.csvFileName=s+".csv",o.csvFileNameOld=s+".csv"}}else o.customersData=[],o.customersDataSafe=[]}}})};o.$watch(function(){return l.$viewValue},function(e){o.backBtnVisible=!1,v=0,o.drillDownCount=v,o.showChart=!0,o.showReport=!1,f=e,void 0==f||0==f.length?document.getElementById(o.myId).innerText=void 0==f?"":"The chart contains no data !":(void 0!=f&&f.splice(3,1),x(f,"",0))}),o.backChart=function(){v-=1,o.drillDownCount=v,x(0==v?f:b[v-1],"",0==v?0:35);0==v&&f[0];o.backBtnVisible=!(v<1)&&o.backBtnVisible,0==v&&(o.callbackFn({title:"initial"}),o.sampledata=0),1==v&&(o.isCM01=!1,"revenueDashboard"==r.nlDashboard?o.callbackFn({title:e.revenuetitleold}):o.callbackFn({title:e.titleold}),o.sampledata=0),2==v&&o.callbackFn({title:e.secondlast})},o.reportback=function(){o.drillDownCount=v,o.iscustomersItemReport?(o.customersItemData=[],o.customersItemDataSafe=[],o.iscustomersItemReport=!1,o.csvFileName=o.csvFileNameOld,o.callbackFn({title:o.isCM01?o.cm011stdrilldowntext:o.breadcrumbold+"> Report"})):(o.showReport=!1,o.showChart=!0,o.callbackFn({title:o.isCM01?o.cm01breadcrumb:e.secondlast}),o.showChart=!0,o.showReport=!1);0==v&&f[0];o.sampledata=e.data},o.getDetailedReport=function(e,n){var s="";o.isCM01?(o.callbackFn({title:o.cm011stdrilldowntext+"<span class='small-text'> > "+n.trim()+" > Report</span>"}),s=t("htmlToPlaintext")(o.cm011stdrilldowntext+"<span class='small-text'> > "+n.trim()+" > Report</span>")):(o.callbackFn({title:o.breadcrumbold+">Report<span class='small-text'> > "+n.trim()+" >Report </span>"}),s=t("htmlToPlaintext")(o.breadcrumbold+">Report <span class='small-text'> > "+n.trim()+"> Report</span>")),o.csvFileName=s.replace(">","-").replace("_","-").toUpperCase()+".csv",o.GlobalFilterModel.CustomerNumber=e,Metronic.blockUI({boxed:!0}),i.GetCasesSoldDetails(o.GlobalFilterModel,o.isCM01).then(function(e){if(e&&e.data&&(o.TotalQuantity=0,o.TotalExtPrice=0,o.customersItemData=e.data,o.customersItemDataSafe=e.data,o.iscustomersItemReport=!0,o.customersItemDataSafe=o.customersItemData,o.bk_customersItemData=angular.copy(e.data),o.bk_customersItemDataSafe=angular.copy(e.data),o.iscustomersItemReport))if("All"==o.currentcommodity){o.customersItemData=o.bk_customersItemData,o.customersItemDataSafe=o.bk_customersItemDataSafe;for(var t=0;t<o.customersItemData.length;t++)o.TotalQuantity=o.TotalQuantity+o.customersItemData[t].Quantity,o.TotalExtPrice=o.TotalExtPrice+o.customersItemData[t].ExtPrice}else{o.customersItemData=[],o.customersItemDataSafe=[];for(var t=0;t<o.bk_customersItemData.length;t++)o.bk_customersItemData[t].Comodity.trim()==o.currentcommodity&&(o.customersItemData.push(o.bk_customersItemData[t]),o.customersItemDataSafe.push(o.bk_customersItemData[t]),o.TotalQuantity=o.TotalQuantity+o.customersItemData[t].Quantity,o.TotalExtPrice=o.TotalExtPrice+o.customersItemData[t].ExtPrice)}Metronic.unblockUI()},function(){Metronic.unblockUI(),a.Error("Error upon the API request"),a.ConsoleLog("Error on the server")})},o.GetExpenseInvoiceDetailsByCustomer=function(e,n){var s="";o.isCM01?(o.callbackFn({title:o.cm011stdrilldowntext+"<span class='small-text'> > "+n.trim()+" > Report</span>"}),s=t("htmlToPlaintext")(o.cm011stdrilldowntext+"<span class='small-text'> > "+n.trim()+" > Report</span>")):(o.callbackFn({title:o.breadcrumbold+">Report<span class='small-text'> > "+n.trim()+" >Report </span>"}),s=t("htmlToPlaintext")(o.breadcrumbold+">Report <span class='small-text'> > "+n.trim()+"> Report</span>")),o.csvFileName=s.replace(">","-").replace("_","-").toUpperCase()+".csv",o.GlobalFilterModel.CustomerNumber=e,Metronic.blockUI({boxed:!0}),
i.GetExpenseInvoiceDetailsByCustomer(o.GlobalFilterModel,o.isCM01).then(function(e){if(e&&e.data){var i=0;if(o.customersItemData=e.data,o.customersItemDataSafe=e.data,o.iscustomersItemReport=!0,o.customersItemDataSafe=o.customersItemData,o.bk_customersItemData=angular.copy(e.data),o.bk_customersItemDataSafe=angular.copy(e.data),o.iscustomersItemReport){if("All"==o.currentcommodity){o.customersItemData=o.bk_customersItemData,o.customersItemDataSafe=o.bk_customersItemDataSafe;for(var a=0;a<o.customersItemData.length;a++)i+=o.customersItemData[a].Expense}else{o.customersItemData=[],o.customersItemDataSafe=[];for(var a=0;a<o.bk_customersItemData.length;a++)o.bk_customersItemData[a].Comodity.trim()==o.currentcommodity&&(o.customersItemData.push(o.bk_customersItemData[a]),o.customersItemDataSafe.push(o.bk_customersItemData[a]),i+=o.customersItemData[a].Expense)}o.TotalExpense=t("currency")(i,"$",0)}}Metronic.unblockUI()},function(){Metronic.unblockUI(),a.Error("Error upon the API request"),a.ConsoleLog("Error on the server")})},o.currentcommodity="All",o.FilterCommodity=function(e){o.currentcommodity=e,o.GlobalFilterModel.Commodity=e,"profitability"==r.nlDashboard?u(o.GlobalFilterModel,o.isCM01):"expenses"==r.nlDashboard?d(o.GlobalFilterModel,o.isCM01):h(o.GlobalFilterModel,o.isCM01)},o.getCsvHeader=function(){return o.csvFileName=o.csvFileName.replace(/_/g,"-"),o.csvFileName=o.csvFileName.replace(/>/g,"-"),o.csvFileName=o.csvFileName.replace("_","-"),o.csvFileName=o.csvFileName.toUpperCase(),o.casesold?["Customer Name","Sales Amount Prior","Sales Qty","Sales Amount Current","Difference","Percentage"]:["Customer Name","CasesSold Current","Sales Amount Prior","Sales Amount Current","Difference","Percentage"]},o.getCsvDataGetProfitByCustomerDetailAndCommodityrHeader=function(){return o.csvFileName=o.csvFileName.replace(/_/g,"-").replace(/>/g,"-").replace("_","-").toUpperCase()+".csv",["Commodity","Invoice Date","Invoice Number","Item Code","Item Description","SalesMan Code","SalesMan Description","Sales Order","Cost","Qty Ship","Ext Price","Profit"]},o.getCsvDataProfitByCustomerDetailAndCommodity=function(){var e=[],i=[];i=["Commodity","InvoiceDate","InvoiceNumber","ItemCode","ItemDescription","SalesManCode","SalesManDescription","SalesOrder","Cost","QtyShip","ExtPrice","Profit"],angular.forEach(o.customersDataSafe,function(a,n){var o={};angular.forEach(a,function(e,a){var n=i.indexOf(a);n>-1&&(o[n]="Cost"==a||"ExtPrice"==a||"Profit"==a?"$"+e:"QtyShip"==a?t("numberWithCommas")(e):"InvoiceDate"==a?t("date")(e,"yyyy-MM-dd"):e)}),void 0!=o&&e.push(o)});var a={};return a[0]="Total",a[1]=a[2]=a[3]=a[4]=a[5]=a[6]=a[7]="",a[8]="$"+o.Cost,a[9]=t("numberWithCommas")(o.QtyShip),a[10]="$"+o.ExtPrice,a[11]="$"+o.Profit,e.push(a),e},o.getCsvData=function(){if(o.casesold){var e=[],i=[],a=0,n=0,s=0,r=0;i=["Customer","SalesAmountPrior","SalesQty","SalesAmountCurrent","Difference","Percentage"],angular.forEach(o.customersDataSafe,function(o,l){var c={};angular.forEach(o,function(e,o){var l=i.indexOf(o);l>-1&&(c[l]="SalesAmountCurrent"==o?"$"+t("numberWithCommas")(e):"Difference"==o?"$"+t("numberWithCommas")(e):"SalesAmountPrior"==o?"$"+t("numberWithCommas")(e):"SalesQty"==o?"$"+t("numberWithCommas")(e):e),"SalesAmountCurrent"==o&&(a+=e),"Difference"==o&&(n+=e),"SalesAmountPrior"==o&&(s+=e),"SalesQty"==o&&(r+=e)}),void 0!=c&&e.push(c)});var l={};return l[0]="Total",l[1]="$"+t("numberWithCommas")(s),l[2]=t("numberWithCommas")(r),l[3]="$"+t("numberWithCommas")(a),l[4]="$"+t("numberWithCommas")(n),l[5]="",e.push(l),e}var e=[],i=[];i=["Customer","CasesSoldCurrent","SalesAmountPrior","SalesAmountCurrent","Difference","Percentage"],angular.forEach(o.customersDataSafe,function(a,n){var o={};angular.forEach(a,function(e,a){var n=i.indexOf(a);n>-1&&(o[n]="CasesSoldCurrent"==a?t("numberWithCommasRounded")(e):"SalesAmountPrior"==a?"$"+t("numberWithCommas")(e):"Difference"==a?"$"+t("numberWithCommas")(e):"SalesAmountCurrent"==a?"$"+t("numberWithCommas")(e):e)}),void 0!=o&&e.push(o)});var l={};return l[0]="Total",l[1]=t("numberWithCommas")(o.TotalCasesSoldQty),l[2]=t("currency")(o.TotalCasesSoldPrior),l[3]=t("currency")(o.TotalSalesAmtCurrent),l[4]="",e.push(l),e},o.getCsvHeaderDrillDown=function(){return o.csvFileName=o.csvFileName.replace(/_/g,"-"),o.csvFileName=o.csvFileName.replace(/>/g,"-"),o.csvFileName=o.csvFileName.replace("_","-"),["Commodity","Invoice Date","Invoice #","Item","Item Description","Quantity","Ext Price","Sales Person","SO #"]},o.getCsvDataDrillDown=function(){var e=[],i=[];i=["Comodity","InvoiceDate","InvoiceNumber","Item","ItemDesc","Quantity","ExtPrice","SalesMan","Sono"],angular.forEach(o.customersItemDataSafe,function(a,n){var o={};angular.forEach(a,function(e,a){var n=i.indexOf(a);n>-1&&(o[n]="ExtPrice"==a?"$"+t("numberWithCommas")(e):"Quantity"==a?t("numberWithCommas")(e):e)}),void 0!=o&&e.push(o)});var a={};return a[0]="Total",a[1]="",a[2]="",a[3]="",a[4]="",a[5]=t("numberWithCommas")(o.TotalQuantity),a[6]="$"+o.TotalExtPrice,a[7]="",a[8]="",e.push(a),e},o.getCasesSoldBySalesPersonCsvDataHeader=function(){return["Customer Name","Sales Amt Current","Cases Sold Prior","Cases Sold Current","Difference","Difference (%)"]},o.getCasesSoldBySalesPersonCsvData=function(){var e=[],i=[],a=0,n=0,s=0;i=["Customer","SalesAmountCurrent","CasesSoldPrior","CasesSoldCurrent","DifferenceCasesSold","PercentageCasesSold"],angular.forEach(o.customersDataSafe,function(o,r){var l={};angular.forEach(o,function(e,o){var r=i.indexOf(o);r>-1&&(l[r]="CasesSoldCurrent"==o||"CasesSoldPrior"==o?t("numberWithCommas")(e):"DifferenceCasesSold"==o||"PercentageCasesSold"==o?Math.round(e):e),"SalesAmountCurrent"==o&&(a+=e),"CasesSoldPrior"==o&&(s+=e),"CasesSoldCurrent"==o&&(n+=e)}),void 0!=l&&e.push(l)});var r={};return r[0]="Total",r[1]="$"+t("numberWithCommas")(Math.round(a)),r[2]=t("numberWithCommas")(Math.round(s)),r[3]=t("numberWithCommas")(Math.round(n)),e.push(r),e},o.getCsvDataItemSoldToCustomerHeader=function(){return["Commodity","Invoice Date","Invoice #","Item Code","Item Description","SO #","Cases Sold","Sales Amount"]},o.getCsvDataItemSoldToCustomer=function(){var e=[],i=[],a=0,n=0;i=["Comodity","InvoiceDate","InvoiceNumber","Item","ItemDesc","Sono","Quantity","ExtPrice"],angular.forEach(o.customersItemDataSafe,function(o,s){var r={};angular.forEach(o,function(e,o){var s=i.indexOf(o);s>-1&&(r[s]="ExtPrice"==o?"$"+Math.round(e):"Quantity"==o?t("numberWithCommas")(Math.round(e)):"InvoiceDate"==o?t("date")(e):e),"Quantity"==o&&(a+=e),"ExtPrice"==o&&(n+=e)}),void 0!=r&&e.push(r)});var s={};return s[0]="Total",s[1]="",s[2]="",s[3]="",s[4]="",s[5]="",s[6]=t("numberWithCommas")(Math.round(a)),s[7]=t("currency")(Math.round(n)),e.push(s),e},o.getCsvDataExpenseReportBySalesmanHeader=function(){return["Customer","Customer Number","Expense Current","Expense Prior","Difference Expense","Percentage Expense"]},o.getCsvDataExpenseReportBySalesman=function(){var e=[],i=[];i=["Customer","CustomerNumber","ExpenseCurrent","ExpensePrior","DifferenceExpense","PercentageExpense"],angular.forEach(o.customersDataSafe,function(a,n){var o={};angular.forEach(a,function(e,a){var n=i.indexOf(a);n>-1&&(o[n]="ExpenseCurrent"==a||"ExpensePrior"==a||"DifferenceExpense"==a?"$"+t("numberWithCommas")(e):e)}),void 0!=o&&e.push(o)});var a={};return a[0]="Total",a[1]="",a[5]="",a[2]=o.TotalExpenseCurrent,a[3]=o.TotalExpensePrior,a[4]=o.TotalDifferenceExpense,e.push(a),e},o.getCsvDataExpenseInvoiceDetailsByCustomerHeader=function(){return["Commodity","Invoice Date","Invoice #","Item Code","Item Description","So #","Expense"]},o.getCsvDataExpenseInvoiceDetailsByCustomer=function(){var e=[],i=[];i=["Comodity","InvoiceDate","InvoiceNumber","Item","ItemDesc","Sono","Expense"],angular.forEach(o.customersItemData,function(a,n){var o={};angular.forEach(a,function(e,a){var n=i.indexOf(a);n>-1&&(o[n]="Expense"==a?t("currency")(e,"$",0):"InvoiceDate"==a?t("date")(e):e)}),void 0!=o&&e.push(o)});var a={};return a[0]="Total",a[1]="",a[2]="",a[3]="",a[4]="",a[5]="",a[6]=o.TotalExpense,e.push(a),e};var C=function(e,t){var i,a;t?(i=o.casesold?e.dataContext.cValue5+e.dataContext.cValue6:e.dataContext.rValue5+e.dataContext.rValue6,a=o.casesold?e.dataContext.cValue3+e.dataContext.cValue4:e.dataContext.rValue3+e.dataContext.rValue4):(i=o.casesold?e.dataContext.cValue1+e.dataContext.cValue2:e.dataContext.rValue1+e.dataContext.rValue2,a=o.casesold?e.dataContext.cValue3+e.dataContext.cValue4:e.dataContext.rValue3+e.dataContext.rValue4);var n=i-a;0!==n?(n/=a,n*=100,n=n==1/0?0:n):n=0,o.PriorMonth=Math.round(n);return o.PriorMonth>0?"<span>(<span class='fa fa-sort-up' style='color:forestgreen'> "+Math.abs(o.PriorMonth)+" %</span>)</span>":o.PriorMonth<0?"<span>(<span class='fa fa-sort-down' style='color:red'> "+Math.abs(o.PriorMonth)+" %</span>)</span>":0==o.PriorMonth?"":void 0}}}}]),MetronicApp.directive("refresh",function(){return{restrict:"E",scope:{callbackFn:"&"},template:'<div class="row page-filter"><div class="col-md-6 col-lg-6 col-sm-12 col-xs-12 filter-action pull-right-lg-md"><div class="btn-group pull-right-lg-md"><button ng-click="refreshCharts()" class="btn btn-success"><i class="fa fa-refresh"></i> Refresh</button></div></div></div>',link:function(e,t,i){e.refreshCharts=function(){e.callbackFn()}}}}),MetronicApp.directive("fullscreen",function(){return function(e,t,i){e.$watch(i.fullscreen,function(e){e?$(t).addClass("portlet-fullscreen",{duration:50}):$(t).removeClass("portlet-fullscreen",{duration:0})})}}),MetronicApp.directive("ngSpinnerBar",["$rootScope",function(e){return{link:function(t,i,a){i.addClass("hide"),e.$on("$stateChangeStart",function(){i.removeClass("hide")}),e.$on("$stateChangeSuccess",function(){i.addClass("hide"),$("body").removeClass("page-on-load"),Layout.setSidebarMenuActiveLink("match"),setTimeout(function(){Metronic.scrollTop()},e.settings.layout.pageAutoScrollOnLoad)}),e.$on("$stateNotFound",function(){i.addClass("hide")}),e.$on("$stateChangeError",function(){i.addClass("hide")})}}}]),MetronicApp.directive("icheck",["$timeout","$parse",function(e,t){return{restrict:"A",require:"?ngModel",link:function(t,i,a,n){e(function(){function e(e){"radio"===a.type?n.$setViewValue(o):n.$setViewValue(e)}var o=a.value;$(i).iCheck({checkboxClass:a.checkboxClass||"icheckbox_square-green",radioClass:a.radioClass||"iradio_square-green"}).on("ifChanged",function(i){t.$apply(function(){e(i.target.checked)})}),t.$watch(a.ngChecked,function(t){void 0===t&&(t=!!n.$viewValue),e(t)},!0),t.$watch(a.ngModel,function(e){$(i).iCheck("update")},!0)})}}}]),MetronicApp.directive("a",function(){return{restrict:"E",link:function(e,t,i){(i.ngClick||""===i.href||"#"===i.href)&&t.on("click",function(e){e.preventDefault()})}}}),MetronicApp.directive("dropdownMenuHover",function(){return{link:function(e,t){t.dropdownHover()}}}),MetronicApp.directive("compile",["$compile",function(e){return function(t,i,a){t.$watch(function(e){return e.$eval(a.compile)},function(a){i.html(a),e(i.contents())(t)})}}]),MetronicApp.directive("restictletter",["$compile",function(e){return{restrict:"A",link:function(e,t,i){t[0].onkeypress=function(e){var t=e||window.event,a=t.keyCode||t.which,n=t.keyCode||t.which;a=String.fromCharCode(a),/[0-9]|\./.test(a)||(t.returnValue=!1,8==n||t.preventDefault&&t.preventDefault()),i.restictpoint&&46==n&&t.preventDefault()}}}}]),MetronicApp.directive("restrictcutcopypaste",function(){return{scope:{},link:function(e,t){t.on("cut copy paste",function(e){e.preventDefault()})}}}),MetronicApp.directive("autocompletedropdown",["dataService",function(e){return{replace:!0,restrict:"E",scope:{search:"=",callback:"&",minSearch:"=",list:"=",onSelect:"=",clearvalue:"="},template:'<div><style>.typeahead { z-index: 1051;margin-top: 2px;-webkit-border-radius: 4px;-moz-border-radius: 4px; border-radius: 4px;}.dropdown-menu {-webkit-transition: all 0.9s;-moz-transition: all 0.9s;-ms-transition: all 0.9s;-o-transition: all 0.9s;transition: all 0.9s; max-height: none;display: block;overflow: hidden;}.opac{ opacity: inherit;}</style><div class ="input-group" style="width: 100%;">  <div ng-blur="blurinput()" class="select2-container select2-container-multi form-control select-md tooltips ng-untouched ng-valid-parse ng-dirty ng-valid ng-valid-required" id="s2id_autogen1"><ul class ="select2-choices"><li ng-if="selectedlist.length>0" class ="select2-search-choice" ng-repeat="selected in selectedlist"><div  >{{selected.Value}}</div><a href="#" ng-click="removeselected(selected)" class ="select2-search-choice-close" tabindex="-1"></a></li><li class ="select2-search-field"><label for="s2id_autogen2" class ="select2-offscreen"></label><input data-ng-model="UserSearch" style="min-width: 274%;"     ng-change="selectSearchType(UserSearch)" ng-blur="blurinput()" ng-focus="inputFocused()"  type="text" class ="form-control" placeholder="{{placeholder}}"></li></ul><ul  ng-if="items && !nodata" class="typeahead dropdown-menu opac select2-results" style="width: 100%;overflow: scroll;height:250px"><li  ng-click="selectvalue(item)" role="presentation" class="select2-results-dept-0 select2-result select2-result-selectable"  ng-repeat="item in items"><a tabindex="-1"  class="ng-binding" >{{item.Value}}</a></li></ul><ul ng-if="!items" class="typeahead dropdown-menu opac" ng-show="defaultul" style="width: 100%;"><li  class="ng-scope active"><a tabindex="-1"   >Search items by enter {{minSearch}} letters</a></li></ul><ul class="typeahead dropdown-menu opac" ng-show="nodata" style="width: 100%;"><li class="ng-scope active"><a tabindex="-1"  class="ng-binding">No result found!!</a></li></ul></div></div>',link:function(t,i,a){t.ulshow=!1,t.defaultul=!1,t.items=null,t.selectedlist=[],t.placeholder="Item to search",t.selectSearchType=function(i){t.needclear=!1,t.nodata=!1,t.isselected=!0,i.length>=t.minSearch?(t.ulshow=!0,t.defaultul=!1,e.GetItems(i).then(function(e){if(e.data.ListItem){if(t.items=e.data.ListItem,t.itemlist=e.data.ListItem,t.selectedlist.length>0)for(var i=0;i<t.items.length;i++)for(var a=0;a<t.selectedlist.length;a++)t.selectedlist[a].Key==t.items[i].Key&&t.items.splice(i,1)}else t.nodata=!0},function(){})):(t.ulshow=!1,t.defaultul=!0,t.items=null)},t.clearAll=function(){t.defaultul=!0,t.needclear=!1,t.selectedlist=[]},t.inputFocused=function(){t.selectedlist.length>0?(t.defaultul=!1,t.needclear=!0):(t.defaultul=!0,t.needclear=!1),t.ulshow=!1},t.blurinput=function(){t.ulshow=!1,t.defaultul=!1,t.nodata=!1,t.needclear=!0},t.selectvalue=function(e){t.UserSearch="",t.items=null,t.selectedlist.push({Key:e.Key,Value:e.Value}),t.callback({item:t.selectedlist}),t.placeholder="",t.needclear=!1},t.$watch("clearvalue",function(e,i){t.selectedlist=[]}),t.removeselected=function(e){for(var i=0;i<t.selectedlist.length;i++)t.selectedlist[i].Key==e.Key&&t.selectedlist.splice(i,1);0==t.selectedlist.length&&(t.placeholder="Item to search"),t.callback({item:t.selectedlist})},t.test=function(){t.needclear=!1,t.selectedlist=[]}}}}]),MetronicApp.directive("autocompletedropdownbuyer",["dataService",function(e){return{replace:!0,restrict:"E",scope:{search:"=",callback:"&",minSearch:"=",list:"=",onSelect:"="},template:'<div><style>.typeahead { z-index: 1051;margin-top: 2px;-webkit-border-radius: 4px;-moz-border-radius: 4px; border-radius: 4px;}.dropdown-menu {-webkit-transition: all 0.9s;-moz-transition: all 0.9s;-ms-transition: all 0.9s;-o-transition: all 0.9s;transition: all 0.9s; max-height: none;display: block;overflow: hidden;}.opac{ opacity: inherit;}</style><div class ="input-group" style="width: 100%;">  <div ng-blur="blurinput()" class="select2-container select2-container-multi form-control select-md tooltips ng-untouched ng-valid-parse ng-dirty ng-valid ng-valid-required" id="s2id_autogen1"><ul class ="select2-choices"><li ng-if="selectedlist.length>0" class ="select2-search-choice" ng-repeat="selected in selectedlist"><div  >{{selected.Value}}</div><a href="#" ng-click="removeselected(selected)" class ="select2-search-choice-close" tabindex="-1"></a></li><li class ="select2-search-field"><label for="s2id_autogen2" class ="select2-offscreen"></label><input data-ng-model="UserSearch" style="min-width: 274%;"     ng-change="selectSearchType(UserSearch)" ng-blur="blurinput()" ng-focus="inputFocused()"  type="text" class ="form-control" placeholder="{{placeholder}}"></li></ul><ul  ng-if="items && !nodata" class="typeahead dropdown-menu opac select2-results" style="width: 100%;overflow: scroll;height:250px"><li  ng-click="selectvalue(item)" role="presentation" class="select2-results-dept-0 select2-result select2-result-selectable"  ng-repeat="item in items"><a tabindex="-1"  class="ng-binding" >{{item.Value}}</a></li></ul><ul ng-if="!items" class="typeahead dropdown-menu opac" ng-show="defaultul" style="width: 100%;"><li  class="ng-scope active"><a tabindex="-1"   >Search items by enter {{minSearch}} letters</a></li></ul><ul class="typeahead dropdown-menu opac" ng-show="nodata" style="width: 100%;"><li class="ng-scope active"><a tabindex="-1"  class="ng-binding">No result found!!</a></li></ul></div></div>',link:function(t,i,a){t.ulshow=!1,t.defaultul=!1,t.items=null,t.selectedlist=[],t.placeholder="Item to search",t.selectSearchType=function(i){t.needclear=!1,t.nodata=!1,t.isselected=!0,i.length>=t.minSearch?(t.ulshow=!0,t.defaultul=!1,e.GetItems(i).then(function(e){if(e.data.ListItem){if(t.items=e.data.ListItem,t.itemlist=e.data.ListItem,t.selectedlist.length>0)for(var i=0;i<t.items.length;i++)for(var a=0;a<t.selectedlist.length;a++)t.selectedlist[a].Key==t.items[i].Key&&t.items.splice(i,1)}else t.nodata=!0},function(){})):(t.ulshow=!1,t.defaultul=!0,t.items=null)},t.clearAll=function(){t.defaultul=!0,t.needclear=!1,t.selectedlist=[]},t.inputFocused=function(){t.selectedlist.length>0?(t.defaultul=!1,t.needclear=!0):(t.defaultul=!0,t.needclear=!1),t.ulshow=!1},t.blurinput=function(){t.ulshow=!1,t.defaultul=!1,t.nodata=!1,t.needclear=!0},t.selectvalue=function(e){t.UserSearch="",t.items=null,t.selectedlist.push({Key:e.Key,Value:e.Value}),t.callback({item:t.selectedlist}),t.placeholder="",t.needclear=!1},t.removeselected=function(e){for(var i=0;i<t.selectedlist.length;i++)t.selectedlist[i].Key==e.Key&&t.selectedlist.splice(i,1);0==t.selectedlist.length&&(t.placeholder="Item to search"),t.callback({item:t.selectedlist})},t.test=function(){t.needclear=!1,t.selectedlist=[]}}}}]),MetronicApp.directive("filterDate",function(){return this.count=0,{restrict:"E",scope:{compiletitle:"=",filter:"=",needexpand:"="},template:'<div class="portlet-title  tabbable-line"><div class="caption caption-md" style="width:46% !important;"><div ng-attr-title="{{message}}"  ng-if="needexpand" id={{::expandID}}  class="fa fa-expand" style="position: absolute; float: right; margin-top: 36px; right: 57px;z-index: 9181;cursor: pointer;" ng-click="action()"></div><div class="time-frame" style="float: right;position: absolute;right: 0;margin-right: 27px;"><span class="ng-binding">{{currentfilter.Periods.Current.Start | date}} - {{currentfilter.Periods.Current.End | date}}</span></div><span class="caption-subject font-light-orange-haze bold uppercase text-mobile text-mobile" compile="title"></span></div></div>',link:function(e,t,i){e.expandID="Expand"+count,count++;e.message="Click to Expand",e.$watch("compiletitle",function(t,i){t&&(e.title=e.compiletitle,e.currentfilter=e.filter)}),e.$watch("filter",function(t,i){t&&(e.title=e.compiletitle,e.currentfilter=e.filter)}),e.action=function(){"portlet light bordered"==t.parent().attr("class")?(t.parent().addClass("portlet-fullscreen fade-in-up"),$("body").css("overflow","hidden"),t.parent().css("overflow","scroll"),$("#"+e.expandID).removeClass(),$("#"+e.expandID).addClass("fa fa-compress").fadeIn(1e3),e.message="Click to restore"):(t.parent().removeClass("portlet-fullscreen fade-in-up"),$("body").css("overflow","inherit"),t.parent().css("overflow","hidden"),$("#"+e.expandID).removeClass(),$("#"+e.expandID).addClass("fa fa-expand").fadeIn(1e3),e.message="Click to expand")},$(document).ready(function(){$(document).keydown(function(i){"portlet light bordered portlet-fullscreen fade-in-up"==t.parent().attr("class")&&27==i.keyCode&&(t.parent().removeClass(),t.parent().addClass("portlet light bordered"),$("body").css("overflow","inherit"),t.parent().css("overflow","hidden"),$("#"+e.expandID).removeClass(),$("#"+e.expandID).addClass("fa fa-expand").fadeIn(1e3))})})}}}),MetronicApp.directive("reportfullscreen",function(){return this.count=0,{restrict:"E",scope:{needexpand:"="},template:'<div ng-attr-title="{{message}}"  ng-if="needexpand" id={{::expandID}}  class="fa fa-expand" style="float: right; margin-top: 15px;z-index: 9181;cursor: pointer;" ng-click="action()"></div>',link:function(e,t,i){e.expandID="Expand"+count,count++;e.message="Click to Expand",e.action=function(){var i=t.parent().parent().attr("class");"portlet light"==i||"portlet box blue-hoki"==i?(t.parent().parent().addClass("portlet-fullscreen fade-in-up"),t.parent().parent().css("overflow-x","scroll"),$("body").css("overflow","hidden"),$("#"+e.expandID).removeClass(),$("#"+e.expandID).addClass("fa fa-compress").fadeIn(1e3),e.message="Click to restore"):(t.parent().parent().removeClass("portlet-fullscreen fade-in-up"),$("body").css("overflow","inherit"),t.parent().parent().css("overflow-x","inherit"),$("#"+e.expandID).removeClass(),$("#"+e.expandID).addClass("fa fa-expand").fadeIn(1e3),e.message="Click to expand")}}}}),MetronicApp.directive("ariaremove",function(){return function(e,t,i){t.on("mouseenter",function(){}),t.on("mouseleave",function(){})}}),MetronicApp.directive("filterbuttons",function(){return{restrict:"E",replace:!0,require:"?ngModel",scope:{callbackFn:"&"},templateUrl:"app/components/directives/filterbuttons.html",link:function(e,t,i,a){e.InitalButton=i.initial,e.ButtonClicked=function(t){e.selectedbutton=t,"By Date"==t&&(e.bydatestyle={"background-color":"#e43a45",color:"white"},e.byinvoicestyle={"background-color":"white",color:"#67809F"},e.bycustomerstyle={"background-color":"white",color:"#44b6ae"}),"By Invoice"==t&&(e.bydatestyle={"background-color":"white",color:"#e43a45"},e.byinvoicestyle={"background-color":"#67809F",color:"white"},e.bycustomerstyle={"background-color":"white",color:"#44b6ae"}),"By Customer"==t&&(e.bydatestyle={"background-color":"white",color:"#e43a45"},e.byinvoicestyle={"background-color":"white",color:"#67809F"},e.bycustomerstyle={"background-color":"#44b6ae",color:"white"}),e.callbackFn({data:t})},e.ButtonClicked(e.InitalButton)}}}),MetronicApp.directive("nlCommodityBarChart",["$location","$rootScope","$filter","$state",function(e,t,i,a){return this.count=0,{restrict:"E",replace:!0,require:"?ngModel",scope:{nlLocation:"=",nlDashboard:"=",callbackFn:"&",xtitle:"="},template:'<div class="portlet-body"><div class="chart-back-btn" ng-init="backBtnVisible = false" ng-show="backBtnVisible"><i class="fa-arrow-circle-o-left fa fa-2x" ng-click=" backBtnVisible  = false; " style="cursor:pointer;"></i></div><div ng-if="!showReport"><div id="{{::myId}}" class="chart" style="width:100%;min-height:500px;"></div><div id="{{::legendDiv}}" class="clusteredBarChartLegenddiv"></div></div><div ng-if="showReport"><div ng-include="\'app/pages/expenses/expenses-commodity-report-table.html\'"></div></div></div>',link:function(e,t,i,a){function n(e){return e.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1,")}e.legendDiv="CommodityBarChart_legend"+count,e.myId="CommodityBarChart_chart"+count++;var o,s,r=0,l="casesold"==i.nlDashboard?"No oF Cases Sold":"revenue"==i.nlDashboard?"Revenue":"expenses"==i.nlDashboard?"Expenses":"",c=("casesold"==i.nlDashboard||("revenue"==i.nlDashboard||i.nlDashboard),!0);e.showReport=!1;var h=function(t,a,s){function d(e){if(e.length>0){var t=[];return 1==r?(t.push({title:e[0].Column1,color:e[0].Color1}),t.push({title:e[0].Column2,color:e[0].Color2})):(t.push({title:e[0].Category+" "+e[0].Column1,color:e[0].Color1}),t.push({title:e[0].Category+" "+e[0].Column2,color:e[0].Color2}),t.push({title:e[1].Category+" "+e[1].Column1,color:e[1].Color1}),t.push({title:e[1].Category+" "+e[1].Column2,color:e[1].Color2})),t}}var p=function(e,t){var i=(e.dataContext["Val"+t],u(e));return e.category+"<br /><b style='font-size: 130%'> "+e.dataContext["Column"+t]+" </b> <br />"+n(Math.round(e.dataContext["Val"+t]))+i};o=AmCharts.makeChart(e.myId,{responsive:{minWidth:200,maxWidth:400,maxHeight:400,minHeight:200,overrides:{precision:2,legend:{enabled:!1},valueAxes:{inside:!0}}},processTimeout:1,theme:"none",type:"serial",valueAxes:[{stackType:"regular",position:"left",title:l}],graphs:[{id:"00",fillAlphas:0,lineAlpha:0,title:"",type:"column",valueField:"Label",showAllValueLabels:!0,labelText:" ",labelFunction:function(e){return 0==r?e.dataContext.Column1:""},labelOffset:-10,labelRotation:0,autoWrap:!0},{id:"g1",fillAlphas:1,lineAlpha:.2,title:"",type:"column",valueField:"Val1",fillColorsField:"Color1",balloonText:" ",balloonFunction:function(e,t){return p(e,1)}},{id:"00",fillAlphas:0,lineAlpha:0,newStack:!0,title:"",type:"column",valueField:"Label",showAllValueLabels:!0,labelText:" ",labelFunction:function(e){return 0==r?e.dataContext.Column2:""},labelOffset:-10,labelRotation:0,autoWrap:!0},{id:"g2",fillAlphas:1,lineAlpha:.2,newStack:!1,title:"",type:"column",valueField:"Val2",fillColorsField:"Color2",balloonText:" ",balloonFunction:function(e,t){return p(e,2)}},{id:"00",fillAlphas:0,lineAlpha:0,newStack:!0,title:"1200",type:"column",valueField:"Label",showAllValueLabels:!0,labelText:" ",labelFunction:function(e){return 0==r?e.dataContext.Column3:""},labelOffset:-10,labelRotation:0,autoWrap:!0},{id:"g3",fillAlphas:1,lineAlpha:.2,newStack:!1,title:"",type:"column",valueField:"Val3",fillColorsField:"Color3",balloonText:" ",balloonFunction:function(e,t){return p(e,3)}}],plotAreaFillAlphas:.1,depth3D:30,angle:30,categoryField:"Category",categoryAxis:{gridPosition:"start",tickPosition:"start",labelOffset:0==r?44:0,labelRotation:s,labelFunction:function(e,t,i){var a=i.chart;return a.realWidth<=300&&e.length>5?e.substr(0,5)+"...":a.realWidth<=500&&e.length>10?e.substr(0,10)+"...":e},autoWrap:!0},legend:function(t){return void 0==t?null:{enabled:c,position:"bottom",data:d(t),autoMargins:!1,equalWidths:!1,divId:e.legendDiv}}(t),columnSpacing:12}),o.dataProvider=t,o.validateData();var f=[];o.addListener("clickGraphItem",function(t){if(void 0!=t.item.dataContext.SubData){o.legend=null,c=0!=t.item.dataContext.SubData.length,subChartData=t.item.dataContext.SubData;var a=t.item.dataContext.Category;r+=1,h(subChartData,a,35),f[r]=subChartData,e.showReport=!1,1==r&&(e.firstdrilldowntext=i.xtitle.toUpperCase()+" <br/><span class='small-text'> "+a+"</span>",e.callbackFn({title:e.firstdrilldowntext})),e.$apply(function(){e.backBtnVisible=!0})}else e.showReport=!0,o.legend=null,c=!0,e.firstdrilldownreporttext=e.firstdrilldowntext+"> <span class='small-text'> "+t.item.category+"> Report</span>",e.$apply(function(){e.backBtnVisible=!1}),e.callbackFn({title:e.firstdrilldownreporttext})})};e.$watch(function(){return a.$viewValue},function(t){e.backBtnVisible=!1,s=t,h(s,"",0)}),e.$watch("backBtnVisible",function(t,i){!t&&i&&(c=!0,r=0,h(s,"",0),e.callbackFn({title:"initial"}))});var u=function(e){var t=e.dataContext.Val1,a=e.dataContext.Val2,n=t-a;0!==n?(n/=a,n*=100,n=n==1/0?0:n):n=0;var o=Math.round(n);return"expenses"==i.nlDashboard?o>0?"<span>(<span class='fa fa-sort-down' style='color:red'> "+Math.abs(o)+" %</span>)</span>":o<0?"<span>(<span class='fa fa-sort-up' style='color:forestgreen'> "+Math.abs(o)+" %</span>)</span>":"":o>0?"<span>(<span class='fa fa-sort-up' style='color:forestgreen'> "+Math.abs(o)+" %</span>)</span>":o<0?"<span>(<span class='fa fa-sort-down' style='color:red'> "+Math.abs(o)+" %</span>)</span>":""}}}}]),MetronicApp.directive("nlClusteredBarToggleChart",["$location","$rootScope","$filter","dataService","NotificationService",function(e,t,i,a,n){return this.count=0,{restrict:"E",replace:!0,require:"?ngModel",scope:{nlLocation:"=",valueAxesTitle:"=",useGraphCategoryAxisTitle:"=",topBottomToggleClusterCountLabel:"=",hideChartTitle:"=",callbackFn:"&",objectToInject:"=",nlChart:"="},template:'<div class="portlet-body" ng-init="showChart=true"><div ng-show="showChart"><div class="chart-back-btn" ng-init="backBtnVisible = false" ng-show="backBtnVisible"><i class="fa-arrow-circle-o-left fa fa-2x" ng-click="backChart()" style="cursor:pointer;"></i></div><div id="{{::myId}}" class="chart" style="width:100%;min-height:500px;"></div></br></br></br><div style="text-align:right; position:relative; top:0px;" ng-show="backBtnVisible"><toggle-switch ng-model="topBottomToggle" ng-init="topBottomToggle=true" on-label="Top 10" off-label="Bottom 10" ng-click="loadDestinationFacilityChart()"><toggle-switch></div><div id="{{::legendDiv}}" class="clusteredBarChartLegenddiv"></div></div><div ng-show="showReport"><div class="chart-back-btn" ng-init="chartBackBtnVisible = true" ng-show="chartBackBtnVisible"><i class="fa-arrow-circle-o-left fa fa-2x" ng-click="showReport=false;showChart=true;reportback()" style="cursor:pointer;"></i></div><div style="margin-top: -46px;"><div ng-include="\'app/pages/expenses/expenses-report-table.html\'"></div></div></div></div>',link:function(e,i,o,s){function r(e){return e.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1,")}e.toggleClusterCountLabel=e.topBottomToggleClusterCountLabel?e.topBottomToggleClusterCountLabel:5;var l,c,h=null,u="",d=0,p=[];e.legendDiv="legenddiv_clustered_bar_toggle"+count,e.myId="chart_div_clustered"+count++;var f="",m=function(i,s,c){function g(e){var t=[];return t.push({title:e[0]?e[0].Column1:"",color:e[0]?e[0].Color1:""}),t.push({title:e[0]?e[0].Column3:"",color:e[0]?e[0].Color1:""}),t.push({title:e[0]?e[0].Column2:"",color:e[0]?e[0].Color2:""}),t}l=AmCharts.makeChart(e.myId,{responsive:{minWidth:200,maxWidth:400,maxHeight:400,minHeight:200,overrides:{precision:2,legend:{enabled:!1},valueAxes:{inside:!0}}},processTimeout:1,theme:"none",type:"serial",valueAxes:[{stackType:"regular",position:"left",title:e.valueAxesTitle?e.valueAxesTitle:"Revenue"}],graphs:[{id:"00",fillAlphas:0,lineAlpha:0,title:"",type:"column",valueField:"Label",showAllValueLabels:!0,balloonText:"",labelText:" ",labelFunction:function(e){return 0==d?e.dataContext.Column1:""},labelOffset:-15,labelRotation:-30,autoWrap:!0},{id:"g1",fillAlphas:1,lineAlpha:.2,title:"",type:"column",valueField:"Val1",fillColorsField:"Color1",balloonText:" ",balloonFunction:function(t,i){var a=r(t.dataContext.Val1);if(0==a)return"";var n=t.dataContext.Val1-t.dataContext.Val2;n/=t.dataContext.Val2,n*=100,n=n==1/0?100:n,e.PriorMonth=Math.round(n);var s="";if("Opex-Cogs"==o.nlChart){if(e.PriorMonth>0&&(s="<span>(<span class='fa fa-sort-down' style='color:red'> "+Math.abs(e.PriorMonth)+" %</span>)</span>"),e.PriorMonth<0&&(s="<span>(<span class='fa fa-sort-up' style='color:forestgreen'> "+Math.abs(e.PriorMonth)+" %</span>)</span>"),0==e.PriorMonth)return s=""}else if(e.PriorMonth>0&&(s="<span>(<span class='fa fa-sort-up' style='color:forestgreen'> "+Math.abs(e.PriorMonth)+" %</span>)</span>"),e.PriorMonth<0&&(s="<span>(<span class='fa fa-sort-down' style='color:red'> "+Math.abs(e.PriorMonth)+" %</span>)</span>"),0==e.PriorMonth)return s="";return t.dataContext.Column1+" <br />"+t.category+" <br /><b style='font-size: 130%'>$"+a+s+"</b>"}},{id:"00",fillAlphas:0,lineAlpha:0,newStack:!0,title:"",type:"column",valueField:"Label",balloonText:"",showAllValueLabels:!0,labelText:" ",labelFunction:function(e){return 0==d?e.dataContext.Column2:""},labelOffset:-15,labelRotation:-30,autoWrap:!0},{id:"g2",fillAlphas:1,lineAlpha:.2,newStack:!1,title:"",type:"column",valueField:"Val2",fillColorsField:"Color2",balloonText:" ",balloonFunction:function(e,t){var i=r(e.dataContext.Val2);return 0==i?"":e.dataContext.Column2+" <br />"+e.category+" <br /><b style='font-size: 130%'>$"+i+" <br /></b>"}},{id:"00",fillAlphas:0,lineAlpha:0,newStack:!0,
title:"",type:"column",valueField:"Label",balloonText:"",showAllValueLabels:!0,labelText:" ",labelFunction:function(e){return 0==d?e.dataContext.Column3:""},labelOffset:-15,labelRotation:-30,autoWrap:!0},{id:"g3",fillAlphas:1,lineAlpha:.2,newStack:!1,title:"",type:"column",valueField:"Val3",fillColorsField:"Color3",balloonFunction:function(t,i){var a=r(t.dataContext.Val3);if(0==a)return"";var n=t.dataContext.Val1-t.dataContext.Val3;n/=t.dataContext.Val3,n*=100,n=n==1/0?100:n,e.PriorMonth=n;if("Opex-Cogs"==o.nlChart){if(e.PriorMonth>0&&"<span>(<span class='fa fa-sort-down' style='color:red'> "+Math.abs(e.PriorMonth)+" %</span>)</span>",e.PriorMonth<0&&"<span>(<span class='fa fa-sort-up' style='color:forestgreen'> "+Math.abs(e.PriorMonth)+" %</span>)</span>",0==e.PriorMonth)return""}else e.PriorMonth>=0&&"<span><br /><span class='fa fa-sort-up' style='color:forestgreen'>"+Math.abs(e.PriorMonth)+"</span></span>",e.PriorMonth<0&&"<span><br /><span class='fa fa-sort-down' style='color:red'>"+Math.abs(e.PriorMonth)+"</span></span>";return t.dataContext.Column3+" <br />"+t.category+" <br /><b style='font-size: 130%'>$"+a+"</b>"}}],plotAreaFillAlphas:.1,depth3D:30,angle:30,categoryField:"Category",categoryAxis:{gridPosition:"start",tickPosition:"start",labelOffset:0==d?44:0,boldLabels:0==d,labelRotation:c,labelFunction:function(e,t,i){var a=i.chart;return a.realWidth<=300&&e.length>5?e.substr(0,5)+"...":a.realWidth<=500&&e.length>10?e.substr(0,10)+"...":e},labelOffset:0==d?60:0,autoWrap:!0},legend:function(t){return void 0==t?null:{position:"bottom",data:g(t),autoMargins:!1,equalWidths:!1,divId:e.legendDiv}}(i),columnSpacing:12}),a.IsGlobal_Filter_Year()&&delete l.graphs[4],a.IsGlobal_Filter_Year()&&delete l.graphs[5],l.dataProvider=i,l.validateData(),l.addListener("clickGraphItem",function(r){var c,g=r.graph.id;if("00"!==g){var v="";switch(g){case"g1":v=r.item.dataContext.Column1;break;case"g2":v=r.item.dataContext.Column2;break;case"g3":v=r.item.dataContext.Column3}if(r.item.dataContext.Category,c=r.item.dataContext.Category+" ("+v+") ",void 0!=r.item.dataContext.SubData)subChartData=e.topBottomToggle?r.item.dataContext.SubData.Top:r.item.dataContext.SubData.Bottom,p[d]=subChartData,0==d&&(e.categoriestitleld="Expenses </br> <span class='small-text'>"+c+"</span>",e.categoriesTitlePrevious="Expenses </br> <span class='small-text'>"+c+"</span>",e.callbackFn({title:e.categoriesTitlePrevious})),1==d&&(e.categoriesTitlesecond=e.categoriestitleld+"<span class='small-text'> > "+r.item.category+" </span>",e.callbackFn({title:e.categoriesTitlesecond})),d+=1,h=r.item.dataContext.SubData,r.chart.legend=null,u=s,f=e.useGraphCategoryAxisTitle?s:"Sales Person",m(subChartData,f,35),l.validateData(),e.$apply(function(){e.backBtnVisible=!0});else{if("Opex-Cogs"==o.nlChart){e.accountName=r.item.category;var g=r.graph.id;if("00"!==g){var b,y=r.item.index,x=i[y];switch(g){case"g1":x.Period1,b=0;break;case"g2":x.Period2,b=1;break;case"g3":x.Period3,b=2}e.$apply(function(){e.showChart=!1,e.showReport=!0});var C=t.currentfilter.Id,w={Category:"",Commodity:"",SalesPerson:"",FilterId:C,Period:b,AccountType:"COGS"==e.cat?1:0,AccountNumber:r.item.dataContext.AccountNumber};!function(t){e.customersData=[],e.customersDataSafe=[],a.GetExpensesPersonCustomersData(t).then(function(t){t&&t.data&&(e.customersData=t.data,e.customersDataSafe=t.data),Metronic.stopPageLoading()},function(){Metronic.stopPageLoading(),n.Error("Error upon the API request"),n.ConsoleLog("Error on the server")})}(w);1==d?(e.categoriesTitlesecond=e.categoriestitleld+"<span class='small-text'> > "+e.accountName+" </span>",e.callbackFn({title:e.categoriesTitlesecond+"<span class='small-text'></span><span class='small-text'> > Report</span>"})):e.callbackFn({title:e.categoriesTitlesecond+"<span class='small-text'> > "+r.item.category+"</span><span class='small-text'> > Report</span>"})}else e.customersData=[],e.customersDataSafe=[]}o.nlChart}}e.reportback=function(){1==d?e.callbackFn({title:e.categoriestitleld}):e.callbackFn({title:e.categoriesTitlesecond})}})};e.$watch(function(){return s.$viewValue},function(t){e.backBtnVisible=!1,d=0,e.showChart=!0,e.showReport=!1,c=t,u="",void 0==c||0==c.length||m(c,"",0)}),e.$watch("backBtnVisible",function(e,t){!e&&t&&(u="",m(c,"",0),h=null)}),e.$watch("topBottomToggle",function(){null!=h&&(subChartData=e.topBottomToggle?h.Top:h.Bottom,m(subChartData,f,35))}),e.backChart=function(){var t=1==d?c:p[d-2];d-=1,m(t,"",35),e.backBtnVisible=!(d<1)&&e.backBtnVisible,0==d&&e.callbackFn({title:"initial"}),1==d&&e.callbackFn({title:e.categoriesTitlePrevious})},e.reportback=function(){e.callbackFn({title:t.secondlast})}}}}]),MetronicApp.directive("nlDonutRadialGradientChart",["$location","$rootScope","$filter","$state","dataService","NotificationService","HelperService",function(e,t,i,a,n,o,s){return{restrict:"E",replace:!0,require:"?ngModel",template:'<div id="{{::myId}}" style="width: 100%;height: 500px;"></div>',link:function(e,t,i,a){function n(t,i){return void 0==t?null:i?{markerType:"circle",position:"bottom",data:o(t),autoMargins:!1,divId:e.legendDiv}:{markerType:"circle",data:o(t),position:"right",marginRight:80,autoMargins:!1,truncateLabels:25}}function o(e){if(e){for(var t=[],i=0;i<e.length;i++)t.push({title:e[i].Description+": $"+s.formatCommaSeperate(e[i].TotalExpense),color:e[i].color});return t}}e.myId="chart_div_clustered_with_report1"+count++;var r,l=function(t,i,a,o){if(t)for(var r=0,l=0;l<t.length;l++)r+=t[l].TotalExpense;var c=function(e,t){var i=100*e.dataContext.TotalExpense/r;return e.dataContext.Description+" : "+Math.round(i)+"%"},h=AmCharts.makeChart(e.myId,{type:"pie",theme:"light",minRadius:80,startEffect:"easeOutSine",startDuration:2,labelRadius:31,innerRadius:"30%",dataProvider:t,valueField:"TotalExpense",titleField:"Description",colorField:"color",angle:26.1,depth3D:24,labelText:" ",labelFunction:c,balloonText:" ",balloonFunction:function(e,t){return e.dataContext.Description+"<br /><b style='font-size: 130%'>$"+s.formatCommaSeperate(Math.round(e.dataContext.TotalExpense))+" </b>"},listeners:[{event:"clickSlice",method:function(e){e.chart.validateData()}}],legend:n(t,o),export:{enabled:!0}});o&&(h.labelsEnabled=!1,h.autoMargins=!1,h.marginTop=0,h.marginBottom=0,h.marginLeft=0,h.marginRight=0,h.pullOutRadius=0),h.validateData()};e.$watch(function(){return a.$viewValue},function(t){function i(e){$(this).width()>980?l(e,"",0,!1):l(e,"",0,!0)}e.backBtnVisible=!1,r=t,i(r),$(window).resize(function(){i(r)})})}}}]),MetronicApp.directive("nlLineChart",["$location","$state",function(e,t){return this.count=0,{restrict:"E",replace:!0,require:"?ngModel",scope:{nlDashboard:"="},template:'<div class="portlet-body"><div id="{{::chartId}}" class="chart" style="width:100%;min-height:600px;"></div></div>',link:function(e,i,a,n){function o(){return"warehouse"==a.nlDashboard?"AvgProductivity":(a.nlDashboard,"Amount")}e.chartId="div_line_Chart"+count++;var s,r=function(){return"profitability"==a.nlDashboard?"Margin in $":"warehouse"==a.nlDashboard?"Avg cases Picked/Hour":""}(),l=function(i){function a(){s.zoomToIndexes(s.dataProvider.length-40,s.dataProvider.length-1)}s=AmCharts.makeChart(e.chartId,{panEventsEnabled:!1,pan:!0,type:"serial",theme:"light",marginRight:40,marginLeft:40,autoMarginOffset:20,mouseWheelZoomEnabled:!0,dataDateFormat:"YYYY-MM-DD",valueAxes:[{id:"v1",axisAlpha:0,position:"left",ignoreAxisWidth:!0,title:r}],balloon:{borderThickness:1,shadowAlpha:0},graphs:[{id:"g1",balloon:{adjustBorderColor:!0,fillColor:"#FFFFFF",borderThickness:2},bullet:"round",bulletBorderAlpha:1,bulletColor:"#FFFFFF",bulletSize:5,hideBulletsCount:50,lineThickness:2,title:"red line",useLineColorForBulletBorder:!0,valueField:o(),balloonText:"<span>[[value]]</span>"}],chartScrollbar:{graph:"g1",oppositeAxis:!1,offset:30,scrollbarHeight:80,backgroundAlpha:0,selectedBackgroundAlpha:.1,selectedBackgroundColor:"#888888",graphFillAlpha:0,graphLineAlpha:.5,selectedGraphFillAlpha:0,selectedGraphLineAlpha:1,autoGridCount:!0,color:"#AAAAAA"},chartCursor:{pan:!0,valueLineEnabled:!0,valueLineBalloonEnabled:!0,cursorAlpha:1,cursorColor:"#258cbb",limitToGraph:"g1",valueLineAlpha:.2,valueZoomable:!0},valueScrollbar:{oppositeAxis:!1,offset:50,scrollbarHeight:10},categoryField:"Date",categoryAxis:{parseDates:!0,dashLength:1,minorGridEnabled:!0},export:{enabled:!0},dataProvider:i}),s.addListener("rendered",a),a(),s.addListener("clickGraphItem",function(e){t.go("warehouse-wms-picker-productivity-report",{date:e.item.category})})};e.$watch(function(){return n.$viewValue},function(t){void 0==t||0==t.length?document.getElementById(e.chartId).innerText=void 0==t?"":"The chart contains no data !":l(t)})}}}]),MetronicApp.directive("nlXyChartLineGraph",["$location","$rootScope","$filter","$state","dataService","NotificationService",function(e,t,i,a,n,o){return this.count=0,{restrict:"E",replace:!0,require:"?ngModel",scope:{nlLocation:"=",nlDashboard:"=",filterType:"="},template:'<div class="portlet-body"><div class="chart-back-btn" ng-init="backBtnVisible = false" ng-show="backBtnVisible"><i class="fa-arrow-circle-o-left fa fa-2x" ng-click=" backBtnVisible  = false " style="cursor:pointer;"></i></div><div id="{{::myId}}" class="chart" style="width:100%;min-height:500px;"></div><div id="{{::legendDiv}}" class="clusteredBarChartLegenddiv"></div></div>',link:function(e,t,i,n){e.legendDiv="nlXyChartLineGraph_legend"+count,e.myId="nlXyChartLineGraph_chart"+count++;var o,s,r=(function(){"casesold"==i.nlDashboard||("revenue"==i.nlDashboard||i.nlDashboard)}(),!0),l=function(t,n,c){o=AmCharts.makeChart(e.myId,{type:"xy",theme:"light",marginRight:80,dataDateFormat:"YYYY-MM-DD",startDuration:1.5,trendLines:[],balloon:{adjustBorderColor:!1,shadowAlpha:0,fixedPosition:!0},graphs:[{balloonText:"<div style='margin:5px;'><b>[[x]]</b><br>y:<b>[[y]]</b><br>value:<b>[[value]]</b></div>",bullet:"diamond",maxBulletSize:25,lineAlpha:.8,lineThickness:2,lineColor:"yellow",fillAlphas:0,xField:"date",yField:"ay",valueField:"aValue",title:"virginia"},{balloonText:"<div style='margin:5px;'><b>[[x]]</b><br>y:<b>[[y]]</b><br>value:<b>[[value]]</b></div>",bullet:"round",maxBulletSize:25,lineAlpha:.8,lineThickness:2,lineColor:"blue",fillAlphas:0,xField:"date",yField:"by",valueField:"bValue",title:"National"},{balloonText:"<div style='margin:5px;'><b>[[x]]</b><br>y:<b>[[y]]</b><br>value:<b>[[value]]</b></div>",bullet:"round",maxBulletSize:25,lineAlpha:.8,lineThickness:2,lineColor:"green",fillAlphas:0,xField:"date",yField:"cy",valueField:"cValue",title:"south dakota"},{balloonText:"<div style='margin:5px;'><b>[[x]]</b><br>y:<b>[[y]]</b><br>value:<b>[[value]]</b></div>",bullet:"round",maxBulletSize:25,lineAlpha:.8,lineThickness:2,lineColor:"red",fillAlphas:0,xField:"date",yField:"dy",valueField:"dValue",title:"north carolina"},{balloonText:"<div style='margin:5px;'><b>[[x]]</b><br>y:<b>[[y]]</b><br>value:<b>[[value]]</b></div>",bullet:"round",maxBulletSize:25,lineAlpha:.8,lineThickness:2,lineColor:"gray",fillAlphas:0,xField:"date",yField:"ey",valueField:"eValue",title:"tennessee"},{balloonText:"<div style='margin:5px;'><b>[[x]]</b><br>y:<b>[[y]]</b><br>value:<b>[[value]]</b></div>",bullet:"round",maxBulletSize:25,lineAlpha:.8,lineThickness:2,lineColor:"black",fillAlphas:0,xField:"date",yField:"fy",valueField:"fValue",title:"maryland"}],valueAxes:[{id:"ValueAxis-1",axisAlpha:0},{id:"ValueAxis-2",axisAlpha:0,position:"bottom"}],allLabels:[],titles:[],dataProvider:[{date:1,ay:6.5,by:2.2,aValue:15,bValue:10},{date:2,ay:12.3,by:29,cy:3.9,dy:6.9,ey:3.9,fy:8.9,aValue:8,bValue:3,cValue:3,dValue:5,eValue:7,fValue:8},{date:3,ay:12.3,by:5.1,cy:4.9,dy:7.9,ey:6.9,fy:4.9,aValue:16,bValue:4,cValue:4,dValue:6,eValue:7,fValue:9},{date:5,ay:2.9,by:4.1,cy:2.9,dy:7.9,ey:8.9,fy:4.9,aValue:9,cValue:6,dValue:4,eValue:2,fValue:7},{date:7,by:8.3,cy:5.9,dy:3.9,ey:9.9,fy:6.9,bValue:13,cValue:6,dValue:5,eValue:4,fValue:3},{date:10,ay:4.8,by:13.3,cy:3.9,dy:6.9,ey:7.9,fy:4.9,aValue:9,bValue:13,cValue:43,dValue:2,eValue:6,fValue:7},{date:12,ay:5.5,by:6.1,cy:9.9,dy:3.9,ey:7.9,fy:2.9,aValue:5,bValue:2,cValue:6,dValue:5,eValue:4,fValue:3},{date:13,ay:5.1,by:6.1,cy:7.9,dy:4.9,ey:9.9,fy:4.9,aValue:10,cValue:6,dValue:4,eValue:3,fValue:3},{date:15,ay:6.7,by:10.5,cy:7.9,dy:3.9,ey:5.9,fy:6.9,aValue:3,bValue:10,cValue:6,dValue:5,eValue:7,fValue:8},{date:16,ay:8,by:12.3,cy:7.9,dy:8.9,ey:3.9,fy:2.9,aValue:5,bValue:13,cValue:6,dValue:4,eValue:3,fValue:5},{date:20,by:4.5,cy:3.9,dy:6.9,ey:3.9,fy:8.9,bValue:11,cValue:6,dValue:2,eValue:3,fValue:4},{date:22,ay:9.7,by:6.1,cy:3.9,dy:6.9,ey:3.9,fy:8.9,aValue:15,bValue:10,cValue:4,dValue:8,eValue:7,fValue:6},{date:23,ay:10.4,by:10.8,cy:3.9,dy:6.9,ey:3.9,fy:8.9,aValue:1,bValue:11,cValue:7,dValue:6,eValue:2,fValue:4},{date:24,ay:1.7,by:19,cy:3.9,dy:6.9,ey:3.9,fy:8.9,aValue:12,bValue:2,cValue:3,dValue:4,eValue:6,fValue:8}],export:{enabled:!0},chartScrollbar:{offset:15,scrollbarHeight:5},chartCursor:{pan:!0,cursorAlpha:0,valueLineAlpha:0},legend:{enabled:!0,useGraphSettings:!0,position:"right"}}),o.addListener("drawn",function(e){o.legend=null}),o.addListener("clickGraphItem",function(t){if(void 0==i.nlLocation)if(void 0!=t.item.dataContext.SubData){r=!1,subChartData=t.item.dataContext.SubData;var n=t.item.dataContext.Category;o.legend=null,l(subChartData,n,35),e.$apply(function(){e.backBtnVisible=!0})}else o.legend=null,r=!0,l(s,"",0),e.$apply(function(){e.backBtnVisible=!1});else t.item.dataContext.Category&&a.go(i.nlLocation,{category:t.item.dataContext.Category})})};e.$watch(function(){return n.$viewValue},function(t){e.backBtnVisible=!1,s=t,l(s,"",0)}),e.$watch("backBtnVisible",function(e,t){!e&&t&&(r=!0,l(s,"",0))})}}}]),angular.module("toggle-sidemenu",[]).directive("openSubMenu",["$location","$rootScope","$filter","$state",function(e,t,i,a){return this.count=0,{restrict:"A",link:function(e,i,n,o){t.$on("$stateChangeSuccess",function(e,t,o,s){"dashboard"==n.openSubMenu?"dashboard"==a.current.data.parentMenu?(i.addClass("active open"),i.find(".sub-menu").show(),i.find(".arrow").addClass("open")):(i.removeClass("active open"),i.find(".sub-menu").hide(),i.find(".arrow").removeClass("open")):"report"==n.openSubMenu&&("report"==a.current.data.parentMenu?(i.addClass("active open"),i.find(".sub-menu").show(),i.find(".arrow").addClass("open"),i.find("ul .sub-menu").hide(),i.find("li .arrow").removeClass("open"),i.find("li").removeClass("open active")):"warehouse"==a.current.data.parentMenu?(i.addClass("active open"),i.find(".sub-menu").show(),i.find(".arrow").addClass("open")):(i.removeClass("active open"),i.find(".sub-menu").hide(),i.find(".arrow").removeClass("open")))})}}}]),MetronicApp.directive("selectAll",["$rootScope","$parse",function(e,t){return{restrict:"A",replace:!1,require:"?ngModel",scope:{selectAll:"=",ngModel:"="},link:function(t,i,a,n){t.broadCastEvent=null!=a.broadcastEvent&&a.broadcastEvent,t.fullOptions=[],t.$watch("selectAll",function(e,i){if(null!=e&&e.length>0){var a={};a.Value=null!=n.$viewValue&&n.$viewValue.length==e.length?"Clear All":"Select All",a.Key="all",e.unshift(a),t.fullOptions=e}}),t.$watch(function(){return n.$viewValue},function(i){if(null!=i&&(i.indexOf(angular.toJson({Value:"Select All",Key:"all"}))>=0||i.indexOf(angular.toJson({Value:"Clear All",Key:"all"}))>=0))if(i.length>=t.fullOptions.length)n.$viewValue=[];else{var a=t.fullOptions;a.shift();var o=[];angular.forEach(a,function(e,t){o.push(angular.toJson(e))}),n.$viewValue=o,$(".select2-drop").css("display","none")}else if(null!=i)if(i.length>=t.fullOptions.length){if(null!=t.selectAll){var s={};s.Value="Clear All",s.Key="all",$(".select2-no-results").hide(),t.selectAll.unshift(s)}}else i.length==t.fullOptions.length-1?t.selectAll[0].Value="Clear All":t.selectAll.length>0&&(t.selectAll[0].Value="Select All");t.ngModel=n.$viewValue,t.broadCastEvent&&e.$broadcast("select_all_changed",{newVal:n.$viewValue})})}}}]),MetronicApp.directive("nlTotalCategories",["$rootScope","$filter","$state","dataService","NotificationService","$timeout","HelperService",function(e,t,i,a,n,o,s){return this.count=0,{restrict:"E",replace:!0,require:"?ngModel",scope:{filterType:"=",callbackFn:"&",callbackFullscreen:"&"},template:'<div  id=fulldiv{{::myId}}  class="portlet-body" ng-init="showChart=true" ng-cloak><div class="chart-back-btn" ng-show="closebutton" style="float:right;"><i class="fa fa-close fa-2x" ng-click="closepanel()" style="cursor:pointer;"></i></div><div ng-show="showChart"><div class="chart-back-btn" ng-init="backBtnVisible = false" ng-show="backBtnVisible"><i class="fa-arrow-circle-o-left fa fa-2x" ng-click="showReport=false;showChart=true; backChart()" style="cursor:pointer;"></i></div><div id="{{::myId}}" class="chart" style="width:100%;min-height:500px;"></div><div ng-cloak ng-show="drillDownCount==0"  id="{{::legendDiv}}" class="clusteredBarChartLegenddiv2 fade-in-up"></div></div><div ng-show="showReport"><div class="chart-back-btn" ng-init="chartBackBtnVisible = true" ng-show="chartBackBtnVisible"><i class="fa-arrow-circle-o-left fa fa-2x" ng-click="reportback()" style="cursor:pointer;"></i></div><div style="margin-top: -46px;"><div ng-if="!iscustomersItemReport" ng-include="\'app/pages/sales/sales-report-table.html\'"></div><div ng-if="iscustomersItemReport" ng-include="\'app/pages/sales/customer-item-table.html\'"></div></div></div><button  ng-if="sampledata !=0" type="button" class="btn btn-default btn-sm" data-toggle="collapse" data-target="#demo" ng-click="changebtnstatus()" ">{{btnstatus}} Sales Persons</button></div>',link:function(r,l,c,h){function u(e,i){r.customersData=[],r.customersDataSafe=[],Metronic.blockUI({boxed:!0}),a.GetSalesPersonCustomersDataTotal(e,i).then(function(e){if(e&&e.data){r.customersData=e.data,r.customersDataSafe=angular.copy(e.data);for(var i=0,a=0,n=0,o=0,s=0,l=0,c=0,h=0,u=0,d=0,p=0,f=0,m=0,g=0,v=r.customersDataSafe.length,b=0;b<v;b++)i+=r.customersDataSafe[b].CasesSoldCurrent,a+=r.customersDataSafe[b].CasesSoldPrior,n+=r.customersDataSafe[b].Difference,o+=r.customersDataSafe[b].DifferenceCasesSold,s+=r.customersDataSafe[b].DifferenceExpense,l+=r.customersDataSafe[b].ExpenseCurrent,c+=r.customersDataSafe[b].ExpensePrior,h+=r.customersDataSafe[b].NoOfCustomer,u+=r.customersDataSafe[b].Percentage,d+=r.customersDataSafe[b].PercentageCasesSold,p+=r.customersDataSafe[b].PercentageExpense,f+=r.customersDataSafe[b].SalesAmountCurrent,m+=r.customersDataSafe[b].SalesAmountPrior,g+=r.customersDataSafe[b].SalesQty;r.TotalCasesSoldCurrent=t("numberWithCommasRounded")(i),r.TotalCasesSoldPrior=t("numberWithCommasRounded")(a),r.TotalDifference=t("numberWithCommasRounded")(n),r.TotalDifferenceExpense="$"+t("numberWithCommasRounded")(s),r.TotalExpenseCurrent="$"+t("numberWithCommasRounded")(l),r.TotalExpensePrior="$"+t("numberWithCommasRounded")(c),r.TotalNoOfCustomer=h,r.TotalPercentage=u,r.TotalPercentageCasesSold=t("numberWithCommasRounded")(d),r.TotalPercentageExpense=t("numberWithCommasRounded")(p),r.TotalSalesAmountCurrent="$"+t("numberWithCommasRounded")(f),r.TotalSalesAmountPrior="$"+t("numberWithCommasRounded")(m),r.TotalSalesQty=t("numberWithCommasRounded")(g),Metronic.unblockUI()}},function(){Metronic.unblockUI(),n.Error("Error upon the API request")})}r.closebutton=!1;var d=i.current.name;r.legendDiv="categories_legend"+count,r.myId="categories_chart"+count++,r.salesPersonBtnID1=!1;var p,f,m="cases-sold-categories"==d?"":"$";r.casesold="cases-sold-categories"==d;var g=0;r.drillDownCount=g;var v=[];r.btnstatus="Show",r.currentcommodity="All",r.sampledata=0,r.customersData=[],r.customersDataSafe=[],r.iscustomersItemReport=!1,r.myTableFunctions={},r.groupProperty="",r.dashboard,c.nlDashboard,r.isfullscreen=!1,r.ISCM01=!1;var b=function(i,l,h){function f(e){r.customersData=[],r.customersDataSafe=[],g+=1,Metronic.blockUI({boxed:!0}),a.GetCustomerServiceDetails(e,!1).then(function(e){e&&e.data&&(r.showChart=!0,r.showReport=!1,v[g]=e.data.TotalCasesSold.All[0].SubData,g+=1,r.drillDownCount=g,subChartData=e.data.TotalCasesSold.All[0].SubData,r.isfullscreen=!0,$("#fulldiv"+r.myId).hide(),r.callbackFullscreen({category:c.xtitle}),b(subChartData,"",35),r.backBtnVisible=!0,r.closebutton=!0,o(function(){$("#fulldiv"+r.myId).show()},500)),Metronic.unblockUI()},function(){Metronic.unblockUI(),n.Error("Error upon the API request")})}p=AmCharts.makeChart(r.myId,{theme:"none",type:"serial",zoomOutOnDataUpdate:!1,valueAxes:[{stackType:"regular",position:"left",title:"cases-sold-categories"==d?"Cases sold qty":"Revenue"}],graphs:[{id:"000",fillAlphas:0,lineAlpha:0,title:"",type:"column",valueField:"ColumnBottomMargin",showAllValueLabels:!0,labelText:" ",balloonText:"",labelFunction:function(e,t){return 0==g?"\n"+e.dataContext.Label1:""},labelRotation:0==g?0:-35},{id:"1",fillAlphas:1,lineAlpha:.2,title:"",type:"column",valueField:1==r.casesold?"cValue1":"rValue1",fillColorsField:"Color1",balloonText:" ",balloonFunction:function(e,t){var i=0,a=1==r.casesold?e.dataContext.cValue1:e.dataContext.rValue1,n=1==r.casesold?e.dataContext.cValue2:e.dataContext.rValue2,o=e.dataContext.ActiveSalesPersonCode?"Sales Person <br /> "+e.dataContext.SalesPerson1+"("+e.dataContext.ActiveSalesPersonCode+")":"";i=a+n,i=Math.round(100*i/100);var l=y(e);return e.dataContext.Label1+"<br /><b style='font-size: 130%'>Total "+m+s.formatCommaSeperate(i)+l+" </b><br />Produce "+m+s.formatCommaSeperate(Math.round(n))+"<br /> Grocery "+m+s.formatCommaSeperate(Math.round(a))+"<br />"+o}},{id:"2",fillAlphas:1,lineAlpha:.2,title:"",type:"column",valueField:1==r.casesold?"cValue2":"rValue2",fillColorsField:"Color2",balloonText:" ",balloonFunction:function(e,t){var i=0,a=1==r.casesold?e.dataContext.cValue1:e.dataContext.rValue1,n=1==r.casesold?e.dataContext.cValue2:e.dataContext.rValue2,o=e.dataContext.ActiveSalesPersonCode?"Sales Person <br /> "+e.dataContext.SalesPerson1+"("+e.dataContext.ActiveSalesPersonCode+")":"";i=a+n,i=Math.round(100*i/100);var l=y(e);return e.dataContext.Label2+"<br /><b style='font-size: 130%'>Total "+m+s.formatCommaSeperate(i)+l+" </b><br />Produce "+m+s.formatCommaSeperate(Math.round(n))+"<br /> Grocery "+m+s.formatCommaSeperate(Math.round(a))+"<br />"+o}},{id:"000",fillAlphas:0,lineAlpha:0,title:"",type:"column",newStack:!0,valueField:"ColumnBottomMargin",showAllValueLabels:!0,labelText:" ",balloonText:"",labelFunction:function(e,t){return 0==g?"\n"+e.dataContext.Label3:""},labelRotation:0==g?0:-35},{id:"3",fillAlphas:1,lineAlpha:.2,newStack:!1,title:"",type:"column",valueField:1==r.casesold?"cValue3":"rValue3",fillColorsField:"Color3",balloonText:" ",balloonFunction:function(e,t){var i=0,a=1==r.casesold?e.dataContext.cValue3:e.dataContext.rValue3,n=1==r.casesold?e.dataContext.cValue4:e.dataContext.rValue4,o=e.dataContext.ActiveSalesPersonCode?"Sales Person <br /> "+e.dataContext.SalesPerson1+"("+e.dataContext.ActiveSalesPersonCode+")":"";return i=a+n,i=Math.round(100*i/100),e.dataContext.Label3+"<br /><b style='font-size: 130%'>Total "+m+s.formatCommaSeperate(i)+" </b><br />Produce "+m+s.formatCommaSeperate(Math.round(n))+"<br /> Grocery "+m+s.formatCommaSeperate(Math.round(a))+"<br />"+o}},{id:"4",fillAlphas:1,lineAlpha:.2,newStack:!1,title:"",type:"column",valueField:1==r.casesold?"cValue4":"rValue4",fillColorsField:"Color4",balloonText:" ",balloonFunction:function(e,t){var i=0,a=1==r.casesold?e.dataContext.cValue3:e.dataContext.rValue3,n=1==r.casesold?e.dataContext.cValue4:e.dataContext.rValue4,o=e.dataContext.ActiveSalesPersonCode?"Sales Person <br /> "+e.dataContext.SalesPerson1+"("+e.dataContext.ActiveSalesPersonCode+")":"";return i=a+n,i=Math.round(100*i/100),e.dataContext.Label4+"<br /><b style='font-size: 130%'>Total "+m+s.formatCommaSeperate(i)+" </b><br />Produce "+m+s.formatCommaSeperate(Math.round(n))+"<br /> Grocery "+m+s.formatCommaSeperate(Math.round(a))+"<br />"+o}},{id:"000",fillAlphas:0,lineAlpha:0,title:"",type:"column",newStack:!0,valueField:"ColumnBottomMargin",showAllValueLabels:!0,labelText:" ",balloonText:"",labelFunction:function(e,t){return 0==g?"\n"+e.dataContext.Label5:""},labelRotation:0==g?0:-35},{id:"5",fillAlphas:1,lineAlpha:.2,newStack:!1,title:"",type:"column",valueField:1==r.casesold?"cValue5":"rValue5",fillColorsField:"Color5",balloonText:" ",balloonFunction:function(e,t){var i=0,a=1==r.casesold?e.dataContext.cValue5:e.dataContext.rValue5,n=1==r.casesold?e.dataContext.cValue6:e.dataContext.rValue6,o=e.dataContext.ActiveSalesPersonCode?"Sales Person <br /> "+e.dataContext.SalesPerson1+"("+e.dataContext.ActiveSalesPersonCode+")":"";return i=a+n,i=Math.round(100*i/100),e.dataContext.Label5+"<br /><b style='font-size: 130%'>Total "+m+s.formatCommaSeperate(i)+" </b><br />Produce "+m+s.formatCommaSeperate(Math.round(n))+"<br /> Grocery "+m+s.formatCommaSeperate(Math.round(a))+"<br />"+o}},{id:"6",fillAlphas:1,lineAlpha:.2,newStack:!1,title:"",type:"column",valueField:1==r.casesold?"cValue6":"rValue6",fillColorsField:"Color6",balloonText:" ",balloonFunction:function(e,t){var i=0,a=1==r.casesold?e.dataContext.cValue5:e.dataContext.rValue5,n=1==r.casesold?e.dataContext.cValue6:e.dataContext.rValue6,o=e.dataContext.ActiveSalesPersonCode?"Sales Person <br /> "+e.dataContext.SalesPerson1+"("+e.dataContext.ActiveSalesPersonCode+")":"";return i=a+n,i=Math.round(100*i/100),e.dataContext.Label6+"<br /><b style='font-size: 130%'>Total "+m+s.formatCommaSeperate(i)+" </b><br />Produce "+m+s.formatCommaSeperate(Math.round(n))+"<br /> Grocery "+m+s.formatCommaSeperate(Math.round(a))+"<br />"+o}}],depth3D:30,angle:30,categoryField:"GroupName",categoryAxis:{ignoreAxisWidth:0==g,gridPosition:"start",tickPosition:"start",labelRotation:0==g?0:45,autoWrap:!0,labelOffset:15},legend:{data:s.generateLegend(i,g),divId:r.legendDiv},columnSpacing:12}),p.dataProvider=i,a.IsGlobal_Filter_Year()&&delete p.graphs[6],a.IsGlobal_Filter_Year()&&delete p.graphs[7],a.IsGlobal_Filter_Year()&&delete p.graphs[8],p.validateData(),p.addListener("clickGraphItem",function(n){if("000"!==n.graph.id){r.closebutton=!0;var s="";if(g<1){if(0==n.item.dataContext.SubData.length)return r.$apply(function(){r.backBtnVisible=!1,r.closebutton=!1}),!1;if(0==g){var l=i[n.item.index];s="1"==n.graph.id?l.Label1:"2"==n.graph.id?l.Label2:"3"==n.graph.id?l.Label3:"4"==n.graph.id?l.Label4:"5"==n.graph.id?l.Label5:"6"==n.graph.id?l.Label6:"",r.categoriestitleld=c.category.toUpperCase()+" <br/><span class='small-text'> "+s+"</span>",r.categoriesTitlePrevious=c.category.toUpperCase()+" <br/><span class='small-text'> "+s+"</span>",r.CurrentTitle=r.categoriesTitlePrevious,r.callbackFn({title:r.categoriesTitlePrevious,charttype:c.category})}if(1==g&&("revenue-categories"==d?(r.categoriesTitlePrevious=r.categoriestitleld+"<span class='small-text'> > "+n.item.category.toUpperCase()+" </span>",r.CurrentTitle=r.categoriesTitlePrevious,r.callbackFn({title:r.categoriesTitlePrevious,charttype:c.category})):(r.TitlePrevious=r.titleold+"<span class='small-text'> > "+n.item.category.toUpperCase()+" </span>",r.CurrentTitle=r.TitlePrevious,r.callbackFn({title:r.TitlePrevious,charttype:c.category}))),void 0==n.item.dataContext.SubData)return!1;v[g]=n.item.dataContext.SubData,g+=1,r.drillDownCount=g,subChartData=n.item.dataContext.SubData,r.eventCategory=n.item.dataContext.GroupName.split("("),r.isfullscreen=!0,Metronic.blockUI({boxed:!0,message:"Opening "+n.item.category+" ..."}),$("#fulldiv"+r.myId).hide(),r.callbackFullscreen({category:c.xtitle}),b(subChartData,"",35),r.$apply(function(){r.backBtnVisible=!0,r.closebutton=!0}),o(function(){$("#fulldiv"+r.myId).show(),Metronic.unblockUI()},500)}else if("CUSTOMER SERVICE"==n.item.category){r.ISCM01=!0;var h=r.categoriesTitlePrevious+"<span class='small-text'> > "+n.item.category+" </span>";r.customerservicetitle=h,r.callbackFn({title:h,charttype:c.category}),f(e.currentfilter.Id),r.$apply(function(){r.showChart=!0,r.showReport=!1})}else{r.$apply(function(){r.showChart=!1,r.showReport=!0});var l=i[n.item.index];r.GlobalFilterModel={Category:c.xtitle,Commodity:r.currentcommodity,SalesPerson:null==l.ActiveSalesPersonCode?l.GroupName:l.ActiveSalesPersonCode,FilterId:a.NogalesCurrentFilter(),Period:"1"==n.graph.id||"2"==n.graph.id?0:"3"==n.graph.id||"4"==n.graph.id?1:"5"==n.graph.id||"6"==n.graph.id?2:"",OrderBy:1==r.casesold?"casessold":"sales"},r.ActiveSalesPersonCode=l.ActiveSalesPersonCode;var p="";null==l.ActiveSalesPersonCode?(u(r.GlobalFilterModel,!0),r.breadcrumb=r.customerservicetitle+"<span class='small-text'> > "+n.item.dataContext.GroupName+" </span><span class='small-text'> > Report </span>",r.CurrentTitle=r.breadcrumb,r.callbackFn({title:r.breadcrumb,charttype:c.category}),p=t("htmlToPlaintext")(r.customerservicetitle+"<span class='small-text'> > "+n.item.dataContext.GroupName+" </span><span class='small-text'> > Report </span>")):(u(r.GlobalFilterModel,!1),r.breadcrumb=r.categoriesTitlePrevious+"<span class='small-text'> > "+n.item.dataContext.SalesPerson1.toUpperCase()+" </span><span class='small-text'> > Report </span>",r.CurrentTitle=r.breadcrumb,r.callbackFn({title:r.breadcrumb,charttype:c.category}),p=t("htmlToPlaintext")(r.categoriesTitlePrevious+"<span class='small-text'> > "+n.item.dataContext.SalesPerson1.toUpperCase().trim()+" </span><span class='small-text'> > Report </span>")),p=p.replace(">","-").toUpperCase()+".csv".toUpperCase(),r.csvFileName=p,r.csvFileNameOld=p}}});var y=function(e){var t=r.casesold?e.dataContext.cValue1+e.dataContext.cValue2:e.dataContext.rValue1+e.dataContext.rValue2,i=r.casesold?e.dataContext.cValue3+e.dataContext.cValue4:e.dataContext.rValue3+e.dataContext.rValue4,a=t-i;0!==a?(a/=i,a*=100,a=a==1/0?0:a):a=0;var n=Math.round(a);return n>0?"<span>(<span class='fa fa-sort-up' style='color:forestgreen'> "+Math.abs(n)+" %</span>)</span>":n<0?"<span>(<span class='fa fa-sort-down' style='color:red'> "+Math.abs(n)+" %</span>)</span>":""}};r.$watch(function(){return h.$viewValue},function(e){var t=[];t.push(e),r.backBtnVisible=!1,g=0,r.drillDownCount=g,r.showChart=!0,r.showReport=!1,f=t,r.initialdata=f,void 0==f||0==f.length?document.getElementById(r.myId).innerText=void 0==f?"":"The chart contains no data !":b(f,"",0)}),r.closepanel=function(){g=0,r.backBtnVisible=!1,r.closebutton=!1,r.CurrentTitle=c.xtitle,r.callbackFn({title:c.xtitle,charttype:c.category}),r.callbackFullscreen({category:""}),r.showReport=!1,r.showChart=!0,r.drillDownCount=0,b(r.initialdata,"",0)},r.backChart=function(){g-=1,r.drillDownCount=g,2==g?(b(v[0],"",35),r.backBtnVisible=!(g<1)&&r.backBtnVisible,r.CurrentTitle=r.categoriestitleld,r.callbackFn({title:r.categoriestitleld,charttype:c.category}),r.callbackFullscreen({category:c.xtitle}),r.closebutton=!0):1==g?r.closepanel():(b(0==g?f:v[g-1],"",0==g?0:35),r.backBtnVisible=!(g<1)&&r.backBtnVisible,r.CurrentTitle=c.xtitle,r.callbackFn({title:c.xtitle,charttype:c.category}),r.callbackFullscreen({category:""}),r.closebutton=!1)},r.reportback=function(){null==r.ActiveSalesPersonCode?r.iscustomersItemReport?(r.iscustomersItemReport=!1,r.csvFileName=r.csvFileNameOld,r.callbackFn({title:r.breadcrumb,charttype:c.category})):(r.showReport=!1,r.showChart=!0,r.callbackFn({title:r.customerservicetitle,charttype:c.category})):r.iscustomersItemReport?(r.iscustomersItemReport=!1,r.csvFileName=r.csvFileNameOld,r.callbackFn({title:r.breadcrumb,charttype:c.category})):(r.showReport=!1,r.showChart=!0,r.callbackFn({title:r.categoriesTitlePrevious,charttype:c.category}))},r.getDetailedReport=function(e,t){Metronic.blockUI({boxed:!0}),r.callbackFn({title:r.breadcrumb+"<span class='small-text'> > "+t+" </span>",charttype:c.category}),r.CurrentTitle=r.breadcrumb+"<span class='small-text'> > "+t+" </span>";var i=r.csvFileName.split(".");r.csvFileName=i[0]+t.trim()+"-REPORT.csv",r.GlobalFilterModel.CustomerNumber=e,r.GlobalFilterModel.OrderBy=1==r.casesold?"casessold":"sales";var o=null==r.ActiveSalesPersonCode;a.GetCasesSoldDetails(r.GlobalFilterModel,o).then(function(e){if(e&&e.data&&(r.TotalQuantity=0,r.TotalExtPrice=0,r.customersItemData=e.data,
r.customersItemDataSafe=e.data,r.iscustomersItemReport=!0,r.customersItemDataSafe=r.customersItemData,r.bk_customersItemData=angular.copy(e.data),r.bk_customersItemDataSafe=angular.copy(e.data),r.iscustomersItemReport))if("All"==r.currentcommodity){r.customersItemData=r.bk_customersItemData,r.customersItemDataSafe=r.bk_customersItemDataSafe;for(var t=0;t<r.customersItemData.length;t++)r.TotalQuantity=r.TotalQuantity+r.customersItemData[t].Quantity,r.TotalExtPrice=r.TotalExtPrice+r.customersItemData[t].ExtPrice}else{r.customersItemData=[],r.customersItemDataSafe=[];for(var t=0;t<r.bk_customersItemData.length;t++)r.bk_customersItemData[t].Comodity.trim()==r.currentcommodity&&(r.customersItemData.push(r.bk_customersItemData[t]),r.customersItemDataSafe.push(r.bk_customersItemData[t]),r.TotalQuantity=r.TotalQuantity+r.customersItemData[t].Quantity,r.TotalExtPrice=r.TotalExtPrice+r.customersItemData[t].ExtPrice)}Metronic.unblockUI()},function(){Metronic.unblockUI(),n.Error("Error upon the API request")})},r.getCsvHeader=function(){return r.csvFileName=r.csvFileName.replace(/_/g,"-").replace(/>/g,"-").replace("_","-"),r.casesold?["Customer Name","Sales Amt Current","Cases Sold Prior","Cases Sold Current","Difference","Difference (%)"]:["Customer Name","Cases Sold Current","Sales Amt Prior","Sales Amt Current","Difference","Difference (%)"]},r.getCsvData=function(){var e=[],i=[];i=r.casesold?["Customer","SalesAmountCurrent","CasesSoldPrior","CasesSoldCurrent","DifferenceCasesSold","PercentageCasesSold"]:["Customer","CasesSoldCurrent","SalesAmountPrior","SalesAmountCurrent","Difference","Percentage"],angular.forEach(r.customersDataSafe,function(a,n){var o={};angular.forEach(a,function(e,a){var n=i.indexOf(a);n>-1&&(o[n]="SalesAmountCurrent"==a||"Difference"==a||"SalesAmountPrior"==a?"$"+Math.round(e):"CasesSoldPrior"==a||"CasesSoldCurrent"==a||"DifferenceCasesSold"==a||"Percentage"==a||"PercentageCasesSold"==a?t("numberWithCommasRounded")(e):"Customer"==a?e:Math.round(e))}),void 0!=o&&e.push(o)});var a={};return a[0]="Total",a[1]=r.casesold?r.TotalSalesAmountCurrent:r.TotalCasesSoldCurrent,a[2]=r.casesold?r.TotalCasesSoldPrior:r.TotalSalesAmountPrior,a[3]=r.casesold?r.TotalCasesSoldCurrent:r.TotalSalesAmountCurrent,a[4]=a[5]="",e.push(a),e},r.getCsvHeaderDrillDown=function(){return r.csvFileName=r.csvFileName.replace(/_/g,"-").replace(/>/g,"-").replace("_","-"),["Commodity","Invoice Date","Invoice #","Item","Item Description","Quantity","Ext Price","Sales Person","SO #"]},r.getCsvDataDrillDown=function(){var e=[],i=[];i=["Comodity","InvoiceDate","InvoiceNumber","Item","ItemDesc","Quantity","ExtPrice","SalesMan","Sono"];var a=0,n=0;angular.forEach(r.customersItemDataSafe,function(o,s){var r={};angular.forEach(o,function(e,o){var s=i.indexOf(o);s>-1&&(r[s]="ExtPrice"==o?"$"+e:"Quantity"==o?t("numberWithCommas")(e):Math.round(e)),"ExtPrice"==o&&(a+=e),"Quantity"==o&&(n+=e)}),void 0!=r&&e.push(r)});var o={};return o[0]="Total",o[1]=o[2]=o[3]=o[4]="",o[5]=t("numberWithCommas")(n),o[6]=t("numberWithCommas")(a),o[7]=o[8]="",e.push(o),e},r.getCsvDataItemSoldToCustomerHeader=function(){return r.csvFileName=r.csvFileName.replace(/_/g,"-").replace(/>/g,"-").replace("_","-"),["Commodity","Invoice Date","Invoice #","Item Code","Item Description","SO #","Cases Sold","Sales Amount"]},r.getCsvDataItemSoldToCustomer=function(){var e=[],i=[],a=0,n=0;i=["Comodity","InvoiceDate","InvoiceNumber","Item","ItemDesc","Sono","Quantity","ExtPrice"],angular.forEach(r.customersItemDataSafe,function(o,s){var r={};angular.forEach(o,function(e,o){var s=i.indexOf(o);s>-1&&(r[s]="ExtPrice"==o?"$"+Math.round(e):"Quantity"==o?t("numberWithCommas")(Math.round(e)):"InvoiceDate"==o?t("date")(e):e),"Quantity"==o&&(a+=e),"ExtPrice"==o&&(n+=e)}),void 0!=r&&e.push(r)});var o={};return o[0]="Total",o[1]=o[2]=o[3]=o[4]=o[5]="",o[6]=t("numberWithCommas")(Math.round(a)),o[7]=t("currency")(Math.round(n)),e.push(o),e},r.FilterCommodity=function(e){r.currentcommodity=e,r.GlobalFilterModel.Commodity=e;var t=null==r.ActiveSalesPersonCode;u(r.GlobalFilterModel,t)}}}}]),MetronicApp.directive("nlClusteredReportChart",["$location","$rootScope","$filter","$state","dataService",function(e,t,i,a,n){return this.count=0,{restrict:"E",require:"?ngModel",replace:!0,scope:{nlLocation:"=",chartTitle:"=",nlDashboard:"=",hideLine:"=",columnValueTitle:"=",columnValueTargetTitle:"=",columnPointTitle:"=",columnPointTargetTitle:"=",callbackFn:"&",priorstatus:"=",valueAxisTile:"=",chartType:"="},template:'<div class="portlet light"><div class="portlet-title"><div class="caption caption-md"><span class="caption-subject font-light-orange-haze bold uppercase text-mobile">{{title}}</span></div></div><div id="{{::chartId}}" class="chart" style="width:100%;min-height:607px;"  ></div><div style="text-align:right; position:relative; top:0px;"><toggle-switch ng-model="topBottomToggle" ng-init="topBottomToggle=true" on-label="{{toggleTopLabel}}" off-label="{{toggleBottomLabel}}" ></toggle-switch></div></div>',link:function(e,t,i,a){function n(e){return e.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1,")}function o(e){if(e){var t=[];return e.length>0&&(t.push({title:"Current "+i.category,color:e[0].Color1}),t.push({title:"Previous "+i.category,color:e[0].Color2})),t}}e.chartId="chartId"+count++;e.chartType;e.callbackFn({title:"initial"});var s,r=0,l="Cases sold"==i.category?"":"$",c=function(t){0==r&&(e.toggleTopLabel="Top 10",e.toggleBottomLabel="Bottom 10"),e.currenttoggle=e.toggleTopLabel;""==e.priorstatus?e.title=e.currenttoggle+" Increase in "+i.category:"Prior Month"==e.priorstatus?e.title=e.currenttoggle+" Increase in "+i.category+" Month Over Month":e.title=e.currenttoggle+" Increase in "+i.category+" Year Over Year",chart=AmCharts.makeChart(e.chartId,{responsive:{minWidth:200,maxWidth:400,maxHeight:400,minHeight:200,overrides:{precision:2,legend:{enabled:!1},valueAxes:{inside:!0}}},processTimeout:1,theme:"none",type:"serial",dataProvider:t,valueAxes:[{stackType:"regular",position:"left",title:i.category}],graphs:[{fillAlphas:0,lineAlpha:0,title:"1200",type:"column",valueField:"Label",showAllValueLabels:!0,labelText:" ",labelFunction:function(e){return e.dataContext.Column1},columnWidth:.5,labelRotation:270,labelOffset:-10,labelAnchor:"end",balloonText:" "},{fillAlphas:.9,lineAlpha:.2,title:"1200",type:"column",valueField:"Value1",fillColorsField:"Color1",columnWidth:.5,balloonText:" ",balloonFunction:function(e,t){var a=e.dataContext.Value1,o="Current "+i.category,s="",r=e.dataContext.Tooltip;return r>0&&(s='<span class="fa fa-sort-up" style="color:forestgreen"></span>'),r<0&&(s='<span class="fa fa-sort-down" style="color:red;" ng-if="shipment.PercentageDifference<0"></span>'),o+" <br /><b style='font-size: 130%'>"+l+n(a)+" <br /></b>Percentage Difference <br /><b style='font-size: 130%'>"+s+" "+r+"% <br /></b>"}},{newStack:!0,fillAlphas:0,lineAlpha:0,title:"0100",type:"column",valueField:"Label",showAllValueLabels:!0,labelText:" ",labelFunction:function(e){return e.category},columnWidth:.5,labelRotation:270,labelOffset:-10,labelAnchor:"end",balloonText:""},{fillAlphas:.9,lineAlpha:.2,title:"0100",type:"column",valueField:"Value2",fillColorsField:"Color2",columnWidth:.5,balloonText:" ",balloonFunction:function(e,t){var a=e.dataContext.Value2,o="Previous "+i.category,s=e.dataContext.Tooltip;return s>0&&'<span class="fa fa-sort-up" style="color:forestgreen"></span>',s<0&&'<span class="fa fa-sort-down" style="color:red;" ng-if="shipment.PercentageDifference<0"></span>',o+" <br /><b style='font-size: 130%'>"+l+n(a)+"</b>"}},{newStack:!0,fillAlphas:0,lineAlpha:0,title:"0100",type:"column",valueField:"Label",showAllValueLabels:!0,labelText:" ",labelFunction:function(e){return e.dataContext.Column3},columnWidth:.5,labelRotation:270,labelOffset:-10,labelAnchor:"end",balloonText:""},{fillAlphas:.9,lineAlpha:.2,title:"0100",type:"column",valueField:"Value3",fillColorsField:"Color3",columnWidth:.5,balloonText:" ",balloonFunction:function(e,t){var i=e.dataContext.Val3;return e.dataContext.Column3+" <br />"+e.category+" <br /><b style='font-size: 130%'>$"+i+" <br /></b>"}}],plotAreaFillAlphas:.1,depth3D:30,angle:30,categoryField:"Label",categoryAxis:{gridPosition:"start",tickPosition:"start",labelRotation:60,ignoreAxisWidth:!1,autoWrap:!0,labelFunction:function(e,t,i){var a=i.chart;return a.realWidth<=300&&e.length>5?e.substr(0,5)+"...":a.realWidth<=500&&e.length>10?e.substr(0,10)+"...":e}},legend:{data:o(t),divId:e.legendDiv},columnSpacing:12}),e.showReport=!1,e.breadcrumbtext=""};e.$watch(function(){return a.$viewValue},function(t,i){s=t,void 0==s||0==s.length?void 0==s?(Metronic.blockUI({boxed:!0}),e.showToggleButton=!1):(Metronic.unblockUI(),e.showToggleButton=!0):(c(e.topBottomToggle?t.Top:t.Bottom),Metronic.unblockUI(),e.showToggleButton=!0,e.topBottomToggle=!0)}),e.$watch("topBottomToggle",function(t,a){if(s){!1===t?setTimeout(function(){e.$apply(function(){e.currenttoggle="Bottom 10",""==e.priorstatus?e.title=e.currenttoggle+" Decrease in "+i.category:"Prior Month"==e.priorstatus?e.title=e.currenttoggle+" Decrease in "+i.category+" Month Over Month":e.title=e.currenttoggle+" Decrease in "+i.category+" Year Over Year"})},100):setTimeout(function(){e.$apply(function(){e.currenttoggle="Top 10",""==e.priorstatus?e.title=e.currenttoggle+" Increase in "+i.category:"Prior Month"==e.priorstatus?e.title=e.currenttoggle+" Increase in "+i.category+" Month Over Month":e.title=e.currenttoggle+" Increase in "+i.category+" Year Over Year"})},100);var n=1==r?e.topBottomToggle?null.Top:null.Bottom:2==r?e.topBottomToggle?null.Top:null.Bottom:e.topBottomToggle?s.Top:s.Bottom;n&&c(n)}}),e.$watch("backBtnVisible",function(t,i){if(!t&&i){e.topBottomToggle=!0;var a=2==r?null:s;c(e.topBottomToggle?a.Top:a.Bottom),e.backBtnVisible=!(r<=1),r--,e.callbackFn({title:""}),e.showToggleButton=2!=r,e.chartTitle=getChartTitle(r,""),0==r&&(e.toggleTopLabel="Top 5",e.toggleBottomLabel="Bottom 5")}}),e.displayDollar=function(){return"totalSalesBySalesPerson"==e.chartType?"$":""}}}}]),MetronicApp.directive("nlClusteredProfitablityTopBottom",["$location","$rootScope","$filter","$state","dataService",function(e,t,i,a,n){return this.count=0,{restrict:"E",require:"?ngModel",replace:!0,scope:{nlLocation:"=",chartTitle:"=",nlDashboard:"=",hideLine:"=",columnValueTitle:"=",columnValueTargetTitle:"=",columnPointTitle:"=",columnPointTargetTitle:"=",callbackFn:"&",priorstatus:"=",filter:"=",valueAxisTile:"=",chartType:"="},template:'<div class="portlet light"><div class="portlet-title"><div class="caption caption-md"><span class="caption-subject font-light-orange-haze bold uppercase text-mobile text-mobile">{{title}}</span></div></div><div id="{{::chartId}}" class="chart" style="width:100%;min-height:607px;"  ></div><div style="float:right;  text-align:right; margin-top:10px; top:-26px;"><toggle-switch ng-model="topBottomToggle" ng-init="topBottomToggle=true" on-label="{{toggleTopLabel}}" off-label="{{toggleBottomLabel}}" ></toggle-switch></div></div>',link:function(e,t,i,a){function n(e){return e.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1,")}function o(e){if(e){var t=[];return e.length>0&&(t.push({title:e[0].Period,color:e[0].Color1}),t.push({title:e[0].Period2,color:e[0].Color2})),t}}e.filter={label:"Year over Year"};var s=i.isrevenue?"$":"";e.chartId="chartId"+count++;e.chartType;e.callbackFn({title:"initial"});var r,l=[],c=function(t){e.toggleTopLabel="Top 10",e.toggleBottomLabel="Bottom 10",e.currenttoggle=e.toggleTopLabel;e.chartdata=t,e.title=void 0==e.toggleTopLabel?"":e.toggleTopLabel+"% Difference By "+i.types,chart=AmCharts.makeChart(e.chartId,{responsive:{minWidth:200,maxWidth:400,maxHeight:400,minHeight:200,overrides:{precision:2,legend:{enabled:!1},valueAxes:{inside:!0}}},processTimeout:1,theme:"none",type:"serial",dataProvider:t,valueAxes:[{stackType:"regular",position:"left",title:i.category}],graphs:[{fillAlphas:0,lineAlpha:0,title:"1200",type:"column",valueField:"ColumnMargin",showAllValueLabels:!0,labelText:"",labelFunction:function(e){return e.dataContext.Column1},columnWidth:.5,labelAnchor:"end",balloonText:""},{fillAlphas:.9,lineAlpha:.2,title:"1200",type:"column",valueField:"Value1",fillColorsField:"Color1",columnWidth:.5,balloonText:" ",balloonFunction:function(e,t){var i=e.dataContext.Value1,a=e.dataContext.Period,o="",r=e.dataContext.Tooltip;return r>0&&(o='<span class="fa fa-sort-up" style="color:forestgreen"></span>'),r<0&&(o='<span class="fa fa-sort-down" style="color:red;"></span>',r=Math.abs(r)),a+" <br /><b style='font-size: 130%'>"+s+n(i)+"("+o+r+")</b>"}},{newStack:!0,fillAlphas:0,lineAlpha:0,title:"0100",type:"column",valueField:"ColumnMargin",showAllValueLabels:!0,labelText:"",labelFunction:function(e){return e.category},columnWidth:.5,labelAnchor:"end",balloonText:""},{fillAlphas:.9,lineAlpha:.2,title:"0100",type:"column",valueField:"Value2",fillColorsField:"Color2",columnWidth:.5,balloonText:" ",balloonFunction:function(e,t){var i=e.dataContext.Value2,a=e.dataContext.Period2,o="",r=e.dataContext.Tooltip;return r>0&&(o='<span class="fa fa-sort-up" style="color:forestgreen"></span>'),r<0&&(o='<span class="fa fa-sort-down" style="color:red;"></span>',r=Math.abs(r)),a+" <br /><b style='font-size: 130%'>"+s+n(i)+"("+o+r+")</b>"}},{newStack:!0,fillAlphas:0,lineAlpha:0,title:"0100",type:"column",valueField:"ColumnMargin",showAllValueLabels:!0,labelText:" ",labelFunction:function(e){return e.dataContext.Column3},columnWidth:.5,labelAnchor:"end",balloonText:""},{fillAlphas:.9,lineAlpha:.2,title:"0100",type:"column",valueField:"Value3",fillColorsField:"Color3",columnWidth:.5,balloonText:" ",balloonFunction:function(e,t){var i=e.dataContext.Val3;return e.dataContext.Column3+" <br />"+e.category+" <br /><b style='font-size: 130%'>"+n(i)+" <br /></b>"}}],plotAreaFillAlphas:.1,depth3D:30,angle:30,categoryField:"Category",categoryAxis:{labelOffset:15,labelFunction:function(e,t,i){var a=i.chart;return a.realWidth<=300&&e.length>5?e.substr(0,5)+"...":a.realWidth<=500&&e.length>10?e.substr(0,10)+"...":e},gridPosition:"start",tickPosition:"start",labelOffset:5,labelRotation:60},legend:{data:o(t),divId:e.legendDiv},columnSpacing:12}),e.showReport=!1,e.breadcrumbtext=""};e.$watch(function(){return a.$viewValue},function(t,a){r=t,void 0==r||0==r.length?(void 0==r&&(e.title="Top Ten % Difference By "+i.types),e.showToggleButton=!1):(e.showToggleButton=!0,0==t.Top.length?(document.getElementById(e.chartId).innerText="The chart contains no data !",e.title="Top Ten % Difference By "+i.types,e.showToggleButton=!1):(c(e.topBottomToggle?t.Top:t.Bottom),e.showToggleButton=!0),l=t)}),e.$watch("topBottomToggle",function(t,a){var n=e.topBottomToggle?l.Top:l.Bottom;n&&c(n),!1===t?(e.currenttoggle=e.toggleBottomLabel,setTimeout(function(){e.$apply(function(){e.title=e.currenttoggle+"% Difference By "+i.types})},100)):(e.currenttoggle=e.toggleTopLabel,setTimeout(function(){e.$apply(function(){e.title=e.currenttoggle+"% Difference By "+i.types})},100))}),e.displayDollar=function(){return"totalSalesBySalesPerson"==e.chartType?"$":""}}}}]),MetronicApp.directive("nlClusteredBarToggleChartMargin",["$location","$rootScope","$filter","dataService","NotificationService",function(e,t,i,a,n){return this.count=0,{restrict:"E",replace:!0,require:"?ngModel",scope:{nlLocation:"=",valueAxesTitle:"=",useGraphCategoryAxisTitle:"=",topBottomToggleClusterCountLabel:"=",hideChartTitle:"=",nlChart:"=",callbackFn:"&",objectToInject:"="},template:'<div class="portlet-body" ng-init="showChart=true"><div ng-show="showChart"><div class="chart-back-btn" ng-init="backBtnVisible = false" ng-show="backBtnVisible"><i class="fa-arrow-circle-o-left fa fa-2x" ng-click="backChart()" style="cursor:pointer;"></i></div><div id="{{::myId}}" class="chart" style="width:100%;min-height:500px;"></div><div  style="text-align:right;     margin-top: 20px; " ng-show="backBtnVisible"><toggle-switch ng-model="topBottomToggle"  ng-init="topBottomToggle=true" on-label="Top 10" off-label="Bottom 10" ng-click="loadDestinationFacilityChart()"><toggle-switch></div><div id="{{::legendDiv}}" class="clusteredBarChartLegenddiv"></div></div><div ng-show="showReport"><div class="chart-back-btn" ng-init="chartBackBtnVisible = true" ng-show="chartBackBtnVisible"><i class="fa-arrow-circle-o-left fa fa-2x" ng-click="showReport=false;showChart=true;reportback()" style="cursor:pointer;"></i></div><div style="margin-top: -46px;"><div ng-include="\'app/pages/profitability/profitability-report-table.html?v='+window.version+"'\"></div></div></div></div>",link:function(e,o,s,r){function l(e){return e.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1,")}e.toggleClusterCountLabel=e.topBottomToggleClusterCountLabel?e.topBottomToggleClusterCountLabel:5;var c,h,u,d=null,p="",f=0,m=[];e.legendDiv="legenddiv_clustered_bar_toggle"+count,e.myId="chart_div_clustered"+count++;var g=0,v=0,b="",y=function(o,s,r){c=AmCharts.makeChart(e.myId,{responsive:{minWidth:200,maxWidth:400,maxHeight:400,minHeight:200,overrides:{precision:2,legend:{enabled:!1},valueAxes:{inside:!0}}},processTimeout:1,titles:[{id:"Title-1",size:15,text:e.hideChartTitle?"":p}],theme:"none",type:"serial",valueAxes:[{stackType:"regular",position:"left",title:e.valueAxesTitle?e.valueAxesTitle:"Revenue"}],graphs:[{id:"000",fillAlphas:0,lineAlpha:0,title:"1200",type:"column",valueField:"Label",showAllValueLabels:!0,labelText:"",columnWidth:.5,labelRotation:320,labelOffset:-10,labelAnchor:"end",balloonText:""},{id:"0",fillAlphas:.9,lineAlpha:.2,title:"1200",type:"column",valueField:"Val1",fillColorsField:"Color1",columnWidth:.5,balloonText:" ",balloonFunction:function(e,t){var i=e.dataContext.Val1,a=x(e);return e.dataContext.Column1+" <br />"+e.category+" <br /><b style='font-size: 130%'>$"+l(i)+a+" <br /></b>"}},{id:"000",newStack:!0,fillAlphas:0,lineAlpha:0,title:"0100",type:"column",valueField:"Label",showAllValueLabels:!0,labelText:"",columnWidth:.5,labelRotation:320,labelOffset:-10,labelAnchor:"end",balloonText:""},{id:"1",fillAlphas:.9,lineAlpha:.2,title:"0100",type:"column",valueField:"Val2",fillColorsField:"Color2",columnWidth:.5,balloonText:" ",balloonFunction:function(e,t){var i=e.dataContext.Val2;return e.dataContext.Column2+" <br />"+e.category+" <br /><b style='font-size: 130%'>$"+l(i)+" <br /></b>"}},{id:"000",newStack:!0,fillAlphas:0,lineAlpha:0,title:"0100",type:"column",valueField:"Label",showAllValueLabels:!0,labelText:"",columnWidth:.5,labelRotation:320,labelOffset:-10,labelAnchor:"end",balloonText:""},{id:"2",fillAlphas:.9,lineAlpha:.2,title:"0100",type:"column",valueField:"Val3",fillColorsField:"Color3",columnWidth:.5,balloonText:" ",balloonFunction:function(e,t){var i=e.dataContext.Val3;return e.dataContext.Column3+" <br />"+e.category+" <br /><b style='font-size: 130%'>$"+l(i)+" <br /></b>"}}],plotAreaFillAlphas:.1,depth3D:30,angle:30,categoryField:"Category",categoryAxis:{labelOffset:15,labelFunction:function(e,t,i){var a=i.chart;return a.realWidth<=300&&e.length>5?e.substr(0,5)+"...":a.realWidth<=500&&e.length>10?e.substr(0,10)+"...":e},gridPosition:"start",tickPosition:"start",labelOffset:5,labelRotation:0==f?0:60},legend:{data:function(e){var t=[];return e.length>0&&(t.push({title:e[0].Column1,color:e[0].Color1}),t.push({title:e[0].Column2,color:e[0].Color2}),t.push({title:e[0].Column3,color:e[0].Color3})),t}(o),divId:e.legendDiv},columnSpacing:12}),a.IsGlobal_Filter_Year()&&delete c.graphs[4],a.IsGlobal_Filter_Year()&&delete c.graphs[5],c.dataProvider=o,c.validateData(),c.addListener("clickGraphItem",function(o){function s(){if(e.marginData=[],e.marginDataSafe=[],f<1)e.showReport=!1,void 0!=o.item.dataContext.SubData?(subChartData=e.topBottomToggle?o.item.dataContext.SubData.Top:o.item.dataContext.SubData.Bottom,m[f]=subChartData,f+=1,u=o.item.dataContext.Category,t.titleold="Profit Margin</br> <span class='small-text'> "+u+"</span>",t.TitlePrevious="Profit Margin</br> <span class='small-text'> "+u+"</span>",e.callbackFn({title:t.titleold}),d=o.item.dataContext.SubData,o.chart.legend=null,p=u,b=e.useGraphCategoryAxisTitle?u:"Sales Person",y(subChartData,b,35),c.validateData(),e.$apply(function(){e.backBtnVisible=!0})):(c.legend=null,c.destroy(),o.chart=null,p="",y(h,"",0),d=null,e.$apply(function(){e.backBtnVisible=!1}));else{e.$apply(function(){e.showChart=!1,e.showReport=!0});r({filterId:t.currentfilter.Id,Period:o.graph.id,itemCode:o.item.dataContext.Id},o.item.dataContext.Key),t.secondlast=t.TitlePrevious,e.callbackFn({title:t.TitlePrevious+"<span class='small-text'> > "+o.item.category.trim()+"</span><span class='small-text'> > Report</span>"});var a=i("htmlToPlaintext")(t.TitlePrevious+"<span class='small-text'> > "+o.item.category.trim()+"</span><span class='small-text'> > Report</span>");e.csvFileName=a+".csv"}}function r(t,i){e.customersData=[],e.customersDataSafe=[],Metronic.blockUI({boxed:!0}),e.RevenueTotal=0,e.ExtCostTotal=0,e.MarginTotal=0,e.QuantityTotal=0,"Customer"==i&&a.GetCustomerMarginReport(t).then(function(t){if(t&&t.data){e.marginData=t.data,e.marginDataSafe=t.data;for(var i=0;i<e.marginData.length;i++)e.RevenueTotal=e.RevenueTotal+e.marginData[i].Revenue,e.ExtCostTotal=e.ExtCostTotal+e.marginData[i].ExtCost,e.MarginTotal=e.MarginTotal+e.marginData[i].Margin,e.QuantityTotal=e.QuantityTotal+e.marginData[i].QuantityShipped}Metronic.unblockUI(),e.IsProcessing=!1},function(){Metronic.unblockUI(),e.IsProcessing=!1,n.Error("Error upon the API request"),n.ConsoleLog("Error on the server")}),"Item"==i&&a.GetItemMarginReport(t).then(function(t){if(t&&t.data){e.marginData=t.data,e.marginDataSafe=t.data;for(var i=0;i<e.marginData.length;i++)e.RevenueTotal=e.RevenueTotal+e.marginData[i].Revenue,e.ExtCostTotal=e.ExtCostTotal+e.marginData[i].ExtCost,e.MarginTotal=e.MarginTotal+e.marginData[i].Margin,e.QuantityTotal=e.QuantityTotal+e.marginData[i].QuantityShipped}Metronic.unblockUI()},function(){Metronic.unblockUI(),n.Error("Error upon the API request"),n.ConsoleLog("Error on the server")})}if("000"!==o.graph.id){var l=(new Date).getTime();l-v<200?(g&&clearTimeout(g),v=0,function(){s()}()):g=setTimeout(function(){s()},200),e.reportback=function(){1==f&&e.callbackFn({title:t.secondlast})},v=l}})},x=function(t){var i=t.dataContext.Val1,a=t.dataContext.Val3,n=i-a;0!==n?(n/=a,n*=100,n=n==1/0?0:n):n=0,e.PriorMonth=Math.round(n);return e.PriorMonth>=0?"<span>(<span class='fa fa-sort-up' style='color:forestgreen'>"+Math.abs(e.PriorMonth)+"</span>)</span>":e.PriorMonth<0?"<span>(<span class='fa fa-sort-down' style='color:red'>"+Math.abs(e.PriorMonth)+"</span>)</span>":void 0};e.$watch(function(){return r.$viewValue},function(t){e.backBtnVisible=!1,f=0,e.showChart=!0,e.showReport=!1,h=t,p="",void 0==h||0==h.length?e.chart_data=void 0!=h:(y(h,"",0),e.chart_data=!0)}),e.$watch("backBtnVisible",function(t,i){!t&&i&&(p="",e.marginData=[],e.marginDataSafe=[],y(h,"",0),e.callbackFn({title:"initial"}),d=null)}),e.getCsvHeader=function(){return e.csvFileName=e.csvFileName.replace(/_/g,"-"),e.csvFileName=e.csvFileName.replace(/>/g,"-"),e.csvFileName=e.csvFileName.replace("_","-"),e.csvFileName=e.csvFileName.toUpperCase(),"Customer"!=e.type?["Invoice Number","Item","Credit Code","Date","Customer Name","Sales Person","Quantity Shipped","Revenue","Ext Cost","Margin $","Margin %"]:["Invoice Number","Date","Credit Code","Item","Item Description","Quantity Shipped","Revenue","Margin $","Margin %"]},e.getCsvData=function(){var t=[],a=[],n=0,o=0,s=0,r=0,l=0;if(a="Customer"!=e.type?["InvNo","Item","CreditCode","Date","Company","SalesPerson","QuantityShipped","Revenue","ExtCost","Margin","MarginPercentage"]:["InvNo","Date","CreditCode","Item","Descrip","QuantityShipped","Revenue","Margin","MarginPercentage"],angular.forEach(e.marginData,function(e,c){var h={};angular.forEach(e,function(e,t){var c=a.indexOf(t);c>-1&&(h[c]="Revenue"==t?i("currency")(e):"ExtCost"==t?i("currency")(e):"Margin"==t?i("currency")(e):"Date"==t?i("date")(e):e),"Revenue"==t&&(n+=e),"ExtCost"==t&&(o+=e),"Margin"==t&&(s+=e),"RevenueTotal"==t&&(r+=e),"MarginTotal"==t&&(l+=e)}),void 0!=h&&t.push(h)}),"Customer"==e.type){var c={};c[0]="Total",c[1]="",c[2]="",c[3]="",c[4]="",c[5]="",c[6]=i("currency")(r),c[7]=i("currency")(l),c[8]="",t.push(c)}else{var c={};c[0]="Total",c[1]="",c[2]="",c[3]="",c[4]="",c[5]="",c[6]=i("numberWithCommas")(e.QuantityTotal),c[7]=i("currency")(n),c[8]=i("currency")(o),c[9]=i("currency")(s),c[10]="",t.push(c)}return t},e.backChart=function(){var t=1==f?h:m[f-2];f-=1,y(t,"",35),e.backBtnVisible=!(f<1)&&e.backBtnVisible},e.backChartLink=function(i){f=i;var a=f>2?m[0]:1==f?m[0]:h;f>1?(e.showChart=!1,e.showReport=!0):(e.callbackFn({title:t.secondlast}),e.showChart=!0,e.showReport=!1),0==f&&(y(a,"",0),e.backBtnVisible=!(f<1)&&e.backBtnVisible,e.callbackFn({title:"OPEX/COGS Journal Expenses"})),f-=1,e.marginData=[],e.marginDataSafe=[]},e.reportback=function(){e.callbackFn({title:t.secondlast})}}}}]),MetronicApp.directive("nlUsaHeatMap",["$location","$filter","$state",function(e,t,i){return this.count=0,{restrict:"E",replace:!0,require:"?ngModel",scope:{},template:'<div class="portlet-body" style="text-align: center;"><span style="font-weight: bold;">Total {{titlechart}} : {{dollar}}{{TotalSales}}</span><div id="{{::myId}}" class="chart" style="width:100%;min-height:500px;"></div></div>',link:function(e,t,i,a){function n(e){return e.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1,")}e.titlechart=i.titlechart,e.dollar="Cases Sold"==e.titlechart?"":"Sales"==e.titlechart?"$":"Revenue"==e.titlechart?"$":"",e.legendDiv="legenddiv_nlUsaHeatMap"+count,e.myId="chart_div_nlUsaHeatMap"+count++;var o,s,r=function(t,i,a){o=AmCharts.makeChart(e.myId,{responsive:{enabled:!0},processTimeout:1,type:"map",theme:"light",colorSteps:5,dataProvider:{map:"usaLow",areas:t},areasSettings:{autoZoom:!0,selectedColor:"#CC0000",balloonText:"[[title]] </br>[[customData]]"},valueLegend:{right:10,minValue:"little",maxValue:"a lot!"}})};e.$watch(function(){return a.$viewValue},function(t){if(e.TotalSales=0,void 0!=(s=t)){for(var i=0;i<s.length;i++)e.TotalSales=e.TotalSales+s[i].value;e.TotalSales=n(Math.round(e.TotalSales)),r(s)}})}}}]),MetronicApp.directive("pieChart",["$location","$rootScope","$filter","$state","dataService","NotificationService","HelperService",function(e,t,i,a,n,o,s){return{restrict:"E",replace:!0,require:"?ngModel",scope:{nlLocation:"=",nlDashboard:"=",filterType:"=",customMonth:"=",callbackFn:"&",objectToInject:"=",currentfilter:"="},template:'<div class="portlet-body" style="text-align: center;"><span style="font-weight: bold;">{{text}}</span><div id="chartdiv" style="width: 100%;height: 500px;"></div></div>',link:function(e,t,a,n){function o(e){return e.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1,")}e.legendDiv="legenddiv_clustered_with_report"+count,e.myId="chart_div_clustered_with_report1"+count++,e.chartLoaded=!1,e.breadcrumbtext="";var r,l=(function(){"casesold"==a.nlDashboard||("revenue"==a.nlDashboard||("revenueDashboard"==a.nlDashboard||a.nlDashboard))}(),"CasesSold"==a.charttype?"":(a.charttype,"$"));e.balloonTextPrefix=l;e.sampledata=0,e.customersData=[],e.customersDataSafe=[],e.myTableFunctions={},e.groupProperty="";var c=function(t,n,r,c){function h(e){if(e){for(var t=[],i=0;i<e.length;i++)t.push({title:e[i].GroupName+": $"+s.formatCommaSeperate(e[i].cValue1),color:e[i].Color1});return t}}for(var u=[],d=0,p=0;p<=t.length-1;p++){var f=t[p];f.value="CasesSold"==a.charttype?f.cValue1+f.cValue2:"expense"==a.charttype?f.cValue1+f.cValue2:f.rValue1+f.rValue2,u.push(f),d+=f.value}var m="CasesSold"==a.charttype?"Total Cases Sold :  "+i("numberWithCommasRounded")(d):"Revenue"==a.charttype?"Total Revenue :  $"+i("numberWithCommasRounded")(d):"expense"==a.charttype?"Total Expense :  $"+i("numberWithCommasRounded")(d):"";e.text=m,d=d.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",");var g=function(e,t){return"CasesSold"==a.charttype?e.dataContext.GroupName+" \n"+i("numberWithCommasRounded")(e.dataContext.cValue1+e.dataContext.cValue2)+" - "+Math.round(e.percents)+"%":"expense"==a.charttype?e.dataContext.GroupName+" \n"+Math.round(e.percents)+"%":e.dataContext.GroupName+" \n$"+i("numberWithCommasRounded")(e.dataContext.rValue1+e.dataContext.rValue2)+" - "+Math.round(e.percents)+"%"},v=AmCharts.makeChart("chartdiv",{type:"pie",theme:"light",pullOutRadius:"5%",labelRadius:27,startEffect:"easeOutSine",dataProvider:u,valueField:"value",titleField:"GroupName",colorField:"Color1",labelText:" ",labelFunction:g,legend:function(t,i){return void 0==t?null:"expense"!=a.charttype||i?null:i?{markerType:"circle",position:"bottom",data:h(t),autoMargins:!1,maxColumns:1,equalWidths:!1,divId:e.legendDiv}:{markerType:"circle",data:h(t),position:"right",marginRight:80,autoMargins:!1,truncateLabels:25}}(t,c),balloon:{fixedPosition:!0},listeners:[{event:"clickSlice",method:function(e){e.chart.validateData()}}],balloonFunction:function(e,t){var i=0,n="CasesSold"==a.charttype?e.dataContext.cValue1:"expense"==a.charttype?e.dataContext.cValue1:e.dataContext.rValue1,s="CasesSold"==a.charttype?e.dataContext.cValue2:"expense"==a.charttype?e.dataContext.cValue2:e.dataContext.rValue2,r=e.dataContext.ActiveSalesPersonCode?"Sales Person <br /> "+e.dataContext.GroupName+"("+e.dataContext.ActiveSalesPersonCode+")":"";i=n+s,i=Math.round(100*i/100);var c;return"expense"==a.charttype?(c=n+s,c=Math.round(100*c/d),i=c,e.dataContext.Label1+"<br /><b style='font-size: 130%'>"+l+o(Math.round(e.dataContext.cValue1))+" </b>"):e.dataContext.Label1+"<br /><b style='font-size: 130%'>Total "+l+o(i)+" </b><br />Produce "+l+o(Math.round(s))+" <br />Grocery "+l+o(Math.round(n))+" <br />"+r},export:{enabled:!0}});"expense"==a.charttype&&(v.radius="20%"),v.validateData()};e.$watch(function(){return n.$viewValue},function(t){function i(e){$(this).width()>980?c(e,"",0,!1):c(e,"",0,!0)}e.backBtnVisible=!1,r=t,void 0==r||0==r.length?void 0==r?Metronic.blockUI({boxed:!0}):Metronic.unblockUI():(i(r),$(window).resize(function(){i(r)}))})}}}]),MetronicApp.directive("nlHorizontalBarChartTopBottom",["$location","$rootScope","$filter","$state","dataService","HelperService","NotificationService",function(e,t,i,a,n,o,s){return this.count=0,{restrict:"E",require:"?ngModel",replace:!0,scope:{nlLocation:"=",chartTitle:"=",nlDashboard:"=",hideLine:"=",columnValueTitle:"=",columnValueTargetTitle:"=",columnPointTitle:"=",columnPointTargetTitle:"=",callbackFn:"&",valueAxisTile:"=",chartType:"=",isGrowth:"=",xtitle:"="},templateUrl:"app/components/directives/sales/nlHorizontalBarChartTopBottom.html",link:function(e,r,l,c){function h(t,i){e.customersData=[],e.customersDataSafe=[],x+=1,Metronic.blockUI({boxed:!0}),n.GetCasesSoldAndGrowthBySalesPersonCustomerService(t,i).then(function(t){t&&t.data&&(e.drillDownData=t.data.SalesPerson,C(e.topBottomToggle?e.drillDownData.Top:e.drillDownData.Bottom),e.showChart=!0,e.showReport=!1,e.showToggleButton=!0),Metronic.unblockUI()},function(){Metronic.unblockUI(),s.Error("Error upon the API request")})}function u(t,a){var o=i("htmlToPlaintext")(e.sc01drilldown);e.csvFileName=(o+".csv").toUpperCase(),e.customersData=[],e.customersDataSafe=[],Metronic.blockUI({boxed:!0}),n.GetCustomerAndCasessoldReport(t,a).then(function(t){if(t&&t.data)if(e.groupProperty="",e.customersData=t.data,e.customersDataSafe=t.data,e.customersItemData=t.data,e.customersItemDataSafe=t.data,e.TotalCasesSoldCurrent=0,e.TotalSalesAmtPrior=0,e.TotalSalesQuantity=0,e.TotalSalesAmtCurrent=0,e.TotalDifference=0,e.TotalCasesSoldPrior=0,e.TotalCasesSoldQty=0,e.showChart=!1,e.showReport=!0,e.showToggleButton=!1,"Cases Sold"==e.valueAxisTile){for(var i=e.customersData.length,a=0;a<i;a++)e.TotalCasesSoldPrior=e.TotalCasesSoldPrior+e.customersData[a].CasesSoldPrior,e.TotalCasesSoldQty=e.TotalCasesSoldQty+e.customersData[a].CasesSoldCurrent,e.TotalSalesAmtCurrent=e.TotalSalesAmtCurrent+e.customersData[a].SalesAmountCurrent,e.TotalDifference=e.TotalDifference+e.customersData[a].DifferenceCasesSold
;e.TotalCasesSoldPrior=Math.round(e.TotalCasesSoldPrior),e.TotalCasesSoldQty=Math.round(e.TotalCasesSoldQty),e.TotalSalesAmtCurrent=Math.round(e.TotalSalesAmtCurrent),e.TotalDifference=Math.round(e.TotalDifference)}else{for(var i=e.customersData.length,a=0;a<i;a++)e.TotalCasesSoldPrior=e.TotalCasesSoldPrior+e.customersData[a].CasesSoldPrior,e.TotalCasesSoldQty=e.TotalCasesSoldQty+e.customersData[a].CasesSoldCurrent,e.TotalSalesAmtCurrent=e.TotalSalesAmtCurrent+e.customersData[a].SalesAmountCurrent,e.TotalDifference=e.TotalDifference+e.customersData[a].DifferenceCasesSold,e.TotalSalesAmtPrior=e.TotalSalesAmtPrior+e.customersData[a].SalesAmountPrior;e.TotalCasesSoldPrior=Math.round(e.TotalCasesSoldPrior),e.TotalCasesSoldQty=Math.round(e.TotalCasesSoldQty),e.TotalSalesAmtCurrent=Math.round(e.TotalSalesAmtCurrent),e.TotalDifference=Math.round(e.TotalDifference),e.TotalSalesAmtPrior=Math.round(e.TotalSalesAmtPrior)}Metronic.unblockUI()},function(){Metronic.unblockUI(),s.Error("Error upon the API request")})}function d(t){e.customersData=[],e.customersDataSafe=[],Metronic.blockUI({boxed:!0}),n.GetSalesPersonCustomersDataTotal(t).then(function(t){if(t&&t.data){e.groupProperty="",e.customersData=t.data,e.customersDataSafe=t.data,e.TotalCasesSoldPrior=0,e.TotalCasesSoldQty=0,e.TotalSalesAmtPrior=0,e.TotalSalesQuantity=0,e.TotalSalesAmtCurrent=0,e.TotalDifference=0;for(var i=e.customersData.length,a=0;a<i;a++)e.TotalCasesSoldPrior=e.TotalCasesSoldPrior+e.customersData[a].CasesSoldPrior,e.TotalCasesSoldQty=e.TotalCasesSoldQty+e.customersData[a].CasesSoldCurrent,e.TotalSalesAmtCurrent=e.TotalSalesAmtCurrent+e.customersData[a].SalesAmountCurrent,e.TotalDifference=e.TotalDifference+e.customersData[a].DifferenceCasesSold;e.TotalCasesSoldPrior=Math.round(e.TotalCasesSoldPrior),e.TotalCasesSoldQty=Math.round(e.TotalCasesSoldQty),e.TotalSalesAmtCurrent=Math.round(e.TotalSalesAmtCurrent),e.TotalDifference=Math.round(e.TotalDifference)}Metronic.unblockUI()},function(){Metronic.unblockUI(),s.Error("Error upon the API request")})}function p(e){return(e>=0||-1)*Math.round(Math.abs(e))}function f(t){e.customersData=[],e.customersDataSafe=[],Metronic.blockUI({boxed:!0}),n.GetCustomerAndCasessoldReport(t).then(function(t){if(t&&t.data){e.groupProperty="",e.IsCustomerWiseInvoiceReport=!0,e.customersItemData=t.data,e.customersItemDataSafe=t.data,e.TotalQuantity=0,e.TotalExtPrice=0;for(var i=e.customersItemData.length,a=0;a<i;a++)e.TotalQuantity=e.TotalQuantity+e.customersItemData[a].CasesSold,e.TotalExtPrice=e.TotalExtPrice+e.customersItemData[a].Sales;e.TotalQuantity=p(e.TotalQuantity),e.TotalExtPrice=p(e.TotalExtPrice)}Metronic.unblockUI()},function(){Metronic.unblockUI(),s.Error("Error upon the API request")})}function m(t,i){e.profitItemData=[],e.profitItemDataSafe=[],Metronic.blockUI({boxed:!0}),n.GetCustomerWiseProfitByItem(t,i).then(function(t){if(t&&t.data){e.groupProperty="",e.IsProfitablity=!0,e.IsProfitablityByCustomerReport=!0,e.IsProfitablityByCustomerReportDetails=!1,e.profitItemData=t.data,e.profitItemDataSafe=t.data,e.TotalPriorProfit=0,e.TotalCurrentProfit=0;for(var i=e.profitItemData.length,a=0;a<i;a++)e.TotalPriorProfit=e.TotalPriorProfit+e.profitItemDataSafe[a].PriorProfit,e.TotalCurrentProfit=e.TotalCurrentProfit+e.profitItemDataSafe[a].CurrentProfit;e.TotalPriorProfit=Math.round(e.TotalPriorProfit),e.TotalCurrentProfit=Math.round(e.TotalCurrentProfit)}Metronic.unblockUI()},function(){Metronic.unblockUI(),s.Error("Error upon the API request")})}function g(t,i){return"totalSalesBySalesPerson"==e.chartType?0==t?"sales person":1==t?i+" per customer":i+" per customer per type":"totalCustomersBySalesPerson"==e.chartType?0==t?"sales person":i+"":0==t?"sales person":1==t?i+" per customer":i+" per type"}function v(t){Metronic.blockUI({boxed:!0}),e.IsProfitablity=!0,e.IsProfitablityByCustomerReportDetails=!0,e.IsProfitablityByCustomerReport=!1,e.TotalCost=0,e.TotalCasesSold=0,e.TotalExtPrice=0,e.TotalProfit=0,n.GetProfitByCustomerDetailAndCommodity(t).then(function(t){if(t&&t.data){e.groupProperty="",e.customersItemData=t.data,e.customersItemDataSafe=t.data;for(var i=0;i<t.data.length;i++)e.TotalCost=e.TotalCost+t.data[i].Cost,e.TotalCasesSold=e.TotalCasesSold+t.data[i].QtyShip,e.TotalExtPrice=e.TotalExtPrice+t.data[i].ExtPrice,e.TotalProfit=e.TotalProfit+t.data[i].Profit;e.TotalCost=Math.round(e.TotalCost),e.TotalCasesSold=Math.round(e.TotalCasesSold),e.TotalExtPrice=Math.round(e.TotalExtPrice),e.TotalProfit=Math.round(e.TotalProfit),Metronic.unblockUI()}},function(){Metronic.unblockUI(),s.Error("Error upon the API request")})}var b;e.gulpindex=14,e.nlDashboard=l.nlDashboard,e.state=a.current.name,e.chartId="chartId"+count++,e.title=e.xtitle;var y=e.title;e.isCasessoldReport=!1,e.IsProfitablity=!1,e.IsProfitablityByCustomerReport=!1,e.IsProfitablityByCustomerReportDetails=!1,"Cases Sold"==e.valueAxisTile&&(e.isCasessoldReport=!0),e.callbackFn({title:"initial"}),e.backBtnVisible=!1;var x=0,C=function(a){0==x&&(e.toggleTopLabel="Top",e.toggleBottomLabel="Bottom");var n=AmCharts.makeChart(e.chartId,{responsive:{minWidth:200,maxWidth:400,maxHeight:400,minHeight:200,overrides:{precision:2,legend:{enabled:!1},valueAxes:{inside:!0}}},processTimeout:1,theme:"none",type:"serial",rotate:!0,valueAxes:[{stackType:"regular",position:"left",title:e.valueAxisTile?e.valueAxisTile:l.nlDashboard},{id:"v2",title:"Customer Count",gridAlpha:0,position:"right",autoGridCount:!1}],graphs:[{id:"000",fillAlphas:0,lineAlpha:0,title:"",type:"column",valueField:"ColumnBottomMargin",showAllValueLabels:!0,labelText:" ",balloonText:"",labelFunction:function(e,t){0==x&&e.dataContext.salesman;return""},labelRotation:-35},{id:"g1",fillAlphas:1,lineAlpha:.2,title:"",type:"column",valueField:"value",fillColorsField:"Color1",balloonText:" ",balloonFunction:function(t,i){var a="";(l.chartType.startsWith("sales")||"Profitablity"==e.state)&&(a="$"),a="Cases Sold"==e.valueAxisTile?"":a;var n=t.dataContext.value,s="<hr style='padding:0;margin:0'>"+t.dataContext.LabelPrior+"<br/>"+a+o.formatCommaSeperate(Math.round(t.dataContext.prior))+" <br /> "+e.chartTitle+" <br /> "+t.dataContext.GroupName.toUpperCase()+"("+t.dataContext.Code+")";if("salesCustomer"!=l.chartType&&"casesoldCustomer"!=l.chartType||(s="<hr style='padding:0;margin:0' >"+t.dataContext.LabelPrior+"<br/>"+a+o.formatCommaSeperate(Math.round(t.dataContext.prior))+" <br /> "+e.chartTitle+" <br /> "+t.dataContext.GroupName1.toUpperCase()+"("+t.dataContext.Code+")"),"Profitablilty By Customer"==e.title&&(s="<hr style='padding:0;margin:0' >"+t.dataContext.LabelPrior+"<br/>"+a+o.formatCommaSeperate(Math.round(t.dataContext.prior))+" <br /> "+e.chartTitle+" <br /> "+t.dataContext.GroupName1.toUpperCase()+"("+t.dataContext.Code+")"),"Profitability By Item"==e.title){s="<hr style='padding:0;margin:0' >"+t.dataContext.LabelPrior+"<br/>"+a+o.formatCommaSeperate(Math.round(t.dataContext.prior))+" <br /> Item <br /> "+t.dataContext.GroupName1.toUpperCase()+"("+t.dataContext.Code+")"}if(e.catDate=t.category,e.isGrowth){if(e.IsCm01){var r=w(Math.round(t.dataContext.growth));return t.dataContext.Label1+"<br /><b style='font-size: 130%'><span>"+r+"</span> ("+a+o.formatCommaSeperate(Math.round(t.dataContext.value))+")</b><br />"+s}var r=w(Math.round(t.dataContext.value));return t.dataContext.Label1+"<br /><b style='font-size: 130%'><span>"+r+"</span> ("+a+o.formatCommaSeperate(Math.round(t.dataContext.growth))+")</b><br />"+s}var r=w(Math.round(t.dataContext.growth));return t.dataContext.Label1+"<br /><b style='font-size: 130%'>"+a+o.formatCommaSeperate(Math.round(n))+" <span>("+r+")</span></b><br />"+s}}],plotAreaFillAlphas:.1,depth3D:10,angle:10,categoryField:(e.state,"GroupName"),categoryAxis:{gridPosition:"start",labelFunction:function(e,t,i){var a=i.chart;return a.realWidth<=300&&e.length>5?e.substr(0,5)+"...":a.realWidth<=500&&e.length>10?e.substr(0,10)+"...":e},labelRotation:50,ignoreAxisWidth:!1,autoWrap:!0},columnSpacing:12,balloon:{borderThickness:1,shadowAlpha:0},export:{enabled:!0}});e.showReport=!1,e.breadcrumbtext="",n.dataProvider=a,n.validateData(),e.cm01drilldownreport=!1,n.addListener("clickGraphItem",function(a){if(e.ItemCode="",e.IsProfitablityByCustomerReportDetailsByCustomer=!1,"Profitablity"==e.state){if("Profitability By Item"==e.title)y="Profitability By Item ("+a.item.dataContext.Code+")",t.TITLEPRE=e.title+"("+a.item.dataContext.Code+") <br/><span class='small-text'>"+a.item.category,t.TITLEOLD=t.TITLEPRE+"</span><span class='small-text'> >REPORT </span>",a.item.dataContext.Code,e.callbackFn({title:t.TITLEOLD}),e.csvFileName="PROFITABILITY (BY ITEM).csv",e.ItemCode=a.item.dataContext.Code,m(t.currentfilter.Id,a.item.dataContext.Code),e.$apply(function(){e.showChart=!1,e.showReport=!0,e.showToggleButton=!1});else{y="Profitability By Customer ("+a.item.dataContext.Code+")",t.TITLEPRE=e.title+"("+a.item.dataContext.Code+") <br/><span class='small-text'>"+a.item.category,t.TITLEOLD=t.TITLEPRE+"</span><span class='small-text'> >REPORT </span>",e.callbackFn({title:t.TITLEOLD});var n={ItemCode:"",FilterId:t.currentfilter.Id,Commodity:"All",CustomerCode:a.item.dataContext.Code};e.IsProfitablityByCustomerReportDetailsByCustomer=!0,e.CustomerCode=a.item.dataContext.Code,v(n),e.$apply(function(){e.showChart=!1,e.showReport=!0,e.showToggleButton=!1})}var o=i("htmlToPlaintext")(t.TITLEOLD);e.csvFileName=o,e.csvFileName=e.csvFileName.replace(/_/g,"-"),e.csvFileName=e.csvFileName.replace(/>/g,"-"),e.csvFileName=e.csvFileName.replace("_","-"),e.csvFileName=e.csvFileName+".csv",e.csvFileNameDup=e.csvFileName}else{var s="";"Cases Sold"==e.valueAxisTile?(e.isCasessoldReport=!0,s="casessold"):(e.isCasessoldReport=!1,s="sales");var n={SalesPerson:"CM01"==a.item.dataContext.Code?a.item.dataContext.GroupName:a.item.dataContext.Code,FilterId:t.currentfilter.Id,Period:0,Commodity:e.currentcommodity,Category:e.chartTitle,OrderBy:s};if(e.GlobalFilterModel=n,"Customer"==n.Category)y="Items Sold to Customer ("+a.item.dataContext.Code+")",t.TITLEPRE=e.title+"("+a.item.dataContext.Code+") <br/><span class='small-text'>"+a.item.category,t.TITLEOLD=t.TITLEPRE+"</span><span class='small-text'> >REPORT </span>",e.callbackFn({title:y});else{var r="CM01"==a.item.dataContext.Code?"":">REPORT";y=e.title+"("+a.item.dataContext.Code+")",e.drillDownData?(e.cm01drilldownreport=!0,e.sc01drilldown=t.TITLEOLD+"</span><span class='small-text'> >"+a.item.category+">Report</span>",e.callbackFn({title:e.sc01drilldown})):(t.TITLEPRE=y+" <br/><span class='small-text'>"+a.item.category,t.TITLEOLD=t.TITLEPRE+"</span><span class='small-text'> "+r+" </span>",e.callbackFn({title:t.TITLEOLD}))}if("Customer"==n.Category)f(n),e.IsCustomerWiseInvoiceReport=!0,e.$apply(function(){e.showChart=!1,e.showReport=!0}),e.$apply(function(){e.showToggleButton=!1});else{if("CM01"==a.item.dataContext.Code)if(e.IsCm01=!0,e.drillDownData)u(n,"CM01");else{var c="sales"!=l.nlDashboard;h(n.FilterId,c)}else u(n,"");e.$apply(function(){e.showChart="CM01"==a.item.dataContext.Code,e.showReport="CM01"!=a.item.dataContext.Code}),e.$apply(function(){e.showToggleButton="CM01"==a.item.dataContext.Code})}}})};e.GetProfitByCustomerDetails=function(a){y="Items Sold to Customer<span class=''> ("+a+") </span>",e.callbackFn({title:"Items Sold to Customer<span class=''> ("+a+") </span>"});var n=i("htmlToPlaintext")(y);e.csvFileName=n,e.csvFileName=e.csvFileName.replace(/_/g,"-"),e.csvFileName=e.csvFileName.replace(/>/g,"-"),e.csvFileName=e.csvFileName.replace("_","-"),e.csvFileName=e.csvFileName+".csv",e.csvFileNameDup=e.csvFileName,e.CustomerCode=a,e.IsProfitablityByCustomerReportDetails=!0,e.IsProfitablityByCustomerReport=!1,Metronic.blockUI({boxed:!0});var o="";void 0!=e.ItemCode&&""==e.ItemCode||(o=e.ItemCode),v({ItemCode:o,FilterId:t.currentfilter.Id,Commodity:e.currentcommodity,CustomerCode:a})},e.getDetailedReport=function(t,i){e.callbackFn({title:"Items Sold to Customer<span class=''> ("+t+") </span>"}),e.chartitemtitle="Items Sold to Customer<span class=''> ("+t+") </span>",e.TotalQuantity=0,e.TotalExtPrice=0,e.customerName=i,e.GlobalFilterModel.CustomerNumber=t,"sales"==e.state?e.GlobalFilterModel.OrderBy="sales":"casessold"==e.state&&(e.GlobalFilterModel.OrderBy="casessold");var a=e.csvFileName.split(".");e.csvFileName=a[0]+" >"+i.trim()+".csv",Metronic.blockUI({boxed:!0}),n.GetCasesSoldDetails(e.GlobalFilterModel,e.IsCm01).then(function(t){if(t&&t.data){e.customersItemData=t.data,e.customersItemDataSafe=t.data,e.iscustomersItemReport=!0,e.IsCustomerWiseInvoiceReport=!1;for(var i=0;i<t.data.length;i++)e.TotalQuantity=e.TotalQuantity+t.data[i].Quantity,e.TotalExtPrice=e.TotalExtPrice+t.data[i].ExtPrice;if(e.bk_customersItemData=angular.copy(t.data),e.bk_customersItemDataSafe=angular.copy(t.data),e.iscustomersItemReport)if("All"==e.currentcommodity)e.customersItemData=e.bk_customersItemData,e.customersItemDataSafe=e.bk_customersItemDataSafe;else{e.TotalQuantity=0,e.TotalExtPrice=0,e.customersItemData=[],e.customersItemDataSafe=[];for(var i=0;i<e.bk_customersItemData.length;i++)e.bk_customersItemData[i].Comodity.trim()==e.currentcommodity&&(e.customersItemData.push(e.bk_customersItemData[i]),e.customersItemDataSafe.push(e.bk_customersItemData[i]),e.TotalQuantity=e.TotalQuantity+e.bk_customersItemData[i].Quantity,e.TotalExtPrice=e.TotalExtPrice+e.bk_customersItemData[i].ExtPrice)}e.TotalQuantity=Math.round(e.TotalQuantity),e.TotalExtPrice=Math.round(e.TotalExtPrice)}Metronic.unblockUI()},function(){Metronic.unblockUI(),s.Error("Error upon the API request"),s.ConsoleLog("Error on the server")})},e.getCsvHeader=function(){return"Revenue"==e.valueAxisTile?["Customer Name","Revenue Amt Prior","Sales Qty","Revenue Amt Current","Difference","Difference (%)"]:["Customer Name","Sales Amt Prior","Sales Qty","Sales Amt Current","Difference","Difference (%)"]},e.getCasesSoldBySalesPersonCsvDataHeader=function(){var a=i("htmlToPlaintext")(t.TITLEOLD);return e.csvFileName=a,e.csvFileName=e.csvFileName.replace(/_/g,"-"),e.csvFileName=e.csvFileName.replace(/>/g,"-"),e.csvFileName=e.csvFileName.replace("_","-"),e.csvFileName=e.csvFileName+".csv",["Customer Name","Sales Amt Current","Cases Sold Prior","Cases Sold Current","Difference","Difference (%)"]},e.getCasesSoldToCustomerCsvHeader=function(){return["Commodity","Invoice Date","Invoice #","Item Code","Item Description","Sales Person","SO #","Cases Sold","Sales Amount"]},e.getCsvDataForSalesBySalesPersonHeader=function(){var a=i("htmlToPlaintext")(t.TITLEOLD);return e.csvFileName=a,e.csvFileName=e.csvFileName.replace(/_/g,"-"),e.csvFileName=e.csvFileName.replace(/>/g,"-"),e.csvFileName=e.csvFileName.replace("_","-"),e.csvFileName=e.csvFileName+".csv",["Customer Name","Cases Sold Current","Sales Amt Prior","Sales Amt Current","Difference","Difference (%)"]},e.getCsvDataItemSoldToCustomerHeader=function(){var t=i("htmlToPlaintext")(e.chartitemtitle);return e.csvFileName=t,e.csvFileName=e.csvFileName.replace(/_/g,"-"),e.csvFileName=e.csvFileName.replace(/>/g,"-"),e.csvFileName=e.csvFileName.replace("_","-"),e.csvFileName=e.csvFileName+".csv",["Comodity","Invoice Date","Invoice #","Item Code","Item Description","SO #","Cases Sold","Sales Amount"]},e.getProfitabilityByItemCsvDataHeader=function(){return e.csvFileName=e.csvFileName.replace(/_/g,"-"),e.csvFileName=e.csvFileName.replace(/>/g,"-"),e.csvFileName=e.csvFileName.replace("_","-"),e.csvFileName=e.csvFileName.toUpperCase(),["Company Code","Company Name","Historical Profit","Current Pofit","Difference","Difference (%)"]},e.getProfitabilityByCustomerDetailsCsvDataHeader=function(){return e.csvFileName=e.csvFileName.replace(/_/g,"-"),e.csvFileName=e.csvFileName.replace(/>/g,"-"),e.csvFileName=e.csvFileName.replace("_","-"),e.csvFileName=e.csvFileName.toUpperCase(),["Commodity","Invoice Date","Invoice #","Item Code","Item Description","Salesman Code","Salesman Description","SO #","Cost","Cases Sold","Ext Price","Profit"]},e.getProfitabilityByCustomerDetailsCsvData=function(){var t=[],a=[],n=0,o=0,s=0;a=["Commodity","InvoiceDate","InvoiceNumber","ItemCode","ItemDescription","SalesManCode","SalesManDescription","SalesOrder","Cost","QtyShip","ExtPrice","Profit"],angular.forEach(e.customersItemDataSafe,function(e,r){var l={};angular.forEach(e,function(e,t){var r=a.indexOf(t);r>-1&&(l[r]="ExtPrice"==t||"Cost"==t||"Profit"==t?"$"+Math.round(e):"QtyShip"==t||"Profit"==t?i("numberWithCommas")(Math.round(e)):e),"QtyShip"==t&&(n+=e),"ExtPrice"==t&&(o+=e),"Profit"==t&&(s+=e)}),void 0!=l&&t.push(l)});var r={};return r[0]="Total",r[1]="",r[2]="",r[3]="",r[4]="",r[5]="",r[6]="",r[7]="",r[8]="",r[9]=i("numberWithCommas")(Math.round(n)),r[10]=i("currency")(Math.round(o)),r[11]=i("currency")(Math.round(s)),t.push(r),t},e.getProfitabilityByItemCsvData=function(){var t=[],a=[],n=0,o=0;a=["CompanyCode","CompanyName","PriorProfit","CurrentProfit","DifferenceProfit","GrowthProfit"],angular.forEach(e.profitItemDataSafe,function(e,s){var r={};angular.forEach(e,function(e,t){var s=a.indexOf(t);s>-1&&(r[s]="PriorProfit"==t||"CurrentProfit"==t?"$"+i("numberWithCommas")(Math.round(e)):"DifferenceProfit"==t||"GrowthProfit"==t?Math.round(e):e),"CurrentProfit"==t&&(n+=e),"PriorProfit"==t&&(o+=e)}),void 0!=r&&t.push(r)});var s={};return s[0]="Total",s[1]="",s[2]="$"+i("numberWithCommas")(Math.round(o)),s[3]=i("numberWithCommas")(Math.round(n)),t.push(s),t},e.getCasesSoldBySalesPersonCsvData=function(){var t=[],a=[],n=0,o=0,s=0;a=["Customer","SalesAmountCurrent","CasesSoldPrior","CasesSoldCurrent","DifferenceCasesSold","PercentageCasesSold"],angular.forEach(e.customersDataSafe,function(e,r){var l={};angular.forEach(e,function(e,t){var r=a.indexOf(t);r>-1&&(l[r]="CasesSoldCurrent"==t||"CasesSoldPrior"==t?i("numberWithCommas")(e):"DifferenceCasesSold"==t||"PercentageCasesSold"==t?Math.round(e):e),"SalesAmountCurrent"==t&&(n+=e),"CasesSoldPrior"==t&&(s+=e),"CasesSoldCurrent"==t&&(o+=e)}),void 0!=l&&t.push(l)});var r={};return r[0]="Total",r[1]="$"+i("numberWithCommas")(Math.round(n)),r[2]=i("numberWithCommas")(Math.round(s)),r[3]=i("numberWithCommas")(Math.round(o)),t.push(r),t},e.getCasesSoldToCustomerCsv=function(){var t=[],a=[],n=0,o=0;a=["Commodity","InvoiceDate","InvoiceNumber","ItemCode","ItemDescription","SalesmanDescription","SalesOrderNumber","CasesSold","Sales"],angular.forEach(e.customersItemDataSafe,function(e,s){var r={};angular.forEach(e,function(e,t){var s=a.indexOf(t);s>-1&&(r[s]="Sales"==t?"$"+Math.round(e):"CasesSold"==t?i("numberWithCommas")(Math.round(e)):e),"CasesSold"==t&&(n+=e),"Sales"==t&&(o+=e)}),void 0!=r&&t.push(r)});var s={};return s[0]="Total",s[1]="",s[2]="",s[3]="",s[4]="",s[5]="",s[6]="",s[7]=i("numberWithCommas")(p(n)),s[8]=i("currency")(p(o)),t.push(s),t},e.getCsvDataItemSoldToCustomer=function(){var t=[],a=[];a=["Comodity","InvoiceDate","InvoiceNumber","Item","ItemDesc","Sono","Quantity","ExtPrice"],angular.forEach(e.customersItemDataSafe,function(e,n){var o={};angular.forEach(e,function(e,t){var n=a.indexOf(t);n>-1&&(o[n]="ExtPrice"==t?"$"+i("numberWithCommas")(e):"InvoiceDate"==t?i("date")(e):"Quantity"==t?i("numberWithCommas")(e):e)}),void 0!=o&&t.push(o)});var n={};return n[0]="Total",n[1]="",n[2]="",n[3]="",n[4]="",n[5]="",n[6]=i("numberWithCommas")(Math.round(e.TotalQuantity)),n[7]="$"+i("numberWithCommas")(Math.round(e.TotalExtPrice)),t.push(n),t},e.getCsvDataForSalesBySalesPerson=function(){var t=[],a=[],n=0,o=0,s=0;a=["Customer","CasesSoldCurrent","SalesAmountPrior","SalesAmountCurrent","Difference","Percentage"],angular.forEach(e.customersItemDataSafe,function(e,r){var l={};angular.forEach(e,function(e,t){var r=a.indexOf(t);r>-1&&(l[r]="CasesSoldCurrent"==t?i("numberWithCommas")(Math.round(e)):"SalesAmountPrior"==t||"SalesAmountCurrent"==t?"$"+i("numberWithCommas")(Math.round(e)):"Difference"==t||"Percentage"==t?Math.round(e):e),"SalesAmountCurrent"==t&&(n+=e),"SalesAmountPrior"==t&&(s+=e),"CasesSoldCurrent"==t&&(o+=e)}),void 0!=l&&t.push(l)});var r={};return r[0]="Total",r[1]=i("numberWithCommas")(Math.round(o)),r[2]="$"+i("numberWithCommas")(Math.round(s)),r[3]="$"+i("numberWithCommas")(Math.round(n)),t.push(r),t},e.getCsvData=function(){var t=[],a=[],n=0,o=0,s=0;a=["Customer","SalesAmountPrior","SalesQty","SalesAmountCurrent","Difference","Percentage"],angular.forEach(e.customersDataSafe,function(r,l){var c={};angular.forEach(r,function(t,r){var l=a.indexOf(r);l>-1&&(("SalesAmountCurrent"!=r||e.isCasessoldReport)&&("Difference"!=r||e.isCasessoldReport)&&("SalesAmountPrior"!=r||e.isCasessoldReport)?c[l]="SalesQty"==r?i("numberWithCommas")(t):t:c[l]="$"+t),"SalesAmountCurrent"==r&&(t+=t),"Difference"==r&&(n+=t),"SalesAmountPrior"==r&&(o+=t),"SalesQty"==r&&(s+=t)}),void 0!=c&&t.push(c)});var r={};return r[0]="Total",r[1]=1==e.isCasessoldReport?o:"$"+o,r[2]=i("numberWithCommas")(s),r[3]=1==e.isCasessoldReport?0:"$0",r[4]="",r[5]="",t.push(r),t},e.getCsvHeaderDrillDown=function(){return["Commodity","Invoice Date","Invoice #","Item","Item Description","Quantity","Ext Price","Sales Person","SO #"]},e.getCsvDataDrillDown=function(){var t=[],a=[],n=0,o=0;a=["Commodity","InvoiceDate","InvoiceNumber","ItemCode","ItemDescription","CasesSold","Sales","SalesmanDescription","SalesOrderNumber"],angular.forEach(e.customersItemDataSafe,function(e,s){var r={};angular.forEach(e,function(e,t){var s=a.indexOf(t);s>-1&&(r[s]="ExtPrice"==t?"$"+e:"Quantity"==t?i("numberWithCommas")(e):e),"Quantity"==t&&(n+=e),"ExtPrice"==t&&(o+=e)}),void 0!=r&&t.push(r)});var s={};return s[0]="Total",s[1]="",s[2]="",s[3]="",s[4]="",s[5]=i("numberWithCommas")(n),s[6]=i("currency")(o),s[7]="",s[8]="",t.push(s),t},e.currentcommodity="All",e.FilterCommodity=function(t){e.currentcommodity=t,e.GlobalFilterModel.Commodity=t,e.IsCm01?u(e.GlobalFilterModel,"CM01"):e.isCasessoldReport?u(e.GlobalFilterModel,""):d(e.GlobalFilterModel)},e.FilterProfitCustomerCommodity=function(i){e.currentcommodity=i,v({ItemCode:void 0!=e.ItemCode||""!=e.ItemCode?e.ItemCode:"",FilterId:t.currentfilter.Id,Commodity:e.currentcommodity,CustomerCode:e.CustomerCode})},e.FilterCustomerCommodity=function(t){e.currentcommodity=t,e.GlobalFilterModel.Commodity=t,f(e.GlobalFilterModel)},e.back=function(){C(e.topBottomToggle?e.initvalues.Top:e.initvalues.Bottom),e.drillDownData=null,e.callbackFn({title:e.xtitle})},e.$watch(function(){return c.$viewValue},function(t,i){b=t,e.showReport&&(e.showChart=!0,e.showReport=!1,e.callbackFn({title:"initial"})),void 0==b||0==b.length?e.showToggleButton=void 0!=b:(e.initvalues=t,C(e.topBottomToggle?t.Top:t.Bottom),e.showToggleButton=!0)}),e.$watch("topBottomToggle",function(t,i){if(e.initvalues){var a=null;if(0==x&&(a=e.topBottomToggle?e.initvalues.Top:e.initvalues.Bottom,e.drawchartData=a),1==x){var n=e.drillDownData?e.drillDownData:e.initvalues;a=e.topBottomToggle?n.Top:n.Bottom}C(a)}}),e.$watch("backBtnVisible",function(t,i){if(!t&&i){e.topBottomToggle=!0;var a=2==x?null:b;C(e.topBottomToggle?a.Top:a.Bottom),e.backBtnVisible=!(x<=1),x--,e.callbackFn({title:""}),e.showToggleButton=2!=x,e.chartTitle=g(x,""),0==x&&(e.toggleTopLabel="Top 5",e.toggleBottomLabel="Bottom 5")}}),e.displayDollar=function(){return"totalSalesBySalesPerson"==e.chartType?"$":""};var w=function(e){return e>0?"<span class='fa fa-sort-up' style='color:forestgreen'> "+e+" %</span>":e<0?"<span class='fa fa-sort-down' style='color:red'> "+e+" %</span>":0==e?"<span class='fa' style='color:blue'> "+e+"%</span>":""};e.reportback=function(){function a(){e.$apply(function(){e.showChart=!0,e.showReport=!1,e.showToggleButton=!0})}if(e.IsProfitablityByCustomerReportDetailsByCustomer)e.showChart=!0,e.showReport=!1,e.IsProfitablityByCustomerReport=!1,e.IsProfitablityByCustomerReportDetails=!1,e.IsProfitablityByCustomerReportDetailsByCustomer=!1,e.showToggleButton=!0,e.callbackFn({title:"PROFITABLILTY BY CUSTOMER"}),e.csvFileName=e.csvFileNameDup;else if(e.IsProfitablityByCustomerReportDetails){e.showChart=!1,e.showReport=!0,e.IsProfitablityByCustomerReport=!0,e.IsProfitablityByCustomerReportDetails=!1,e.IsProfitablityByCustomerReportDetailsByCustomer=!1,e.callbackFn({title:t.TITLEOLD});var n=i("htmlToPlaintext")(t.TITLEOLD);e.csvFileName=n,e.csvFileName=e.csvFileName.replace(/_/g,"-"),e.csvFileName=e.csvFileName.replace(/>/g,"-"),e.csvFileName=e.csvFileName.replace("_","-"),e.csvFileName=e.csvFileName+".csv",e.csvFileNameDup=e.csvFileName}else e.iscustomersItemReport?(e.iscustomersItemReport=!1,e.isCasessoldReport?e.isCasessoldReport=!0:e.showReport=!0,e.showChart=!1,e.callbackFn({title:t.TITLEOLD})):(e.IsCm01?e.callbackFn({title:t.TITLEOLD}):e.callbackFn({title:"initial"}),setTimeout(a,200))}}}}]),MetronicApp.directive("canvasgauge",["$location","$state","commonService",function(e,t,i){return this.count=0,{restrict:"E",replace:!1,require:"?ngModel",scope:{nlLocation:"=",current:"=",prior:"=",name:"=",revert:"=",showdollar:"=",currenttext:"=",priortext:"=",navigate:"=",icon:"="},templateUrl:"app/components/directives/CanvasGauge/CanvasGauge.html",link:function(e,a,n,o){function s(t,i,a,n){return e.startvalue=t,e.endvalue=i,e.gaugearrays=e.getarrofguagevals(t,i,n),e.gaugevalue=a,e.gaugearrays}function r(t,i,a,n,o,s,r,l){e.red.start=t,e.red.end=i,e.lowgreen.start=a,e.lowgreen.end=n,e.mediumgreen.start=o,e.mediumgreen.end=s,e.highgreen.start=r,e.highgreen.end=l}function l(e){return e=e.replace(/ +/g,""),e=e.toLowerCase()}e.showchart=!1,e.state=t.current.name,e.Icon=e.icon,e.ShowDollar=e.showdollar,e.NavigateTo=e.navigate,e.CurrentText=e.currenttext,e.PriorText=e.priortext,e.gaugearrays=[],e.red={},e.lowgreen={},e.mediumgreen={},e.highgreen={},e.chartid="CanvasGauge"+count++,e.isrevert=e.revert;var c=function(t,i){new RadialGauge({renderTo:e.chartid,width:290,height:300,title:!1,value:e.gaugevalue,minValue:e.gaugearrays[0],maxValue:e.gaugearrays[e.gaugearrays.length-1],startAngle:90,ticksAngle:180,majorTicks:e.gaugearrays,minorTicks:2,valueBox:!1,border:!1,strokeTicks:!0,highlights:[{from:e.red.start,to:e.red.end,color:"#fa0000"},{from:e.lowgreen.start,to:e.lowgreen.end,color:"#66FF66"},{from:e.mediumgreen.start,to:e.mediumgreen.end,color:"#00CC00"},{from:e.highgreen.start,to:e.highgreen.end,color:"#006600"}],colorPlate:"#fff",borderShadowWidth:0,borders:!1,needleType:"arrow",colorBarEnd:!1,colorMajorTicks:["white","white","white","white","white","white","white","white","white","white","white","white","white","white","white","white","white","white","white"],minorTicks:!1,colorUnits:"#3CA7DB",colorNumbers:"#534638",colorNeedle:"black",colorNeedleEnd:"black",colorNeedleCircleOuter:"white",colorNeedleCircleOuterEnd:"white",colorNeedleShadowUp:"rgba(255,255,255,0.3)",colorNeedleShadowDown:"#8E7860",needleStart:0,needleEnd:60,needleWidth:6,fontNumbersSize:h(e.gaugearrays),needleCircleSize:25,valueBox:!1,needleCircleOuter:!0,needleCircleInner:!1,animationDuration:1500,animationRule:"linear"}).draw()},h=function(e){for(var t=18,i=0;i<e.length;i++)if(Math.abs(e[i]).toString().length>=4){t=15;break}return t};e.$watch(function(){return o.$viewValue},function(t){if(void 0!==t){if(e.newVal=t,e.guageobject=t,t>-10&&t<100){var i=s(-10,100,t);e.isrevert?r(0,100,-5,0,-10,-5,0,0):r(-10,0,0,5,5,15,15,100)}else t>-20&&t<200&&(s(-20,200,t),e.isrevert?r(0,200,-15,0,-20,-15,0,0):r(-20,0,0,5,5,15,15,200));if(t>=200){var i=s(-20,t+100,t);e.startvalue=i[0],e.endvalue=i[i.length-1],e.isrevert?r(0,i[i.length-1],-15,-15,-20,0,0):r(-20,0,0,5,5,15,15,i[i.length-1])}if(t<=-20&&t>-100){var i=s(-100,10,t);e.isrevert?r(0,10,-5,0,-15,-5,-100,-15):r(-100,0,0,5,5,10,0,0)}else if(t<-20&&t>-200){var i=s(-200,20,t);e.isrevert?r(0,20,-5,0,-15,-5,-200,-15):r(-200,0,0,5,5,15,15,20)}else if(t<=-200){var i=s(t-100,20,t);e.startvalue=i[0],e.endvalue=i[i.length-1],e.isrevert?r(0,i[i.length-1],-5,0,-15,-5,i[0],-15):r(i[0],0,0,5,5,15,15,i[i.length-1])}if(t>-10&&t<45&&(s(-10,45,t,!0),e.isrevert?r(0,45,-5,0,-10,-5,0,0):r(-10,0,0,5,5,15,15,45)),t>-30&&t<=-10){var i=s(-30,25,t,!0);e.isrevert?r(0,25,-5,0,-15,-5,-30,-15):r(-30,0,0,5,5,15,15,25)}}e.percentageDisplay=Math.round(e.newVal)+"%",e.percentage=Math.round(e.newVal),e.GaugeName=e.name,c(e.startvalue,e.endvalue)}),e.navigatepage=function(){var a=i.getuseraccesss().Modules;if(a.length>0){var n=a.filter(function(t){return l(t.Name)==l(e.NavigateTo)});n.length>0&&n[0].IsAccess&&t.go(e.NavigateTo)}},e.$watch(function(){return e.current},function(t){e.GaugeCurrent=t,Math.abs(t)>=0&&(e.showchart=!0)}),e.$watch(function(){return e.prior},function(t){e.GaugePrior=t}),e.getarrofguagevals=function(e,t,i){e<-50?e=50*Math.ceil(e/50):t=50*Math.ceil(t/50);var a=Math.round((Math.abs(e)+Math.abs(t))/11);a=i?5:10*Math.ceil(a/10);for(var n=[],o=0;o<12;o++)0==o?n.push(e):n.push(n[n.length-1]+a);return n.sort(function(e,t){return e-t})}}}}]),MetronicApp.directive("canvasdonut",["$location","$rootScope","$filter","dataService","NotificationService",function(e,t,i,a,n){return this.count=0,{restrict:"E",replace:!0,require:"?ngModel",scope:{nlLocation:"="},template:'<div class="portlet-body"><div><div id="{{::myId}}" class="chart" style="width:100%;min-height:500px;"></div> </div> </div>',link:function(e,t,i,a){var n;e.legendDiv="CanvasDonut_Legend"+count,e.myId="CanvasDonut_Chart"+count++;var o=[],s=function(t,i,a,n){new CanvasJS.Chart(e.myId,{exportFileName:"Doughnut Chart",exportEnabled:!1,animationEnabled:!0,data:[{type:"doughnut",innerRadius:90,showInLegend:!1,toolTipContent:"<b>{name}</b>: ${y} (#percent%)",indexLabel:"{name} - #percent%",dataPoints:n}]}).render(),$(".canvasjs-chart-credit").css("display","none")};e.$watch(function(){return a.$viewValue},function(e){if(n=e,chartTitle="",void 0==n||0==n.length);else{for(var t=0;t<n.length;t++){var i={y:n[t].cValue1,name:n[t].GroupName.trim()};o.push(i)}s(0,0,0,o)}})}}}]),MetronicApp.directive("nlClusteredBarToggleChartTransportation",["$location","$rootScope","$filter","dataService","NotificationService",function(e,t,i,a,n){return this.count=0,{restrict:"E",replace:!0,require:"?ngModel",scope:{valueAxesTitle:"=",topBottomToggleClusterCountLabel:"=",callbackFn:"&"},template:'<div class="portlet-body" ng-init="showChart=true"><div ng-show="showChart"><div class="chart-back-btn" ng-init="backBtnVisible = false" ng-show="backBtnVisible"><i class="fa-arrow-circle-o-left fa fa-2x" ng-click="backChart()" style="cursor:pointer;"></i></div><div id="{{::myId}}" class="chart" style="width:96%;min-height:500px;"></div></br></br></br><div style="text-align:right; position:relative; top:0px;" ng-show="backBtnVisible"><toggle-switch ng-model="topBottomToggle" ng-init="topBottomToggle=true;" on-label="Top 10" off-label="Bottom 10" ng-click="loadDestinationFacilityChart()"><toggle-switch></div><div id="{{::legendDiv}}" ng-show="showlegend" class="clusteredBarChartLegenddiv"></div></div><div ng-show="showReport"><div class="chart-back-btn" ng-init="chartBackBtnVisible = true" ng-show="chartBackBtnVisible"><i class="fa-arrow-circle-o-left fa fa-2x" ng-click="showReport=false;showChart=true;reportback()" style="cursor:pointer;"></i></div><div style="margin-top: -46px;"><div ng-include="\'app/pages/transportation/Transport-report-table.html\'"></div></div></div></div>',link:function(e,o,s,r){function l(t,i,a){if(e.TotalNoofStops=0,e.TotalNoofTrips=0,e.TotalCasesDelivered=0,e.TotalNoCasesDeliveredaDetailedReport=0,e.TotalNumberOfInvoices=0,t.length>0)for(var n=0;n<t.length;n++)e.TotalNoofStops=e.TotalNoofStops+t[n].NumberOfStops,e.TotalNoofTrips=e.TotalNoofTrips+t[n].NumberOfTrips,e.TotalCasesDelivered=e.TotalCasesDelivered+t[n].CasesDelivered;if(a.length>0)for(var n=0;n<a.length;n++)e.TotalNumberOfInvoices=e.TotalNumberOfInvoices+a[n].NumberOfInvoices}var c,h,u=null,d="",p=0,f=[];e.legendDiv="legenddiv_clustered_bar_toggle"+count,e.myId="chart_div_clustered"+count++,e.showlegend=!0,e.ReportData={},e.groupPropertycustomer="";var m=function(o,s,r){c=AmCharts.makeChart(e.myId,{responsive:{minWidth:200,maxWidth:400,maxHeight:400,minHeight:200,overrides:{precision:2,legend:{enabled:!1},valueAxes:{inside:!0}}},processTimeout:1,
theme:"none",type:"serial",valueAxes:[{stackType:"regular",position:"left",title:e.valueAxesTitle?e.valueAxesTitle:"Transportation"}],graphs:[{id:"00",fillAlphas:0,lineAlpha:0,title:"",type:"column",valueField:"Label",showAllValueLabels:!0,balloonText:"",labelText:" ",labelFunction:function(e){return 0==p?e.dataContext.Column1:""},labelOffset:-15,labelRotation:-30,autoWrap:!0},{id:"g1",fillAlphas:1,lineAlpha:.2,title:"",type:"column",valueField:"NumberOfStops1",fillColorsField:"Color1",balloonText:" ",balloonFunction:function(e,t){var a=g(e,!0,"Val"),n=g(e,!0,"NumberOfStops"),o=g(e,!0,"CasesDelivered");return 0==p?e.dataContext.Column1+"<br /> <b style='font-size: 130%'>"+e.dataContext.Category+"</b><br /> <b> Stops : "+e.dataContext.NumberOfStops1+n+" </b> <br /> Trips : "+e.dataContext.Val1+a+"<br />Cases : "+i("numberWithCommasRounded")(e.dataContext.CasesDelivered1)+o+"<br /><b style='font-size: 130%'></b>":e.dataContext.Column1+"<br /> <b style='font-size: 130%'>"+e.dataContext.DriverName+" ("+e.dataContext.Category+") </b><br /> <b> Stops : "+e.dataContext.NumberOfStops1+n+" </b><br /> Trips : "+e.dataContext.Val1+a+"<br />Cases : "+i("numberWithCommasRounded")(e.dataContext.CasesDelivered1)+o+"<br /><b style='font-size: 130%'></b>"}},{id:"00",fillAlphas:0,lineAlpha:0,newStack:!0,title:"",type:"column",valueField:"Label",balloonText:"",showAllValueLabels:!0,labelText:" ",labelFunction:function(e){return 0==p?e.dataContext.Column2:""},labelOffset:-15,labelRotation:-30,autoWrap:!0},{id:"g2",fillAlphas:1,lineAlpha:.2,newStack:!1,title:"",type:"column",valueField:"NumberOfStops2",fillColorsField:"Color2",balloonText:" ",balloonFunction:function(e,t){return 0==p?e.dataContext.Column2+"<br /> <b style='font-size: 130%'>"+e.dataContext.Category+"</b><br /> <b> Stops : "+e.dataContext.NumberOfStops2+" </b> <br /> Trips : "+e.dataContext.Val2+"<br />Cases : "+i("numberWithCommasRounded")(e.dataContext.CasesDelivered2)+"<br /><b style='font-size: 130%'></b>":e.dataContext.Column2+"<br /> <b style='font-size: 130%'>"+e.dataContext.DriverName+" ("+e.dataContext.Category+") </b><br /> <b> Stops : "+e.dataContext.NumberOfStops2+" </b><br /> Trips : "+e.dataContext.Val2+"<br />Cases : "+i("numberWithCommasRounded")(e.dataContext.CasesDelivered2)+"<br /><b style='font-size: 130%'></b>"}},{id:"00",fillAlphas:0,lineAlpha:0,newStack:!0,title:"",type:"column",valueField:"Label",balloonText:"",showAllValueLabels:!0,labelText:" ",labelFunction:function(e){return 0==p?e.dataContext.Column3:""},labelOffset:-15,labelRotation:-30,autoWrap:!0},{id:"g3",fillAlphas:1,lineAlpha:.2,newStack:!1,title:"",type:"column",valueField:"NumberOfStops3",fillColorsField:"Color3",balloonFunction:function(e,t){var a=g(e,!1,"Val"),n=g(e,!1,"NumberOfStops"),o=g(e,!1,"CasesDelivered");return 0==p?e.dataContext.Column3+"<br /> <b style='font-size: 130%'>"+e.dataContext.Category+"</b><br /> <b> Stops : "+e.dataContext.NumberOfStops3+n+" </b> <br /> Trips : "+e.dataContext.Val3+a+"<br />Cases : "+i("numberWithCommasRounded")(e.dataContext.CasesDelivered3)+o+"<br /><b style='font-size: 130%'></b>":e.dataContext.Column3+"<br /> <b style='font-size: 130%'>"+e.dataContext.DriverName+" ("+e.dataContext.Category+") </b><br /> <b> Stops : "+e.dataContext.NumberOfStops3+n+" </b><br /> Trips : "+e.dataContext.Val3+a+"<br />Cases : "+i("numberWithCommasRounded")(e.dataContext.CasesDelivered3)+o+"<br /><b style='font-size: 130%'></b>"}}],plotAreaFillAlphas:.1,depth3D:30,angle:30,categoryField:"Category",categoryAxis:{gridPosition:"start",tickPosition:"start",labelOffset:0==p?44:0,boldLabels:0==p,labelRotation:r,labelFunction:function(e,t,i){var a=i.chart;return a.realWidth<=300&&e.length>5?e.substr(0,5)+"...":a.realWidth<=500&&e.length>10?e.substr(0,10)+"...":e},labelOffset:0==p?60:0,autoWrap:!0},legend:{position:"bottom",data:function(e){var t=[];return t.push({title:e[0]?e[0].Column1:"",color:e[0]?e[0].Color1:""}),t.push({title:e[0]?e[0].Column3:"",color:e[0]?e[0].Color1:""}),t.push({title:e[0]?e[0].Column2:"",color:e[0]?e[0].Color2:""}),t}(o),autoMargins:!1,equalWidths:!1,divId:e.legendDiv},columnSpacing:12}),a.IsGlobal_Filter_Year()&&delete c.graphs[4],a.IsGlobal_Filter_Year()&&delete c.graphs[5],c.dataProvider=o,c.validateData(),c.addListener("clickGraphItem",function(i){var s,r=i.graph.id;if("00"!==r)if(s=i.item.dataContext.Category,void 0!=i.item.dataContext.SubData)subChartData=e.topBottomToggle?i.item.dataContext.SubData.Top:i.item.dataContext.SubData.Bottom,f[p]=subChartData,0==p&&(e.categoriestitleld="Transportation </br> <span class='small-text'>"+s+"</span>",e.categoriesTitlePrevious="Transportation </br> <span class='small-text'>"+s+"</span>",e.callbackFn({title:e.categoriesTitlePrevious})),p+=1,e.showlegend=1!=p,u=i.item.dataContext.SubData,i.chart.legend=null,m(subChartData,"",35),c.validateData(),e.$apply(function(){e.backBtnVisible=!0});else{var r=i.graph.id;if("00"!==r){var h,d=i.item.index,g=o[d];switch(r){case"g1":g.Period1,h=0;break;case"g2":g.Period2,h=1;break;case"g3":g.Period3,h=2}e.categoriesTitlesecond=e.categoriestitleld+"<span class='small-text'> > "+i.item.category+"> Report </span>",e.callbackFn({title:e.categoriesTitlesecond}),e.$apply(function(){e.showChart=!1,e.showReport=!0});var v=t.currentfilter.Id;e.toggledateinvoice=!0;var b={IsCM01:"",OrderBy:"",CustomerNumber:"",FilterId:v,Period:h,AccountType:"",AccountNumber:"",DriverCode:i.item.category};!function(t){Metronic.blockUI({boxed:!0}),e.customersData=[],e.customersDataSafe=[],e.customersDataDetailedReport=[],e.customersDataSafeDetailedReport=[],e.customersDataCustomerReport=[],e.customersDataSafeCustomerReport=[],a.GetDashboardDriverTripDrillDownReport(t).then(function(t){t&&t.data&&(Metronic.unblockUI(),e.ReportData=t.data,e.customersData=t.data.DayReport,e.customersDataSafe=t.data.DayReport,e.customersDataDetailedReport=t.data.DetailedReport,e.customersDataSafeDetailedReport=t.data.DetailedReport,e.customersDataCustomerReport=t.data.CustomerReport,e.customersDataSafeCustomerReport=t.data.CustomerReport,void 0,l(e.customersDataSafe,e.customersDataSafeDetailedReport,e.customersDataSafeCustomerReport)),Metronic.stopPageLoading()},function(){Metronic.unblockUI(),Metronic.stopPageLoading(),n.Error("Error upon the API request"),n.ConsoleLog("Error on the server")})}(b)}else e.customersData=[],e.customersDataSafe=[]}e.reportback=function(){1==p?e.callbackFn({title:e.categoriestitleld}):e.callbackFn({title:e.categoriesTitlesecond})}})},g=function(t,i,a){var n,o;i?(n=t.dataContext[a+"1"],o=t.dataContext[a+"2"]):(n=t.dataContext[a+"3"],o=t.dataContext[a+"2"]);var s=n-o;0!==s?(s/=o,s*=100,s=s==1/0?0:s):s=0,e.PriorMonth=Math.round(s);return e.PriorMonth>0?"<span>(<span class='fa fa-sort-up' style='color:forestgreen'> "+Math.abs(e.PriorMonth)+" %</span>)</span>":e.PriorMonth<0?"<span>(<span class='fa fa-sort-down' style='color:red'> "+Math.abs(e.PriorMonth)+" %</span>)</span>":0==e.PriorMonth?"":void 0};e.$watch(function(){return r.$viewValue},function(t){e.backBtnVisible=!1,p=0,e.showChart=!0,e.showReport=!1,h=t,d="",void 0==h||0==h.length||m(h,"",0)}),e.$watch("backBtnVisible",function(e,t){!e&&t&&(d="",m(h,"",0),u=null)}),e.$watch("topBottomToggle",function(){null!=u&&(subChartData=e.topBottomToggle?u.Top:u.Bottom,m(subChartData,"",35))}),e.clickedButtonFn=function(t){e.CurrentData=t},e.backChart=function(){e.showlegend=!0;var t=1==p?h:f[p-2];p-=1,m(t,"",35),e.backBtnVisible=!(p<1)&&e.backBtnVisible,0==p&&e.callbackFn({title:"initial"}),1==p&&e.callbackFn({title:e.categoriesTitlePrevious})}}}}]),MetronicApp.filter("abs",function(){return function(e){if(e)return Math.abs(e)}}).filter("startFrom",function(){return function(e,t){if(t=+t,void 0!=e&&e.length>0)return e.slice(t)}}).filter("formatMonth",function(){return function(e){return e+" - "+["January","February","March","April","May","June","July","August","September","October","November","December"][e-1]}}).filter("htmlToPlaintext",function(){return function(e){var t=e?String(e).replace(/<\/?[^>]+(>|$)/g,""):"";return t=t.replace(/_/g,"-")}}).filter("formatCommaSeperate",function(){return function(e){return e?e=0==e?e:e.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1,"):e}}).filter("numberWithCommas",function(){return function(e){if(e){return(+e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",").replace(/,/g,"")).toLocaleString("en-US",{maximumFractionDigits:2})}return 0}}).filter("numberWithCommasRounded",function(){return function(e){if(e){var t=e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",");const i=+t.replace(/,/g,"");return Math.round(i).toLocaleString("en-US",{maximumFractionDigits:2})}return 0}}).filter("innerGroupPagination",function(){return function(e,t,i){var a={};t=+t,i=+i,i=t+i;var n=0;if(void 0!=e)for(var o in e)if(e.hasOwnProperty(o)&&(n>=t&&n<i&&(a[o]=e[o]),++n>i))break;return a}}).filter("secondsToDate",[function(){return function(e){return new Date(1970,0,1).setSeconds(e)}}]).filter("filterdateformat",["$filter",function(e){return function(t){return e("date")(t,"dd-MM-yyyy")}}]),MetronicApp.factory("authService",["dataService","localStorageService","$q","$rootScope",function(e,t,i,a){var n={userName:"",name:"",role:""},o=function(n,o){var s=i.defer();return e.RequestToken(n,o).then(function(e){var i=e.data;t.set("nogalesAuth",{token:i.access_token,userName:i.userName,role:i.role,name:i.name,UserId:i.userId}),window.tocken=i.access_token,"True"==i.forceReset||"Tool Admin"==i.role||l(i.userId),d.user.userName=i.userName,d.user.role=i.role,d.user.name=i.name,a.$broadcast("user_changed",{newUser:d.user}),s.resolve(e.data)}).catch(function(){s.reject()}),s.promise},s=function(){d.user={userName:"",name:"",role:""},t.set("nogalesAuth",null),a.$broadcast("user_changed",{newUser:d.user})},r=function(t){var a=i.defer();return e.ResetPassword(t).then(function(e){a.resolve(e)}).catch(function(){a.reject()}),a.promise},l=function(n){var o=i.defer();return e.GetUserAccess(n).then(function(e){o.resolve(e),t.set("nogalesAuthAccess",e.data),a.$broadcast("ACCESSLOADED",{Access:e.data})}).catch(function(){o.reject()}),o.promise},c=function(t){var a=i.defer();return e.ChangePassword(t).then(function(e){a.resolve(e)}).catch(function(){a.reject()}),a.promise},h=function(){var e=t.get("nogalesAuth");null!=e&&""!=e?(d.user.userName=e.userName,d.user.role=e.role,d.user.name=e.name):(d.user.userName="",d.user.role="",d.user.name="")},u=function(){return""!=d.user.userName},d={user:n,login:o,logout:s,resetPassword:r,updatePassword:c,fillAuthData:h,isAuthenticated:u};return d}]),MetronicApp.factory("authInterceptor",["localStorageService","$q","$injector",function(e,t,i){var a={},n=t.defer(),o=function(t){if(t.headers=t.headers||{},1==window.isPrivate)t.headers.Authorization="Bearer "+window.tocken;else{var i=e.get("nogalesAuth");i&&t.url.indexOf(".html")<0&&(t.headers.Authorization="Bearer "+i.token)}return t},s=function(e){return 401===e.status&&(n.resolve("Unauthorized"),Metronic.unblockUI(),window.location.href="#/login?session=unauth"),403===e.status&&(n.resolve("Forbidden"),window.location.href="#/login?session=Forbidden"),t.reject(e)};return a.request=o,a.responseError=s,a}]),MetronicApp.factory("commonService",["$state",function(e){function t(e){return Ladda.create(document.querySelector(e))}function i(){function e(e){return e=e.replace(/ +/g,""),e=e.toLowerCase()}var t={state:"",Categories:[],Modules:[],IsModuleAccess:!0};if("object"==typeof localStorage)try{var i=window.location.href.split("#/").pop();i=i.replace(/\\/g,"");var a=i;t.state=a,a=function(e){var t;switch(e){case"cases-sold-categories":t="casessold";break;case"revenue-categories":t="sales";break;case"sales-order-no-bin-report":case"dumpdonations-report":t="warehouse";break;case"costcomparison-report":case"itemvendor-report":t="item";break;case"revenue-report":t="sales";break;case"warehouse-so-short-report":t="warehouse";break;case"expenses-report":t="expenses";break;case"sales-report":t="sales";break;case"casesold-report":t="casessold";break;case"Commodity-report":t="expenses";break;case"sales-person-mapping":case"sales-person-analysis-report":t="sales";break;case"item-report":t="item";break;case"customer-report":t="customer";break;case"sales-analysis-report":t="sales";break;case"payroll-report":t="expenses";break;case"transportation-driver-report":case"transportation-route-report":t="transportation";break;default:t=e}return t}(a);var n=localStorage.getItem("ls.nogalesAuthAccess");if((n=JSON.parse(n))&&n.Categories){t.Categories=n.Categories,t.Modules=n.Modules;for(var o=0;o<n.Modules.length;o++){var s=e(a),r=e(n.Modules[o].Name);if(s.includes(r)){var l=n.Modules[o].IsAccess;t.IsModuleAccess=l;break}}}}catch(e){return null}return t}return{InitBtnSpinner:t,getuseraccesss:i}}]),MetronicApp.factory("storageService",["NotificationService","$http","$rootScope",function(e,t,i){function a(e,t){if("object"==typeof localStorage)try{localStorage.removeItem(e);var i=(new Date).getTime(),a={date:(new Date).toJSON().slice(0,10).replace(/-/g,"/"),data:t,time:i};localStorage.setItem(e,JSON.stringify(a))}catch(e){Storage.prototype.setItem=function(){},void 0}}function n(e){if("object"==typeof localStorage)try{if(null==localStorage.getItem(e))return!1;var t=localStorage.getItem(e),i=JSON.parse(t),a=(new Date).getTime()-i.time;return Math.floor(a/1e3/60)>=60&&("CurrentFilter"==e||localStorage.removeItem(e),i=!1),i}catch(e){Storage.prototype.setItem=function(){},void 0}}return{setStorage:a,getStorage:n}}]),MetronicApp.factory("dataService",["$http","ApiUrl","$q","storageService","$rootScope",function(e,t,i,a,n){function o(t){return e.get(nt+"Journal/GetOPEXCOGSJournalChart?filterId="+t.Id)}function s(t){return e.get(nt+"Profitability/GetProfitability?filterId="+t.Id)}function r(t){return e.get(nt+"AdminUserManagement/GetUserAccess?userId="+t)}function l(t){return e.get(nt+"Expenses/GetExpensesStatistics?filterId="+t.Id)}function c(){return e.get(nt+"SalesPersonMapping/GetFiltersForSalesMapping")}function h(t){return e.get(nt+"Dashboard/GetCasesSoldRevenueByYear?dateFilter="+t)}function u(){return e.get(nt+"Payroll/GetAllEmployees")}function d(t){return e.post(nt+"Transportation/GetDashboardDriverTripDrillDownReport",t)}function p(t){function a(e){return e}function n(e){i.reject()}var o=i.defer(),s=e.post(nt+"PayRoll/GetAllEmployeePaymentDetails",t,{timeout:o.promise}).then(a).catch(n);return s.abortCall=function(){o.resolve()},s}function f(t,i){return e.get(nt+"Sales/GetSalesDashboardSalesAndCustomers?startDate="+t+"&endDate="+i)}function m(){return e.get(nt+"Dashboard/GetVersion")}function g(){function t(e){return e}function a(e){i.reject()}var n=i.defer(),o=e.get(nt+"Global/GetFilters",{async:!1,timeout:n.promise}).then(t).catch(a);return o.abortCall=function(){n.resolve()},o}function v(t){function a(e){return e}function n(e){i.reject()}var o=i.defer(),s=e.post(nt+"Item/GetItemReportByItem",t,{timeout:o.promise}).then(a).catch(n);return s.abortCall=function(){o.resolve()},s}function b(t){function a(e){return e}function n(e){i.reject()}var o=i.defer(),s=e.get(nt+"Customer/GetCustomerReport?startDate="+t.currentStartDate,{timeout:o.promise}).then(a).catch(n);return s.abortCall=function(){o.resolve()},s}function y(t){function a(e){return e}function n(e){i.reject()}var o=i.defer(),s=e.post(nt+"Sales/GetSalesAnalysisReport",t,{timeout:o.promise}).then(a).catch(n);return s.abortCall=function(){o.resolve()},s}function x(t){function a(e){return e}function n(e){i.reject()}var o=i.defer(),s=e.post(nt+"Sales/GetSalesAnalysisReportBySalesPerson",t,{timeout:o.promise}).then(a).catch(n);return s.abortCall=function(){o.resolve()},s}function C(t){function a(e){return e}function n(e){i.reject()}var o=i.defer(),s=e.post(nt+"Warehouse/GetDumpAndDonation?startDate="+t.StartDate+"&endDate="+t.EndDate,t,{timeout:o.promise}).then(a).catch(n);return s.abortCall=function(){o.resolve()},s}function w(t){function a(e){return e}function n(e){i.reject()}var o=i.defer(),s=e.post(nt+"Revenue/GetRevenueCustomerReport",t,{timeout:o.promise}).then(a).catch(n);return s.abortCall=function(){o.resolve()},s}function k(t){function a(e){return e}function n(e){i.reject()}var o=i.defer(),s=e.post(nt+"Item/GetItemComparisonReport",t,{timeout:o.promise}).then(a).catch(n);return s.abortCall=function(){o.resolve()},s}function S(t){function a(e){return e}function n(e){i.reject()}var o=i.defer(),s=e.post(nt+"Item/GetItemVendorReport",t,{timeout:o.promise}).then(a).catch(n);return s.abortCall=function(){o.resolve()},s}function D(){return e.get(nt+"CasesSoldSales/GetCasesSoldReportPrerequisites")}function T(){return e.get(nt+"Salespersonmapping/GetAllSalesPersonsForFiltering")}function M(e){return e.length<8&&(e="0"+e),e}function P(t,i){var a="grant_type=password&username="+t+"&password="+encodeURIComponent(i);return e.post(nt+"token",a,{headers:{"Content-Type":"application/x-www-form-urlencoded"}})}function $(t){return e.post(nt+"Account/Register",t)}function _(t){return e.post(nt+"Account/ChangePassword",t)}function A(t,i){var a=nt+"Sales/TotalByMonth?dateFilter="+t;return null!=i&&(a+="&isSynced="+i),e.get(a)}function I(t){var i=nt+"CasesSold/CategoryByMonth?filterDate="+t+"&category=";return e.get(i)}function F(t){var i=nt+"Revenue/CategoryByMonth?filterDate="+t+"&category=";return e.get(i)}function E(t){var i=nt+"Expenses/TotalByMonth?filterDate="+t;return e.get(i)}function L(t,i,a){var n=nt+"Sales/SalesBySalesPerson?startDate="+t+"&endDate="+i;return null!=a&&(n+="&isSynced="+a),e.get(n)}function B(t,i,a){var n=nt+"Sales/CustomerBySalesPerson?startDate="+t+"&endDate="+i;return null!=a&&(n+="&isSynced="+a),e.get(n)}function R(){return e.get(nt+"Item/GetAllItems")}function w(t){function a(e){return e}function n(e){i.reject()}var o=i.defer(),s=e.post(nt+"Revenue/GetRevenueCustomerReport",t,{timeout:o.promise}).then(a).catch(n);return s.abortCall=function(){o.resolve()},s}function O(t){function a(e){return e}function n(e){i.reject()}var o=i.defer(),s=e.post(nt+"SalesPersonMapping/AddMappedSalesPersons",t,{timeout:o.promise}).then(a).catch(n);return s.abortCall=function(){o.resolve("cancelled!")},s}function N(t){function a(e){return e}function n(e){i.reject()}var o=i.defer(),s=e.post(nt+"SalesPersonMapping/UnAssignSalesPersons?salesPersonCode="+t.salesPersonCode+"&assignSalesPersonCode="+t.assignSalesPersonCode+"&endDate="+t.unAssignLoadDate,{timeout:o.promise}).then(a).catch(n);return s.abortCall=function(){o.resolve()},s}function V(t,i,a){var n={SalesPerson:t,StartDateCurrent:i,EndDateCurrent:a};return e.post(nt+"Sales/GetCustomerAndSales/",n)}function W(t){return e.post(nt+"Sales/GetCustomerAndSales/",t)}function z(t,i){return i?e.post(nt+"Sales/GetInvoiceDetailsByCustomerForCustomerService/",t):e.post(nt+"Sales/GetCasesSoldDetails/",t)}function Y(t,i){return e.get(nt+"Journal/GetAPJournalChart?startDate="+t+"&endDate="+i)}function H(t,i){return e.get(nt+"Journal/GetAPOPEXJournalChart?startDate="+t+"&endDate="+i)}function U(t){return e.get(nt+"Item/GetItems?item="+t)}function j(t){return e.post(nt+"Account/ForgotPassword",t)}function G(t){function a(e){return e}function n(e){i.reject()}var o=i.defer(),s=e.post(nt+"Warehouse/GetSalesOrderWithNoBin/",t,{timeout:o.promise}).then(a).catch(n);return s.abortCall=function(){o.resolve()},s}function X(){var e=a.getStorage("CurrentFilter");if(0!=e)return e.data.Id}function q(t){return e.post(nt+"Sales/GetCustomerAndSalesReportWithoutFilter/",t)}function Q(t){return e.post(nt+"Sales/GetCustomerAndSalesReportForAnalysis/",t)}function K(t){return e.post(nt+"Sales/GetSalesMarginDetailedReport/",t)}function J(){if(window.gettotal){var t=e.pendingRequests.length,i=t/n.total;i*=100;n.total-e.pendingRequests.length>0?Metronic.blockUI({boxed:!0,message:"LOADING..."+(n.total-e.pendingRequests.length)+" of "+n.total}):Metronic.blockUI({boxed:!0,message:"LOADING..."})}else n.total=e.pendingRequests.length,window.gettotal=!0;0==e.pendingRequests.length&&(window.gettotal=!1,Metronic.unblockUI())}function Z(){return""==n.currentfilter.Periods.Prior.Label}function ee(t){return e.get(nt+"Dashboard/GetCasesSoldAndRevenueData?filterId="+t)}function te(t){return e.post(nt+"CasesSoldSales/GetCustomerWiseReportOfSalesPerson/",t)}function ie(t){return e.get(nt+"Dashboard/GetDashboardStatistics?filterId="+t.Id)}function ae(t){return e.get(nt+"Dashboard/GetOpexTopBoxValues?filterId="+t.Id)}function ne(t){return e.get(nt+"Dashboard/GetProfitTopBoxValues?filterId="+t.Id)}function oe(t){return e.get(nt+"Dashboard/GetNonCommoditySalesAndCasesSoldTopBoxValues?filterId="+t.Id)}function se(t){return e.get(nt+"CasesSoldSales/GetCasesSoldAndSalesDasboardData?filterId="+t.Id)}function re(t){return e.get(nt+"CasesSoldSales/GetSalesCasesSoldMap?filterId="+t.Id)}function le(t){return e.get(nt+"CasesSold/GetCasesSoldAndGrowthBySalesPerson?filterId="+t.Id)}function ce(t){return e.get(nt+"CasesSold/GetCasesSoldAndGrowthByCustomer?filterId="+t.Id)}function he(t,i){return i?e.post(nt+"CasesSoldSales/GetCustomerServiceReportBySalesman/",t):e.post(nt+"CasesSold/GetCustomerAndCasessoldReport/",t)}function ue(t,i){return"profitability"==i?e.get(nt+"Profitability/GetCustomerServiceDetails?filterId="+t):"expenses"==i?e.get(nt+"Expenses/GetCustomerServiceExpenseChart?filterId="+t):e.get(nt+"CasesSoldSales/GetCustomerServiceDetails?filterId="+t)}function de(t){function a(e){return e}function n(e){i.reject()}var o=i.defer(),s=e.post(nt+"CasesSoldSales/GetCasesSoldReport",t,{timeout:o.promise}).then(a).catch(n);return s.abortCall=function(){o.resolve()},s}function pe(t){var a=i.defer(),n=e.get(nt+"Transportation/GetDriverTripConsolidatedReport?startDate="+t.StartDate+"&endDate="+t.EndDate);return n.abortCall=function(){a.resolve()},n}function fe(t){var a=i.defer(),n=e.get(nt+"Transportation/GetDriverDayAndDetailedReport?startDate="+t.StartDate+"&endDate="+t.EndDate+"&driverCode="+t.driverCode+"&route="+t.route);return n.abortCall=function(){a.resolve()},n}function me(t){var a=i.defer(),n=e.get(nt+"Transportation/GetRouteConsolidatedReport?startDate="+t.StartDate+"&endDate="+t.EndDate);return n.abortCall=function(){a.resolve()},n}function ge(t){return e.get(nt+"Sales/GetSalesAndGrowthBySalesPerson?filterId="+t.Id)}function ve(t){return e.get(nt+"Sales/GetSalesAndGrowthByCustomer?filterId="+t.Id)}function be(t,i){return"CM01"==i?e.post(nt+"CasesSoldSales/GetCustomerServiceReportBySalesman/",t):e.post(nt+"CasesSold/GetCustomerAndCasessoldReport/",t)}function ye(t){function a(e){return e}function n(e){i.reject()}var o=i.defer(),s=e.post(nt+"CasesSoldSales/GetSalesReportofSalesPerson?startDate="+t.StartDate+"&endDate="+t.EndDate,t.SalesPerson,{timeout:o.promise}).then(a).catch(n);return s.abortCall=function(){o.resolve()},s}function xe(t){function a(e){return e}function n(e){i.reject()}var o=i.defer(),s=e.post(nt+"Sales/GetSalesAnalysisReportofSalesPerson?startDate="+t.StartDate+"&endDate="+t.EndDate,t.SalesPerson,{timeout:o.promise}).then(a).catch(n);return s.abortCall=function(){o.resolve()},s}function Ce(t){function a(e){return e}function n(e){i.reject()}var o=i.defer(),s=e.post(nt+"Sales/GetSalesMarginReport/",t,{timeout:o.promise}).then(a).catch(n);return s.abortCall=function(){o.resolve()},s}function we(t){return e.post(nt+"Profitability/GetProfitablityDashboardBarChartData?filterId="+t.Id)}function ke(t,i,a){return e.get(nt+"Profitability/GetMargin?filterCustomerData="+i+"&filterItemData="+a+"&filterId="+t.Id)}function Se(t){return e.get(nt+"Profitability/GetItemMarginReport?filterId="+t.filterId+"&period="+t.Period+"&itemCode="+t.itemCode)}function De(t){return e.get(nt+"Profitability/GetCustomerMarginReport?filterId="+t.filterId+"&period="+t.Period+"&customerCode="+t.itemCode)}function Te(t,i,a){return e.get(nt+"Profitability/GetMarginByDifference?isCustomer="+i+"&filterData="+a+"&filterId="+t.Id)}function Me(t){return e.get(nt+"Profitability/GetProfitByCustomer?filterId="+t)}function Pe(t){return e.get(nt+"Profitability/GetProfitByItem?filterId="+t)}function $e(t){return e.post(nt+"Profitability/GetProfitByCustomerDetailAndCommodity/",t)}function _e(t,i){return e.get(nt+"Profitability/GetCustomerWiseProfitByItem?filterId="+t+"&itemCode="+i)}function Ae(t,i){return e.get(nt+"Warehouse/PickerForcastReport?&startDate="+t+"&endDate="+i)}function Ie(t,i){return e.get(nt+"Warehouse/PickerForcastQuantityPickedReport?startDate="+t+"&endDate="+i)}function Fe(t){return e.get(nt+"Warehouse/PickerProductivityChart?filterId="+t.Id)}function Ee(t){function a(e){return e}function n(e){i.reject()}var o=i.defer(),s=e.get(nt+"Warehouse/GetShortReport?routeNumber="+t.routeNumber+"&buyerId="+t.buyerId+"&shipDate="+t.shipDate,{timeout:o.promise}).then(a).catch(n);return s.abortCall=function(){o.resolve()},s}function Le(t){function a(e){return e}function n(e){i.reject()}var o={EmployeID:t.userId,StartDate:t.startWorkDate,EndDate:t.endWorkDate,StartTime:M(t.startTime),EndTime:M(t.endTime)},s=i.defer(),r=e.post(nt+"Warehouse/PickerProductivityReport",o,{timeout:s.promise}).then(a).catch(n);return r.abortCall=function(){s.resolve()},r}function Be(t){function a(e){return e}function n(e){i.reject()}var o=i.defer(),s=e.post(nt+"Item/GetItemReport",t,{timeout:o.promise}).then(a).catch(n);return s.abortCall=function(){o.resolve()},s}function Re(){return e.get(nt+"Account/GetAllUsers")}function Oe(t){return e.get(nt+"AdminUserManagement/GetAllModules")}function Ne(t){return e.get(nt+"AdminUserManagement/GetAllSalesPersonCategories")}function Ve(t){return e.get(nt+"AdminUserManagement/GetUserDetails?userId="+t)}function We(t){return e.post(nt+"Account/DeleteUser/"+t,null,{headers:{"Content-Type":"application/x-www-form-urlencoded"}})}function ze(t){return e.post(nt+"Account/UpdateUser",t)}function Ye(t){return t.UserId&&t.UserId.length>0?e.post(nt+"Account/ResetPasswordByAdmin",t):e.post(nt+"Account/ResetPassword",t)}function He(){function t(e){return e}function a(e){i.reject()}var n=i.defer(),o=e.get(nt+"SalesPersonMapping/GetMappedSalesPersons",{timeout:n.promise}).then(t).catch(a);return o.abortCall=function(){n.resolve()},o}function Ue(t){return e.post(nt+"SalesPersonMapping/ArchivedSalesPersons",t)}function je(){return e.get(nt+"Sales/GetAllSalesPerson")}function Ge(t){return e.post(nt+"SalesPersonMapping/AssignSalesPersons",t)}function Xe(t){return e.post(nt+"SalesPersonMapping/UpdateSalesPersonDescription/",t)}function qe(t,i){return e.get(nt+"CasesSold/GetCasesSoldAndGrowthBySalesPersonCustomerService?filterId="+t+"&isCasesSold="+i)}function Qe(t){return e.post(nt+"Expenses/GetOPEXCOGSExpenseReport/",t)}function Ke(t){return e.get(nt+"Expenses/TopTenAdminExpenses?filterId="+t.Id)}function Je(t){function a(e){return e}function n(e){i.reject()}var o=i.defer(),s=e.post(nt+"Journal/GetJournalReport",t,{timeout:o.promise}).then(a).catch(n);return s.abortCall=function(){o.resolve()},s}function Ze(t){return e.get(nt+"Expenses/GetComodityExpenseReport?comodity="+t.comodity+"&startDate="+t.startDate+"&endDate="+t.endDate)}function et(t){return e.get(nt+"Expenses/LoadExpenseChart?filterId="+t.Id)}function tt(t,i){return t.IsCM01=i,e.post(nt+"Expenses/GetExpenseReportBySalesman/",t)}function it(t,i){return t.IsCM01=i,e.post(nt+"Expenses/GetExpenseInvoiceDetailsByCustomer/",t)}function at(t){return e.get(nt+"Transportation/GetDashboardDiverTripData?filterId="+t.Id)}var nt=t;return{PendingRequest:J,IsGlobal_Filter_Year:Z,getMainDashboardProfitabilityChartData:s,GetSalesOrderWithNoBin:G,GetApiVersion:m,RequestToken:P,CreateUser:$,ChangePassword:_,GetCommonDashboardSalesData:A,GetCommonDashboardCasesSoldData:I,GetCommonDashboardRevenueData:F,GetCommonDashboardExpensesData:E,FilterSalesBySalesPersonChart:L,FilterCustomersBySalesPersonChart:B,GetCasesSoldDetails:z,GetSalesPersonCustomersDataCategories:W,FilterJournalExpensesChart:Y,FilterOPEXJournalExpensesChart:H,ForgetPassword:j,GetSalesPersonCustomersDataOfSalesReport:V,addSalesPersons:O,unAssignSalesPersons:N,GetCasesSoldReportPrerequisites:D,loadSalesAndCustomerBySalesPerson:f,GetDumpAndDonation:C,GetCasesSoldRevenueByYear:h,GetCustomerAndSalesReportForAnalysis:Q,GetRevenueCustomerReport:w,GetAllSalesPersonsForFiltering:T,GetExpensesStatistics:l,GetFiltersForSalesMapping:c,GetRevenueCustomerReport:w,GetGlobalFilters:g,NogalesCurrentFilter:X,getItemReportDrillDown:v,getItemReportFilters:R,GetCustomerAndSalesReportWithoutFilter:q,GetItemComparisonReport:k,GetItemVendorReport:S,GetItems:U,GetCustomerReport:b,GetSalesAnalysisReport:y,GetSalesAnalysisReportBySalesPerson:x,GetSalesMarginDetailedReport:K,GetCasesSoldAndRevenueData:ee,GetCustomerWiseReportOfSalesPerson:te,GetUserAccess:r,GetPayRollData:p,GetAllEmployees:u,GetDashboardStatistics:ie,GetOpexTopBoxValues:ae,GetProfitTopBoxValues:ne,GetNonCommoditySalesAndCasesSoldTopBoxValues:oe,GetCasesSoldAndSalesDasboardData:se,GetSalesCasesSoldMap:re,GetCasesSoldAndGrowthBySalesPerson:le,GetCasesSoldAndGrowthByCustomer:ce,GetSalesPersonCustomersDataTotal:he,GetCustomerServiceDetails:ue,getCasesSoldReportData:de,GetSalesAndGrowthBySalesPerson:ge,GetSalesAndGrowthByCustomer:ve,GetCustomerAndCasessoldReport:be,getSalesReportData:ye,GetSalesAnalysisReportofSalesPerson:xe,GetSalesPersonMarginReport:Ce,GetProfitablityDashboardBarChartData:we,GetMargin:ke,GetItemMarginReport:Se,GetCustomerMarginReport:De,GetMarginByDifferennce:Te,LoadGetProfitabilityByCustomer:Me,LoadGetProfitabilityByItem:Pe,GetProfitByCustomerDetailAndCommodity:$e,GetCustomerWiseProfitByItem:_e,getForcastResult:Ae,GetForcastReport:Ie,getMainDashboardPickerProductivityChartData:Fe,GenerateWarehouseShortReport:Ee,GenerateWarehouseWmsPickerProductivityReport:Le,getItemReportData:Be,GetAllUsers:Re,GetAllModules:Oe,GetAllSalesPersonCategories:Ne,GetUserDetails:Ve,UpdateUser:ze,DeleteUser:We,ResetPassword:Ye,loadAllSalesPerson:He,getArchievedSalesPersonMapping:Ue,getSalesReportFilters:je,AssignSalesPersons:Ge,UpdateSalesPersonDescription:Xe,GetCasesSoldAndGrowthBySalesPersonCustomerService:qe,GetExpensesPersonCustomersData:Qe,FilterAdminExpensesChart:Ke,GetJournalReportData:Je,GetComodityExpenseReport:Ze,LoadExpenseChart:et,GetExpenseReportBySalesman:tt,GetExpenseInvoiceDetailsByCustomer:it,FilterOPEXcogsExpensesChart:o,GetDashboardDiverTripData:at,GetDashboardDriverTripDrillDownReport:d,GetTransportationDriverReport:pe,GetDriverDayAndDetailedReport:fe,GetRouteConsolidatedReport:me}}]),MetronicApp.factory("$exceptionHandler",["$injector",function(e){var t;return function(i,a){t=t||e.get("NotificationService"),e.get("isDebugging")&&(t.Error("Debugging: "+i),void 0)}}]),MetronicApp.factory("NotificationService",["Alertify","$injector","$state",function(e,t,i){function a(e,t){t||(t=window.location.href),e=e.replace(/[\[\]]/g,"\\$&");var i=new RegExp("[?&]"+e+"(=([^&#]*)|&|#|$)"),a=i.exec(t);return a?a[2]?decodeURIComponent(a[2].replace(/\+/g," ")):"":null}function n(t){"unauth"!=a("session")?t&&""!=t?e.error(t):e.error("An error occured while processing your request"):void 0}function o(t){t&&""!=t&&e.success(t.trim())}function s(t){t&&""!=t&&e.log(t)}function r(t){t&&""!=t&&e.alert(t)}function l(t,i,a,n){t&&""!=t&&(i&&a?e.confirm("Are you sure?").then(i(n),a()):i?e.confirm("Are you sure?").then(i(n),null):a&&e.confirm("Are you sure?").then(null,a()))}function c(e){t.get("isDebugging")&&void 0}return{Error:n,Success:o,Log:s,Alert:r,Confirm:l,ConsoleLog:c}}]),MetronicApp.factory("HelperService",["$filter",function(e){function t(e){
return Ladda.create(document.querySelector(e))}function i(e){return"casesold"==e.nlDashboard?"":"revenue"==e.nlDashboard?"$":"revenueDashboard"==e.nlDashboard?"$":"expenses"==e.nlDashboard?"$":""}function a(e){return"casesold"==e.nlDashboard?"Cases sold qty":"revenue"==e.nlDashboard?"Revenue":"revenueDashboard"==e.nlDashboard?"Revenue":"expenses"==e.nlDashboard?"Expenses":""}function n(e){return e?e.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1,"):0}function o(e,t){var i=e-t;return 0==t?100:0!==i?(i/=t,i*=100,t<0?0:i):0}function s(e,t,i){var a,n;i?(a=t?e.dataContext.cValue5+e.dataContext.cValue6:e.dataContext.rValue5+e.dataContext.rValue6,n=t?e.dataContext.cValue3+e.dataContext.cValue4:e.dataContext.rValue3+e.dataContext.rValue4):(a=t?e.dataContext.cValue1+e.dataContext.cValue2:e.dataContext.rValue1+e.dataContext.rValue2,n=t?e.dataContext.cValue3+e.dataContext.cValue4:e.dataContext.rValue3+e.dataContext.rValue4);var o=a-n;0!==o?(o/=n,o*=100,o=o==1/0?0:o):o=0;var s=Math.round(o);return s>0?"<span>(<span class='fa fa-sort-up' style='color:forestgreen'> "+Math.abs(s)+" %</span>)</span>":s<0?"<span>(<span class='fa fa-sort-down' style='color:red'> "+Math.abs(s)+" %</span>)</span>":0==s?"":void 0}function r(e){switch(e){case"This Week":return"Prior Week";case"This Week To Date":return"Prior Week To Date";case"This Month":return"Prior Month";case"This Month To Date":return"Prior Month To Date";case"This Quarter":return"Prior Quarter";case"This Quarter To Date":return"Prior Quarter To Date";case"This Year":return"Prior Year";case"This Year To Date":return"Prior Year To Date";case"This Year To Last Month":return"Prior Year To Last Month";case"Last Week To Date":return"Prior Week To Date";case"Last Month":return"Prior Month";case"Last Month To Date":return"Prior Month To Date";case"Last Quarter":return"Prior Quarter";case"Last Quarter To Date":return"Prior Quarter To Date";case"Since 30 Days Ago":return"Prior 30 Days";case"Since 60 Days Ago":return"Prior 60 Days";default:return"Prior Month"}}function l(){for(var e="#",t=0;t<6;t++)e+="0123456789ABCDEF"[Math.floor(16*Math.random())];return e}function c(t){function i(e){e=e||new Date;var t=Math.floor(e.getMonth()/3)+1;return t>4?t-4:t}var a,n,o=new Date,s=e("date")(new Date(o.getFullYear(),o.getMonth(),1),"MM/dd/yyyy"),r=e("date")(new Date,"MM/dd/yyyy"),o=new Date;if("ThisMonth"==t)a=new Date(o.getFullYear(),o.getMonth(),1),n=new Date(o.getFullYear(),o.getMonth()+1,0);else if("LastMonth"==t){var l,c=o.getMonth();l=c<12?o.getFullYear():o.getFullYear()-1,a=new Date(l,c-1,1),n=new Date(l,c,0)}else if("ThisQuarter"==t){var h=i(o);a=new Date(o.getFullYear(),3*h-3,1),n=new Date(o.getFullYear(),3*h,0)}else if("LastQuarter"==t){var l,u=i(o)-1;u>0?(l=o.getFullYear(),a=new Date(l,3*u-3,1),n=new Date(l,3*u,0)):(l=o.getFullYear()-1,a=new Date(l,9,1),n=new Date(l,12,0))}else"YTD"==t?(a=new Date(o.getFullYear(),0,1),n=new Date):"LastYear"==t?(a=new Date(o.getFullYear()-1,0,1),n=new Date(o.getFullYear(),0,0)):(a=s,n=r);return{firstDay:a,lastDay:n}}function h(e,t){function i(e){return new Date(e).getFullYear()}if(e){var a=[];return a.push({title:i(e[0].Period1)+" Produce",color:e[0].Color2}),a.push({title:i(e[0].Period1)+" Grocery",color:e[0].Color1}),a.push({title:i(e[0].Period3)+" Produce",color:e[0].Color4}),a.push({title:i(e[0].Period3)+" Grocery",color:e[0].Color3}),t>0&&(a=[],a.push({title:"",color:"white"})),a}}return{InitBtnSpinner:t,getBalloonTextPrefix:i,getValueAxisTitle:a,formatCommaSeperate:n,calcPercentage:o,getPriorRangeText:r,getRandomColor:l,Getstartenddate:c,generateLegend:h,calcpercentagespan:s}}]),MetronicApp.controller("HeaderController",["$rootScope","$scope","$state","authService",function(e,t,i,a){t.$on("$viewContentLoaded",function(){Metronic.initAjax()});t.IsInreportpage=function(){switch(i.current.name){case"dashboard":case"expenses":case"sales":case"casessold":case"cases-sold-categories":case"revenue":case"revenue-categories":case"Profitablity":case"transportation":return!1;default:return!0}},t.setFilter=function(a){switch(t.currentfilter=a,e.currentfilter=a,i.current.name){case"dashboard":e.$broadcast("dashboard",{data:a});break;case"expenses":e.$broadcast("expenses",{data:a});break;case"sales":e.$broadcast("sales",{data:a});break;case"casessold":e.$broadcast("casessold",{data:a});break;case"cases-sold-categories":e.$broadcast("cases-sold-categories",{data:a});break;case"revenue":e.$broadcast("revenue",{data:a});break;case"revenue-categories":e.$broadcast("revenue-categories",{data:a});break;case"Profitablity":e.$broadcast("profitability",{data:a});case"transportation":e.$broadcast("transportation",{data:a})}},t.changeexpansion=function(){if(t.showimage=!t.showimage,"object"==typeof localStorage)try{var e=localStorage.getItem("isexpanded");"true"==e&&(localStorage.removeItem("isexpanded"),localStorage.setItem("isexpanded",!1)),"false"==e&&(localStorage.removeItem("isexpanded"),localStorage.setItem("isexpanded",!0))}catch(e){Storage.prototype._setItem=Storage.prototype.setItem,Storage.prototype.setItem=function(){},void 0}},t.logout=function(){if(a.logout(),"object"==typeof localStorage)try{t.currentfilter.Description="This Month to Date",e.currentfilter.Description="This Month to Date",Metronic.unblockUI(),localStorage.clear()}catch(e){localStorage.clear(),Storage.prototype._setItem=Storage.prototype.setItem,Storage.prototype.setItem=function(){},window.location.reload()}Metronic.unblockUI(),i.go("login")},t.user=a.user,t.$on("user_changed",function(e,i){t.user=i.newUser}),e.$state=i}]),MetronicApp.controller("SidebarController",["$rootScope","$scope","$http","$state","authService","settings","NotificationService","commonService","SessionOutDisabledUsers",function(e,t,i,a,n,o,s,r,l){function c(){if(++p>=u&&"object"==typeof localStorage)try{(function(){var e=localStorage.getItem("ls.nogalesAuth");if(!e)return!1;if(!(l.length>0))return!0;for(var t=0;t<l.length&&!JSON.parse(e).userName!=l[t];t++);})()&&(window.clearInterval(d),$("#myModal").modal("show"),t.timersecs=30,f=window.setInterval(function(){t.$apply(function(){t.timersecs=t.timersecs-1}),0==t.timersecs&&(window.clearInterval(f),t.cancel())},1e3))}catch(e){Storage.prototype.setItem=function(){},void 0}}function h(e){for(var i=0;i<e.Modules.length;i++){var a=function(e){return e=e.replace(/ +/g,""),e=e.toLowerCase()}(e.Modules[i].Name);a.includes("casessold")&&(t.Module.CasesSold={Name:"Cases Sold",IsShow:e.Modules[i].IsAccess}),a.includes("sales")&&(t.Module.Sales={Name:"Sales",IsShow:e.Modules[i].IsAccess}),a.includes("profitablity")&&(t.Module.Profitability={Name:"profitablity",IsShow:e.Modules[i].IsAccess}),a.includes("expenses")&&(t.Module.Expenses={Name:"Expenses",IsShow:e.Modules[i].IsAccess}),a.includes("warehouse")&&(t.Module.WareHouse={Name:"Warehouse",IsShow:e.Modules[i].IsAccess}),a.includes("transportation")&&(t.Module.Transportation={Name:"Transportation",IsShow:e.Modules[i].IsAccess}),a.includes("item")&&(t.Module.Item={Name:"Item",IsShow:e.Modules[i].IsAccess}),a.includes("customers")&&(t.Module.Customers={Name:"Customers",IsShow:e.Modules[i].IsAccess})}}var u=900,d=null,p=0,f=null;t.$on("$viewContentLoaded",function(){Metronic.initAjax()});var m=Metronic.getResponsiveBreakpoint("md");t.user=n.user,t.initSidemenu=function(){},t.expansion=o.layout.pageSidebarClosed,t.gotousermanager=function(){a.go("user-management")},t.gotosalespersonmapping=function(){a.go("sales-person-mapping")},t.onMenuClick=function(e){var t=e.currentTarget;if(!(Metronic.getViewPort().width>=m&&1===$(t).parents(".page-sidebar-menu-hover-submenu").size())){if(!1===$(t).next().hasClass("sub-menu"))return void(Metronic.getViewPort().width<m&&$(".page-sidebar").hasClass("in")&&$(".page-header .responsive-toggler").click());if(!$(t).next().hasClass("sub-menu always-open")){var i=$(t).parent().parent(),a=$(t),n=$(".page-sidebar-menu"),o=$(t).next(),s=n.data("auto-scroll"),r=parseInt(n.data("slide-speed"));!0!==n.data("keep-expanded")&&(i.children("li.open").children("a").children(".arrow").removeClass("open"),i.children("li.open").children(".sub-menu:not(.always-open)").slideUp(r),i.children("li.open").removeClass("open"));$(t).find("span").text().trim();o.is(":visible")?($(".arrow",$(t)).hide("open"),$(t).parent().removeClass("open"),o.slideUp(r,function(){!0===s&&!1===$("body").hasClass("page-sidebar-closed")&&($("body").hasClass("page-sidebar-fixed")?n.slimScroll({scrollTo:a.position().top}):Metronic.scrollTo(a,-200))})):($(".arrow",$(t)).addClass("open"),$(t).parent().addClass("open"),o.slideDown(r,function(){!0===s&&!1===$("body").hasClass("page-sidebar-closed")&&($("body").hasClass("page-sidebar-fixed")?n.slimScroll({scrollTo:a.position().top}):Metronic.scrollTo(a,-200))})),e.preventDefault()}}},t.$on("user_changed",function(e,i){t.user=i.newUser}),e.continue=function(){window.clearInterval(d),window.clearInterval(f),d=window.setInterval(c,1e3),p=0,$("#myModal").modal("hide")},t.cancel=function(){if("object"==typeof localStorage)try{localStorage.removeItem("ls.nogalesAuth"),localStorage.removeItem("CasesSoldRevenueByMonth"),localStorage.removeItem("DashboardGaugeValues"),localStorage.removeItem("HeatMapData"),localStorage.removeItem("OPEXCOGSExpenseJournalChart"),localStorage.removeItem("ls.nogalesAuthAccess")}catch(e){Storage.prototype._setItem=Storage.prototype.setItem,Storage.prototype.setItem=function(){},localStorage.clear(),void 0}window.location.href="#/login?session=screenIdle",window.clearInterval(f),$("#myModal").modal("hide"),location.reload()},document.onclick=function(){p=0},document.onmousemove=function(){p=0},document.onkeypress=function(){p=0},d=window.setInterval(c,1e3),t.Module={CasesSold:{Name:"",IsShow:!0},Sales:{Name:"",IsShow:!0},Profitability:{Name:"",IsShow:!0},Expenses:{Name:"",IsShow:!0},WareHouse:{Name:"",IsShow:!0},Transportation:{Name:"",IsShow:!0},Item:{Name:"",IsShow:!0},Customers:{Name:"",IsShow:!0},Payroll:{Name:"",IsShow:!0}},t.$on("ACCESSLOADED",function(e,t){h(t.Access)}),t.UserAccess=r.getuseraccesss(),h(t.UserAccess)}]),MetronicApp.controller("CasesSoldReportController",["$scope","dataService","$filter","NotificationService","ApiUrl","commonService","$controller","HelperService",function(e,t,i,a,n,o,s,r){function l(){var t=new Date;e.beginDate=i("date")(new Date(t.getFullYear(),t.getMonth(),1),"MM/dd/yyyy"),e.endDate=i("date")(new Date,"MM/dd/yyyy"),e.search()}function c(){t.GetAllSalesPersonsForFiltering().then(function(t){e.salesPersonList=[];for(var i=0;i<t.data.length;i++){var a={AssignedPersonList:t.data[i].AssignedPersonList,Category:t.data[i].Category,Id:i,SalesPersonCode:t.data[i].SalesPersonCode,SalesPersonDescription:t.data[i].SalesPersonDescription};e.salesPersonList.push(a)}var a={AssignedPersonList:"All",Category:"All",Id:e.salesPersonList.length,SalesPersonCode:"All",SalesPersonDescription:"All"};e.salesPersonList.push(a),e.salesPersonList=e.salesPersonList.reverse(),e.salespersonitem=e.salesPersonList[0],l()})}e.$on("$viewContentLoaded",function(){Metronic.initAjax()}),e.iscanceldisabled=!0,e.pageSize=20,s("BaseController",{$scope:e}),e.btnSpinner=o.InitBtnSpinner("#search"),e.casessoldcsv="";var h=null;e.myTableFunctions={},e.salesPersonTableFunctions={},e.groupProperty="",e.searchClicked=!1,e.selectedSalesPerson="",e.loadDatePickers=function(){$("#scheduledLoadStartDate").datepicker({rtl:Metronic.isRTL(),orientation:"left",autoclose:!0,todayHighlight:!0}),$("#scheduledLoadEndDate").datepicker({rtl:Metronic.isRTL(),orientation:"left",autoclose:!0,todayHighlight:!0}),$("#scheduledLoadStartDate1").datepicker({rtl:Metronic.isRTL(),orientation:"left",autoclose:!0,todayHighlight:!0}),$("#scheduledLoadEndDate1").datepicker({rtl:Metronic.isRTL(),orientation:"left",autoclose:!0,todayHighlight:!0})},e.loadDatePickers(),function(){t.GetCasesSoldReportPrerequisites().then(function(t){e.Commodity=[],e.FoodService=[],$.each(t.data[0],function(t,i){e.Commodity.push({key:t,value:i})});var i=localStorage.getItem("ls.nogalesAuthAccess");if(i=JSON.parse(i),i=i.Categories,e.FoodService.push({key:"All",value:"All"}),$.each(i,function(t,i){e.FoodService.push({key:t,value:i.Name})}),i.length>0)for(var a=0;a<e.FoodService.length;a++)for(var n=0;n<i.length;n++)i[n].Name==e.FoodService[a].value&&0==i[n].IsAccess&&e.FoodService.splice(a,1);e.Commodityselected=e.Commodity[0],e.FoodServiceselected=e.FoodService[0],c()})}(),e.search=function(a){function n(e,t){var i=new Date(e);return"LastMonth"==t?moment(i).subtract(1,"month").format("MM/DD/YYYY"):"LastYear"==t?moment(i).subtract(1,"year").format("MM/DD/YYYY"):""}e.CurrentFilter=a,e.iscanceldisabled=!1,e.searchClicked=!0,e.Prior="";var o={},s=!1;if(o=a?r.Getstartenddate(a):{firstDay:e.beginDate,lastDay:e.endDate},e.beginDate=i("date")(o.firstDay,"MM/dd/yyyy"),e.endDate=i("date")(o.lastDay,"MM/dd/yyyy"),e.Prior=e.toggleyear?"LastYear":"LastMonth",e.priorstatus=e.toggleyear?"Prior Year":"Prior Month",e.MinSalesAmt=void 0==e.MinSalesAmt?100:e.MinSalesAmt,(e.beginDate||o.lastDay)&&(e.StartPrior=i("date")(n(e.beginDate,e.Prior),"MM/dd/yyyy"),e.EndPrior=i("date")(n(e.endDate,e.Prior),"MM/dd/yyyy"),!(s=!e.beginDate||!e.endDate||(e.beginDate.length+e.endDate.length<20||s))&&e.isDate(e.beginDate)&&e.isDate(e.endDate)&&!e.isPreviouseDate(e.beginDate,e.endDate))){e.btnSpinner.start();var l={Comodity:"All"==e.Commodityselected.value?"":e.Commodityselected.value,Category:"All"==e.FoodServiceselected.value?"":e.FoodServiceselected.value,currentStartDate:e.beginDate,currentEndDate:e.endDate,priorStartDate:e.StartPrior,priorEndDate:e.EndPrior,MinSalesAmt:e.MinSalesAmt,SalesPersonCode:"All"==e.salespersonitem.SalesPersonCode?"":e.salespersonitem.SalesPersonCode};(h=t.getCasesSoldReportData(l)).then(function(t){if(t){e.iscanceldisabled=!0,e.casessoldcsv="CASES-SOLD-REPORT ( "+e.priorstatus+" ).CSV",e.casessoldcsv=e.casessoldcsv.toUpperCase(),e.salesReport=t.data.ReportData,e.salesReportMaster=angular.copy(t.data.ReportData),e.ChartData=t.data.ChartData;for(var a=0,n=0,o=0;o<e.salesReportMaster.length;o++)a+=e.salesReport[o].Previous,n+=e.salesReport[o].Current;e.TotalPrevious=i("numberWithCommasRounded")(a),e.TotalCurrent=i("numberWithCommasRounded")(n)}e.btnSpinner.stop()}).catch(function(t){e.btnSpinner.stop()})}},e.resetSearch=function(){e.myTableFunctions.resetSearch(),e.groupProperty="",e.selectedSalesPersons=[],e.MinSalesAmt=100,e.salesReport=[],e.salesReportMaster=[],e.Commodityselected=e.Commodity[0],e.FoodServiceselected=e.FoodService[0],c(),e.toggleyear=!1,e.CurrentFilter=""},e.abortExecutingApi=function(){e.iscanceldisabled=!0;try{return h&&h.abortCall()}catch(e){}},e.getCsvHeader=function(){return["Customer Name","Cases Sold Prior","Cases Sold (Current)","Difference","Difference(%)"]},e.getCsvData=function(){var t=[],a=[];a=["Customer","Previous","Current","Difference","PercentageDifference"],angular.forEach(e.salesReportMaster,function(e,n){var o={};angular.forEach(e,function(e,t){var n=a.indexOf(t);n>-1&&(o[n]="Current"==t||"Previous"==t?i("numberWithCommas")(e):e)}),void 0!=o&&t.push(o)});var n={};return n[0]="Total",n[1]=e.TotalPrevious,n[2]=e.TotalCurrent,t.push(n),t},e.getCustomersSalesDataReport=function(i){e.selectedSalesPerson=i,e.customersData=[],e.customersDataSafe=[],t.GetSalesPersonCustomersDataOfSalesReport(i,e.beginDate,e.endDate).then(function(t){t&&t.data&&(e.customersData=t.data,e.customersDataSafe=angular.copy(e.customersData))},function(){stopDivLoader("salesPersonReportPortletBody"),a.Error("Error upon the API request")})}}]),MetronicApp.controller("CaseSoldController",["$timeout","$scope","dataService","NotificationService","$controller","storageService","$state","$rootScope","HelperService","commonService",function(e,t,i,a,n,o,s,r,l,c){function h(n){Metronic.blockUI({boxed:!0}),i.PendingRequest(),i.GetCasesSoldAndSalesDasboardData(n).then(function(s){try{t.caption_subject="Total Cases Sold",t.PriorRangeText=l.getPriorRangeText(n.Description),e(function(){t.chartData=s.data,t.PiechartCasessold=t.chartData.TotalCasesSold.All[0].SubData,u(t.chartData,n),d(t.chartData);s.data.filterid=n.Id,o.setStorage("CasesSoldRevenueByMonth",s.data),o.setStorage("CurrentFilter",n)},200)}catch(e){a.Error()}finally{i.PendingRequest()}},function(){i.PendingRequest(),a.Error()})}function u(e,i){var a=e.TotalCasesSold.All[0].cValue1+e.TotalCasesSold.All[0].cValue2,n=0;n=e.TotalCasesSold.All[0].cValue3+e.TotalCasesSold.All[0].cValue4,t.BlstatiticsData.casesSold.CurrentYear=a,t.BlstatiticsData.casesSold.PreviousMonth=n,t.BlstatiticsData.casesSold.Change=Math.round(l.calcPercentage(t.BlstatiticsData.casesSold.CurrentYear,t.BlstatiticsData.casesSold.PreviousMonth))}function d(e){t.meterparams=e.TotalCasesSold.All[0],t.firstrange=t.meterparams.cValue1+t.meterparams.cValue2,t.secondrangeYear=t.meterparams.cValue3+t.meterparams.cValue4,t.secondrangeMonth=t.meterparams.cValue5+t.meterparams.cValue6,t.GroceryMonthlyDifference=e.GroceryMonthlyDifference,t.GroceryYearlyDifference=e.GroceryYearlyDifference,t.ProduceMonthlyDifference=e.ProduceMonthlyDifference,t.ProduceYearlyDifference=e.ProduceYearlyDifference,t.TotalMonthlyDifference=e.TotalMonthlyDifference,t.TotalYearlyDifference=e.TotalYearlyDifference}function p(e){Metronic.blockUI({boxed:!0}),i.GetCasesSoldAndGrowthBySalesPerson(e).then(function(e){try{t.totlaCasesSold=e.data}catch(e){a.Error()}finally{i.PendingRequest()}})}function f(e){i.GetCasesSoldAndGrowthByCustomer(e).then(function(e){try{t.customerGraph=e.data}catch(e){a.Error()}finally{i.PendingRequest()}})}function m(e){Metronic.blockUI({boxed:!0}),i.GetSalesCasesSoldMap(e).then(function(n){try{t.HeatMapData=n.data;n.data.filterid=e.Id,o.setStorage("HeatMapData",n.data),o.setStorage("CurrentFilter",e)}catch(e){a.Error()}finally{i.PendingRequest()}},function(){i.PendingRequest(),a.Error("Error upon the API request")})}n("BaseController",{$scope:t}),t.$on("$viewContentLoaded",function(){Metronic.initAjax()}),t.caption_subject="Total Cases Sold",t.chartData=t.meterparams=[],t.page=void 0==s.current.data?"":s.current.data.pageTitle,t.GroceryMonthlyDifference=t.GroceryYearlyDifference=t.ProduceMonthlyDifference=t.ProduceYearlyDifference=t.TotalMonthlyDifference=t.TotalYearlyDifference="",t.PriorRangeText=l.getPriorRangeText(r.currentfilter.Description),r.$on("casessold",function(e,i){Metronic.blockUI({boxed:!0});var a=i.data;h(a),p(a),f(a),m(a),t.PriorRangeText=l.getPriorRangeText(a.Description)}),t.caption_subjectfn=function(e){"initial"==e?(t.caption_subject="Total Cases Sold",t.backBtnShow=!t.totalTabAll):(t.backBtnShow=!1,t.caption_subject=e)},t.caption_subjectfn("initial"),t.BlstatiticsData={casesSold:{name:"CASES SOLD"},revenue:{name:"SALES"}},t.saleschartcaption_subject="Cases Sold (By Sales Person)",t.saleschartcaption_subjectfn=function(e){t.saleschartcaption_subject="initial"==e?"Cases Sold (By Sales Person)":e},t.casesoldtocustomer_subject="Cases Sold (By Customer)",t.casesoldtocustomer_subjectfn=function(e){t.casesoldtocustomer_subject="initial"==e?"Cases Sold (By Customer)":e},t.casessoldgrowthbysalesperson_subject="Cases Sold (Growth By Sales Person)",t.casessoldgrowthbysalesperson_subjectfn=function(e){t.casessoldgrowthbysalesperson_subject="initial"==e?"Cases Sold (Growth By Sales Person)":e},t.casesoldgrowthtocustomer_subject="Cases Sold (Growth By Customer)",t.casesoldgrowthtocustomer_subjectfn=function(e){t.casesoldgrowthtocustomer_subject="initial"==e?"Cases Sold (Growth By Customer)":e},p(r.currentfilter),f(r.currentfilter),function(e){try{var a=o.getStorage("CasesSoldRevenueByMonth");a?a.date!=(new Date).toJSON().slice(0,10).replace(/-/g,"/")?(i.PendingRequest(),h(e)):(t.chartData=[],a.data.filterid==r.currentfilter.Id?(t.chartData=a.data,u(t.chartData,e),t.PiechartCasessold=t.chartData.TotalCasesSold.All[0].SubData,d(t.chartData)):h(e),i.PendingRequest()):h(e);var n=o.getStorage("HeatMapData");n?n.date!=(new Date).toJSON().slice(0,10).replace(/-/g,"/")?(i.PendingRequest(),m(r.currentfilter)):t.HeatMapData=n.data:m(r.currentfilter)}catch(e){}}(r.currentfilter),t.getTopBoxEmptyStylePositive=function(e){return l.getTopBoxEmptyStylePositive(e)},t.getTopBoxEmptyStyleNegative=function(e){return l.getTopBoxEmptyStyleNegative(e)},t.getTopBoxSuccessStyle=function(e){return l.getTopBoxSuccessStyle(e)},t.getTopBoxFailStyle=function(e){return l.getTopBoxFailStyle(e)},t.refreshCharts=function(){Metronic.blockUI({boxed:!0}),h(r.currentfilter),p(r.currentfilter),f(r.currentfilter),m(r.currentfilter)}}]),MetronicApp.controller("ItemReportController",["$scope","dataService","$filter","NotificationService","ApiUrl","commonService","$controller",function(e,t,i,a,n,o,s){function r(e){e=e||new Date;var t=Math.floor(e.getMonth()/3)+1;return t>4?t-4:t}function l(e){return e+" - "+["January","February","March","April","May","June","July","August","September","October","November","December"][e-1]}e.reportBy="EmployeeReport",e.isDrillDown=!1,e.reportTitle="",e.csvFileName="AVG-COST-REPORT.CSV",e.$on("$viewContentLoaded",function(){Metronic.initAjax()}),e.arrayobj=[],e.selectedcallback=function(t){e.selectedItems=t,e.arrayobj=[];for(var i=0;i<t.length;i++)e.arrayobj.push(t[i].Key);e.search()},e.selectedData=null,e.iscanceldisabled=!0,e.onSelect=function(t){e.selectedData=t},e.clearInput=function(){e.$broadcast("simple-autocomplete:clearInput"),e.selectedData=""},e.pageSize=20,s("BaseController",{$scope:e}),e.btnSpinner=o.InitBtnSpinner("#search"),e.getDetailedReport=function(i){e.isDrillDown=!0,e.csvFileName="Avg-Cost-Report-"+i.ItemDesc.trim()+".csv",e.csvFileName=e.csvFileName.toUpperCase(),e.reportTitle=" ("+i.Item+" - "+i.ItemDesc+" - "+e.beginDate+" "+e.endDate+")",e.reportBy="SalesDetailedReport",e.salesDetailedReport=[],e.salesDetailedReportMaster=[];var a={currentStartDate:e.beginDate,currentEndDate:e.endDate,Item:i.Item,Week:i.Week,Month:i.Month,Year:i.Year};Metronic.blockUI({boxed:!0}),(c=t.getItemReportDrillDown(a)).then(function(t){t&&(e.salesDetailedReport=t.data,e.salesDetailedReportMaster=angular.copy(t.data),e.avgCost=i.Cost,e.avgPrize=i.Price),Metronic.unblockUI()}).catch(function(e){Metronic.unblockUI()})},e.backToReport=function(){e.csvFileName="Avg-Cost-Report.csv",e.csvFileName=e.csvFileName.toUpperCase(),e.isDrillDown=!1,e.reportBy="EmployeeReport";e.reportTitle.replace(" ("+e.selectedFiltervalue+")","");e.reportTitle=""};var c=null;e.groupProperty="",e.searchClicked=!1,e.selectedSalesPerson="",e.loadDatePickers=function(){$("#scheduledLoadStartDate").datepicker({rtl:Metronic.isRTL(),orientation:"left",autoclose:!0,todayHighlight:!0}),$("#scheduledLoadEndDate").datepicker({rtl:Metronic.isRTL(),orientation:"left",autoclose:!0,todayHighlight:!0})},e.loadDatePickers(),e.search=function(a){function n(e,t){var i=new Date(e),a="";if("LastMonth"==t){var n,o=i.getMonth();n=o<12?i.getFullYear():i.getFullYear()-1,new Date(n,o-1,1),a=new Date(n,o,0)}else new Date(i.getFullYear()-1,0,1),a=new Date(i.getFullYear(),0,0);return a}e.iscanceldisabled=!1,e.CurrentFilter=a,e.searchClicked=!0,e.Prior="";var o,s,l=!1,h=new Date;if("ThisMonth"==a)o=new Date(h.getFullYear(),h.getMonth(),1),s=new Date(h.getFullYear(),h.getMonth()+1,0);else if("LastMonth"==a){var u,d=h.getMonth();u=d<12?h.getFullYear():h.getFullYear()-1,o=new Date(u,d-1,1),s=new Date(u,d,0)}else if("ThisQuarter"==a){var p=r(h);o=new Date(h.getFullYear(),3*p-3,1),s=new Date(h.getFullYear(),3*p,0)}else if("LastQuarter"==a){var u,f=r(h)-1;f>0?(u=h.getFullYear(),o=new Date(u,3*f-3,1),s=new Date(u,3*f,0)):(u=h.getFullYear()-1,o=new Date(u,9,1),s=new Date(u,12,0))}else"YTD"==a?(o=new Date(h.getFullYear(),0,1),s=new Date):"LastYear"==a?(o=new Date(h.getFullYear()-1,0,1),s=new Date(h.getFullYear(),0,0)):(o=e.beginDate,s=e.endDate);if(e.beginDate=i("date")(o,"MM/dd/yyyy"),e.endDate=i("date")(s,"MM/dd/yyyy"),e.toggleyear?(e.Prior="LastYear",e.priorstatus="Prior Year"):(e.Prior="LastMonth",e.priorstatus="Prior Month"),void 0==e.MinSalesAmt&&(e.MinSalesAmt=100),""==e.MinSalesAmt&&(e.MinSalesAmt=0),(e.beginDate||s)&&(e.StartPrior=i("date")(n(e.beginDate,e.Prior),"MM/dd/yyyy"),e.EndPrior=i("date")(n(s,e.Prior),"MM/dd/yyyy"),!(l=!e.beginDate||!e.endDate||(e.beginDate.length+e.endDate.length<20||l))&&e.isDate(e.beginDate)&&e.isDate(e.endDate)&&!e.isPreviouseDate(e.beginDate,e.endDate))){e.btnSpinner.start();var m={currentStartDate:e.beginDate,currentEndDate:e.endDate,item:e.arrayobj};(c=t.getItemReportData(m)).then(function(t){if(t){e.iscanceldisabled=!0,e.itemReport=t.data.ReportData,e.availableItems=t.data.ListItem,e.itemReportMaster=t.data.ReportData,e.TotalCost=0,e.TotalPrice=0;for(var i=e.itemReport.length,a=0;a<i;a++){e.TotalCost=e.TotalCost+e.itemReport[a].Cost,e.TotalPrice=e.TotalPrice+e.itemReport[a].Price;var n=(e.itemReport[a].Cost-e.itemReport[a].Price)/e.itemReport[a].Cost*100;e.itemReport[a].Difference=n>=50&&"color:red"}e.TotalCost=e.TotalCost/i,e.TotalPrice=e.TotalPrice/i}e.btnSpinner.stop()}).catch(function(t){e.iscanceldisabled=!0;e.btnSpinner.stop()})}},e.resetSearch=function(){e.MinSalesAmt=100,e.itemReport=[],e.itemReportMaster=[],e.CurrentFilter="",e.selectedItems=[],e.clearInput()},e.abortExecutingApi=function(){e.iscanceldisabled=!0;try{return c&&c.abortCall()}catch(e){}},e.getCsvHeader=function(){return e.isDrillDown?["Invoice #","Invoice Date","Customer Number","Customer Name","Quantity Shipped","Bin Number","Unit Of Measure","Cost","Price"]:["Item#","Item Name","Week","Month","Year","Avg Cost","Price"]},e.getCsvData=function(){var t=[],a=[];a=["Item","ItemDesc","Week","Month","Year","Cost","Price"],e.isDrillDown&&(a=["InvoiceNumber","InvoiceDate","CustNumber","CustName","QtyShipped","BinNo","UnitOfMeasure","Cost","Price"]),angular.forEach(e.isDrillDown?e.salesDetailedReportMaster:e.itemReportMaster,function(e,n){var o={};angular.forEach(e,function(e,t){var n=a.indexOf(t);n>-1&&(o[n]="Cost"==t?"$"+e:"Price"==t?"$"+e:"Month"==t?l(e):"InvoiceDate"==t?i("date")(e,"MM/dd/yyyy"):e)}),void 0!=o&&t.push(o)});var n={};if(n[0]="Average",n[1]="",n[2]="",n[3]="",n[4]="",n[5]="$"+e.TotalCost,n[6]="$"+e.TotalPrice,0==e.isDrillDown)t.push(n);else{var n={};n[0]="Average",n[1]="",n[2]="",n[3]="",n[4]="",n[5]="",n[6]="",n[7]="$"+e.avgCost,n[8]="$"+e.avgPrize,t.push(n)}return t},function(){var t=new Date;e.beginDate=i("date")(new Date(t.getFullYear(),t.getMonth(),1),"MM/dd/yyyy"),e.endDate=i("date")(new Date,"MM/dd/yyyy")}()}]),MetronicApp.controller("ChangePasswordController",["$scope","$http","$state","authService","$interval",function(e,t,i,a,n){function o(t){e.message=t}function s(){e.message=""}function r(){var t=!0;return e.formData.NewPassword.length<6?(o("Password must have minimum 6 characters"),t=!1):e.formData.NewPassword!=e.formData.ConfirmPassword&&(o("Your password and confirm password are not matching"),t=!1),t}function l(){e.startRedirect=!0,e.time=5,n(function(){e.time-=1,e.time<=0&&i.go("login")},1e3,e.time)}e.$on("$viewContentLoaded",function(){Metronic.initAjax()}),e.startRedirect=!1,e.time=5,e.message="",e.formData={CurrentPassword:"",NewPassword:"",ConfirmPassword:""},e.changePassword=function(){s(),r()&&(Metronic.startPageLoading({message:"Changing your password..."}),a.updatePassword(e.formData).then(function(){a.logout(),l(),Metronic.stopPageLoading()}).catch(function(){o("An error occured while changing your password"),Metronic.stopPageLoading()}))},e.clearForm=function(){e.formData={CurrentPassword:"",NewPassword:"",ConfirmPassword:""},e.passwordUpdateForm.$setPristine()}}]),MetronicApp.controller("DashboardController",["$scope","dataService","NotificationService","storageService","$rootScope","HelperService",function(e,t,i,a,n,o){function s(n){t.GetOpexTopBoxValues(n).then(function(o){try{e.OpexTopBox=o.data.Result,a.setStorage("CurrentFilter",n),l.filterid=n.Id,r(),e.ShowExpenseCanvas&&(l.OpexTopBox=e.OpexTopBox,a.setStorage("DashboardGaugeValues",l))}catch(e){i.Error()}finally{t.PendingRequest()}}),t.GetProfitTopBoxValues(n).then(function(n){try{e.GrossProfitTopBox=n.data.Result,r(),e.ShowProfitCanvas&&(l.GrossProfitTopBox=e.GrossProfitTopBox,a.setStorage("DashboardGaugeValues",l))}catch(e){i.Error()}finally{t.PendingRequest()}}),t.GetNonCommoditySalesAndCasesSoldTopBoxValues(n).then(function(n){try{e.NonCommoditySalesTopBox=n.data.Result[0],e.NonCommodityCasesSoldTopBox=n.data.Result[1],l.NonCommoditySalesTopBox=e.NonCommoditySalesTopBox,l.NonCommodityCasesSoldTopBox=e.NonCommodityCasesSoldTopBox,r(),a.setStorage("DashboardGaugeValues",l)}catch(e){i.Error()}finally{t.PendingRequest()}}),t.GetDashboardStatistics(n).then(function(n){try{e.BlstatiticsData.casesSold.CurrentYear=n.data.CasesSold.CurrentValue,e.BlstatiticsData.casesSold.PreviousMonth=n.data.CasesSold.PriorValue,e.BlstatiticsData.casesSold.Change=Math.round(o.calcPercentage(e.BlstatiticsData.casesSold.CurrentYear,e.BlstatiticsData.casesSold.PreviousMonth)),e.BlstatiticsData.revenue.CurrentYear=n.data.Sales.CurrentValue,e.BlstatiticsData.revenue.PreviousMonth=n.data.Sales.PriorValue,e.BlstatiticsData.revenue.Change=Math.round(o.calcPercentage(e.BlstatiticsData.revenue.CurrentYear,e.BlstatiticsData.revenue.PreviousMonth)),r(),e.ShowcasesSoldCanvas&&(l.casesSold.CurrentYear=e.BlstatiticsData.casesSold.CurrentYear,l.casesSold.PreviousMonth=e.BlstatiticsData.casesSold.PreviousMonth,l.casesSold.Change=e.BlstatiticsData.casesSold.Change,l.revenue.CurrentYear=e.BlstatiticsData.revenue.CurrentYear,l.revenue.PreviousMonth=e.BlstatiticsData.revenue.PreviousMonth,l.revenue.Change=e.BlstatiticsData.revenue.Change,a.setStorage("DashboardGaugeValues",l))}catch(e){i.Error()}finally{t.PendingRequest()}},function(){Metronic.unblockUI(),t.PendingRequest(),i.Error("Error upon the API request")})}function r(){var t=localStorage.getItem("ls.nogalesAuthAccess");if(t=!!t&&JSON.parse(t)){t=t.Modules;for(var i=0;i<t.length;i++)"Cases Sold"==t[i].Name&&(e.ShowcasesSoldCanvas=t[i].IsAccess),"Sales"==t[i].Name&&(e.ShowSalesCanvas=t[i].IsAccess),"Expenses"==t[i].Name&&(e.ShowExpenseCanvas=t[i].IsAccess),"Profitablity"==t[i].Name&&(e.ShowProfitCanvas=t[i].IsAccess)}}Metronic.blockUI({boxed:!0}),e.$on("$viewContentLoaded",function(){Metronic.initAjax()}),n.$on("dashboard",function(t,i){Metronic.blockUI({boxed:!0});var a=i.data;s(a),e.PriorRangeText=o.getPriorRangeText(a.Description)}),e.BlstatiticsData={casesSold:{name:"CASES SOLD"},revenue:{name:"SALES"}},e.PriorRangeText=o.getPriorRangeText(n.currentfilter.Description);var l={casesSold:{},revenue:{}};!function(i){try{var l=a.getStorage("DashboardGaugeValues");l?l.date!=(new Date).toJSON().slice(0,10).replace(/-/g,"/")?(t.PendingRequest(),s(i)):(e.chartData=[],l.data.filterid==n.currentfilter.Id?(e.OpexTopBox=l.data.OpexTopBox,e.BlstatiticsData.casesSold.CurrentYear=l.data.casesSold.CurrentYear,e.BlstatiticsData.casesSold.PreviousMonth=l.data.casesSold.PreviousMonth,e.BlstatiticsData.casesSold.Change=Math.round(o.calcPercentage(e.BlstatiticsData.casesSold.CurrentYear,e.BlstatiticsData.casesSold.PreviousMonth)),e.BlstatiticsData.revenue.CurrentYear=l.data.revenue.CurrentYear,e.BlstatiticsData.revenue.PreviousMonth=l.data.revenue.PreviousMonth,e.BlstatiticsData.revenue.Change=Math.round(o.calcPercentage(e.BlstatiticsData.revenue.CurrentYear,e.BlstatiticsData.revenue.PreviousMonth)),e.NonCommoditySalesTopBox=l.data.NonCommoditySalesTopBox,e.NonCommodityCasesSoldTopBox=l.data.NonCommodityCasesSoldTopBox,
e.GrossProfitTopBox=l.data.GrossProfitTopBox,r()):s(i),Metronic.unblockUI()):s(i)}catch(e){}}(n.currentfilter),e.refreshCharts=function(){Metronic.blockUI({boxed:!0}),s(n.currentfilter)}}]),MetronicApp.controller("ExpensesReportController",["$scope","dataService","$stateParams","$filter","NotificationService","ApiUrl","commonService","$controller",function(e,t,a,n,o,s,r,l){function c(e){e=e||new Date;var t=Math.floor(e.getMonth()/3)+1;return t>4?t-4:t}function h(e){var t="";for(i=0;i<e.length;i++){t+=JSON.parse(e[i]).Key+","}return t=t.length>1?t.substring(0,t.length-1):t}function u(){var t=new Date;e.beginDate=n("date")(new Date(t.getFullYear(),t.getMonth(),1),"MM/dd/yyyy"),e.endDate=n("date")(new Date,"MM/dd/yyyy"),e.search()}e.$on("$viewContentLoaded",function(){Metronic.initAjax()}),e.iscanceldisabled=!0,l("BaseController",{$scope:e}),e.searchClicked=!1,e.filter={},e.btnSpinner=r.InitBtnSpinner("#search");var d=["Operational Expenses","Costs to Good Sold","OPEX And COGS"];e.glAccounts=[{Key:0,Value:"OPEX- Operational Expenses"},{Key:1,Value:"COGS- Costs to Good Sold"},{Key:2,Value:"All"}],e.filter.glAccount=e.glAccounts[0].Key,e.apChartTitle=d[0],e.shipmentsMaster=[];var p=null;e.myTableFunctions={},e.profiles=[],e.profilesMaster=[],e.groupProperty="",e.loadDatePickers=function(){$("#scheduledLoadStartDate").datepicker({rtl:Metronic.isRTL(),orientation:"left",autoclose:!0,todayHighlight:!0}),$("#scheduledLoadEndDate").datepicker({rtl:Metronic.isRTL(),orientation:"left",autoclose:!0,todayHighlight:!0})},e.loadDatePickers(),function(){e.beginDate="",e.endDate="",e.filter.accountNumberStart="",e.filter.accountNumberEnd="",e.filter.vendor="",e.filter.invoiceNumber="",e.filter.stratSession="",e.filter.endSession="",e.filter.startBatch="",e.filter.endBatch="",e.filter.transactionNo="",e.selectedArTypes="",e.filter.transactionNo=""}(),e.showDefaultReport=!0,e.search=function(i){e.searchClicked=!0,e.iscanceldisabled=!1;var a,o,s=!1,r=new Date;if("ThisMonth"==i)a=new Date(r.getFullYear(),r.getMonth(),1),o=new Date(r.getFullYear(),r.getMonth()+1,0);else if("LastMonth"==i){var l,u=r.getMonth();l=u<12?r.getFullYear():r.getFullYear()-1,a=new Date(l,u-1,1),o=new Date(l,u,0)}else if("ThisQuarter"==i){var f=c(r);a=new Date(r.getFullYear(),3*f-3,1),o=new Date(r.getFullYear(),3*f,0)}else if("LastQuarter"==i){var l,m=c(r)-1;m>0?(l=r.getFullYear(),a=new Date(l,3*m-3,1),o=new Date(l,3*m,0)):(l=r.getFullYear()-1,a=new Date(l,9,1),o=new Date(l,12,0))}else"YTD"==i?(a=new Date(r.getFullYear(),0,1),o=new Date):"LastYear"==i?(a=new Date(r.getFullYear()-1,0,1),o=new Date(r.getFullYear(),0,0)):(a=e.beginDate,o=e.endDate);if(e.beginDate=n("date")(a,"MM/dd/yyyy"),e.endDate=n("date")(o,"MM/dd/yyyy"),!(s=!e.beginDate||!e.endDate||(e.beginDate.length+e.endDate.length<20||s))&&e.isDate(e.beginDate)&&e.isDate(e.endDate)&&!e.isPreviouseDate(e.beginDate,e.endDate)){e.apChartTitle=d[e.filter.glAccount],e.btnSpinner.start();var g={StartDate:e.beginDate,EndDate:e.endDate,AccountNumberStart:e.filter.accountNumberStart,AccountNumberEnd:e.filter.accountNumberEnd,GLAccounTtype:e.filter.glAccount,VendorNumber:e.filter.vendor,InvoiceNumber:e.filter.invoiceNumber,StartSession:e.filter.stratSession,EndSession:e.filter.endSession,StartBatch:e.filter.startBatch,EndBatch:e.filter.endBatch,TransactionNumber:e.filter.transactionNo,ARType:e.selectedArTypes?h(e.selectedArTypes):"",CustomerNumber:e.filter.customerNo,JournalType:"AP"};(p=t.GetJournalReportData(g)).then(function(t){t&&(e.iscanceldisabled=!0,e.TotalAmount=0,204==t.data?(e.ApJournalReport=[],e.ApJournalReportMaster=[]):(e.ApJournalReport=t.data,e.ApJournalReportMaster=t.data,e.TotalAmount=t.data.reduce(function(e,t){return{Amount:e.Amount+t.Amount}}).Amount)),e.btnSpinner.stop()}).catch(function(t){e.btnSpinner.stop()})}e.showDefaultReport=!1},e.resetSearch=function(){e.myTableFunctions.resetSearch(),e.groupProperty="",e.selectedSalesPersons=[],e.ApJournalReport=[],e.ApJournalReportMaster=[],e.filter.glAccount=0,e.filter.stratSession="",e.filter.endSession="",e.filter.startBatch="",e.filter.endBatch="",e.filter.vendor="",e.filter.invoiceNumber="",e.searchClicked=!1,u()},e.abortExecutingApi=function(){return e.iscanceldisabled=!0,p&&p.abortCall()},e.getCsvData=function(e,t){var i=[],a=[],n=0;a=e,angular.forEach(t,function(e,t){var o={};angular.forEach(e,function(e,t){var i=a.indexOf(t);i>-1&&("Amount"==t?(o[i]="$"+e,n+=e):o[i]=e)}),void 0!=o&&i.push(o)});var o={};return o[0]="Total",o[1]="",o[2]="",o[3]="",o[4]="",o[5]="",o[6]="",o[7]="",o[8]="",o[9]="$"+n,i.push(o),i},e.numberOfPages=function(e,t){return Math.ceil(e/t)},e.getSum=function(e,t){var i=0;if(e)for(var a=0;a<e.length;a++)i+=e[a][t];return i},e.getApCsvHeader=function(){return["GL Account","Account Name","Transaction Date","Vendor","Invoice Number","Reference Number","Session","GL Batch","Description","Amount"]},e.getApCsvData=function(){var t=["GLAccount","AccountName","TransactionDate","Vendor","InvoiceNumber","ReferenceNumber","Session","GLBatch","Description","Amount"];return e.getCsvData(t,e.ApJournalReportMaster)},u()}]),MetronicApp.controller("ExpenseController",["$scope","dataService","NotificationService","$controller","storageService","$rootScope","HelperService",function(e,t,i,a,n,o,s){function r(a){t.LoadExpenseChart(a).then(function(o){try{e.totalChartData=o.data,n.setStorage("CurrentFilter",a)}catch(e){i.Error()}finally{t.PendingRequest()}},function(){i.Error("Error upon the API request")})}function l(a){t.FilterOPEXcogsExpensesChart(a).then(function(o){try{n.setStorage("OPEXCOGSExpenseJournalChart",o.data.OPEXCOGSExpenseJournalChart),e.expensesData=o.data,n.setStorage("CurrentFilter",a)}catch(e){i.Error()}finally{t.PendingRequest()}},function(){t.PendingRequest(),i.Error("Error upon the API request")})}function c(a){t.GetExpensesStatistics(a).then(function(i){i&&i.data&&(e.Data=i.data,Metronic.unblockUI(),e.metergauge={wages:e.Data.Wages,otWages:e.Data.OtWages,adminExp:e.Data.AdminExp,warehouseExp:e.Data.WarehouseExp,transExp:e.Data.TransExp},t.PendingRequest())},function(){Metronic.unblockUI(),i.Error("Error upon the API request")})}function h(a){t.FilterAdminExpensesChart(a).then(function(a){try{a.data.forEach(function(e,t){a.data[t].color=s.getRandomColor()}),e.topTenAdminExpenses=a.data}catch(e){i.Error()}finally{t.PendingRequest()}},function(){i.Error("Error upon the API request")})}a("BaseController",{$scope:e}),e.caption_subjectOPEXCOGSExpenseJournalChart="OPEX/COGS Journal Expenses",e.caption_subjectPayrollJournalChart="Wages",e.$on("$viewContentLoaded",function(){Metronic.initAjax()}),o.$on("expenses",function(e,t){Metronic.blockUI({boxed:!0});var i=t.data;r(i),l(i),c(i),h(i)}),c(o.currentfilter),l(o.currentfilter),r(o.currentfilter),h(o.currentfilter),e.caption_subjectfnOPEXCOGSExpenseJournalChart=function(t){e.caption_subjectOPEXCOGSExpenseJournalChart="initial"==t?"OPEX/COGS Journal Expenses":t},e.caption_subjectfnPayrollJournalChart=function(t){e.caption_subjectPayrollJournalChart="initial"==t?"Wages":t},e.caption_subjectfn=function(t){e.commoditycharttitle="initial"==t?"Commodity Expenses":t},e.caption_subjectfn("initial")}]),MetronicApp.controller("LoginController",["$rootScope","$scope","$http","$state","authService","commonService","dataService","NotificationService","$location",function(e,t,i,a,n,o,s,r,l){function c(){d("Verifying Credentials..."),n.login(t.loginData.userName,t.loginData.password).then(function(e){u(),"True"==e.forceReset?a.go("resetPassword"):"Tool Admin"==n.user.role?a.go("user-management"):a.go("dashboard"),t.btnSpinner.stop()}).catch(function(){t.btnSpinner.stop(),h("Either the username was not recognized or the password was incorrect")})}function h(e){t.isErrorMessage=!0,t.message=e}function u(){t.isErrorMessage=!0,t.message=""}function d(e){t.isErrorMessage=!1,t.message=e}t.$on("$viewContentLoaded",function(){Metronic.initAjax(),e.continue()});l.search();Metronic.unblockUI(),t.btnSpinner=o.InitBtnSpinner("#login"),t.forgotPasswordBtnSpinner=o.InitBtnSpinner("#forgotPassword"),function(){$(".login-bg").backstretch(["assets/global/img/login/1.jpg","assets/global/img/login/2.jpg","assets/global/img/login/4.jpg","assets/global/img/login/5.jpg","assets/global/img/login/6.jpg"],{fade:1e3,duration:8e3})}(),t.isErrorMessage=!0,t.message="",t.loginData={userName:"",password:""},t.login=function(){t.btnSpinner.start(),u(),c()},t.openModal=function(e){t.resetEmail="",e&&""!=e&&$("#"+e).modal({backdrop:"static",keyboard:!1})},t.closeModal=function(e){e&&""!=e&&$("#"+e).modal("hide")},t.forgotPassword=function(){t.forgotPasswordBtnSpinner.start();var e={Email:t.resetEmail};s.ForgetPassword(e).then(function(e){t.forgotPasswordBtnSpinner.stop(),t.closeModal("resetUserPasswordModal"),r.Success("Successfully sent mail"),t.resetEmail=""},function(){t.forgotPasswordBtnSpinner.stop(),r.Error("No matching account was found!\n Please fill correct email address for password reset link"),r.ConsoleLog("Error on the server")})}}]),MetronicApp.controller("ProfitabiltyController",["$scope","dataService","$filter","NotificationService","storageService","$rootScope","$controller",function(e,t,i,a,n,o,s){function r(i){Metronic.blockUI({boxed:!0}),t.getMainDashboardProfitabilityChartData(i).then(function(i){try{e.totalChartData=i.data}catch(e){a.Error()}finally{t.PendingRequest()}},function(){a.Error("Error upon the API request")})}function l(e){return e>=1e18?(e/1e18).toFixed(1).replace(/\.0$/,"")+"E":e>=1e15?(e/1e15).toFixed(1).replace(/\.0$/,"")+"P":e>=1e12?(e/1e12).toFixed(1).replace(/\.0$/,"")+"T":e>=1e9?(e/1e9).toFixed(1).replace(/\.0$/,"")+"G":e>=1e6?(e/1e6).toFixed(1).replace(/\.0$/,"")+"M":e>=1e3?(e/1e3).toFixed(1).replace(/\.0$/,"")+"K":e}function c(i){Metronic.blockUI({boxed:!0}),t.GetProfitablityDashboardBarChartData(i).then(function(i){try{t.PendingRequest(),e.ProfitablityDashboardBarChartData=i.data.TotalRevenue.All}catch(e){a.Error()}finally{t.PendingRequest()}},function(){a.Error("Error upon the API request")})}function h(){Metronic.blockUI({boxed:!0});var t=new Date;e.startDate=i("date")(new Date(t.getFullYear(),0,1),"yyyy-MM-dd"),e.endDate=i("date")(t,"yyyy-MM-dd");r(o.currentfilter),u(),d(),c(o.currentfilter)}function u(){t.LoadGetProfitabilityByItem(o.currentfilter.Id).then(function(i){try{e.ProfitabilityByItem=i.data}catch(e){a.Error()}finally{t.PendingRequest()}},function(){a.Error("Error upon the API request")})}function d(){t.LoadGetProfitabilityByCustomer(o.currentfilter.Id).then(function(i){try{e.ProfitabilityByCustomer=i.data}catch(e){a.Error()}finally{t.PendingRequest()}},function(){a.Error("Error upon the API request")})}s("BaseController",{$scope:e}),Metronic.blockUI({boxed:!0}),e.CustomerFilter=5e4,e.ItemFilter=2500,e.checkClickIndex=function(t,i,a,n){1==t?i.stopPropagation():"Customer"==n?e.CustomerFilter=5e4:e.ItemFilter=a},e.tableFunctions={},e.$on("$viewContentLoaded",function(){Metronic.initAjax()}),e.CurrentRevenuePointList=[{Key:"25K",value:25e3,clickedinput:!1},{Key:"50K",value:5e4,clickedinput:!1},{Key:"100K",value:1e5,clickedinput:!1},{Key:"250K",value:25e4,clickedinput:!1}],e.CurrentRevenuePointItemList=[{Key:"2.5K",value:2500,clickedinput:!1},{Key:"5K",value:5e3,clickedinput:!1},{Key:"10K",value:1e4,clickedinput:!1}],e.profitmargincaption="PROFIT MARGIN",e.clickedinput=!1,e.profitabilityChartTitle="",e.currentfilterlabel="50K",e.currentfilterlabelItem="2.5K",o.$on("profitability",function(t,i){Metronic.blockUI({boxed:!0});var a=i.data;o.currentfilter=a,e.GetMarginByDifference(!0,e.CustomerFilter),e.GetMarginByDifference(!1,e.ItemFilter),e.GetMargin(o.currentfilter,e.CustomerFilter,e.ItemFilter),h(),c(o.currentfilter)}),e.profitmargincaptionfn=function(t){e.profitmargincaption="initial"==t?"Profit Margin":t},e.search=function(t,a){var n,s,l=new Date;"YTD"==t?(n=new Date(l.getFullYear(),0,1),s=new Date):"LastYear"==t?(n=new Date(l.getFullYear()-1,0,1),s=new Date(l.getFullYear(),0,0)):"LastTwoYear"==t?(n=new Date(l.getFullYear()-2,0,1),s=new Date):"LastThreeYear"==t&&(n=new Date(l.getFullYear()-3,0,1),s=new Date),e.startDate=i("date")(n,"yyyy-MM-dd"),e.endDate=i("date")(s,"yyyy-MM-dd"),e.dfDateFilter="Custom",r(o.currentfilter)},e.addrevenue=function(t,i){function n(e){return e.value==t}function n(e){return e.value==t}if(""!==(t=function(e,t){return t=t||"\\s",e.replace(new RegExp("^["+t+"]+","g"),"")}(t,"0"))){var o=l(t),s={Key:o,value:t,clickedinput:!1};if("Customer"==i){var r=e.CurrentRevenuePointList.findIndex(n);-1==r?(e.CurrentRevenuePointList.push(s),e.CustomReveue=""):e.CustomReveue=""}else{var r=e.CurrentRevenuePointItemList.findIndex(n);-1==r?(e.CurrentRevenuePointItemList.push(s),e.CustomReveue=""):(e.CustomReveue="",a.Error("The value already exist."))}}else e.CustomReveue=""},e.GetMargin=function(i,s,r){Metronic.blockUI({boxed:!0});var c=l(s);e.currentfilterlabel=c;var h=l(r);e.currentfilterlabelItem=h,t.GetMargin(i,s,r).then(function(i){try{e.marginData=i.data.ProfitabiltyChart,e.TopBottomChartByMonthCustomer=i.data.Customer.TopBottomChartByMonth,e.CustomerChart=e.TopBottomChartByMonthCustomer,e.TopBottomChartByMonthItem=i.data.Item.TopBottomChartByMonth,e.ItemChart=e.TopBottomChartByMonthItem,n.setStorage("CurrentFilter",o.currentfilter),t.PendingRequest()}catch(e){a.Error()}finally{t.PendingRequest()}},function(){})},e.GetMargin(o.currentfilter,e.CustomerFilter,e.ItemFilter),e.GetMarginByDifference=function(i,s){i?(e.currentfilterlabel=l(s),e.CustomerFilter=s):(e.currentfilterlabelItem=l(s),e.ItemFilter=s),t.GetMarginByDifferennce(o.currentfilter,i,s).then(function(s){try{i?(e.TopBottomChartByMonthCustomer=s.data.Customer.TopBottomChartByMonth,e.CustomerChart=e.TopBottomChartByMonthCustomer):(e.TopBottomChartByMonthItem=s.data.Item.TopBottomChartByMonth,e.ItemChart=e.TopBottomChartByMonthItem),n.setStorage("CurrentFilter",o.currentfilter)}catch(e){a.Error()}finally{t.PendingRequest()}},function(){a.Error("Error upon the API request")})},h(),e.ProfitabilityByItem_subjectfn=function(t){e.ProfitabilityByItem_subject="initial"==t?"Profit By Item":t},e.ProfitabilityByCustomer_subjectfn=function(t){e.ProfitabilityByCustomer_subject="initial"==t?"Profit By Customer":t},e.BreadCrumbTextFnTotalChart=function(t){e.BreadCrumbTextTotalChart=t},e.caption_subjectfn=function(t){"initial"==t?(e.caption_subject="Total Profitability",e.backBtnShow=!e.totalTabAll):(e.backBtnShow=!1,e.caption_subject=t)},e.caption_subjectfn("initial")}]),MetronicApp.controller("ResetController",["$scope","$http","$state","authService","$interval",function(e,t,i,a,n){function o(t){e.message=t}function s(){e.message=""}function r(){var t=!0;return e.loginData.NewPassword.length<6?(o("Password must have minimum 6 characters"),t=!1):e.loginData.NewPassword.length>15?(o("Password length exceed more than 15 characters"),t=!1):e.loginData.NewPassword!=e.loginData.ConfirmPassword&&(o("Your password and confirm password are not matching"),t=!1),0==e.loginData.NewPassword.length&&(o("You must enter a password!"),t=!1),t}function l(){e.startRedirect=!0,e.time=5,n(function(){e.time-=1,e.time<=0&&i.go("login")},1e3,e.time)}e.$on("$viewContentLoaded",function(){Metronic.initAjax()}),function(){$(".login-bg").backstretch(["assets/global/img/login/1.jpg","assets/global/img/login/2.jpg","assets/global/img/login/3.jpg","assets/global/img/login/4.jpg"],{fade:1e3,duration:8e3})}(),e.startRedirect=!1,e.time=5,e.message="",e.loginData={NewPassword:"",ConfirmPassword:""},e.resetPassword=function(){s(),r()&&a.resetPassword(e.loginData).then(function(){a.logout(),l()}).catch(function(){o("An error occured while resetting your password")})},e.gottologin=function(){i.go("login")}}]),MetronicApp.controller("RevenueReportController",["$scope","dataService","$filter","NotificationService","ApiUrl","commonService","$controller",function(e,t,i,a,n,o,s){function r(){t.GetAllSalesPersonsForFiltering().then(function(t){e.salesPersonList=[];for(var i=0;i<t.data.length;i++){var a={AssignedPersonList:t.data[i].AssignedPersonList,Category:t.data[i].Category,Id:i,SalesPersonCode:t.data[i].SalesPersonCode,SalesPersonDescription:t.data[i].SalesPersonDescription};e.salesPersonList.push(a)}var a={AssignedPersonList:"All",Category:"All",Id:e.salesPersonList.length,SalesPersonCode:"All",SalesPersonDescription:"All"};e.salesPersonList.push(a),e.salesPersonList=e.salesPersonList.reverse(),e.salespersonitem=e.salesPersonList[0],c()})}function l(e){e=e||new Date;var t=Math.floor(e.getMonth()/3)+1;return t>4?t-4:t}function c(){var t=new Date;e.beginDate=i("date")(new Date(t.getFullYear(),t.getMonth(),1),"MM/dd/yyyy"),e.endDate=i("date")(new Date,"MM/dd/yyyy"),e.search()}e.$on("$viewContentLoaded",function(){Metronic.initAjax()}),e.pageSize=20,s("BaseController",{$scope:e}),e.iscanceldisabled=!0,e.btnSpinner=o.InitBtnSpinner("#search");var h=null;e.myTableFunctions={},e.salesPersonTableFunctions={},e.groupProperty="",e.searchClicked=!1,e.selectedSalesPerson="",e.loadDatePickers=function(){$("#scheduledLoadStartDate").datepicker({rtl:Metronic.isRTL(),orientation:"left",autoclose:!0,todayHighlight:!0}),$("#scheduledLoadEndDate").datepicker({rtl:Metronic.isRTL(),orientation:"left",autoclose:!0,todayHighlight:!0}),$("#scheduledLoadStartDate1").datepicker({rtl:Metronic.isRTL(),orientation:"left",autoclose:!0,todayHighlight:!0}),$("#scheduledLoadEndDate1").datepicker({rtl:Metronic.isRTL(),orientation:"left",autoclose:!0,todayHighlight:!0})},e.loadDatePickers(),function(){t.GetCasesSoldReportPrerequisites().then(function(t){e.Commodity=[],e.FoodService=[],$.each(t.data[0],function(t,i){e.Commodity.push({key:t,value:i})}),$.each(t.data[1],function(t,i){e.FoodService.push({key:t,value:i})}),e.Commodityselected=e.Commodity[0],e.FoodServiceselected=e.FoodService[0],r()})}(),e.search=function(a){function n(e,t){var i=new Date(e);return"LastMonth"==t?moment(i).subtract(1,"month").format("MM/DD/YYYY"):moment(i).subtract(1,"year").format("MM/DD/YYYY")}e.CurrentFilter=a,e.iscanceldisabled=!1,e.searchClicked=!0,e.Prior="";var o,s,r=!1,c=new Date;if("ThisMonth"==a)o=new Date(c.getFullYear(),c.getMonth(),1),s=new Date(c.getFullYear(),c.getMonth()+1,0);else if("LastMonth"==a){var u,d=c.getMonth();u=d<12?c.getFullYear():c.getFullYear()-1,o=new Date(u,d-1,1),s=new Date(u,d,0)}else if("ThisQuarter"==a){var p=l(c);o=new Date(c.getFullYear(),3*p-3,1),s=new Date(c.getFullYear(),3*p,0)}else if("LastQuarter"==a){var u,f=l(c)-1;f>0?(u=c.getFullYear(),o=new Date(u,3*f-3,1),s=new Date(u,3*f,0)):(u=c.getFullYear()-1,o=new Date(u,9,1),s=new Date(u,12,0))}else"YTD"==a?(o=new Date(c.getFullYear(),0,1),s=new Date):"LastYear"==a?(o=new Date(c.getFullYear()-1,0,1),s=new Date(c.getFullYear(),0,0)):(o=e.beginDate,s=e.endDate);if(e.beginDate=i("date")(o,"MM/dd/yyyy"),e.endDate=i("date")(s,"MM/dd/yyyy"),e.toggleyear?(e.Prior="LastYear",e.priorstatus="Prior Year"):(e.Prior="LastMonth",e.priorstatus="Prior Month"),void 0==e.MinSalesAmt&&(e.MinSalesAmt=100),""==e.MinSalesAmt&&(e.MinSalesAmt=0),(e.beginDate||s)&&(e.StartPrior=i("date")(n(e.beginDate,e.Prior),"MM/dd/yyyy"),e.EndPrior=i("date")(n(s,e.Prior),"MM/dd/yyyy"),!(r=!e.beginDate||!e.endDate||(e.beginDate.length+e.endDate.length<20||r))&&e.isDate(e.beginDate)&&e.isDate(e.endDate)&&!e.isPreviouseDate(e.beginDate,e.endDate))){e.btnSpinner.start();var m={Comodity:"All"==e.Commodityselected.value?"":e.Commodityselected.value,Category:"All"==e.FoodServiceselected.value?"":e.FoodServiceselected.value,currentStartDate:e.beginDate,currentEndDate:e.endDate,priorStartDate:e.StartPrior,priorEndDate:e.EndPrior,MinSalesAmt:e.MinSalesAmt,SalesPersonCode:"All"==e.salespersonitem.SalesPersonCode?"":e.salespersonitem.SalesPersonCode};(h=t.GetRevenueCustomerReport(m)).then(function(t){if(t){e.iscanceldisabled=!0,e.revenuecsv="Revenue-Report ( "+e.priorstatus+" ).csv",e.revenuecsv=e.revenuecsv.toUpperCase(),e.salesReport=t.data.ReportData,e.salesReportMaster=t.data.ReportData,e.ChartData=t.data.ChartData,e.TotalPrevious=0,e.TotalCurrent=0;for(var i=e.salesReport.length,a=0;a<i;a++)e.TotalPrevious=e.TotalPrevious+e.salesReport[a].Previous,e.TotalCurrent=e.TotalCurrent+e.salesReport[a].Current}e.btnSpinner.stop()}).catch(function(t){e.iscanceldisabled=!0;e.btnSpinner.stop()})}},e.resetSearch=function(){e.myTableFunctions.resetSearch(),e.groupProperty="",e.selectedSalesPersons=[],e.MinSalesAmt=100,e.salesReport=[],e.salesReportMaster=[],e.Commodityselected=e.Commodity[0],e.FoodServiceselected=e.FoodService[0],r(),e.toggleyear=!1,e.CurrentFilter=""},e.abortExecutingApi=function(){e.iscanceldisabled=!0;try{return h&&h.abortCall()}catch(e){}},e.getCsvHeader=function(){return["Customer Name","Revenue Prior","Revenue (Current)","Difference","Difference(%) "]},e.getCsvData=function(){var t=[],i=[],a=0,n=0;i=["Customer","Previous","Current","Difference","PercentageDifference"],angular.forEach(e.salesReportMaster,function(e,o){var s={};angular.forEach(e,function(e,t){var o=i.indexOf(t);o>-1&&(s[o]="Current"==t||"Previous"==t?"$"+e:e),"Current"==t&&(a+=e),"Previous"==t&&(n+=e)}),void 0!=s&&t.push(s)});var o={};return o[0]="Total",o[1]="$"+n,o[2]="$"+a,t.push(o),t},e.getCustomersSalesDataReport=function(i){e.selectedSalesPerson=i,e.customersData=[],e.customersDataSafe=[],startDivLoader("salesPersonReportPortletBody"),t.GetSalesPersonCustomersDataOfSalesReport(i,e.beginDate,e.endDate).then(function(t){t&&t.data&&(e.customersData=t.data,e.customersDataSafe=angular.copy(e.customersData)),stopDivLoader("salesPersonReportPortletBody")},function(){stopDivLoader("salesPersonReportPortletBody"),a.Error("Error upon the API request"),a.ConsoleLog("Error on the server")})}}]),MetronicApp.controller("RevenueController",["$http","$timeout","$scope","dataService","$filter","NotificationService","$controller","storageService","$state","$rootScope",function(e,t,i,a,n,o,s,r,l,c){function h(e){a.GetCasesSoldRevenueByMonth(e).then(function(a){try{d.button("reset"),i.caption_subject="Total",t(function(){Metronic.stopPageLoading(),i.chartData=a.data,i.meterparams=i.chartData.TotalRevenue.All[0],i.PiechartRevenue=i.chartData.TotalRevenue.All[0].SubData;a.data.filterid=e.Id,r.setStorage("CasesSoldRevenueByMonth",a.data),r.setStorage("CurrentFilter",e);var t=r.getStorage("OPEXCOGSExpenseJournalChart"),n=r.getStorage("totalSales");t&&(t.data.filterid=e.Id,n&&(n.data.filterid=e.Id))},2e3),null!=a.data&&(i.GroceryMonthlyDifference=a.data.GroceryMonthlyDifference,i.GroceryYearlyDifference=a.data.GroceryYearlyDifference,i.ProduceMonthlyDifference=a.data.ProduceMonthlyDifference,i.ProduceYearlyDifference=a.data.ProduceYearlyDifference,i.TotalMonthlyDifference=a.data.TotalMonthlyDifference,i.TotalYearlyDifference=a.data.TotalYearlyDifference)}catch(e){o.Error(),d.button("reset"),o.ConsoleLog("Error while assigning the data from the API to the chart.")}finally{i.PendingRequest()}},function(){Metronic.stopPageLoading(),i.PendingRequest(),o.Error("Error upon the API request"),o.ConsoleLog("Error on the server")})}function u(e){a.GetSalesManDashBoardReport(e).then(function(t){try{i.totlaCasesSold=t.data;t.data.filterid=e.Id,r.setStorage("CurrentFilter",e),r.setStorage("categorystorage",t.data)}catch(e){o.Error(),o.ConsoleLog("Error while assigning the data from the API to the chart.")}finally{Metronic.unblockUI(),a.PendingRequest(),o.Error("Error upon the API request"),o.ConsoleLog("Error on the server")}})}s("BaseController",{$scope:i}),Metronic.unblockUI();var d=$("#load");i.PendingRequest=function(){0==e.pendingRequests.length&&Metronic.unblockUI()},c.$on("revenue",function(e,t){Metronic.blockUI({boxed:!0});var i=t.data;h(i),u(i)}),function(){i.buyertitle="BUYER",i.foodservicetitle="FOOD SERVICE",i.carniceriatitle="CARNICERIA",i.retailtitle="RETAIL",i.nationaltitle="National",i.Willcalltitle="Will call",i.Wholesalertitle="Wholesaler",i.AllOtherstitle="All Others"}(),s("BaseController",{$scope:i}),i.caption_subject="Total",i.chartData=[],i.meterparams=[],i.page=void 0==l.current.data?"":l.current.data.pageTitle,i.GroceryMonthlyDifference="",i.GroceryYearlyDifference="",i.ProduceMonthlyDifference="",i.ProduceYearlyDifference="",i.TotalMonthlyDifference="",i.TotalYearlyDifference="",i.caption_subjectfn=function(e){"initial"==e?(i.caption_subject="Total",i.backBtnShow=!i.totalTabAll):(i.backBtnShow=!1,i.caption_subject=e)},i.$on("$viewContentLoaded",function(){Metronic.initAjax()}),i.caption_subjectfn("initial"),function(e){try{var t=r.getStorage("CasesSoldRevenueByMonth"),a=r.getStorage("categorystorage");t?t.date!=(new Date).toJSON().slice(0,10).replace(/-/g,"/")?(h(e),u(e)):(i.chartData=[],t.data.filterid==c.currentfilter.Id?(i.chartData=t.data,i.PiechartRevenue=i.chartData.TotalRevenue.All[0].SubData,i.GroceryMonthlyDifference=t.data.GroceryMonthlyDifference,i.GroceryYearlyDifference=t.data.GroceryYearlyDifference,i.ProduceMonthlyDifference=t.data.ProduceMonthlyDifference,i.ProduceYearlyDifference=t.data.ProduceYearlyDifference,i.TotalMonthlyDifference=t.data.TotalMonthlyDifference,i.TotalYearlyDifference=t.data.TotalYearlyDifference,i.meterparams=i.chartData.TotalRevenue.All[0]):(h(e),u(e)),i.PendingRequest()):h(e),a?a.date!=(new Date).toJSON().slice(0,10).replace(/-/g,"/")?u(e):(i.totlaCasesSold=[],t.data.filterid==c.currentfilter.Id?i.totlaCasesSold=a.data:u(e)):u(e)}catch(e){i.PendingRequest()}}(c.currentfilter),i.saleschartcaption_subject="Sales",i.saleschartcaption_subject="TOTAL CUSTOMER BY SALES PERSON",i.saleschartcaption_subjectfn=function(e){i.saleschartcaption_subject="initial"==e?"Revenue by Salesperson":e},i.categories_subjectfn=function(e,t){!function(t){switch(t){case"BUYER":i.buyertitle="initial"==e?"BUYER":e;break;case"FOOD SERVICE":i.foodservicetitle="initial"==e?"FOOD SERVICE":e;break;case"CARNICERIA":i.carniceriatitle="initial"==e?"CARNICERIA":e;break;case"RETAIL":i.retailtitle="initial"==e?"RETAIL":e;break;case"National":i.nationaltitle="initial"==e?"National":e;break;case"Will Call":i.Willcalltitle="initial"==e?"Will call":e;break;case"Wholesaler":i.Wholesalertitle="initial"==e?"Wholesaler":e;break;case"All Others":i.AllOtherstitle="initial"==e?"All Others":e}}(t)},i.PercentageCallbackfn=function(e,t,a){i.TotalMonthlyDifference=t,i.TotalYearlyDifference=e,i.meterparams=a},function(e){Metronic.blockUI({boxed:!0}),a.GetRevenueMap(e).then(function(e){try{i.HeatMapData=e.data,a.PendingRequest()}catch(e){o.Error(),a.PendingRequest()}finally{a.PendingRequest()}},function(){a.PendingRequest(),o.Error("Error upon the API request")})}(c.currentfilter)}]),MetronicApp.controller("SalesPersonMapController",["$scope","dataService","$stateParams","$filter","NotificationService","ApiUrl","commonService","$controller",function(e,t,i,a,n,o,s,r){function l(e){e=e||new Date;var t=Math.floor(e.getMonth()/3)+1;return t>4?t-4:t}function c(e){var t=[];if(e&&e.length>0)for(var i=0;i<e.length;i++)t.push(JSON.parse(e[i]));return t}function h(){var t=new Date;e.beginDate=a("date")(new Date(t.getFullYear(),t.getMonth(),1),"MM/dd/yyyy"),e.endDate=a("date")(new Date,"MM/dd/yyyy"),e.search()}function u(e){for(var t=[],i=0;i<e.length;i++)t.push(e[i].Key);return t}e.$on("$viewContentLoaded",function(){Metronic.initAjax()}),e.iscanceldisabled=!0,r("BaseController",{$scope:e}),e.isnewMasterSalesPersons=!1,e.isnewSalesPersons=!1,e.btnSpinner=s.InitBtnSpinner("#search"),e.btnSpinner.start();var d=null;e.myTableFunctions={},e.salesPersonTableFunctions={},e.groupProperty="",e.searchClicked=!1,e.AllsalesPersons=[],e.isEdit=!1,e.editDis=function(t){e.index=t,e.isEdit=!0},e.selectedSalesPerson="",e.editsDescription={},e.UpdateSalesPersonDescription=function(i,a,o,s){e.index=o,e.isEdit=!1,i.Id=a,t.UpdateSalesPersonDescription(i).success(function(t){e.LoadAllSalesPerson()}).error(function(e){n.Error(e)})},e.editCancel=function(t,i){e.index=t,e.isEdit=!1},e.loadDatePickers=function(){$("#scheduledLoadStartDate").datepicker({rtl:Metronic.isRTL(),orientation:"left",autoclose:!0,todayHighlight:!0}),$("#scheduledLoadEndDate").datepicker({rtl:Metronic.isRTL(),orientation:"left",autoclose:!0,todayHighlight:!0}),$("#assignNewScheduledLoadStartDate").datepicker({rtl:Metronic.isRTL(),orientation:"left",autoclose:!0,todayHighlight:!0}),$("#assignNewScheduledLoadEndDate").datepicker({rtl:Metronic.isRTL(),orientation:"left",autoclose:!0,todayHighlight:!0}),$("#unAssignLoadDate").datepicker({rtl:Metronic.isRTL(),orientation:"left",autoclose:!0,todayHighlight:!0})},e.loadDatePickers(),e.getSalesFilters=function(){t.getSalesReportFilters().success(function(t){e.availableSalesPersons=t.ListSalesPerson,e.availableSalesPersons1=angular.copy(t.ListSalesPerson),e.available_Sales_Persons=angular.copy(t.ListSalesPerson)}).error(function(e){void 0})},e.getSalesFilters(),e.LoadAllSalesPerson=function(){(d=t.loadAllSalesPerson()).then(function(t){t&&(e.AllsalesPersons=t.data,e.AllsalesPersonsSafe=angular.copy(t.data))}).catch(function(e){})},e.LoadAllSalesPerson(),function(){t.GetFiltersForSalesMapping().success(function(t){e.MasterSalesPersons=angular.copy(t.MasterSalesPersons),e.SalesPersons=t.SalesPersons,e.TrackingGroups=t.TrackingGroups}).error(function(e){})}(),e.Isnew=function(t,i){if("0"==t)switch(i){case"MasterSalesPersons":e.isnewMasterSalesPersons=!0;break;case"SalesPersons":e.isnewSalesPersons=!0}else switch(i){case"MasterSalesPersons":e.isnewMasterSalesPersons=!1;break;case"SalesPersons":e.isnewSalesPersons=!1,e.SalesPersonsDescriptionScope=t.Description}},e.checkExcisting=function(t,i){if("MasterSalesPersons"==i)for(var a=0;a<e.MasterSalesPersons.length;a++)t==e.MasterSalesPersons[a].Code&&(e.MasterSalesPersonsDescriptionScope=e.MasterSalesPersons[a].Description);if("SalesPersons"==i)for(var a=0;a<e.SalesPersons.length;a++)t==e.SalesPersons[a].Code&&(e.SalesPersonsDescriptionScope=e.SalesPersons[a].Description)},e.search=function(i,n){e.searchClicked=!0,e.iscanceldisabled=!1,e.btnSpinner.start();var o,s,r=!1,h=new Date;if("ThisMonth"==i)o=new Date(h.getFullYear(),h.getMonth(),1),s=new Date(h.getFullYear(),h.getMonth()+1,0);else if("LastMonth"==i){var p,f=h.getMonth();p=f<12?h.getFullYear():h.getFullYear()-1,o=new Date(p,f-1,1),s=new Date(p,f,0)}else if("ThisQuarter"==i){var m=l(h);o=new Date(h.getFullYear(),3*m-3,1),s=new Date(h.getFullYear(),3*m,0)}else if("LastQuarter"==i){var p,g=l(h)-1;g>0?(p=h.getFullYear(),o=new Date(p,3*g-3,1),s=new Date(p,3*g,0)):(p=h.getFullYear()-1,o=new Date(p,9,1),s=new Date(p,12,0))}else"YTD"==i?(o=new Date(h.getFullYear(),0,1),s=new Date):"LastYear"==i?(o=new Date(h.getFullYear()-1,0,1),s=new Date(h.getFullYear(),0,0)):(o=e.beginDate,s=e.endDate);if(e.beginDate=a("date")(o,"MM/dd/yyyy"),e.endDate=a("date")(s,"MM/dd/yyyy"),!(r=!e.beginDate||!e.endDate||(e.beginDate.length+e.endDate.length<20||r))&&e.isDate(e.beginDate)&&e.isDate(e.endDate)&&!e.isPreviouseDate(e.beginDate,e.endDate)){var v={SalesPersonCode:u(c(n)),startDate:e.beginDate,endDate:e.endDate};(d=t.getArchievedSalesPersonMapping(v)).then(function(t){e.btnSpinner.stop(),t&&(e.iscanceldisabled=!0,e.ArchievedSalesPersonMapping=t.data,e.ArchievedSalesPersonMappingSafe=angular.copy(t.data))}).catch(function(e){})}},e.resetSearch=function(){e.groupProperty="",e.selectedSalesPersons=[],e.selectedSales="",e.ArchievedSalesPersonMapping=[],e.ArchievedSalesPersonMappingSafe=[],h()},e.abortExecutingApi=function(){try{d&&d.abortCall()}catch(e){}},h(),e.openModal=function(t,i){e.selectedMasterSalesPersons="",e.selectedSalesPersons="",e.isnewMasterSalesPersons=!1,e.isnewSalesPersons=!1,t&&""!=t&&$("#"+t).modal({backdrop:"static",keyboard:!1})},e.closeModal=function(t){t&&""!=t&&$("#"+t).modal("hide"),e.modelData="",e.availableSalesPersons1=angular.copy(e.available_Sales_Persons),e.isnewMasterSalesPersons=!1,e.isnewSalesPersons=!1,e.sales={},e.selectedMasterSalesPersons="",e.selectedSalesPersons="",e.selectedTrackingGroups=""},e.sales={},e.salesPersonAdd=function(i){for(var n=0==e.selectedSalesPersons?e.SalesPersonsCodeScope:e.selectedSalesPersons,o=0;o<e.SalesPersons.length;o++)if(e.SalesPersons[o].Code==n){
e.SalesPersonsDescriptionScope=e.SalesPersons[o].Description;break}for(var s=0==e.selectedMasterSalesPersons?e.MasterSalesPersonsCodeScope:e.selectedMasterSalesPersons,o=0;o<e.MasterSalesPersons.length;o++)if(e.MasterSalesPersons[o].Code==s){e.MasterSalesPersonsDescriptionScope=e.MasterSalesPersons[o].Description;break}var r,l,c,h;e.isnewMasterSalesPersons?(r=i.MasterSalesPersonsCodeScope,l=i.MasterSalesPersonsDescriptionScope):(r=s,l=e.MasterSalesPersonsDescriptionScope),e.isnewSalesPersons?(c=i.SalesPersonsCodeScope,h=i.SalesPersonsDescriptionScope):(c=n,h=e.SalesPersonsDescriptionScope);var u={SalesPersonCode:c,SalesPersonDescription:h,AssignedPersonCode:r,AssignedDescription:l,StartDate:a("date")(new Date,"MM/dd/yyyy"),TrackingGroup:e.selectedTrackingGroups};(d=t.AssignSalesPersons(u)).then(function(t){t&&(e.AllsalesPersons=t.data,e.AllsalesPersonsSafe=angular.copy(t.data),e.closeModal("salesReportOfSalesPerson"),e.getSalesFilters())}).catch(function(e){})},e.unassignconfirm=function(t,i,n){e.CurrentIndex=t.$$hashKey,e.AssignedCodeIndex=i.$$hashKey,e.rowData=t.AssignedPersonCode,e.AssignedPerson=i.SalesPersonCode,e.unAssignLoadDate=a("date")(new Date,"MM/dd/yyyy"),$("#unassignConfirmation").modal({backdrop:"static",keyboard:!1})},e.unassign=function(i){var a={salesPersonCode:e.AssignedPerson,assignSalesPersonCode:e.rowData,unAssignLoadDate:i};(d=t.unAssignSalesPersons(a)).then(function(t){function i(t){return t.$$hashKey==e.AssignedCodeIndex}function a(t){return t.$$hashKey==e.CurrentIndex}if("OK"==t.statusText){var n=e.AllsalesPersons.findIndex(i),o=e.AllsalesPersons[n].AssignedPersonList.findIndex(a);e.AllsalesPersons[n].AssignedPersonList.splice(o,1),e.search(),$("#unassignConfirmation").modal("hide"),e.getSalesFilters()}}).catch(function(e){})}}]),MetronicApp.controller("SalesReportController",["$scope","dataService","$stateParams","$filter","NotificationService","ApiUrl","commonService","$controller","$rootScope",function(e,t,i,a,n,o,s,r,l){function c(e){e=e||new Date;var t=Math.floor(e.getMonth()/3)+1;return t>4?t-4:t}function h(e){var t=[];if(e&&e.length>0)for(var i=0;i<e.length;i++)t.push(JSON.parse(e[i]));return t}function u(){var t=new Date;e.beginDate=a("date")(new Date(t.getFullYear(),t.getMonth(),1),"MM/dd/yyyy"),e.endDate=a("date")(new Date,"MM/dd/yyyy"),e.search()}function d(e){for(var t=[],i=0;i<e.length;i++)t.push(e[i].Key);return t}e.$on("$viewContentLoaded",function(){Metronic.initAjax()}),r("BaseController",{$scope:e}),e.priorstatus="",e.iscanceldisabled=!0,e.btnSpinner=s.InitBtnSpinner("#search");var p=null;e.myTableFunctions={},e.salesPersonTableFunctions={},e.groupProperty="",e.searchClicked=!1,e.selectedSalesPerson="",e.loadDatePickers=function(){$("#scheduledLoadStartDate").datepicker({rtl:Metronic.isRTL(),orientation:"left",autoclose:!0,todayHighlight:!0}),$("#scheduledLoadEndDate").datepicker({rtl:Metronic.isRTL(),orientation:"left",autoclose:!0,todayHighlight:!0})},e.loadDatePickers(),e.getSalesFilters=function(){t.getSalesReportFilters().then(function(t){e.availableSalesPersons=t.data.ListSalesPerson})},e.getSalesFilters(),e.search=function(i){e.iscanceldisabled=!1,e.searchClicked=!0;var n,o,s=!1,r=new Date;if("ThisMonth"==i)n=new Date(r.getFullYear(),r.getMonth(),1),o=new Date(r.getFullYear(),r.getMonth()+1,0);else if("LastMonth"==i){var l,u=r.getMonth();l=u<12?r.getFullYear():r.getFullYear()-1,n=new Date(l,u-1,1),o=new Date(l,u,0)}else if("ThisQuarter"==i){var f=c(r);n=new Date(r.getFullYear(),3*f-3,1),o=new Date(r.getFullYear(),3*f,0)}else if("LastQuarter"==i){var l,m=c(r)-1;m>0?(l=r.getFullYear(),n=new Date(l,3*m-3,1),o=new Date(l,3*m,0)):(l=r.getFullYear()-1,n=new Date(l,9,1),o=new Date(l,12,0))}else"YTD"==i?(n=new Date(r.getFullYear(),0,1),o=new Date):"LastYear"==i?(n=new Date(r.getFullYear()-1,0,1),o=new Date(r.getFullYear(),0,0)):(n=e.beginDate,o=e.endDate);if(e.beginDate=a("date")(n,"MM/dd/yyyy"),e.endDate=a("date")(o,"MM/dd/yyyy"),!(s=!e.beginDate||!e.endDate||(e.beginDate.length+e.endDate.length<20||s))&&e.isDate(e.beginDate)&&e.isDate(e.endDate)&&!e.isPreviouseDate(e.beginDate,e.endDate)){e.btnSpinner.start();var g={SalesPerson:d(h(e.selectedSalesPersons)),StartDate:e.beginDate,EndDate:e.endDate};(p=t.getSalesReportData(g)).then(function(t){if(t.data){e.iscanceldisabled=!0,e.salesReport=t.data.ReportData,e.salesReportMaster=angular.copy(t.data.ReportData),e.ChartData=t.data.ChartData;var i=e.salesReport.reduce(function(e,t){return{NoOfCustomer:e.NoOfCustomer+t.NoOfCustomer,SalesAmountPrior:e.SalesAmountPrior+t.SalesAmountPrior,SalesAmountCurrent:e.SalesAmountCurrent+t.SalesAmountCurrent}});e.TotalNoOfCustomer=Math.round(i.NoOfCustomer),e.TotalSalesAmountPrior=Math.round(i.SalesAmountPrior),e.TotalSalesAmountCurrent=Math.round(i.SalesAmountCurrent)}e.btnSpinner.stop()}).catch(function(t){e.btnSpinner.stop()})}},e.resetSearch=function(){e.myTableFunctions.resetSearch(),e.groupProperty="",e.selectedSalesPersons=[],u(),e.salesReport=[],e.salesReportMaster=[]},e.abortExecutingApi=function(){return p&&p.abortCall()},e.getCsvHeader=function(){return["Sales Person","Sales Person Description","Number Of Customers","Sales Amount Prior","Sales Amount Current","Difference","Difference (%)"]},e.getCsvData=function(){var t=[],i=[],n=0,o=0,s=0;i=["SalesPerson","SalesPersonDescription","NoOfCustomer","SalesAmountPrior","SalesAmountCurrent","Difference","Percentage"],angular.forEach(e.salesReportMaster,function(e,r){var l={};angular.forEach(e,function(e,t){var r=i.indexOf(t);r>-1&&(l[r]="SalesAmountCurrent"==t||"SalesAmountPrior"==t||"Difference"==t?"$"+Math.round(e):e,"NoOfCustomer"==t&&(l[r]=a("numberWithCommas")(e)),"Percentage"==t&&(l[r]=Math.round(e)),"NoOfCustomer"==t&&(n+=e),"SalesAmountCurrent"==t&&(o+=e),"SalesAmountPrior"==t&&(s+=e))}),void 0!=l&&t.push(l)});var r={};return r[0]="Total",r[1]="",r[2]=a("numberWithCommasRounded")(n),r[3]="$"+Math.round(s),r[4]="$"+Math.round(o),t.push(r),t},u(),e.getCustomersSalesDataReport=function(i){e.CustomerSearch="",e.selectedSalesPerson=i,e.customersData=[],e.customersDataSafe=[],startDivLoader("salesPersonReportPortletBody");var a={SalesPerson:i,StartDateCurrent:e.beginDate,EndDateCurrent:e.endDate,StartDatePrevious:"",EndDatePrevious:"",Commodity:"All",OrderBy:"sales"};t.GetCustomerWiseReportOfSalesPerson(a).then(function(t){if(t&&t.data){e.customersData=t.data,e.customersDataSafe=angular.copy(e.customersData);var i=e.customersData.reduce(function(e,t){return{SalesAmountPrior:Number.parseInt(e.SalesAmountPrior+"")+Number.parseInt(t.SalesAmountPrior+""),TotalSalesAmtCurrent:Number.parseInt(e.TotalSalesAmtCurrent+"")+Number.parseInt(t.TotalSalesAmtCurrent+""),TotalSalesQuantity:Number.parseInt(e.TotalSalesQuantity+"")+Number.parseInt(t.TotalSalesQuantity+""),Difference:Number.parseInt(e.Difference+"")+Number.parseInt(t.Difference+"")}});e.TotalSalesAmtPrior=i.SalesAmountPrior,e.TotalSalesQuantity=i.TotalSalesQuantity,e.TotalSalesAmtCurrent=i.TotalSalesAmtCurrent,e.TotalDifference=i.Difference,stopDivLoader("salesPersonReportPortletBody")}},function(){Metronic.unblockUI(),n.Error("Error upon the API request")})},e.openModal=function(e){e&&""!=e&&$("#"+e).modal({backdrop:"static",keyboard:!1})},e.closeModal=function(e){e&&""!=e&&$("#"+e).modal("hide")}}]),MetronicApp.controller("SalesController",["$timeout","storageService","$scope","dataService","$filter","NotificationService","$rootScope","HelperService","$controller",function(e,t,i,a,n,o,s,r,l){function c(n){Metronic.blockUI({boxed:!0}),a.PendingRequest(),a.GetCasesSoldAndSalesDasboardData(n).then(function(s){try{i.caption_subject="SALES (BY CATEGORY)",i.PriorRangeText=r.getPriorRangeText(n.Description),e(function(){i.chartData=s.data,i.PiechartSales=i.chartData.TotalRevenue.All[0].SubData,u(i.chartData,n),h(i.chartData);s.data.filterid=n.Id,t.setStorage("CasesSoldRevenueByMonth",s.data),t.setStorage("CurrentFilter",n)},200)}catch(e){o.Error()}finally{a.PendingRequest()}},function(){a.PendingRequest(),o.Error()})}function h(e){i.meterparams=e.TotalRevenue.All[0],i.firstrange=i.meterparams.rValue1+i.meterparams.rValue2,i.secondrangeYear=i.meterparams.rValue3+i.meterparams.rValue4,i.secondrangeMonth=i.meterparams.rValue5+i.meterparams.rValue6,i.GroceryMonthlyDifference=e.GroceryMonthlyDifference,i.GroceryYearlyDifference=e.GroceryYearlyDifference,i.ProduceMonthlyDifference=e.ProduceMonthlyDifference,i.ProduceYearlyDifference=e.ProduceYearlyDifference,i.TotalMonthlyDifference=e.TotalMonthlyDifference,i.TotalYearlyDifference=e.TotalYearlyDifference}function u(e,t){var a=e.TotalRevenue.All[0].rValue1+e.TotalRevenue.All[0].rValue2,n=0;n=e.TotalRevenue.All[0].rValue3+e.TotalRevenue.All[0].rValue4,i.BlstatiticsData.revenue.CurrentYear=a,i.BlstatiticsData.revenue.PreviousMonth=n,i.BlstatiticsData.revenue.Change=Math.round(r.calcPercentage(i.BlstatiticsData.revenue.CurrentYear,i.BlstatiticsData.revenue.PreviousMonth))}function d(e){Metronic.blockUI({boxed:!0}),a.GetSalesCasesSoldMap(e).then(function(n){try{i.HeatMapData=n.data;n.data.filterid=e.Id,t.setStorage("HeatMapData",n.data),t.setStorage("CurrentFilter",e),a.PendingRequest()}catch(e){o.Error(),a.PendingRequest()}finally{a.PendingRequest()}},function(){a.PendingRequest(),o.Error("Error upon the API request")})}function p(e){Metronic.blockUI({boxed:!0}),a.GetSalesAndGrowthByCustomer(e).then(function(e){try{i.customerGraph=e.data}catch(e){o.Error()}finally{a.PendingRequest()}})}function f(e){Metronic.blockUI({boxed:!0}),a.GetSalesAndGrowthBySalesPerson(e).then(function(e){try{i.TotalSalesAndGrowth=e.data,a.PendingRequest()}catch(e){a.PendingRequest(),o.Error()}finally{a.PendingRequest()}})}i.TotalMonthlyDifference=i.TotalYearlyDifference="",i.meterparams=[],i.PriorRangeText=r.getPriorRangeText(s.currentfilter.Description),i.saleschartcaption_subject="Sales",i.saleschartcaption_subject="TOTAL CUSTOMER BY SALES PERSON",i.caption_subjectfn=function(e){i.caption_subject="initial"==e?"":e},i.saleschartcaption_subjectfn=function(e){i.saleschartcaption_subject="initial"==e?"SALES (BY SALES PERSON)":e},i.nonrevenuecaption_subjectfn=function(e){i.nonrevenuecaption_subject="initial"==e?"SALES (GROWTH BY SALES PERSON)":e},i.salestocustomer_subjectfn=function(e){i.salestocustomer_subject="initial"==e?"SALES (BY CUSTOMER)":e},i.salesgrowthtocustomer_subjectfn=function(e){i.salesgrowthtocustomer_subject="initial"==e?"SALES (GROWTH BY CUSTOMER)":e},i.BlstatiticsData={casesSold:{name:"CASES SOLD"},revenue:{name:"SALES"}},i.caption_subjectfn=function(e){"initial"==e?(i.caption_subject="Total sales",i.backBtnShow=!i.totalTabAll):(i.backBtnShow=!1,i.caption_subject=e)},i.caption_subjectfn("initial"),i.$on("$viewContentLoaded",function(){Metronic.initAjax()}),s.$on("sales",function(e,t){Metronic.blockUI({boxed:!0});var a=t.data;c(a),f(a),p(a),i.PriorRangeText=r.getPriorRangeText(a.Description),d(a)}),f(s.currentfilter),p(s.currentfilter),function(e){try{var n=t.getStorage("CasesSoldRevenueByMonth");n?n.date!=(new Date).toJSON().slice(0,10).replace(/-/g,"/")?(a.PendingRequest(),c(e)):(i.chartData=[],n.data.filterid==s.currentfilter.Id?(i.chartData=n.data,u(i.chartData,e),i.PiechartSales=i.chartData.TotalRevenue.All[0].SubData,h(i.chartData)):c(e),a.PendingRequest()):c(e);var o=t.getStorage("HeatMapData");o?o.date!=(new Date).toJSON().slice(0,10).replace(/-/g,"/")?(a.PendingRequest(),d(s.currentfilter)):i.HeatMapData=o.data:d(s.currentfilter)}catch(e){}}(s.currentfilter),i.refreshCharts=function(){Metronic.blockUI({boxed:!0}),c(s.currentfilter),f(s.currentfilter),p(s.currentfilter),i.PriorRangeText=r.getPriorRangeText(s.currentfilter.Description),d(s.currentfilter)}}]),MetronicApp.controller("UserManagement",["$scope","dataService","NotificationService","authService","$state",function(e,t,i,a,n){function o(t){for(var i=0;i<e.userList.length;i++)e.userList[i].Id==t.Id&&(e.userList[i].FirstName=t.FirstName,e.userList[i].LastName=t.LastName,e.userList[i].Email=t.Email)}function s(t){for(var i=[],a=0;a<e.userList.length;a++)e.userList[a].Id!=t&&i.push(e.userList[a]);e.userList=angular.copy(i)}function r(t){e.userList&&e.userList.length>=0?e.userList.push(t):(e.userList=[],e.userList.push(t))}function l(e){Metronic.blockUI({boxed:!0}),t.DeleteUser(e).then(function(a){t.PendingRequest(),s(e),i.Success("You have successfully deleted the user")}).catch(function(e){t.PendingRequest(),void 0,i.Error("An error occured while deleting the user")})}e.ErrorMessage="",e.groupProperty="",e.formTitle="",e.user={},e.resetModel={},e.isResetPswd=!1,e.moduleacceschange=function(t){if(e.Modules.length>0&&t)for(var i=0;i<e.Modules.length;i++)e.Modules[i].IsAccess=!0},e.categoryacceschange=function(t){if(e.Categories.length>0&&t)for(var i=0;i<e.Categories.length;i++)e.Categories[i].IsAccess=!0},e.createuserbtnfn=function(){e.ErrorMessage="",e.isUnrestricted=!1,e.isUnrestrictedcat=!1;for(var t=0;t<e.Categories.length;t++)e.Categories[t].IsAccess=!1;for(var t=0;t<e.Modules.length;t++)e.Modules[t].IsAccess=!1},function(){t.GetAllModules().then(function(t){if(e.Modules=[],t.data.length>0)for(var i=0;i<t.data.length;i++)e.Modules.push({Name:t.data[i].Name,IsAccess:!1,Id:t.data[i].Id})}).catch(function(e){i.Error("An error occured while updating the user")}),t.GetAllSalesPersonCategories().then(function(t){if(e.Categories=[],t.data.length>0)for(var i=0;i<t.data.length;i++)e.Categories.push({Name:t.data[i].Name,IsAccess:!1,Id:t.data[i].Id})}).catch(function(e){i.Error("An error occured while updating the user")})}(),e.CheckSelectAnyAccess=function(){return!e.Categories||!e.Modules||(e.AnyCategories=e.Categories.some(function(e){return e.IsAccess}),e.AnyModules=e.Modules.some(function(e){return e.IsAccess}),!(!e.AnyCategories||!e.AnyModules))},e.createUser=function(){Metronic.blockUI({boxed:!0}),e.ErrorMessage="",e.userForm.$valid&&(e.user.Categories=e.Categories,e.user.Modules=e.Modules,e.user.IsRestrictedModuleAccess=e.isUnrestricted,e.user.IsRestrictedCategoryAccess=e.isUnrestrictedcat,t.CreateUser(e.user).then(function(a){t.PendingRequest(),a.data&&a.data&&"Mail Not sent"==a.data.Error?i.Log("User has been created successfully but mail is not sent to the user"):i.Success("User has been created successfully"),e.user={},r(a.data.User),n.reload()}).catch(function(i){t.PendingRequest(),e.ErrorMessage=i.data.ModelState[""][1]}))},e.onEditUser=function(a){e.createuserbtnfn(),e.user=angular.copy(a),Metronic.blockUI({boxed:!0}),t.GetUserDetails(a.Id).then(function(t){if(Metronic.unblockUI(),e.UserByIDData=t.data,e.isUnrestricted=!t.data.IsRestrictedModuleAccess,e.isUnrestrictedcat=!t.data.IsRestrictedCategoryAccess,e.moduleacceschange(e.isUnrestricted),e.categoryacceschange(e.isUnrestrictedcat),t.data.Modules&&e.Modules)for(var i=0;i<e.Modules.length;i++)for(var a=0;a<t.data.Modules.length;a++)t.data.Modules[a].Name==e.Modules[i].Name&&(e.Modules[i].IsAccess=!0);if(t.data.Categories&&e.Categories)for(var i=0;i<e.Categories.length;i++)for(var a=0;a<t.data.Categories.length;a++)t.data.Categories[a].Name==e.Categories[i].Name&&(e.Categories[i].IsAccess=!0)}).catch(function(e){Metronic.unblockUI(),i.Error("An error occured while updating the user")}),e.formTitle="Edit User"},e.onDeleteUser=function(e){alertify.confirm("Are you sure you want to delete this user?",function(t){t&&l(e.Id)})},e.onResetPswd=function(t){e.isResetPswd=!0,e.formTitle="Change Password of "+t.FirstName+" "+t.LastName,e.resetModel={UserId:t.Id,NewPassword:"",ConfirmPassword:""}},e.updateUser=function(){e.userForm.$valid&&(Metronic.blockUI({boxed:!0}),e.user.Categories=e.Categories,e.user.Modules=e.Modules,e.user.IsRestrictedModuleAccess=e.isUnrestricted,e.user.IsRestrictedCategoryAccess=e.isUnrestrictedcat,t.UpdateUser(e.user).then(function(t){Metronic.unblockUI(),o(e.user),i.Success("User has been updated successfully"),n.reload()}).catch(function(e){Metronic.unblockUI(),i.Error("An error occured while updating the user")}))},e.resetPassword=function(){e.passwordResetForm.$valid&&e.resetModel.NewPassword==e.resetModel.ConfirmPassword&&(Metronic.blockUI({boxed:!0}),a.resetPassword(e.resetModel).then(function(a){t.PendingRequest(),e.isResetPswd=!1,e.formTitle="",i.Success("Password has been updated successfully")}).catch(function(){t.PendingRequest(),i.Error("An error occured while updating the password")}))},function(){Metronic.blockUI({boxed:!0}),t.GetAllUsers().then(function(i){t.PendingRequest(),i&&i.data&&(e.userList=i.data,e.safeUserList=i.data)}).catch(function(){t.PendingRequest()})}()}]),MetronicApp.controller("transportationController",["$scope","dataService","$stateParams","$filter","NotificationService","$controller","$rootScope",function(e,t,i,a,n,o,s){function r(i){Metronic.blockUI({boxed:!0}),t.GetDashboardDiverTripData(i).then(function(i){try{e.TripData=i.data}catch(e){n.Error()}finally{t.PendingRequest()}},function(){t.PendingRequest(),n.Error()})}o("BaseController",{$scope:e}),e.$on("$viewContentLoaded",function(){Metronic.initAjax()}),s.$on("transportation",function(e,t){Metronic.blockUI({boxed:!0}),r(t.data)}),Metronic.blockUI({boxed:!0}),e.tableFunctions={},e.caption_subjectfnTransportationChart=function(t){e.caption_subjecttransportationChart="initial"==t?"Transportation":t},r(s.currentfilter)}]),MetronicApp.controller("WarehouseSoShortReportController",["$rootScope","$scope","dataService","$stateParams","$filter","NotificationService","commonService","$controller",function(e,t,i,a,n,o,s,r){function l(){t.filter.shipDate=c(),t.search()}function c(){var e=new Date,t=e.getDate(),i=e.getMonth()+1,a=e.getFullYear();t<10&&(t="0"+t),i<10&&(i="0"+i);var e=i+"/"+t+"/"+a;return e}function h(){setTimeout(function(){$(".mcheck").iCheck({checkboxClass:"icheckbox_square-blue"}),$("input").on("ifChecked",function(e){d($(this).val())}),$("input").on("ifUnchecked",function(e){p($(this).val())})})}function u(e){for(var i=[],a=0;a<e.length;a++)i.indexOf(e[a])<0&&t.EMAIL_REGX.test(e[a])&&i.push(e[a]);return i}function d(e){t.selectedMailIdsToSendNotification.indexOf(e)<0&&t.selectedMailIdsToSendNotification.push(e)}function p(e){t.selectedMailIdsToSendNotification.indexOf(e)>0&&t.selectedMailIdsToSendNotification.splice(t.selectedMailIdsToSendNotification.indexOf(e),1)}t.$on("$viewContentLoaded",function(){Metronic.initAjax()}),t.iscanceldisabled=!0,r("BaseController",{$scope:t}),t.EMAIL_REGX=/^([A-Za-z0-9_\-\.])+\@([A-Za-z0-9_\-\.])+\.([A-Za-z]{2,4})$/;var f=null;t.filter={routeNumber:"",buyerId:"",shipDate:""},t.searchClicked=!1,t.reportData=[],t.reportDataSafe=[],t.groupProperty="",t.datatable_selected_ids=[],t.datatable_functions={},t.datatable_selected_mail_ids=[],t.datatable_showNotified=!1,t.ignoredReason="",t.unNotifiedReportData=null,t.selectedMailIdsToSendNotification=[],t.btnSpinner=s.InitBtnSpinner("#search-so-short-report"),t.loadCharts=function(){Metronic.startPageLoading({message:"Loading Dashboard charts..."}),i.getWarehouseDashboardData(n("date")(new Date,"yyyy-MM-dd")).then(function(e){Metronic.stopPageLoading()},function(){Metronic.stopPageLoading(),o.Error("Error upon the API request"),o.ConsoleLog("Error on the server")})},t.resetSearch=function(){t.myTableFunctions.resetSearch(),t.groupProperty="",t.filter.routeNumber="",t.filter.buyerId="",t.reportData=[],t.reportDataSafe=[],t.datatable_selected_ids=[],t.datatable_selected_mail_ids=[],t.datatable_showNotified=!1,l()},t.abortExecutingApi=function(){return t.iscanceldisabled=!0,Metronic.stopPageLoading(),f&&f.abortCall()},$("#shipDate").datepicker(),t.getCsvHeader=function(){return["Route","Customer","Item","Description","Buyer","UoM","Qty Ordered","Qty Available","Qty On Hand","Trans. Cost","Mkt. Price","SO Number"]},t.getCsvData=function(){var e=[],i=[];return i=["Route","Customer","Item","Description","Buyer","UOM","QuantityOrd","QtyAvailable","QuantityOnHand","TransactionCost","MarketPrice","SalesOrderNumber"],angular.forEach(t.reportDataSafe,function(t,a){var n={};angular.forEach(t,function(e,t){var a=i.indexOf(t);a>-1&&(n[a]=e)}),void 0!=n&&e.push(n)}),e},t.openModal=function(e){e&&""!=e&&$("#"+e).modal("show")},t.closeModal=function(e){e&&""!=e&&$("#"+e).modal("hide")},t.getMailIds=function(){Metronic.startPageLoading(),$("#mailIds").tagsinput("removeAll"),i.GetMailIds().then(function(e){Metronic.stopPageLoading(),e&&e.data&&(t.datatable_selected_mail_ids=t.getSelectedMailIdsWrtSelectedIds(),t.mailIds=e.data.concat(u(t.datatable_selected_mail_ids)),t.selectedMailIdsToSendNotification=t.mailIds,h())},function(){Metronic.stopPageLoading(),o.Error("Error upon the API request"),o.ConsoleLog("Error on the server")})},t.getSelectedMailIdsWrtSelectedIds=function(){for(var e=[],i=0;i<t.datatable_selected_ids.length;i++)angular.forEach(t.reportDataSafe,function(a,n){a.Id==t.datatable_selected_ids[i]&&e.push(a.Email)});return e},t.sendNotification=function(){Metronic.startPageLoading();var e={routeNumber:t.filter.routeNumber,buyerId:t.filter.buyerId,shipDate:t.filter.shipDate,EmailTos:t.selectedMailIdsToSendNotification,Ids:t.datatable_selected_ids};i.SendNotification(e).then(function(e){t.unNotifiedReportData=t.removeNotifiedRowsFromUnNotifieddata(t.unNotifiedReportData,t.datatable_selected_ids),t.reportData=t.unNotifiedReportData,t.reportDataSafe=t.unNotifiedReportData,t.totalNumberOfRecords=t.unNotifiedReportData.length,t.numberOfSelectedRows=0,t.datatable_selected_ids=[],Metronic.stopPageLoading(),t.closeModal("sendNotification"),o.Success("Successfully sent notification")},function(){Metronic.stopPageLoading(),t.closeModal("sendNotification"),o.Error("Error upon the send notification"),o.ConsoleLog("Error on the server")})},t.datatable_functions.updateSelectedIds=function(){t.datatable_selected_ids=[],t.datatable_select_all?(angular.forEach(t.reportDataSafe,function(e,i){t.datatable_selected_ids.push(e.Id)}),t.numberOfSelectedRows=t.totalNumberOfRecords):t.numberOfSelectedRows=0},t.datatable_functions.changeSelectedIds=function(e,i){var a=t.datatable_selected_ids.indexOf(e);-1==a?(t.datatable_selected_ids.push(e),t.numberOfSelectedRows++,t.selectRemainingIdsWithSameItemNo(i)):(t.datatable_selected_ids.splice(a,1),t.numberOfSelectedRows--),t.numberOfSelectedRows==t.totalNumberOfRecords?$("#selectAllCheckBox").parent().addClass("checked"):$("#selectAllCheckBox").parent().removeClass("checked"),t.datatable_select_all=!1},t.selectRemainingIdsWithSameItemNo=function(e){for(var i=t.findIdsWithSameItemNumber(e),a=0;a<i.length;a++)-1==t.datatable_selected_ids.indexOf(i[a].Id)&&t.datatable_functions.changeSelectedIds(i[a].Id,i[a].Mail,i[a].Item)},t.findIdsWithSameItemNumber=function(e){var i=[];return angular.forEach(t.reportDataSafe,function(t,a){t.Item==e&&i.push(t)}),i},t.showNotifiedOrUnNotifiedData=function(e){t.reportData=[],t.reportDataSafe=[],t.datatable_selected_ids=[],t.datatable_showNotified?t.showNotifiedData():t.unNotifiedReportData?(t.reportData=t.unNotifiedReportData,t.reportDataSafe=t.unNotifiedReportData,t.totalNumberOfRecords=t.unNotifiedReportData.length,t.numberOfSelectedRows=0,t.datatable_selected_ids=[]):t.showUnNotifiedData(),$("#selectAllCheckBox").parent().removeClass("checked"),t.datatable_select_all=!1},t.sendIgnoredreason=function(){Metronic.startPageLoading();var e={Ids:t.datatable_selected_ids,shipDate:t.filter.shipDate,IgnoredReason:t.ignoredReason};i.SendIgnoredreason(e).then(function(e){t.unNotifiedReportData=t.removeNotifiedRowsFromUnNotifieddata(t.unNotifiedReportData,t.datatable_selected_ids),t.reportData=t.unNotifiedReportData,t.reportDataSafe=t.unNotifiedReportData,t.totalNumberOfRecords=t.unNotifiedReportData.length,t.numberOfSelectedRows=0,t.datatable_selected_ids=[],t.ignoredReason="",Metronic.stopPageLoading(),t.closeModal("ignoredReason"),o.Success("Successfully sent Ignored Reason")},function(){Metronic.stopPageLoading(),t.closeModal("ignoredReason"),o.Error("Error upon the send Ignored Reason"),o.ConsoleLog("Error on the server")})},t.showNotifiedData=function(){t.btnSpinner.start(),(f=i.GenerateWarehouseNotifiedIgnoredShortReport(t.filter)).then(function(e){e&&(t.iscanceldisabled=!0,t.reportData=e.data,t.reportDataSafe=e.data,t.totalNumberOfRecords=e.data.length,t.numberOfSelectedRows=0,t.datatable_selected_ids=[]),t.btnSpinner.stop()}).catch(function(e){o.Error("An error occured while generating the report"),o.ConsoleLog("API Error upon dataService.generateWarehouseWmsPickerProductivityReport()"),t.btnSpinner.stop(),t.reportData=[],t.reportDataSafe=[],t.datatable_selected_ids=[],t.btnSpinner.stop()})},t.showUnNotifiedData=function(){t.btnSpinner.start(),(f=i.GenerateWarehouseShortReport(t.filter)).then(function(e){e&&(t.iscanceldisabled=!0,t.unNotifiedReportData=e.data.length>0?e.data:null,t.reportData=t.unNotifiedReportData,t.reportDataSafe=t.unNotifiedReportData,t.totalNumberOfRecords=t.unNotifiedReportData?t.unNotifiedReportData.length:0,t.numberOfSelectedRows=0,t.datatable_selected_ids=[]),t.btnSpinner.stop()}).catch(function(e){o.Error("An error occured while generating the report"),o.ConsoleLog("API Error upon dataService.generateWarehouseWmsPickerProductivityReport()"),t.btnSpinner.stop()})},t.removeNotifiedRowsFromUnNotifieddata=function(e,t){var i=[];return angular.forEach(t,function(t,a){angular.forEach(e,function(e,a){e.Id!=t&&i.push(e)})}),i},t.search=function(){t.iscanceldisabled=!1,t.searchClicked=!0,t.isDate(t.filter.shipDate)&&(t.datatable_showNotified?t.showNotifiedData():t.showUnNotifiedData())},l(),t.abc=function(){},$(".icheck").on("click",function(){})}]),MetronicApp.controller("WarehouseController",["$rootScope","$scope","dataService","$stateParams","$filter","NotificationService","$controller",function(e,t,i,a,n,o,s){function r(e){Metronic.blockUI({boxed:!0}),i.getMainDashboardPickerProductivityChartData(e).then(function(e){try{t.totalChartData=e.data,Metronic.unblockUI()}catch(e){o.Error(),Metronic.unblockUI(),o.ConsoleLog("Error while assigning the data from the API to the chart.")}finally{Metronic.stopPageLoading()}},function(){Metronic.unblockUI(),Metronic.stopPageLoading(),o.Error("Error upon the API request"),o.ConsoleLog("Error on the server")})}function l(){var e=new Date;t.startDate=n("date")(new Date(e.getFullYear(),0,1),"yyyy-MM-dd"),t.endDate=n("date")(e,"yyyy-MM-dd");r({Description:"This Month",Id:3})}function c(e){var t=new Date(e.split("-")[0],e.split("-")[1]-1,e.split("-")[2]),i=new Date(t.getFullYear()-1,t.getMonth(),t.getDate()),a=i.getMonth()+1;return a=a<10?"0"+a:a,i.getFullYear()+"-"+a+"-"+i.getDate()}t.$on("$viewContentLoaded",function(){Metronic.initAjax()}),s("BaseController",{$scope:t}),t.filter={label:"Year To Date"},t.showForecastReport=!1,t.reportData=[],t.reportDataSafe=[],t.groupProperty="",t.flabel=function(e){t.filter.label=e},t.totalChartData=[],t.resetFilter=function(){t.filter.type="month",t.filter.label="Year To Date",l()},t.search=function(e,i){var a,o,s=new Date;"YTD"==e?(a=new Date(s.getFullYear(),0,1),o=new Date):"LastYear"==e?(a=new Date(s.getFullYear()-1,0,1),o=new Date(s.getFullYear(),0,0)):"LastTwoYear"==e?(a=new Date(s.getFullYear()-2,0,1),o=new Date):"LastThreeYear"==e&&(a=new Date(s.getFullYear()-3,0,1),o=new Date),t.startDate=n("date")(a,"yyyy-MM-dd"),t.endDate=n("date")(o,"yyyy-MM-dd"),t.dfDateFilter="Custom";var e={Description:"This Month",Id:3};r(e)},l(),t.monthNames=["January","February","March","April","May","June","July","August","September","October","November","December"],t.foreCastDates=[],t.foreCastDates=function(e){for(var t=[],i=e.getMonth()+1,a=e.getFullYear(),n=!1,o=0;o<6;o++){var s=i<10?"0"+i:i;t.push(a+"-"+s+"-01"),n=12==i&&0==n,a=n?a+1:a,n=!n&&n,i=i<12?i+1:1}return t}(new Date),t.foreCast={value:0,fromDate:c(t.foreCastDates[0]),onDate:t.foreCastDates[0],OnLabel:t.monthNames[t.foreCastDates[0].split("-")[1]-1]+"  "+t.foreCastDates[0].split("-")[0]},t.setForeCastOn=function(e){t.foreCast.OnLabel=t.monthNames[e.split("-")[1]-1]+"  "+e.split("-")[0],t.foreCast.onDate=e,t.foreCast.fromDate=c(e)},t.searchForeCast=function(){t.reportData=[],t.reportDataSafe=[],Metronic.startPageLoading({message:"Fetching Forecast Data"});var e=new Date;e.setMonth(t.foreCast.fromDate.split("-")[1]-1);var a=new Date(t.foreCast.fromDate.split("-")[0],e.getMonth(),1),s=new Date(t.foreCast.fromDate.split("-")[0],e.getMonth()+1,0),r=n("date")(a,"yyyy-MM-dd"),l=n("date")(s,"yyyy-MM-dd");i.getForcastResult(r,l).then(function(e){try{Metronic.stopPageLoading(),t.foreCast.value=e.data,t.showForecastReport&&t.getForeCastReport()}catch(e){Metronic.stopPageLoading(),o.Error(),o.ConsoleLog("Error while assigning the data from the API to the forecast data.")}},function(){Metronic.stopPageLoading(),o.Error("Error upon the API request"),o.ConsoleLog("Error on the server")})},t.searchForeCast(),t.getForeCastReport=function(){if(t.showForecastReport){Metronic.startPageLoading({message:"Fetching ForeCast Report Data"});var e=new Date;e.setMonth(t.foreCast.fromDate.split("-")[1]-1);var a=new Date(e.getFullYear(),e.getMonth(),1),s=new Date(e.getFullYear(),e.getMonth()+1,0),r=n("date")(a,"yyyy-MM-dd"),l=n("date")(s,"yyyy-MM-dd");i.GetForcastReport(r,l).then(function(e){try{t.reportData=e.data,t.reportDataSafe=e.data}catch(e){o.Error(),o.ConsoleLog("Error while assigning the data from the API to the forecast report.")}finally{Metronic.stopPageLoading()}},function(){Metronic.stopPageLoading(),o.Error("Error upon the API request"),o.ConsoleLog("Error on the server")})}},t.resetForecast=function(){t.foreCast={value:0,fromDate:c(t.foreCastDates[0]),onDate:t.foreCastDates[0],OnLabel:t.monthNames[t.foreCastDates[0].split("-")[1]-1]+"  "+t.foreCastDates[0].split("-")[0]},t.reportData=[],t.reportDataSafe=[]},t.getCsvHeader=function(){return["Name","Pieces Picked","Hours Worked","Pieces Per Hour"]},t.getCsvData=function(){var e=[],i=[];return i=["Name","PiecesPicked","HoursWorked","PiecesPerHour"],angular.forEach(t.reportDataSafe,function(t,a){var n={};angular.forEach(t,function(e,t){var a=i.indexOf(t);a>-1&&(n[a]=e)}),void 0!=n&&e.push(n)}),e}}]),MetronicApp.controller("WarehouseWmsPickerProductivityReportController",["$rootScope","$scope","dataService","$stateParams","$filter","NotificationService","commonService","$controller",function(e,t,i,a,n,o,s,r){t.reportByName="EmployeeReport",t.reportTitle="",t.$on("$viewContentLoaded",function(){Metronic.initAjax()}),t.iscanceldisabled=!0,t.Currentshift="Day",r("BaseController",{$scope:t}),t.settime=function(e){var i={},a={},n=$("#timepicker-one").wickedpicker({timeSeparator:":",title:"Set Time"}),o=$("#timepicker-two").wickedpicker({timeSeparator:":",title:"Set Time"});i={now:""},a={now:""},"Night"==e?(t.Currentshift="Night",i={now:"16:00"},a={now:"2:00"}):"Day"==e?(t.Currentshift="Day",i={now:"5:00"},a={now:"16:00"},t.iscustomtime=!1):(t.Currentshift="custom",i={now:"16:00"},a={now:"2:00"}),n.wickedpicker("setTime",0,i.now),o.wickedpicker("setTime",0,a.now)},t.Starttime="5:00 AM",t.Endtime="4:00 PM",t.settime("Day"),t.loadDatePickers=function(){$("#startWorkDate").datepicker({rtl:Metronic.isRTL(),orientation:"left",autoclose:!0,todayHighlight:!0}),$("#endWorkDate").datepicker({rtl:Metronic.isRTL(),orientation:"left",autoclose:!0,todayHighlight:!0})},t.loadDatePickers();var l=null,c=new Date;t.datafilter={userId:"",startWorkDate:n("date")(new Date(c.getFullYear(),c.getMonth(),1),"MM/dd/yyyy"),endWorkDate:n("date")(c,"MM/dd/yyyy"),startTime:"5:00 AM",endTime:"4:00 PM"},t.reportData=[],t.reportDataSafe=[],t.groupProperty="",t.searchClicked=!1,t.isDrillDown=!1,t.btnSpinner=s.InitBtnSpinner("#search"),t.backToReport=function(){t.isDrillDown=!1,t.reportByName="EmployeeReport";t.reportTitle.replace(" ("+t.selectedFiltervalue+")","");t.reportTitle=""},t.getDetailedReport=function(e){t.isDrillDown=!0,t.reportTitle=" ( "+e.EmployeeId+" - "+e.Name.trim()+" - "+n("date")(e.StartTime,"hh:mm a")+" - "+n("date")(e.EndTime,"hh:mm a")+")",t.reportByName="SalesDetailedReport",t.salesDetailedReport=[],t.salesDetailedReportMaster=[];var a={startWorkDate:t.datafilter.startWorkDate,
endWorkDate:t.datafilter.endWorkDate,startTime:t.datafilter.startTime,endTime:t.datafilter.endTime,EmployeID:e.EmployeeId};Metronic.blockUI({boxed:!0}),(l=i.GenerateWarehouseWmsPickerProductivityReportDetails(a)).then(function(i){i&&(t.salesDetailedReport=i.data,t.salesDetailedReportMaster=angular.copy(i.data),t.totalPicked=e.PiecesPicked),Metronic.unblockUI()}).catch(function(e){Metronic.unblockUI()})},t.search=function(){t.isDrillDown&&t.backToReport(),t.iscanceldisabled=!1,t.searchClicked=!0,1==t.reportBy&&(t.datafilter.endWorkDate=t.datafilter.startWorkDate),t.isDate(t.datafilter.startWorkDate)&&t.isDate(t.datafilter.endWorkDate)&&!t.isPreviouseDate(t.datafilter.startWorkDate,t.datafilter.endWorkDate)&&t.isValidTime()&&(t.btnSpinner.start(),(l=i.GenerateWarehouseWmsPickerProductivityReport(t.datafilter)).then(function(e){e&&(t.iscanceldisabled=!0,t.reportData=e.data,t.reportDataSafe=e.data),t.btnSpinner.stop()}).catch(function(e){t.iscanceldisabled=!0,o.Error("An error occured while generating the report"),t.btnSpinner.stop()}))},t.resetSearch=function(){t.datafilter={userId:"",startWorkDate:n("date")(new Date(c.getFullYear(),c.getMonth(),1),"MM/dd/yyyy"),endWorkDate:n("date")(c,"MM/dd/yyyy"),startTime:"5:00 AM",endTime:"4:00 PM"},t.myTableFunctions.resetSearch(),t.groupProperty="",t.backToReport(),t.datafilter.userId="",t.reportData=[],t.reportDataSafe=[]},t.abortExecutingApi=function(){return t.iscanceldisabled=!0,l&&l.abortCall()},t.isValidTime=function(){return(""!=t.datafilter.endTime||""==t.datafilter.startTime)&&(""==t.datafilter.endTime||""!=t.datafilter.startTime)},t.csvFileName="",t.getCsvHeader=function(){return t.csvFileName="WMS PICKER PRODUCTIVITY REPORT.CSV",t.isDrillDown?(t.csvFileName="WMS PICKER PRODUCTIVITY REPORT"+t.reportTitle+".csv",t.csvFileName=t.csvFileName.toUpperCase(),2==t.reportBy?["Item #","Item Description","Pieces Picked","Hours Worked","Pcs Per Hour"]:["Item #","Item Description","Start Time","End Time","Pieces Picked","Hours Worked","Pcs Per Hour"]):2==t.reportBy?["Emp Id","Name","Pieces Picked","Hours Worked","Pcs Per Hour"]:["Emp Id","Name","Start Time","End Time","Pieces Picked","Hours Worked","Pcs Per Hour"]},t.getCsvData=function(){var e=[],i=[];i=["EmployeeId","Name","StartTime","EndTime","PiecesPicked","HoursWorked","PiecesPerHour"],t.isDrillDown?(i=["Item","ItemDesc","StartTime","EndTime","PiecesPicked","HoursWorked","PiecesPerHour"],2==t.reportBy&&(i=["Item","ItemDesc","PiecesPicked","HoursWorked","PiecesPerHour"])):2==t.reportBy&&(i=["EmployeeId","Name","PiecesPicked","HoursWorked","PiecesPerHour"]);var a=0;angular.forEach(t.isDrillDown?t.salesDetailedReportMaster:t.reportDataSafe,function(t,o){var s={};angular.forEach(t,function(e,t){var o=i.indexOf(t);o>-1&&t.toLowerCase().indexOf("time")>=0?s[o]=n("date")(e,"hh:mm a"):o>-1&&(s[o]=e),"PiecesPicked"==t&&(a+=e)}),void 0!=s&&e.push(s)});var o={};return o[0]="Total",o[1]="",o[2]=1==t.reportBy?"":a,o[3]="",o[4]=2==t.reportBy?"":a,o[5]="",t.isDrillDown&&e.push(o),e}}]),MetronicApp.controller("BaseController",["$scope","commonService","$state",function(e,t,i){e.isSalesPersonTargetsSynced=function(){var e=!1,t=$.cookie("Nogales-LastDate_SalesPersonTarget"),i=new Date;if(t){var a=new Date(t);i.getDate()==a.getDate()&&i.getMonth()==a.getMonth()&&i.getFullYear()==a.getFullYear()&&(e=!0)}return e},e.setSalesPersonTargetsSynced=function(){var e=new Date;$.cookie("Nogales-LastDate_SalesPersonTarget",e.toDateString())},e.preventClosing=function(e){e.stopPropagation()},e.clearDate=function(e){var t="";if(e&&"Invalid Date"!=new Date(e)){var i=e.split("/");3==i.length&&(i[0]=1==i[0].length?"0"+i[0]:i[0],i[1]=1==i[1].length?"0"+i[1]:i[1],t=i[0]+"/"+i[1]+"/"+i[2])}return t},e.isDate=function(e){return e&&10==e.length&&"Invalid Date"!=new Date(e)},e.isNotaNumber=function(e){return!!isNaN(e)},e.isPreviouseDate=function(t,i){var a=!1;if(e.isDate(t)&&e.isDate(i)){a=new Date(t)>new Date(i)||a}else a=!1;return a}}]),MetronicApp.controller("SalesPersonAnalysisReportController",["$scope","$timeout","dataService","$stateParams","$filter","NotificationService","ApiUrl","commonService","$controller",function(e,t,i,a,n,o,s,r,l){function c(e){e=e||new Date;var t=Math.floor(e.getMonth()/3)+1;return t>4?t-4:t}function h(e){var t=[];if(e&&e.length>0)for(var i=0;i<e.length;i++)t.push(JSON.parse(e[i]));return t}function u(){var t=new Date;e.beginDate=n("date")(new Date(t.getFullYear(),t.getMonth(),1),"MM/dd/yyyy"),e.endDate=n("date")(new Date,"MM/dd/yyyy"),e.search()}function d(e){for(var t=[],i=0;i<e.length;i++)t.push(e[i].Key);return t}e.$on("$viewContentLoaded",function(){Metronic.initAjax()}),e.pageSize=20,l("BaseController",{$scope:e}),e.iscanceldisabled=!0,e.btnSpinner=r.InitBtnSpinner("#search");var p=null;e.myTableFunctions={},e.salesPersonTableFunctions={},e.groupProperty="",e.searchClicked=!1,e.selectedSalesPerson="",e.loadDatePickers=function(){$("#scheduledLoadStartDate").datepicker({rtl:Metronic.isRTL(),orientation:"left",autoclose:!0,todayHighlight:!0}),$("#scheduledLoadEndDate").datepicker({rtl:Metronic.isRTL(),orientation:"left",autoclose:!0,todayHighlight:!0})},e.loadDatePickers(),e.getSalesFilters=function(){i.getSalesReportFilters().then(function(t){e.availableSalesPersons=t.data.ListSalesPerson})},e.getSalesFilters(),e.search=function(t){e.searchClicked=!0,e.iscanceldisabled=!1;var a,o,s=!1,r=new Date;if("ThisMonth"==t)a=new Date(r.getFullYear(),r.getMonth(),1),o=new Date(r.getFullYear(),r.getMonth()+1,0);else if("LastMonth"==t){var l,u=r.getMonth();l=u<12?r.getFullYear():r.getFullYear()-1,a=new Date(l,u-1,1),o=new Date(l,u,0)}else if("ThisQuarter"==t){var f=c(r);a=new Date(r.getFullYear(),3*f-3,1),o=new Date(r.getFullYear(),3*f,0)}else if("LastQuarter"==t){var l,m=c(r)-1;m>0?(l=r.getFullYear(),a=new Date(l,3*m-3,1),o=new Date(l,3*m,0)):(l=r.getFullYear()-1,a=new Date(l,9,1),o=new Date(l,12,0))}else"YTD"==t?(a=new Date(r.getFullYear(),0,1),o=new Date):"LastYear"==t?(a=new Date(r.getFullYear()-1,0,1),o=new Date(r.getFullYear(),0,0)):(a=e.beginDate,o=e.endDate);if(e.beginDate=n("date")(a,"MM/dd/yyyy"),e.endDate=n("date")(o,"MM/dd/yyyy"),!(s=!e.beginDate||!e.endDate||(e.beginDate.length+e.endDate.length<20||s))&&e.isDate(e.beginDate)&&e.isDate(e.endDate)&&!e.isPreviouseDate(e.beginDate,e.endDate)){e.btnSpinner.start();var g={SalesPerson:d(h(e.selectedSalesPersons)),StartDate:e.beginDate,EndDate:e.endDate};(p=i.GetSalesAnalysisReportofSalesPerson(g)).then(function(t){if(t){e.iscanceldisabled=!0,e.salesReport=t.data,e.salesReportMaster=t.data,e.TotalNoOfCustomer=0,e.TotalGroceryCasesSold=0,e.TotalProduceCasesSold=0,e.TotalManualCasesSold=0,e.TotalTotalCasesSold=0,e.TotalGroceryRevenue=0,e.TotalProduceRevenue=0,e.TotalManualRevenue=0,e.TotalTotalRevenue=0;for(var i=e.salesReport.length,a=0;a<i;a++)e.TotalNoOfCustomer=e.TotalNoOfCustomer+e.salesReport[a].NoOfCustomer,e.TotalGroceryCasesSold=e.TotalGroceryCasesSold+e.salesReport[a].GroceryCasesSold,e.TotalProduceCasesSold=e.TotalProduceCasesSold+e.salesReport[a].ProduceCasesSold,e.TotalManualCasesSold=e.TotalManualCasesSold+e.salesReport[a].ManualCasesSold,e.TotalTotalCasesSold=e.TotalTotalCasesSold+e.salesReport[a].TotalCasesSold,e.TotalGroceryRevenue=e.TotalGroceryRevenue+e.salesReport[a].GroceryRevenue,e.TotalProduceRevenue=e.TotalProduceRevenue+e.salesReport[a].ProduceRevenue,e.TotalManualRevenue=e.TotalManualRevenue+e.salesReport[a].ManualRevenue,e.TotalTotalRevenue=e.TotalTotalRevenue+e.salesReport[a].TotalRevenue}e.btnSpinner.stop()}).catch(function(t){e.btnSpinner.stop()})}},e.resetSearch=function(){e.myTableFunctions.resetSearch(),e.groupProperty="",e.selectedSalesPersons=[],e.salesReport=[],e.salesReportMaster=[],u()},e.abortExecutingApi=function(){return p&&p.abortCall()},e.getCsvHeader=function(){return["Sales Person","No of Customers","Grocery Cases Sold","Grocery Revenue","Produce Cases sold","Produce Revenue","Manual Cases sold","Manual Revenue","Total Cases Sold","Total Revenue"]},e.getCsvDatacustomerreportHeader=function(){return["Customer Name","Sales Amount Prior","Sales Amount Current","Difference","Difference(%)"]},e.setscroll=function(){$("body").css("overflow","inherit")},e.getCsvDatacustomerreport=function(){var t=[],i=[];e.filename=("Customer Report Of "+e.selectedSalesPerson+".csv").toUpperCase(),i=["Customer","SalesAmountPrior","SalesAmountCurrent","Difference","Percentage"],angular.forEach(e.customersDataSafe,function(e,a){var n={};angular.forEach(e,function(e,t){var a=i.indexOf(t);a>-1&&(n[a]="SalesAmountPrior"==t||"SalesAmountCurrent"==t||"Difference"==t?"$"+e:e)}),void 0!=n&&t.push(n)});var a={};return a[0]="Total",a[1]=e.SalesAmountPriorTotal,a[2]=e.SalesAmountCurrentTotal,a[3]=a[4]="",t.push(a),t},e.getCsvData=function(){var t=[],i=[],a=0,o=0,s=0,r=0,l=0,c=0,h=0,u=0,d=0;i=["SalesPerson","NoOfCustomer","GroceryCasesSold","GroceryRevenue","ProduceCasesSold","ProduceRevenue","ManualCasesSold","ManualRevenue","TotalCasesSold","TotalRevenue"],angular.forEach(e.salesReportMaster,function(e,p){var f={};angular.forEach(e,function(e,t){var p=i.indexOf(t);p>-1&&(f[p]="TotalRevenue"==t||"GroceryRevenue"==t||"ProduceRevenue"==t||"ManualRevenue"==t?"$"+e:e,f[p]="TotalCasesSold"==t||"GroceryCasesSold"==t||"ProduceCasesSold"==t||"ManualCasesSold"==t?n("numberWithCommas")(e):e,"NoOfCustomer"==t&&(f[p]=n("numberWithCommas")(e))),"NoOfCustomer"==t&&(a+=e),"TotalRevenue"==t&&(o+=e),"TotalCasesSold"==t&&(s+=e),"GroceryRevenue"==t&&(r+=e),"GroceryCasesSold"==t&&(l+=e),"ProduceRevenue"==t&&(c+=e),"ProduceCasesSold"==t&&(h+=e),"ManualRevenue"==t&&(u+=e),"ManualCasesSold"==t&&(d+=e)}),void 0!=f&&t.push(f)});var p={};return p[0]="Total",p[1]=n("numberWithCommas")(a),p[2]=n("numberWithCommas")(l),p[3]="$"+r,p[4]=n("numberWithCommas")(h),p[5]="$"+c,p[6]=n("numberWithCommas")(d),p[7]="$"+u,p[8]=n("numberWithCommas")(s),p[9]="$"+o,t.push(p),t},u(),e.getCustomersSalesDataReport=function(t){e.selectedSalesPerson=t,e.customersData=[],e.customersDataSafe=[];var a={SalesPerson:t,StartDateCurrent:e.beginDate,EndDateCurrent:e.endDate,StartDatePrevious:"",EndDatePrevious:"",Commodity:"All",OrderBy:"sales"};startDivLoader("salesPersonReportPortletBody"),i.GetCustomerWiseReportOfSalesPerson(a).then(function(t){if(t&&t.data){e.customersData=t.data,e.customersDataSafe=angular.copy(e.customersData);for(var i=0,a=0,o=0;o<e.customersDataSafe.length;o++)i+=e.customersDataSafe[o].SalesAmountCurrent,a+=e.customersDataSafe[o].SalesAmountPrior;e.SalesAmountCurrentTotal="$"+n("numberWithCommas")(Math.round(i)),e.SalesAmountPriorTotal="$"+n("numberWithCommas")(Math.round(a))}stopDivLoader("salesPersonReportPortletBody")},function(){stopDivLoader("salesPersonReportPortletBody"),o.Error("Error upon the API request"),o.ConsoleLog("Error on the server")})},e.openModal=function(t){$("body").css("overflow","hidden"),e.CustomerSearch="",t&&""!=t&&$("#"+t).modal({backdrop:"static",keyboard:!1})},e.closeModal=function(e){$("body").css("overflow","inherit"),e&&""!=e&&$("#"+e).modal("hide")},e.expand=!1,e.action=function(){e.expand=!e.expand}}]),MetronicApp.controller("PayrollReportController",["$scope","dataService","$filter","NotificationService","ApiUrl","commonService","$controller","HelperService",function(e,t,i,a,n,o,s,r){function l(e){var t=[];if(e&&e.length>0)for(var i=0;i<e.length;i++)t.push(JSON.parse(e[i]));return t}function c(e){for(var t=[],i=0;i<e.length;i++)t.push(e[i].Key);return t}function h(){var t=new Date;e.beginDate=i("date")(new Date(t.getFullYear(),t.getMonth(),1),"MM/dd/yyyy"),e.endDate=i("date")(new Date,"MM/dd/yyyy"),e.search()}$(function(){$("#datepicker").datepicker()}),e.csvFileName="PAYROLL-REPORT.CSV",e.$on("$viewContentLoaded",function(){Metronic.initAjax()}),e.iscanceldisabled=!0,e.pageSize=20,s("BaseController",{$scope:e}),e.btnSpinner=o.InitBtnSpinner("#search");var u=null;e.groupProperty="",e.searchClicked=!1,e.loadDatePickers=function(){$("#scheduledLoadStartDate").datepicker({rtl:Metronic.isRTL(),orientation:"left",autoclose:!0,todayHighlight:!0}),$("#scheduledLoadEndDate").datepicker({rtl:Metronic.isRTL(),orientation:"left",autoclose:!0,todayHighlight:!0})},e.loadDatePickers(),function(){t.GetAllEmployees().then(function(t){e.availableEmployees=t.data})}(),e.search=function(a){e.PayRollReport=[],e.PayRollReportMaster=[],e.iscanceldisabled=!1,e.CurrentFilter=a,e.searchClicked=!0;var n=!1,o={};if(o=a?r.Getstartenddate(a):{firstDay:e.beginDate,lastDay:e.endDate},e.beginDate=i("date")(o.firstDay,"MM/dd/yyyy"),e.endDate=i("date")(o.lastDay,"MM/dd/yyyy"),(e.beginDate||o.lastDay)&&!(n=!e.beginDate||!e.endDate||(e.beginDate.length+e.endDate.length<20||n))&&e.isDate(e.beginDate)&&e.isDate(e.endDate)&&!e.isPreviouseDate(e.beginDate,e.endDate)){e.btnSpinner.start();var s={Employees:c(l(e.selectedEmployees)),StartDate:e.beginDate,EndDate:e.endDate};(u=t.GetPayRollData(s)).then(function(t){t&&t.data.PayRoll.length>0&&(e.iscanceldisabled=!0,e.PayRollReport=t.data.PayRoll,e.PayRollReportMaster=angular.copy(t.data.PayRoll),e.TotalOverTime=t.data.TotalOverTime,e.TotalRegular=t.data.TotalRegular,e.TotalTotal=t.data.TotalTotal),e.btnSpinner.stop()}).catch(function(t){e.iscanceldisabled=!0,e.btnSpinner.stop()})}},e.resetSearch=function(){e.PayRollReport=[],e.PayRollReportMaster=[],h(),e.search()},e.abortExecutingApi=function(){e.iscanceldisabled=!0,e.btnSpinner.stop();try{return u&&u.abortCall()}catch(e){}},e.getCsvHeader=function(){return["Employee","ID Number","Department","Status","Supervisor","Regular","Overtime","Total"]},e.getCsvData=function(){var t=[],i=[];i=["Employee","Id","Department","Status","Supervisor","Regular","Overtime","Total"],angular.forEach(e.PayRollReportMaster,function(e,a){var n={};angular.forEach(e,function(e,t){var a=i.indexOf(t);a>-1&&(n[a]=e)}),void 0!=n&&t.push(n)});var a={};return a[0]="Total",a[1]="",a[2]="",a[3]="",a[4]="",a[5]=e.TotalRegular,a[6]=e.TotalOverTime,a[7]=e.TotalTotal,t.push(a),t},h()}]),MetronicApp.controller("SalesOrderNoBinReportController",["$scope","dataService","$filter","NotificationService","ApiUrl","commonService","$controller",function(e,t,i,a,n,o,s){function r(e){for(var t=[],i=0;i<e.length;i++)t.push(e[i].Key);return t}function l(e){var t=[];if(e&&e.length>0)for(var i=0;i<e.length;i++)t.push(JSON.parse(e[i]));return t}function c(){var t=new Date;e.beginDate=i("date")(t,"MM/dd/yyyy"),e.sonumber="",e.selectedSalesPersons="",e.search()}e.pageSize=20,s("BaseController",{$scope:e}),e.btnSpinner=o.InitBtnSpinner("#search");var h=null;e.myTableFunctions={},e.salesPersonTableFunctions={},e.groupProperty="",e.searchClicked=!1,e.selectedSalesPerson="",e.loadDatePickers=function(){$("#scheduledLoadStartDate").datepicker({rtl:Metronic.isRTL(),orientation:"left",autoclose:!0,todayHighlight:!0}),$("#scheduledLoadEndDate").datepicker({rtl:Metronic.isRTL(),orientation:"left",autoclose:!0,todayHighlight:!0}),$("#scheduledLoadStartDate1").datepicker({rtl:Metronic.isRTL(),orientation:"left",autoclose:!0,todayHighlight:!0}),$("#scheduledLoadEndDate1").datepicker({rtl:Metronic.isRTL(),orientation:"left",autoclose:!0,todayHighlight:!0})},e.loadDatePickers(),e.selectedSalesPerson="",e.availableSalesPersons=[],function(){t.GetAllSalesPersonsForFiltering().then(function(t){e.availableSalesPersons=[],angular.forEach(t.data,function(t,i){e.availableSalesPersons.push({Key:t.SalesPersonCode,Value:t.SalesPersonDescription+" - ("+t.SalesPersonCode+")"})},e.availableSalesPersons)})}(),e.search=function(){if(e.searchClicked=!0,e.beginDate){e.btnSpinner.start();var i={Date:e.beginDate,Sono:e.sonumber,SalesPersons:r(l(e.selectedSalesPersons))};e.SalesOrderNoBinReport=[],(h=t.GetSalesOrderWithNoBin(i)).then(function(t){if(t){e.SalesOrderNoBinReportMasterExcel=t.data,e.SalesOrderNoBinReportMaster=angular.copy(e.SalesOrderNoBinReportMasterExcel);for(var i=0;i<e.SalesOrderNoBinReportMaster.length;i++){delete e.SalesOrderNoBinReportMaster[i].Date&&e.SalesOrderNoBinReport.push(t.data[i])}}e.btnSpinner.stop()}).catch(function(t){e.btnSpinner.stop()})}},e.resetSearch=function(){e.myTableFunctions.resetSearch(),c()},e.abortExecutingApi=function(){return h&&h.abortCall()},e.getCsvHeader=function(){return["Sales Order Number ","Item","Quantity Shipped","PullerId","Puller","Sales Person Code","Sales Person Name","Date "]},e.getCsvData=function(){var t=[],a=[];return a=["SalesOrderNumber","Item","QuantityShipped","PullerId","Puller","SalesPerson","SalesPersonName","Date"],angular.forEach(e.SalesOrderNoBinReportMasterExcel,function(e,n){var o={};angular.forEach(e,function(e,t){var n=a.indexOf(t);n>-1&&(o[n]=e,"Date"==t&&(o[n]=i("date")(e,"MM/dd/yyyy")),"QuantityShipped"==t&&(o[n]=i("numberWithCommas")(e)))}),void 0!=o&&t.push(o)}),t},c()}]),MetronicApp.controller("DumpdonationsReportController",["$rootScope","$scope","dataService","$stateParams","$filter","NotificationService","commonService","$controller",function(e,t,i,a,n,o,s,r){function l(e){e=e||new Date;var t=Math.floor(e.getMonth()/3)+1;return t>4?t-4:t}function c(){var e=new Date;t.beginDate=n("date")(new Date(e.getFullYear(),e.getMonth(),1),"MM/dd/yyyy"),t.endDate=n("date")(new Date,"MM/dd/yyyy"),t.search()}t.$on("$viewContentLoaded",function(){Metronic.initAjax()}),t.iscanceldisabled=!0,t.loadDatePickers=function(){$("#scheduledLoadStartDate").datepicker({rtl:Metronic.isRTL(),orientation:"left",autoclose:!0,todayHighlight:!0}),$("#scheduledLoadEndDate").datepicker({rtl:Metronic.isRTL(),orientation:"left",autoclose:!0,todayHighlight:!0})},t.loadDatePickers(),r("BaseController",{$scope:t}),t.btnSpinner=s.InitBtnSpinner("#search");var h=null;t.myTableFunctions={},t.salesPersonTableFunctions={},t.groupProperty="",t.searchClicked=!1,t.selectedSalesPerson="",t.search=function(e){t.iscanceldisabled=!1,t.searchClicked=!0;var a,s,r=!1,c=new Date;if("ThisMonth"==e)a=new Date(c.getFullYear(),c.getMonth(),1),s=new Date(c.getFullYear(),c.getMonth()+1,0);else if("LastMonth"==e){var u,d=c.getMonth();u=d<12?c.getFullYear():c.getFullYear()-1,a=new Date(u,d-1,1),s=new Date(u,d,0)}else if("ThisQuarter"==e){var p=l(c);a=new Date(c.getFullYear(),3*p-3,1),s=new Date(c.getFullYear(),3*p,0)}else if("LastQuarter"==e){var u,f=l(c)-1;f>0?(u=c.getFullYear(),a=new Date(u,3*f-3,1),s=new Date(u,3*f,0)):(u=c.getFullYear()-1,a=new Date(u,9,1),s=new Date(u,12,0))}else"YTD"==e?(a=new Date(c.getFullYear(),0,1),s=new Date):"LastYear"==e?(a=new Date(c.getFullYear()-1,0,1),s=new Date(c.getFullYear(),0,0)):(a=t.beginDate,s=t.endDate);if(t.beginDate=n("date")(a,"MM/dd/yyyy"),t.endDate=n("date")(s,"MM/dd/yyyy"),!(r=!t.beginDate||!t.endDate||(t.beginDate.length+t.endDate.length<20||r))&&t.isDate(t.beginDate)&&t.isDate(t.endDate)&&!t.isPreviouseDate(t.beginDate,t.endDate)){t.btnSpinner.start();var m={StartDate:t.beginDate,EndDate:t.endDate};(h=i.GetDumpAndDonation(m)).then(function(e){if(e){t.iscanceldisabled=!0,t.reportData=[],t.reportDataSafe=[];for(var i=0;i<e.data.length;i++){var a=e.data[i];1==a.IsConsigned?a.IsConsigned="Yes":a.IsConsigned="No",t.reportData.push(a)}t.reportDataSafe=angular.copy(t.reportData)}t.btnSpinner.stop()}).catch(function(e){o.Error("An error occured while generating the report"),t.btnSpinner.stop()})}},t.resetSearch=function(){t.myTableFunctions.resetSearch(),t.groupProperty="",t.reportData=[],t.reportDataSafe=[],c()},t.abortExecutingApi=function(){t.iscanceldisabled=!0;try{return h&&h.abortCall()}catch(e){}},t.getCsvHeader=function(){return["Buyer Id","Item Description","Customer Description","Vendor/Supplier","Date","Quantity Shipped","Is Consigned","Type","Extended Cost"]},t.getCsvData=function(){var e=[],i=[];return i=["BuyerId","ItemDesc","CustomerDesc","VendorName","Date","QuantityShipped","IsConsigned","Type","ExtendedCost"],angular.forEach(t.reportDataSafe,function(t,a){var o={};angular.forEach(t,function(e,t){var a=i.indexOf(t);a>-1&&(o[a]="Date"==t?n("date")(e,"MMM/dd/yyyy"):"ExtendedCost"==t?"$"+e:"QuantityShipped"==t?n("numberWithCommas")(e):e)}),void 0!=o&&e.push(o)}),e},c()}]),MetronicApp.controller("CostcomparisonController",["$rootScope","$scope","dataService","$stateParams","$filter","NotificationService","commonService","$controller",function(e,t,i,a,n,o,s,r){function l(){t.selectedfilter=t.costComparisonFilter[0],t.selectedcommodityitem=t.commoditylist[0]}function c(e){for(var t=[],i=0;i<e.length;i++)t.push(e[i].Key);return t}function h(e){var t=[];if(e&&e.length>0)for(var i=0;i<e.length;i++)t.push(JSON.parse(e[i]));return t}t.$on("$viewContentLoaded",function(){Metronic.initAjax()}),t.iscanceldisabled=!0,t.commoditylist=[],t.commoditylist=[{Id:"",Description:"All"},{Id:"Produce",Description:"Produce"},{Id:"Grocery",Description:"Grocery"}],t.reportData=[],r("BaseController",{$scope:t}),t.btnSpinner=s.InitBtnSpinner("#search");var u=null;t.myTableFunctions={},t.salesPersonTableFunctions={},t.groupProperty="",t.searchClicked=!1,t.selectedSalesPerson="",t.costComparisonFilter=[],t.selectedItems=[],function(){for(var i=0;i<e.GlobalFilter.length;i++)2!=e.GlobalFilter[i].Id&&4!=e.GlobalFilter[i].Id&&6!=e.GlobalFilter[i].Id&&8!=e.GlobalFilter[i].Id||t.costComparisonFilter.push(e.GlobalFilter[i])}(),t.getItemFilters=function(){i.getItemReportFilters().then(function(e){t.availableItems=e.data.ListItem,t.datas=e.data.ListItem})},t.getItemFilters(),t.search=function(e,a){t.iscanceldisabled=!1,t.btnSpinner.start();var n={filterId:e.Id,Comodity:a.Id,item:null==t.selectedItems||""==t.selectedItems?[]:c(h(t.selectedItems))};(u=i.GetItemComparisonReport(n)).then(function(i){if(i){t.iscanceldisabled=!0,t.Current="Cost Current",t.Historical="Cost Historical",t.Prior="Cost Prior";var a=e.Id;2==a&&(t.Current="This Week",t.Historical="This Week LY",t.Prior="Last Week"),4==a&&(t.Current="This Month",t.Historical="This Month LY",t.Prior="Last Month"),6==a&&(t.Current="This Quarter",t.Historical="This Quarter LY",t.Prior="Last Quarter"),t.reportData=i.data,t.reportDataSafe=i.data,Metronic.unblockUI()}t.btnSpinner.stop()}).catch(function(e){t.iscanceldisabled=!0,o.Error("An error occured while generating the report"),t.btnSpinner.stop()})},t.resetSearch=function(){t.selectedItems="",l()},t.abortExecutingApi=function(){t.iscanceldisabled=!0;try{return u&&u.abortCall()}catch(e){}},t.getCsvHeader=function(){return["Commodity","Item","Item Name",t.Current,t.Historical,t.Prior]},t.getCsvData=function(){var e=[],i=[];return i=["Commodity","Item","ItemName","costCurrent","costHistorical","costPrior"],angular.forEach(t.reportDataSafe,function(t,a){var n={};angular.forEach(t,function(e,t){var a=i.indexOf(t);a>-1&&(n[a]="costCurrent"==t||"costHistorical"==t||"costPrior"==t||"costYearHistorical"==t||"costYearCurrent"==t?"$"+e:e)}),void 0!=n&&e.push(n)}),e},l();var d=!0;t.$watch("selectedItems",function(e,i){e!=i&&(d?d=!1:t.search(t.selectedfilter,t.selectedcommodityitem.Id))})}]),MetronicApp.controller("CommodityReportController",["$scope","dataService","$filter","NotificationService","ApiUrl","commonService","$controller",function(e,t,i,a,n,o,s){function r(e){e=e||new Date;var t=Math.floor(e.getMonth()/3)+1;return t>4?t-4:t}function l(){var t=new Date;e.beginDate=i("date")(new Date(t.getFullYear(),t.getMonth(),1),"MM/dd/yyyy"),e.endDate=i("date")(new Date,"MM/dd/yyyy"),e.search()}e.$on("$viewContentLoaded",function(){Metronic.initAjax()}),e.iscanceldisabled=!0,e.commoditylist=[{id:0,com:"All"},{id:1,com:"Produce"},{id:2,com:"Grocery"}],e.Commodityselected=0,e.pageSize=20,s("BaseController",{$scope:e}),e.btnSpinner=o.InitBtnSpinner("#search");var c=null;e.myTableFunctions={},e.salesPersonTableFunctions={},e.groupProperty="",e.searchClicked=!1,e.selectedSalesPerson="",e.loadDatePickers=function(){$("#scheduledLoadStartDate").datepicker({rtl:Metronic.isRTL(),orientation:"left",autoclose:!0,todayHighlight:!0}),$("#scheduledLoadEndDate").datepicker({rtl:Metronic.isRTL(),orientation:"left",autoclose:!0,todayHighlight:!0})},e.loadDatePickers(),e.search=function(a){e.iscanceldisabled=!1,e.CurrentFilter=a,e.searchClicked=!0,e.Prior="";var n,o,s=!1,l=new Date;if("ThisMonth"==a)n=new Date(l.getFullYear(),l.getMonth(),1),o=new Date(l.getFullYear(),l.getMonth()+1,0);else if("LastMonth"==a){var h,u=l.getMonth();h=u<12?l.getFullYear():l.getFullYear()-1,n=new Date(h,u-1,1),o=new Date(h,u,0)}else if("ThisQuarter"==a){var d=r(l);n=new Date(l.getFullYear(),3*d-3,1),o=new Date(l.getFullYear(),3*d,0)}else if("LastQuarter"==a){var h,p=r(l)-1;p>0?(h=l.getFullYear(),n=new Date(h,3*p-3,1),o=new Date(h,3*p,0)):(h=l.getFullYear()-1,n=new Date(h,9,1),o=new Date(h,12,0))}else if("YTD"==a)n=new Date(l.getFullYear(),0,1),o=new Date;else if("LastYear"==a)n=new Date(l.getFullYear()-1,0,1),o=new Date(l.getFullYear(),0,0);else if("MTD"==a){var l=new Date;n=new Date(l.getFullYear(),l.getMonth(),1),o=new Date}else n=e.beginDate,o=e.endDate;if(e.beginDate=i("date")(n,"MM/dd/yyyy"),e.endDate=i("date")(o,"MM/dd/yyyy"),(e.beginDate||o)&&!(s=!e.beginDate||!e.endDate||(e.beginDate.length+e.endDate.length<20||s))&&e.isDate(e.beginDate)&&e.isDate(e.endDate)&&!e.isPreviouseDate(e.beginDate,e.endDate)){e.btnSpinner.start();var f=e.Commodityselected;f=0==e.Commodityselected||void 0==e.Commodityselected?"":1==e.Commodityselected?"01":2==e.Commodityselected?"02":"";var m={comodity:f,startDate:e.beginDate,endDate:e.endDate};(c=t.GetComodityExpenseReport(m)).then(function(t){if(t.data.length>0){e.iscanceldisabled=!0,e.CurrentLabel="Current Expense ("+t.data[0].CurrentLabel+")",e.PriorLabel="Prior Expense ("+t.data[0].PriorLabel+")",e.salesReport=t.data,e.salesReportMaster=angular.copy(t.data);var i=e.salesReport.reduce(function(e,t){return{PriorExpense:Number.parseInt(e.PriorExpense+"")+Number.parseInt(t.PriorExpense+""),PriorRevenue:Number.parseInt(e.PriorRevenue+"")+Number.parseInt(t.PriorRevenue+""),CurrentExpense:Number.parseInt(e.CurrentExpense+"")+Number.parseInt(t.CurrentExpense+"")}});e.TotalCurrentExpense=i.CurrentExpense,e.TotalPriorExpense=i.PriorExpense,e.TotalPriorRevenue=i.PriorRevenue}else e.iscanceldisabled=!0,e.CurrentLabel="Current Expense",e.PriorLabel="Prior Expense",e.salesReport=[],e.salesReportMaster=[];e.btnSpinner.stop()}).catch(function(t){e.btnSpinner.stop()})}},e.resetSearch=function(){e.myTableFunctions.resetSearch(),e.groupProperty="",e.selectedSalesPersons=[],e.salesReport=[],e.salesReportMaster=[],e.Commodityselected=0,e.CurrentFilter="MTD",l()},e.abortExecutingApi=function(){e.iscanceldisabled=!0;try{return c&&c.abortCall()}catch(e){}},e.getCsvHeader=function(){return["Category","Commodity",e.CurrentLabel,e.PriorLabel,"Prior Revenue"]},e.getCsvData=function(){var t=[],i=[],a=0,n=0,o=0;i=["Category","Commodity","CurrentExpense","PriorExpense","PriorRevenue"],angular.forEach(e.salesReportMaster,function(e,s){var r={};angular.forEach(e,function(e,t){var s=i.indexOf(t);s>-1&&(r[s]="CurrentExpense"==t||"PriorExpense"==t||"PriorRevenue"==t?"$"+e:e),"CurrentExpense"==t&&(a+=e),"PriorExpense"==t&&(n+=e),"PriorRevenue"==t&&(o+=e)}),void 0!=r&&t.push(r)});var s={};return s[0]="Total",s[1]="",s[2]="$"+a,s[3]="$"+n,s[4]="$"+o,t.push(s),t},l(),e.checksamemonthdate=function(e,t){var i=new Date(e),a=new Date(t);return i.getMonth()==a.getMonth()}}]),MetronicApp.controller("ItemVendorReportController",["$rootScope","$scope","dataService","$stateParams","$filter","NotificationService","commonService","$controller",function(e,t,i,a,n,o,s,r){function l(){t.selectedfilter=t.costComparisonFilter[0],t.selectedcommodityitem=t.commoditylist[0]}r("BaseController",{$scope:t}),t.$on("$viewContentLoaded",function(){Metronic.initAjax()}),t.iscanceldisabled=!0,t.commoditylist=[],t.commoditylist=[{Id:"",Description:"All"},{Id:"Produce",Description:"Produce"},{Id:"Grocery",Description:"Grocery"}],t.reportData=[],t.arrayobj=[],t.selectedcallback=function(e){t.selectedItems=e,t.arrayobj=[];for(var i=0;i<e.length;i++)t.arrayobj.push(e[i].Key);t.search(t.selectedfilter,t.selectedcommodityitem)},r("BaseController",{$scope:t}),t.btnSpinner=s.InitBtnSpinner("#search");var c=null;t.myTableFunctions={},t.salesPersonTableFunctions={},t.groupProperty="",t.searchClicked=!1,t.selectedSalesPerson="",t.costComparisonFilter=[],t.selectedItems=[],function(){for(var i=0;i<e.GlobalFilter.length;i++)2!=e.GlobalFilter[i].Id&&4!=e.GlobalFilter[i].Id&&6!=e.GlobalFilter[i].Id&&8!=e.GlobalFilter[i].Id||t.costComparisonFilter.push(e.GlobalFilter[i])}(),t.getItemFilters=function(){i.getItemReportFilters().then(function(e){t.availableItems=e.data.ListItem,t.datas=e.data.ListItem})},t.getItemFilters(),t.search=function(e,a){t.iscanceldisabled=!1,t.btnSpinner.start();var n={filterId:e.Id,Comodity:a.Id,item:t.arrayobj};(c=i.GetItemVendorReport(n)).then(function(i){if(i){t.iscanceldisabled=!0,t.Current="Cost Current",t.Historical="Cost Historical",t.Prior="Cost Prior";var a=e.Id;2==a&&(t.Current="This Week",t.Historical="This Week LY",t.Prior="Last Week"),4==a&&(t.Current="This Month",t.Historical="This Month LY",t.Prior="Last Month"),6==a&&(t.Current="This Quarter",t.Historical="This Quarter LY",t.Prior="Last Quarter"),t.reportData=i.data,t.reportDataSafe=i.data,Metronic.unblockUI()}t.btnSpinner.stop()}).catch(function(e){t.iscanceldisabled=!0,o.Error("An error occured while generating the report"),t.btnSpinner.stop()})},t.resetSearch=function(){t.selectedItems="",l()},t.abortExecutingApi=function(){t.iscanceldisabled=!0;try{return c&&c.abortCall()}catch(e){}},t.getCsvHeader=function(){return["Commodity","Item","Item Name","Vendor Name",t.Current+" (Revenue)",t.Historical+" (Revenue)",t.Prior+" (Revenue)","Margin",t.Current+" (Cost)",t.Historical+" (Cost)",t.Prior+" (Cost)"]},t.getCsvData=function(){var e=[],i=[];return i=["Commodity","Item","ItemName","VendorName","cCurrent","cHistorical","cPrior","difference","costCurrent","costHistorical","costPrior"],angular.forEach(t.reportDataSafe,function(t,a){var n={};angular.forEach(t,function(e,t){var a=i.indexOf(t);a>-1&&(n[a]="cCurrent"==t||"cHistorical"==t||"cPrior"==t||"costCurrent"==t||"costHistorical"==t||"costPrior"==t?"$"+e:e)}),void 0!=n&&e.push(n)}),e},l();var h=!0;t.$watch("selectedItems",function(e,i){e!=i&&(h?h=!1:t.search(t.selectedfilter,t.selectedcommodityitem.Id))})}]),MetronicApp.controller("TransportationReportController",["$scope","dataService","$filter","NotificationService","ApiUrl","commonService","$controller","HelperService",function(e,t,i,a,n,o,s,r){function l(e){e=e||new Date;var t=Math.floor(e.getMonth()/3)+1;return t>4?t-4:t}function c(){var t=new Date;e.beginDate=i("date")(new Date(t.getFullYear(),t.getMonth(),1),"MM/dd/yyyy"),e.endDate=i("date")(new Date,"MM/dd/yyyy"),e.search()}e.dayReport="Day.csv",e.detailReport="Detail.csv",e.ReportHeading="Driver Trip Report",e.ReportheadAttachment="",e.DetailedDayReport=!0,e.detailtoggle=!1,e.$on("$viewContentLoaded",function(){Metronic.initAjax()}),e.iscanceldisabled=!0,e.pageSize=20,s("BaseController",{$scope:e}),e.btnSpinner=o.InitBtnSpinner("#search"),e.transportationdrivercsv="";var h=null;e.myTableFunctions={},e.transportationDriverTableFunctions={},e.groupProperty="",e.searchClicked=!1,e.selecteditem="",e.loadDatePickers=function(){$("#scheduledLoadStartDate").datepicker({rtl:Metronic.isRTL(),orientation:"left",autoclose:!0,todayHighlight:!0}),$("#scheduledLoadEndDate").datepicker({rtl:Metronic.isRTL(),orientation:"left",autoclose:!0,todayHighlight:!0})},e.loadDatePickers(),e.toggledetailreport=!0,e.TotalNoofTrips=0,e.TotalNoofStops=0,e.TotalNoofCases=0,e.TotalNoofTripsDetail=0,e.TotalNoofStopsDetail=0,e.TotalNoofCasesDetail=0,e.GridtotalCasedDelivered=0,e.GridTotalforCasesDeliveredCustomerGrid=0,e.GridnoofinvoicestotalforCustomergrid=0,e.clickedButtonFn=function(t){e.CurrentData=t},e.GetDriverDayAndDetailedReport=function(a,n){Metronic.blockUI({boxed:!0}),e.dayReport="DRIVER_TRIP_BY_DAY_REPORT_"+a+".CSV",e.detailReport="DRIVER_TRIP_BY_DETAIL_REPORT_"+a+".CSV",e.DetailedDayReport=!0,e.ReportheadAttachment="("+a+"  "+n+")",e.detailtoggle=!0;var o={StartDate:e.beginDate,EndDate:e.endDate,driverCode:a,route:""};e.groupPropertycustomer="",
(h=t.GetDriverDayAndDetailedReport(o)).then(function(t){if(t){e.iscanceldisabled=!0,e.transportationdriverdetailcsv="TRANSPORTATION-DRIVER_TRIP_DETAIL-REPORT.CSV",e.transportationdriverdetailcsv=e.transportationdrivercsv.toUpperCase(),e.DriverDayReportList=t.data.DayReport,e.DriverDayReportListCopy=angular.copy(t.data.DayReport),e.DriverDetailedReportList=t.data.DetailedReport,e.DriverDetailedReportListCopy=angular.copy(t.data.DetailedReport),e.CustomerReport=t.data.CustomerReport,e.CustomerReportCopy=t.data.CustomerReport;for(var a=0,n=0,o=0,s=0,r=0,l=0,c=0,h=0,u=0;u<e.DriverDetailedReportList.length;u++)a=0+e.DriverDetailedReportList[u].Previous,n=0+e.DriverDetailedReportList[u].Current,l+=Number.parseFloat(e.DriverDetailedReportList[u].CasesDelivered+"");for(var u=0;u<e.CustomerReport.length;u++)a=0+e.CustomerReport[u].Previous,n=0+e.CustomerReport[u].Current,c+=Number.parseFloat(e.CustomerReport[u].CasesDelivered+""),h+=Number.parseFloat(e.CustomerReport[u].NumberOfInvoices+"");for(var u=0;u<e.DriverDayReportList.length;u++)0+e.DriverDayReportList[u].Previous,0+e.DriverDayReportList[u].Current,o+=e.DriverDayReportList[u].NumberOfTrips,s+=e.DriverDayReportList[u].NumberOfStops,r+=Number.parseFloat(e.DriverDayReportList[u].CasesDelivered+"");e.TotalPrevious=i("numberWithCommasRounded")(a),e.TotalCurrent=i("numberWithCommasRounded")(n),e.TotalNoofTripsDetail=i("numberWithCommasRounded")(o),e.TotalNoofStopsDetail=i("numberWithCommasRounded")(s),e.TotalNoofCasesDetail=Number.parseInt(r),e.GridtotalCasedDelivered=Number.parseInt(l),e.GridTotalforCasesDeliveredCustomerGrid=Number.parseInt(c),e.GridnoofinvoicestotalforCustomergrid=Number.parseInt(h)}Metronic.unblockUI(),e.btnSpinner.stop()}).catch(function(t){Metronic.unblockUI(),e.btnSpinner.stop()})},e.backtoMainList=function(){e.ReportheadAttachment="",e.detailtoggle=!1},e.$watch(e.toggledetailreport,function(){e.DetailedDayReport=!!e.toggledetailreport}),e.toggledetailReport=function(t){e.DetailedDayReport=t},e.search=function(a){e.iscanceldisabled=!1,e.searchClicked=!0;var n,o,s=!1,r=new Date;if("ThisMonth"==a)n=new Date(r.getFullYear(),r.getMonth(),1),o=new Date(r.getFullYear(),r.getMonth()+1,0);else if("LastMonth"==a){var c,u=r.getMonth();c=u<12?r.getFullYear():r.getFullYear()-1,n=new Date(c,u-1,1),o=new Date(c,u,0)}else if("ThisQuarter"==a){var d=l(r);n=new Date(r.getFullYear(),3*d-3,1),o=new Date(r.getFullYear(),3*d,0)}else if("LastQuarter"==a){var c,p=l(r)-1;p>0?(c=r.getFullYear(),n=new Date(c,3*p-3,1),o=new Date(c,3*p,0)):(c=r.getFullYear()-1,n=new Date(c,9,1),o=new Date(c,12,0))}else"YTD"==a?(n=new Date(r.getFullYear(),0,1),o=new Date):"LastYear"==a?(n=new Date(r.getFullYear()-1,0,1),o=new Date(r.getFullYear(),0,0)):(n=e.beginDate,o=e.endDate);if(e.beginDate=i("date")(n,"MM/dd/yyyy"),e.endDate=i("date")(o,"MM/dd/yyyy"),!(s=!e.beginDate||!e.endDate||(e.beginDate.length+e.endDate.length<20||s))&&e.isDate(e.beginDate)&&e.isDate(e.endDate)&&!e.isPreviouseDate(e.beginDate,e.endDate)){e.btnSpinner.start();var f={StartDate:e.beginDate,EndDate:e.endDate};(h=t.GetTransportationDriverReport(f)).then(function(t){if(t){e.iscanceldisabled=!0,e.transportationdrivercsv="TRANSPORTATION-DRIVER-TRIP-REPORT.CSV",e.transportationdrivercsv=e.transportationdrivercsv.toUpperCase(),e.DriverTripConsolidatedReportList=t.data,e.DriverTripConsolidatedReportListCopy=angular.copy(t.data);for(var a=0,n=0,o=0,s=0,r=0,l=0;l<e.DriverTripConsolidatedReportList.length;l++)a+=e.DriverTripConsolidatedReportList[l].Previous,n+=e.DriverTripConsolidatedReportList[l].Current,o+=e.DriverTripConsolidatedReportList[l].NumberOfTrips,s+=e.DriverTripConsolidatedReportList[l].NumberOfStops,r+=Number.parseFloat(e.DriverTripConsolidatedReportList[l].CasesDelivered+"");e.TotalPrevious=i("numberWithCommasRounded")(a),e.TotalCurrent=i("numberWithCommasRounded")(n),e.TotalNoofTrips=i("numberWithCommasRounded")(o),e.TotalNoofStops=i("numberWithCommasRounded")(s),e.TotalNoofCases=r}e.detailtoggle=!1,e.btnSpinner.stop()}).catch(function(t){e.btnSpinner.stop()})}},e.abortExecutingApi=function(){return e.searchClicked=!1,h&&h.abortCall()},e.resetSearch=function(){e.groupProperty="",e.DriverTripConsolidatedReportList=[],e.DriverTripConsolidatedReportListCopy=[],c()},c(),e.getCsvHeader=function(){return["Driver Code","Driver Name","Route Type","Number Of Trips","Number Of Stops","Cases Delivered"]},e.getCsvHeaderDay=function(){return["Date","Route","Route Type","Number Of Stops","Cases Delivered"]},e.getCsvHeaderDetail=function(){return["Driver Code","Driver Name","Truck Code","Route","Route Type"," Date","Invoice Number","Customer Name","Customer Code","Address","City","State","Zip","Reference","Cases Delivered"]},e.getCsvHeaderCustomer=function(){return["Truck Code","Route","Route Type","Date","Customer Name","Customer Code","Address","City","State","Zip","Reference","Number Of Invoices","Cases Delivered"]},e.getCsvData=function(){var t=[],a=[],n=0,o=0,s=0;a=["DriverCode","DriverName","RouteType","NumberOfTrips","NumberOfStops","CasesDelivered"],angular.forEach(e.DriverTripConsolidatedReportListCopy,function(e,r){var l={};angular.forEach(e,function(e,t){var r=a.indexOf(t);r>-1&&(l[r]="CasesDelivered"==t?i("numberWithCommasRounded")(e):e),"NumberOfStops"==t&&(o+=e),"NumberOfTrips"==t&&(n+=e),"CasesDelivered"==t&&(s+=Number.parseFloat(e+""))}),void 0!=l&&t.push(l)});var r={};return r[0]="Total",r[1]="",r[2]="",r[3]=n,r[4]=o,r[5]=i("numberWithCommasRounded")(Number.parseInt(s)),t.push(r),t},e.getCsvDataDay=function(){var t=[],a=[],n=0,o=0,s=0;a=["InvoiceDateString","Route","RouteType","NumberOfStops","CasesDelivered"],angular.forEach(e.DriverDayReportListCopy,function(e,r){var l={};angular.forEach(e,function(e,t){var r=a.indexOf(t);r>-1&&(l[r]="CasesDelivered"==t?i("numberWithCommasRounded")(e):e),"NumberOfStops"==t&&(o+=e),"NumberOfTrips"==t&&(n+=e),"CasesDelivered"==t&&(s+=Number.parseFloat(e+""))}),void 0!=l&&t.push(l)});var r={};return r[0]="Total",r[3]="",r[4]="",r[5]=o,r[6]=i("numberWithCommasRounded")(Number.parseInt(s)),t.push(r),t},e.getCsvDataDetail=function(){var t=[],a=[],n=0;a=["DriverCode","DriverName","TruckCode","Route","RouteType","InvoiceDateString","InvoiceNumber","CustomerName","CustomerCode","Address","City","State","Zip","Reference","CasesDelivered"],angular.forEach(e.DriverDetailedReportListCopy,function(e,i){var o={};angular.forEach(e,function(e,t){var i=a.indexOf(t);i>-1&&(o[i]=e),"CasesDelivered"==t&&(n+=Number.parseFloat(e+""))}),void 0!=o&&t.push(o)});var o={};return o[0]="Total",o[1]="",o[2]="",o[3]="",o[4]="",o[5]="",o[6]="",o[7]="",o[8]="",o[9]="",o[10]="",o[11]="",o[12]="",o[13]="",o[14]=i("numberWithCommasRounded")(Number.parseInt(n)),t.push(o),t},e.getCsvDataDetailCustomer=function(){var t=[],a=[],n=0,o=0;a=["TruckCode","Route","RouteType","InvoiceDateString","CustomerName","CustomerCode","Address","City","State","Zip","Reference","NumberOfInvoices","CasesDelivered"],angular.forEach(e.CustomerReportCopy,function(e,i){var s={};angular.forEach(e,function(e,t){var i=a.indexOf(t);i>-1&&(s[i]=e),"CasesDelivered"==t&&(n+=Number.parseFloat(e+"")),"NumberOfInvoices"==t&&(o+=Number.parseFloat(e+""))}),void 0!=s&&t.push(s)});var s={};return s[0]="Total",s[1]="",s[2]="",s[3]="",s[4]="",s[5]="",s[6]="",s[7]="",s[8]="",s[9]="",s[10]="",s[11]=o,s[12]=i("numberWithCommasRounded")(Number.parseInt(n)),t.push(s),t}}]),MetronicApp.controller("TransportationRouteReportController",["$scope","dataService","$filter","NotificationService","ApiUrl","commonService","$controller","HelperService",function(e,t,i,a,n,o,s,r){function l(e){e=e||new Date;var t=Math.floor(e.getMonth()/3)+1;return t>4?t-4:t}function c(){var t=new Date;e.beginDate=i("date")(new Date(t.getFullYear(),t.getMonth(),1),"MM/dd/yyyy"),e.endDate=i("date")(new Date,"MM/dd/yyyy"),e.search()}e.Daycsv="",e.ReportHeading="Route Report",e.ReportheadAttachment="",e.DetailedDayReport=!0,e.detailtoggle=!1,e.$on("$viewContentLoaded",function(){Metronic.initAjax()}),e.iscanceldisabled=!0,e.pageSize=20,s("BaseController",{$scope:e}),e.btnSpinner=o.InitBtnSpinner("#search"),e.transportationdrivercsv="";var h=null;e.myTableFunctions={},e.transportationDriverTableFunctions={},e.groupProperty="",e.searchClicked=!1,e.selecteditem="",e.loadDatePickers=function(){$("#scheduledLoadStartDate").datepicker({rtl:Metronic.isRTL(),orientation:"left",autoclose:!0,todayHighlight:!0}),$("#scheduledLoadEndDate").datepicker({rtl:Metronic.isRTL(),orientation:"left",autoclose:!0,todayHighlight:!0})},e.loadDatePickers(),e.toggledetailreport=!0,e.TotalNoofTripDriver=0,e.TotalNoofStops=0,e.TotalNoofCases=0,e.TotalNoofTripsDetail=0,e.TotalNoofStopsDetail=0,e.TotalNoofCasesDetail=0,e.GridtotalCasedDelivered=0,e.GridTotalforCasesDeliveredCustomerGrid=0,e.GridnoofinvoicestotalforCustomergrid=0,e.groupPropertycustomer="",e.GetDriverDayAndDetailedReport=function(a,n){Metronic.blockUI({boxed:!0}),e.dayReport="DRIVER_ROUTE_BY_DAY_REPORT_"+a+".CSV",e.detailReport="DRIVER_ROUTE_BY_DETAIL_REPORT_"+a+".CSV",e.DetailedDayReport=!0,e.ReportheadAttachment="("+a+")",e.detailtoggle=!0;var o={StartDate:e.beginDate,EndDate:e.endDate,driverCode:" ",route:a};(h=t.GetDriverDayAndDetailedReport(o)).then(function(t){if(t){e.iscanceldisabled=!0,e.transportationdriverdetailcsv="TRANSPORTATION-ROUTE-REPORT.CSV",e.transportationdriverdetailcsv=e.transportationdrivercsv.toUpperCase(),e.DriverDayReportList=t.data.DayReport,e.DriverDayReportListCopy=angular.copy(t.data.DayReport),e.DriverDetailedReportList=t.data.DetailedReport,e.DriverDetailedReportListCopy=angular.copy(t.data.DetailedReport),e.CustomerReport=t.data.CustomerReport,e.CustomerReportCopy=t.data.CustomerReport;for(var a=0,n=0,o=0,s=0,r=0,l=0,c=0,h=0,u=0;u<e.DriverDetailedReportList.length;u++)a=0+e.DriverDetailedReportList[u].Previous,n=0+e.DriverDetailedReportList[u].Current,l+=Number.parseFloat(e.DriverDetailedReportList[u].CasesDelivered+"");for(var u=0;u<e.CustomerReport.length;u++)a=0+e.CustomerReport[u].Previous,n=0+e.CustomerReport[u].Current,c+=Number.parseFloat(e.CustomerReport[u].CasesDelivered+""),h+=Number.parseFloat(e.CustomerReport[u].NumberOfInvoices+"");for(var u=0;u<e.DriverDayReportList.length;u++)0+e.DriverDayReportList[u].Previous,0+e.DriverDayReportList[u].Current,o+=e.DriverDayReportList[u].NumberOfTrips,s+=e.DriverDayReportList[u].NumberOfStops,r+=Number.parseFloat(e.DriverDayReportList[u].CasesDelivered+"");e.TotalPrevious=i("numberWithCommasRounded")(a),e.TotalCurrent=i("numberWithCommasRounded")(n),e.TotalNoofTripsDetail=i("numberWithCommasRounded")(o),e.TotalNoofStopsDetail=i("numberWithCommasRounded")(s),e.TotalNoofCasesDetail=Number.parseInt(r),e.GridtotalCasedDelivered=Number.parseInt(l),e.GridTotalforCasesDeliveredCustomerGrid=Number.parseInt(c),e.GridnoofinvoicestotalforCustomergrid=Number.parseInt(h)}Metronic.unblockUI(),e.btnSpinner.stop()}).catch(function(t){Metronic.unblockUI(),e.btnSpinner.stop()})},e.backtoMainList=function(){e.ReportheadAttachment="",e.detailtoggle=!1},e.$watch(e.toggledetailreport,function(){e.DetailedDayReport=!!e.toggledetailreport}),e.toggledetailReport=function(t){e.DetailedDayReport=t},e.search=function(a){e.iscanceldisabled=!1,e.searchClicked=!0;var n,o,s=!1,r=new Date;if("ThisMonth"==a)n=new Date(r.getFullYear(),r.getMonth(),1),o=new Date(r.getFullYear(),r.getMonth()+1,0);else if("LastMonth"==a){var c,u=r.getMonth();c=u<12?r.getFullYear():r.getFullYear()-1,n=new Date(c,u-1,1),o=new Date(c,u,0)}else if("ThisQuarter"==a){var d=l(r);n=new Date(r.getFullYear(),3*d-3,1),o=new Date(r.getFullYear(),3*d,0)}else if("LastQuarter"==a){var c,p=l(r)-1;p>0?(c=r.getFullYear(),n=new Date(c,3*p-3,1),o=new Date(c,3*p,0)):(c=r.getFullYear()-1,n=new Date(c,9,1),o=new Date(c,12,0))}else"YTD"==a?(n=new Date(r.getFullYear(),0,1),o=new Date):"LastYear"==a?(n=new Date(r.getFullYear()-1,0,1),o=new Date(r.getFullYear(),0,0)):(n=e.beginDate,o=e.endDate);if(e.beginDate=i("date")(n,"MM/dd/yyyy"),e.endDate=i("date")(o,"MM/dd/yyyy"),!(s=!e.beginDate||!e.endDate||(e.beginDate.length+e.endDate.length<20||s))&&e.isDate(e.beginDate)&&e.isDate(e.endDate)&&!e.isPreviouseDate(e.beginDate,e.endDate)){e.btnSpinner.start();var f={StartDate:e.beginDate,EndDate:e.endDate};(h=t.GetRouteConsolidatedReport(f)).then(function(t){if(t){e.iscanceldisabled=!0,e.transportationdrivercsv="TRANSPORTATION-ROUTE-REPORT.CSV",e.transportationdrivercsv=e.transportationdrivercsv.toUpperCase(),e.RouteConsolidatedReportList=t.data,e.RouteConsolidatedReportListCopy=angular.copy(t.data);for(var a=0,n=0,o=0,s=0,r=0,l=0;l<e.RouteConsolidatedReportList.length;l++)a+=e.RouteConsolidatedReportList[l].Previous,n+=e.RouteConsolidatedReportList[l].Current,o+=e.RouteConsolidatedReportList[l].NumberOfDrivers,s+=e.RouteConsolidatedReportList[l].NumberOfStops,r+=Number.parseFloat(e.RouteConsolidatedReportList[l].CasesDelivered+"");e.TotalPrevious=i("numberWithCommasRounded")(a),e.TotalCurrent=i("numberWithCommasRounded")(n),e.TotalNoofTripDriver=i("numberWithCommasRounded")(o),e.TotalNoofStops=i("numberWithCommasRounded")(s),e.TotalNoofCases=r}e.detailtoggle=!1,e.btnSpinner.stop()}).catch(function(t){e.btnSpinner.stop()})}},e.abortExecutingApi=function(){return e.searchClicked=!1,h&&h.abortCall()},e.resetSearch=function(){e.groupProperty="",e.RouteConsolidatedReportList=[],e.RouteConsolidatedReportListCopy=[],c()},c(),e.getCsvHeader=function(){return["Route","Route Type","Number Of Drivers","Number Of Stops","Cases Delivered"]},e.getCsvHeaderDay=function(){return["Driver Code","Driver Name"," Date","Route Type","Number Of Stops","Cases Delivered"]},e.getCsvHeaderDetail=function(){return["Driver Code","Driver Name","Truck Code","Route","Route Type","Date","Invoice Number","Customer Name","Customer Code","Address","City","State","Zip","Reference","Cases Delivered"]},e.getCsvHeaderCustomer=function(){return["Driver Code","Driver Name","Truck Code","Route","Route Type","Date","Customer Name","Customer Code","Address","City","State","Zip","Reference","Number Of Invoices","Cases Delivered"]},e.clickedButtonFn=function(t){e.CurrentData=t},e.getCsvData=function(){var t=[],a=[],n=0,o=0,s=0;a=["Route","RouteType","NumberOfDrivers","NumberOfStops","CasesDelivered"],angular.forEach(e.RouteConsolidatedReportListCopy,function(e,r){var l={};angular.forEach(e,function(e,t){var r=a.indexOf(t);r>-1&&(l[r]="CasesDelivered"==t?i("numberWithCommasRounded")(e):e),"NumberOfStops"==t&&(o+=e),"NumberOfDrivers"==t&&(n+=e),"CasesDelivered"==t&&(s+=Number.parseFloat(e+""))}),void 0!=l&&t.push(l)});var r={};return r[0]="Total",r[1]="",r[2]=n,r[3]=o,r[4]=i("numberWithCommasRounded")(Number.parseInt(s)),t.push(r),t},e.getCsvDataDay=function(){var t=[],a=[],n=0,o=0,s=0;a=["DriverCode","DriverName","InvoiceDateString","RouteType","NumberOfStops","CasesDelivered"],angular.forEach(e.DriverDayReportListCopy,function(e,i){var r={};angular.forEach(e,function(e,t){var i=a.indexOf(t);i>-1&&(r[i]=e),"NumberOfStops"==t&&(o+=e),"NumberOfTrips"==t&&(n+=e),"CasesDelivered"==t&&(s+=Number.parseFloat(e+""))}),void 0!=r&&t.push(r)});var r={};return r[0]="Total",r[1]="",r[2]="",r[3]="",r[4]=o,r[5]=i("numberWithCommasRounded")(Number.parseInt(s)),t.push(r),t},e.getCsvDataDetail=function(){var t=[],a=[],n=0;a=["DriverCode","DriverName","TruckCode","Route","RouteType","InvoiceDateString","InvoiceNumber","CustomerName","CustomerCode","Address","City","State","Zip","Reference","CasesDelivered"],angular.forEach(e.DriverDetailedReportListCopy,function(e,i){var o={};angular.forEach(e,function(e,t){var i=a.indexOf(t);i>-1&&(o[i]=e),"CasesDelivered"==t&&(n+=Number.parseFloat(e+""))}),void 0!=o&&t.push(o)});var o={};return o[0]="Total",o[1]="",o[2]="",o[3]="",o[4]="",o[5]="",o[6]="",o[7]="",o[8]="",o[9]="",o[10]="",o[11]="",o[12]="",o[13]="",o[14]=i("numberWithCommasRounded")(Number.parseInt(n)),t.push(o),t},e.getCsvDataDetailCustomer=function(){var t=[],a=[],n=0,o=0;a=["DriverCode","DriverName","TruckCode","Route","RouteType","InvoiceDateString","CustomerName","CustomerCode","Address","City","State","Zip","Reference","NumberOfInvoices","CasesDelivered"],angular.forEach(e.CustomerReportCopy,function(e,i){var s={};angular.forEach(e,function(e,t){var i=a.indexOf(t);i>-1&&(s[i]=e),"CasesDelivered"==t&&(n+=Number.parseFloat(e+"")),"NumberOfInvoices"==t&&(o+=Number.parseFloat(e+""))}),void 0!=s&&t.push(s)});var s={};return s[0]="Total",s[1]="",s[2]="",s[3]="",s[4]="",s[5]="",s[6]="",s[7]="",s[8]="",s[9]="",s[10]="",s[11]="",s[12]="",s[13]=o,s[14]=i("numberWithCommasRounded")(Number.parseInt(n)),t.push(s),t}}]),MetronicApp.controller("CustomerReportController",["$scope","dataService","$filter","NotificationService","ApiUrl","commonService","$controller",function(e,t,i,a,n,o,s){function r(){var t=new Date;e.beginDate=i("date")(new Date(t.getFullYear(),t.getMonth(),1),"MM/dd/yyyy"),e.endDate=i("date")(new Date,"MM/dd/yyyy"),e.search()}e.$on("$viewContentLoaded",function(){Metronic.initAjax()}),e.customerReport=[],e.selectedData=null,e.iscanceldisabled=!0,e.pageSize=20,s("BaseController",{$scope:e}),e.btnSpinner=o.InitBtnSpinner("#search"),e.getmomnetdate=function(e){if(e){return moment(e,"YYYYMMDD").fromNow()}};var l=null;e.groupProperty="",e.searchClicked=!1,e.selectedSalesPerson="",e.loadDatePickers=function(){$("#scheduledLoadStartDate").datepicker({rtl:Metronic.isRTL(),orientation:"left",autoclose:!0,todayHighlight:!0}),$("#scheduledLoadEndDate").datepicker({rtl:Metronic.isRTL(),orientation:"left",autoclose:!0,todayHighlight:!0})},e.loadDatePickers(),e.search=function(a){function n(e,t){var i=new Date(e),a="";if("LastMonth"==t){var n,o=i.getMonth();n=o<12?i.getFullYear():i.getFullYear()-1,new Date(n,o-1,1),a=new Date(n,o,0)}else new Date(i.getFullYear()-1,0,1),a=new Date(i.getFullYear(),0,0);return a}e.iscanceldisabled=!1,e.CurrentFilter=a,e.searchClicked=!0,e.Prior="";var o,s,r=!1,c=new Date;if("ThisMonth"==a)o=new Date(c.getFullYear(),c.getMonth(),1),s=new Date(c.getFullYear(),c.getMonth()+1,0);else if("LastMonth"==a){var h,u=c.getMonth();h=u<12?c.getFullYear():c.getFullYear()-1,o=new Date(h,u-1,1),s=new Date(h,u,0)}else"twomonthsago"==a?(o=moment().subtract(2,"months").calendar(),s=moment().subtract(2,"months").calendar()):"sixmonthsago"==a?(o=moment().subtract(6,"months").calendar(),s=moment().subtract(6,"months").calendar()):"ninemonthsago"==a?(o=moment().subtract(9,"months").calendar(),s=moment().subtract(9,"months").calendar()):"oneyearago"==a?(o=moment().subtract(1,"year").calendar(),s=moment().subtract(1,"year").calendar()):(o=e.beginDate,s=e.endDate);if(e.beginDate=i("date")(o,"MM/dd/yyyy"),e.endDate=i("date")(s,"MM/dd/yyyy"),(e.beginDate||s)&&(e.StartPrior=i("date")(n(e.beginDate,e.Prior),"MM/dd/yyyy"),e.EndPrior=i("date")(n(s,e.Prior),"MM/dd/yyyy"),!(r=!e.beginDate||!e.endDate||(e.beginDate.length+e.endDate.length<20||r))&&e.isDate(e.beginDate)&&e.isDate(e.endDate)&&!e.isPreviouseDate(e.beginDate,e.endDate))){e.btnSpinner.start();var d={currentStartDate:e.beginDate,currentEndDate:e.endDate};(l=t.GetCustomerReport(d)).then(function(t){t&&(e.iscanceldisabled=!0,e.customerReport=t.data,e.customerReportMaster=angular.copy(e.customerReport)),e.btnSpinner.stop()}).catch(function(t){e.iscanceldisabled=!0;e.btnSpinner.stop()})}},e.resetSearch=function(){e.itemReport=[],e.itemReportMaster=[],e.CurrentFilter="",e.selectedItems=[],r()},e.abortExecutingApi=function(){e.iscanceldisabled=!0;try{return l&&l.abortCall()}catch(e){}},e.getCsvHeader=function(){return["Customer#","Customer Name","Contact Person","Address","Phone","Entered Date","Last Payed Date","Last Payed Amount","Sales Person","Last Sales Amount","Last Sale Date"]},e.getCsvData=function(){var t=[],a=[];return a=["CustomerNumber","CustomerName","ContactPerson","Address","Phone","EnteredDate","LastPayedDate","LastPayedAmount","SalesPerson","LastSalesAmount","LastSaleDate"],angular.forEach(e.customerReportMaster,function(e,n){var o={};angular.forEach(e,function(e,t){var n=a.indexOf(t);n>-1&&(o[n]="LastPayedDate"==t||"EnteredDate"==t||"LastSaleDate"==t?"EnteredDate"==t&&"01/01/1900"==e?"":"LastPayedDate"==t&&"01/01/1900"==e?"":"LastSaleDate"==t&&"01/01/1900"==e?"":i("date")(e,"dd/MM/yyyy"):"LastPayedAmount"==t||"LastSalesAmount"==t?"$"+e:e)}),void 0!=o&&t.push(o)}),t},r()}]),MetronicApp.controller("SalesAnalysisReportController",["$scope","dataService","$stateParams","$filter","NotificationService","ApiUrl","commonService","$controller",function(e,t,i,a,n,o,s,r){function l(e){e=e||new Date;var t=Math.floor(e.getMonth()/3)+1;return t>4?t-4:t}function c(){var t=new Date;e.beginDate=a("date")(new Date(t.getFullYear(),t.getMonth(),1),"MM/dd/yyyy"),e.endDate=a("date")(new Date,"MM/dd/yyyy"),e.CurrentFilter="ThisMonth",e.search()}e.$on("$viewContentLoaded",function(){Metronic.initAjax()}),r("BaseController",{$scope:e}),e.iscanceldisabled=!0,e.pageSize=20,e.ischecked=!1,e.checked=function(t){e.slider=t?{minValue:0,maxValue:100,options:{floor:0,ceil:100,step:5}}:{minValue:30,maxValue:50,options:{floor:0,ceil:100,step:5}}},e.btnSpinner=s.InitBtnSpinner("#search"),e.ischecked=!0,e.slider={minValue:30,maxValue:50,options:{floor:0,ceil:100,step:5}};var h=null;e.myTableFunctions={},e.salesPersonTableFunctions={},e.groupProperty="",e.searchClicked=!1,e.selectedSalesPerson="",e.loadDatePickers=function(){$("#invoiceStartDate").datepicker({rtl:Metronic.isRTL(),orientation:"left",autoclose:!0,todayHighlight:!0}),$("#invoiceEndDate").datepicker({rtl:Metronic.isRTL(),orientation:"left",autoclose:!0,todayHighlight:!0})},e.loadDatePickers(),e.selectedReportType="EmployeeReport",e.reportTitle="",e.reportBy="",e.arrayobj=[],e.selectedcallback=function(t){e.selectedItems=t,e.arrayobj=[];for(var i=0;i<t.length;i++)e.arrayobj.push(t[i].Key);e.search(e.selectedfilter,e.selectedcommodityitem)},e.search=function(i){e.reportBy="";var n=0,o=0,s=0,r=0;e.CurrentFilter=i,e.searchClicked=!0,e.iscanceldisabled=!1;var c,u,d=!1,p=new Date;if("ThisMonth"==i)c=new Date(p.getFullYear(),p.getMonth(),1),u=new Date(p.getFullYear(),p.getMonth()+1,0);else if("LastMonth"==i){var f,m=p.getMonth();f=m<12?p.getFullYear():p.getFullYear()-1,c=new Date(f,m-1,1),u=new Date(f,m,0)}else if("ThisQuarter"==i){var g=l(p);c=new Date(p.getFullYear(),3*g-3,1),u=new Date(p.getFullYear(),3*g,0)}else if("LastQuarter"==i){var f,v=l(p)-1;v>0?(f=p.getFullYear(),c=new Date(f,3*v-3,1),u=new Date(f,3*v,0)):(f=p.getFullYear()-1,c=new Date(f,9,1),u=new Date(f,12,0))}else c=e.beginDate,u=e.endDate;if(e.beginDate=a("date")(c,"MM/dd/yyyy"),e.endDate=a("date")(u,"MM/dd/yyyy"),!(d=!e.beginDate||!e.endDate||(e.beginDate.length+e.endDate.length<20||d))&&e.isDate(e.beginDate)&&e.isDate(e.endDate)&&!e.isPreviouseDate(e.beginDate,e.endDate)){e.btnSpinner.start();var b={StartDate:e.beginDate,EndDate:e.endDate,ReportName:e.selectedReportType,LowerMarginLimit:e.ischecked?-1e5:e.slider.minValue,UpperMarginLimit:e.ischecked?1e5:e.slider.maxValue,item:e.arrayobj};(h=t.GetSalesPersonMarginReport(b)).then(function(t){e.reportBy=e.selectedReportType;var i=e.selectedReportType.replace("Report","").replace("Employee","Sales Person").replace("Order"," Order");if(e.reportTitle=" BY "+i,t){e.iscanceldisabled=!0,e.salesReport=t.data,e.salesReportMaster=angular.copy(t.data);for(var a=0;a<e.salesReport.length;a++)n+=e.salesReport[a].ExtendedPrice,o+=e.salesReport[a].Margin,s+=e.salesReport[a].QuantityShipped,r+=e.salesReport[a].InvoicesNumber;e.TotalExtendedPrice=Math.round(n),e.TotalMargin=Math.round(o),e.TotalQtyShipped=Math.round(s),e.TotalInvoicesNumber=Math.round(r)}e.btnSpinner.stop()}).catch(function(t){e.btnSpinner.stop()})}},e.resetAutoComplete=!1,e.resetSearch=function(){e.resetAutoComplete=!e.resetAutoComplete,e.myTableFunctions.resetSearch(),e.groupProperty="",e.CurrentFilter="",e.salesReport=[],e.salesReportMaster=[],e.salesDetailedReport=[],e.salesDetailedReportMaster=[],c(),e.selectedReportType="EmployeeReport",e.slider={minValue:30,maxValue:50,options:{floor:0,ceil:100,step:5}},(e.reportBy="SalesDetailedReport")&&e.backToReport()},e.abortExecutingApi=function(){return h&&h.abortCall()},e.getCsvHeader=function(){switch(e.csvfilename="SALES ANALYSIS REPORT"+e.reportTitle+".csv",e.csvfilename=e.csvfilename.toUpperCase(),e.reportBy){case"EmployeeReport":return["Sales Person","No of Invoices","Quantity Shipped","Extended Price","Margin","Margin Percentage"];case"CustomerReport":return["Customer Code","Customer Name","Sales Person","Quantity Shipped","Extended Price","Margin","Margin Percentage"];case"SalesOrderReport":return["SO #","Sales Person","Customer","Quantity Shipped","Extended Price","Margin","Margin Percentage"];case"PurchaseOrderReport":return["PO #","Buyer","Item Number","Description","Sales Person","Customer","Quantity Shipped","Extended Price","Margin","Margin Percentage"];case"SalesDetailedReport":return["Invoice #","Invoice Date","Item","Description","Sales Person","Customer","Quantity Shipped","Margin","Margin Percentage"]}},e.getCsvData=function(){var t=[],i=[],n={};switch(e.reportBy){case"EmployeeReport":i=["Employee","InvoicesNumber","QuantityShipped","ExtendedPrice","Margin","MarginPercentage"],n[0]=n[1]=a("numberWithCommas")(e.TotalInvoicesNumber),n[2]=a("numberWithCommas")(e.TotalQtyShipped),n[3]="$"+a("number")(e.TotalExtendedPrice,"2"),n[4]="$"+a("number")(e.TotalMargin,"2");break;case"CustomerReport":i=["Customer","Description","Employee","QuantityShipped","ExtendedPrice","Margin","MarginPercentage"],n[0]=n[1]=n[2]="",n[3]=a("numberWithCommas")(e.TotalQtyShipped),n[4]="$"+a("number")(e.TotalExtendedPrice,"2"),n[5]="$"+a("number")(e.TotalMargin,"2");break;case"SalesOrderReport":i=["SalesOrder","Employee","Customer","QuantityShipped","ExtendedPrice","Margin","MarginPercentage"],n[0]=n[1]=n[2]="",n[3]=a("numberWithCommas")(e.TotalQtyShipped),n[4]="$"+a("number")(e.TotalExtendedPrice,"2"),n[5]="$"+a("number")(e.TotalMargin,"2");break;case"PurchaseOrderReport":i=["PurchaseOrder","Buyer","Item","Description","Employee","Customer","QuantityShipped","ExtendedPrice","Margin","MarginPercentage"],n[0]=n[1]=n[2]=n[3]=n[4]=n[5]="",n[6]=a("numberWithCommas")(e.TotalQtyShipped),n[7]="$"+a("number")(e.TotalExtendedPrice,"2"),n[8]="$"+a("number")(e.TotalMargin,"2");break;case"SalesDetailedReport":i=["InvoiceNumber","InvoiceDate","Item","Description","Employee","Customer","QuantityShipped","Margin","MarginPercentage"],n[0]=n[1]=n[2]=n[3]=n[4]=n[5]="",n[6]=a("numberWithCommas")(e.TotalDetailedQtyShipped),n[7]="$"+a("number")(e.TotalDetailedExtendedPrice,"2"),n[8]="$"+a("number")(e.TotalDetailedMargin,"2")}return angular.forEach("SalesDetailedReport"==e.reportBy?e.salesDetailedReportMaster:e.salesReportMaster,function(e,n){var o={};angular.forEach(e,function(e,t){var n=i.indexOf(t);n>-1&&(o[n]="ExtendedPrice"==t||"Margin"==t?"$"+a("number")(e,"2"):"InvoiceDate"==t?a("date")(e,"MM/dd/yyyy"):"MarginPercentage"==t?a("number")(e,"2")+"%":"QuantityShipped"==t?a("numberWithCommas")(e):"InvoicesNumber"==t?a("numberWithCommas")(e):e)}),void 0!=o&&t.push(o)}),t.push(n),t},c(),e.TotalDetailedExtendedPrice=0,e.TotalDetailedMargin=0,e.TotalDetailedQtyShipped=0,e.selectedFiltervalue="",e.getDetailedReport=function(i){e.selectedFiltervalue=i,e.reportTitle=e.reportTitle+" ("+i+")",e.reportBy="SalesDetailedReport",e.salesDetailedReport=[],e.salesDetailedReportMaster=[];var a,n,o=0,s={StartDate:e.beginDate,EndDate:e.endDate,ReportName:e.selectedReportType,LowerMarginLimit:e.ischecked?-1e5:e.slider.minValue,UpperMarginLimit:e.ischecked?1e5:e.slider.maxValue,FilterValue:i,item:e.arrayobj};Metronic.blockUI({boxed:!0}),(h=t.GetSalesMarginDetailedReport(s)).then(function(t){if(t){e.salesDetailedReport=t.data,e.salesDetailedReportMaster=angular.copy(t.data);for(var i=0;i<e.salesDetailedReport.length;i++)a+=e.salesDetailedReport[i].ExtendedPrice,n+=e.salesDetailedReport[i].Margin,o+=e.salesDetailedReport[i].QuantityShipped;e.TotalDetailedExtendedPrice=a,e.TotalDetailedMargin=n,e.TotalDetailedQtyShipped=o}Metronic.unblockUI()}).catch(function(e){Metronic.unblockUI()})},e.backToReport=function(){e.reportBy=e.selectedReportType;var t=e.reportTitle.replace(" ("+e.selectedFiltervalue+")","");e.reportTitle=t}}]),MetronicApp.controller("CategoriesController",["$http","$timeout","$scope","dataService","$filter","NotificationService","$controller","storageService","$state","$rootScope","HelperService",function(e,t,i,a,n,o,s,r,l,c,h){function u(e){Metronic.blockUI({boxed:!0}),a.GetCasesSoldAndSalesDasboardData(e).then(function(n){try{t(function(){n.data.filterid=e.Id,r.setStorage("CasesSoldRevenueByMonth",n.data),r.setStorage("CurrentFilter",e);var t="cases-sold-categories"==d?"TotalCasesSold":"TotalRevenue",a=n.data[t].All[0].SubData;a.sort(function(e,t){return e.GroupName>t.GroupName?1:0}).forEach(function(e,t){a[t].xtitle=e.GroupName,a[t].Title=e.GroupName}),i.chartData=a},2e3)}catch(e){o.Error()}finally{a.PendingRequest()}},function(){a.PendingRequest(),o.Error()})}$("#load");i.IsFullScreen="",i.$on("$viewContentLoaded",function(){Metronic.initAjax()});var d=l.current.name;c.$on("cases-sold-categories",function(e,t){Metronic.blockUI({boxed:!0}),u(t.data)}),c.$on("revenue-categories",function(e,t){Metronic.blockUI({boxed:!0}),u(t.data)}),i.categories_subjectfn=function(e,t,i){i.Title=e},Metronic.blockUI({boxed:!0}),function(e){try{Metronic.blockUI({boxed:!0});var t=r.getStorage("CasesSoldRevenueByMonth");if(t)if(t.date!=(new Date).toJSON().slice(0,10).replace(/-/g,"/"))u(e);else if(i.chartData=[],t.data.filterid==c.currentfilter.Id){var a="cases-sold-categories"==d?"TotalCasesSold":"TotalRevenue",n=t.data[a].All[0].SubData;n.sort(function(e,t){return e.GroupName>t.GroupName?1:0}).forEach(function(e,t){n[t].xtitle=e.GroupName,n[t].Title=e.GroupName}),i.chartData=n,Metronic.unblockUI()}else u(e);else u(e)}catch(e){}}(c.currentfilter),i.refreshCharts=function(){u(c.currentfilter)},i.callbackfullscreenfn=function(e){e?$("body").css("overflow","hidden"):$("body").css("overflow","inherit"),i.IsFullScreen=e}}]),function(){var e=angular.module("toggle-switch",["ng"]);e.provider("toggleSwitchConfig",[function(){this.onLabel="On",this.offLabel="Off",this.knobLabel="";var e=this;this.$get=function(){return{onLabel:e.onLabel,offLabel:e.offLabel,knobLabel:e.knobLabel}}}]),e.directive("toggleSwitch",["toggleSwitchConfig",function(e){return{restrict:"EA",replace:!0,require:"ngModel",scope:{disabled:"@",onLabel:"@",offLabel:"@",knobLabel:"@"},template:'<div role="radio" class="toggle-switch" ng-class="{ \'disabled\': disabled }"><div class="toggle-switch-animate" ng-class="{\'switch-off\': !model, \'switch-on\': model}"><span class="switch-left" ng-bind="onLabel"></span><span class="knob" ng-bind="knobLabel"></span><span class="switch-right" ng-bind="offLabel"></span></div></div>',compile:function(t,i){return i.onLabel||(i.onLabel=e.onLabel),i.offLabel||(i.offLabel=e.offLabel),i.knobLabel||(i.knobLabel=e.knobLabel),this.link},link:function(e,t,i,a){t.on("click",function(){e.$apply(e.toggle)}),t.on("keydown",function(t){32===(t.which?t.which:t.keyCode)&&e.$apply(e.toggle)}),a.$formatters.push(function(e){return e}),a.$parsers.push(function(e){return e}),a.$viewChangeListeners.push(function(){e.$eval(i.ngChange)}),a.$render=function(){e.model=a.$viewValue},e.toggle=function(){e.disabled||(e.model=!e.model,a.$setViewValue(e.model))}}}}])}(),function(e){function t(e,t,i){switch(arguments.length){case 2:return null!=e?e:t;case 3:return null!=e?e:null!=t?t:i;default:throw new Error("Implement me")}}function i(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1}}function a(e){!1===fe.suppressDeprecationWarnings&&"undefined"!=typeof console&&console.warn&&void 0}function n(e,t){var i=!0;return h(function(){return i&&(a(e),i=!1),t.apply(this,arguments)},t)}function o(e,t){lt[e]||(a(t),lt[e]=!0)}function s(e,t){return function(i){return p(e.call(this,i),t)}}function r(){}function l(e,t){!1!==t&&P(e),u(this,e),this._d=new Date(+e._d)}
function c(e){var t=w(e),i=t.year||0,a=t.quarter||0,n=t.month||0,o=t.week||0,s=t.day||0,r=t.hour||0,l=t.minute||0,c=t.second||0,h=t.millisecond||0;this._milliseconds=+h+1e3*c+6e4*l+36e5*r,this._days=+s+7*o,this._months=+n+3*a+12*i,this._data={},this._locale=fe.localeData(),this._bubble()}function h(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);return t.hasOwnProperty("toString")&&(e.toString=t.toString),t.hasOwnProperty("valueOf")&&(e.valueOf=t.valueOf),e}function u(e,t){var i,a,n;if(void 0!==t._isAMomentObject&&(e._isAMomentObject=t._isAMomentObject),void 0!==t._i&&(e._i=t._i),void 0!==t._f&&(e._f=t._f),void 0!==t._l&&(e._l=t._l),void 0!==t._strict&&(e._strict=t._strict),void 0!==t._tzm&&(e._tzm=t._tzm),void 0!==t._isUTC&&(e._isUTC=t._isUTC),void 0!==t._offset&&(e._offset=t._offset),void 0!==t._pf&&(e._pf=t._pf),void 0!==t._locale&&(e._locale=t._locale),Me.length>0)for(i in Me)a=Me[i],void 0!==(n=t[a])&&(e[a]=n);return e}function d(e){return 0>e?Math.ceil(e):Math.floor(e)}function p(e,t,i){for(var a=""+Math.abs(e),n=e>=0;a.length<t;)a="0"+a;return(n?i?"+":"":"-")+a}function f(e,t){var i={milliseconds:0,months:0};return i.months=t.month()-e.month()+12*(t.year()-e.year()),e.clone().add(i.months,"M").isAfter(t)&&--i.months,i.milliseconds=+t-+e.clone().add(i.months,"M"),i}function m(e,t){var i;return t=F(t,e),e.isBefore(t)?i=f(e,t):(i=f(t,e),i.milliseconds=-i.milliseconds,i.months=-i.months),i}function g(e,t){return function(i,a){var n,s;return null===a||isNaN(+a)||(o(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period)."),s=i,i=a,a=s),i="string"==typeof i?+i:i,n=fe.duration(i,a),v(this,n,e),this}}function v(e,t,i,a){var n=t._milliseconds,o=t._days,s=t._months;a=null==a||a,n&&e._d.setTime(+e._d+n*i),o&&ce(e,"Date",le(e,"Date")+o*i),s&&re(e,le(e,"Month")+s*i),a&&fe.updateOffset(e,o||s)}function b(e){return"[object Array]"===Object.prototype.toString.call(e)}function y(e){return"[object Date]"===Object.prototype.toString.call(e)||e instanceof Date}function x(e,t,i){var a,n=Math.min(e.length,t.length),o=Math.abs(e.length-t.length),s=0;for(a=0;n>a;a++)(i&&e[a]!==t[a]||!i&&k(e[a])!==k(t[a]))&&s++;return s+o}function C(e){if(e){var t=e.toLowerCase().replace(/(.)s$/,"$1");e=tt[e]||it[t]||t}return e}function w(e){var t,i,a={};for(i in e)e.hasOwnProperty(i)&&(t=C(i))&&(a[t]=e[i]);return a}function k(e){var t=+e,i=0;return 0!==t&&isFinite(t)&&(i=t>=0?Math.floor(t):Math.ceil(t)),i}function S(e,t){return new Date(Date.UTC(e,t+1,0)).getUTCDate()}function D(e,t,i){return ae(fe([e,11,31+t-i]),t,i).week}function T(e){return M(e)?366:365}function M(e){return e%4==0&&e%100!=0||e%400==0}function P(e){var t;e._a&&-2===e._pf.overflow&&(t=e._a[xe]<0||e._a[xe]>11?xe:e._a[Ce]<1||e._a[Ce]>S(e._a[ye],e._a[xe])?Ce:e._a[we]<0||e._a[we]>23?we:e._a[ke]<0||e._a[ke]>59?ke:e._a[Se]<0||e._a[Se]>59?Se:e._a[De]<0||e._a[De]>999?De:-1,e._pf._overflowDayOfYear&&(ye>t||t>Ce)&&(t=Ce),e._pf.overflow=t)}function $(e){return null==e._isValid&&(e._isValid=!isNaN(e._d.getTime())&&e._pf.overflow<0&&!e._pf.empty&&!e._pf.invalidMonth&&!e._pf.nullInput&&!e._pf.invalidFormat&&!e._pf.userInvalidated,e._strict&&(e._isValid=e._isValid&&0===e._pf.charsLeftOver&&0===e._pf.unusedTokens.length)),e._isValid}function _(e){return e?e.toLowerCase().replace("_","-"):e}function A(e){for(var t,i,a,n,o=0;o<e.length;){for(n=_(e[o]).split("-"),t=n.length,i=_(e[o+1]),i=i?i.split("-"):null;t>0;){if(a=I(n.slice(0,t).join("-")))return a;if(i&&i.length>=t&&x(n,i,!0)>=t-1)break;t--}o++}return null}function I(e){var t=null;if(!Te[e]&&Pe)try{t=fe.locale(),require("./locale/"+e),fe.locale(t)}catch(e){}return Te[e]}function F(e,t){return t._isUTC?fe(e).zone(t._offset||0):fe(e).local()}function E(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function L(e){var t,i,a=e.match(Ie);for(t=0,i=a.length;i>t;t++)a[t]=rt[a[t]]?rt[a[t]]:E(a[t]);return function(n){var o="";for(t=0;i>t;t++)o+=a[t]instanceof Function?a[t].call(n,e):a[t];return o}}function B(e,t){return e.isValid()?(t=R(t,e.localeData()),at[t]||(at[t]=L(t)),at[t](e)):e.localeData().invalidDate()}function R(e,t){function i(e){return t.longDateFormat(e)||e}var a=5;for(Fe.lastIndex=0;a>=0&&Fe.test(e);)e=e.replace(Fe,i),Fe.lastIndex=0,a-=1;return e}function O(e,t){var i=t._strict;switch(e){case"Q":return He;case"DDDD":return je;case"YYYY":case"GGGG":case"gggg":return i?Ge:Be;case"Y":case"G":case"g":return qe;case"YYYYYY":case"YYYYY":case"GGGGG":case"ggggg":return i?Xe:Re;case"S":if(i)return He;case"SS":if(i)return Ue;case"SSS":if(i)return je;case"DDD":return Le;case"MMM":case"MMMM":case"dd":case"ddd":case"dddd":return Ne;case"a":case"A":return t._locale._meridiemParse;case"X":return ze;case"Z":case"ZZ":return Ve;case"T":return We;case"SSSS":return Oe;case"MM":case"DD":case"YY":case"GG":case"gg":case"HH":case"hh":case"mm":case"ss":case"ww":case"WW":return i?Ue:Ee;case"M":case"D":case"d":case"H":case"h":case"m":case"s":case"w":case"W":case"e":case"E":return Ee;case"Do":return Ye;default:return new RegExp(G(j(e.replace("\\",""))))}}function N(e){e=e||"";var t=e.match(Ve)||[],i=t[t.length-1]||[],a=(i+"").match(Ze)||["-",0,0],n=60*a[1]+k(a[2]);return"+"===a[0]?-n:n}function V(e,t,i){var a,n=i._a;switch(e){case"Q":null!=t&&(n[xe]=3*(k(t)-1));break;case"M":case"MM":null!=t&&(n[xe]=k(t)-1);break;case"MMM":case"MMMM":a=i._locale.monthsParse(t),null!=a?n[xe]=a:i._pf.invalidMonth=t;break;case"D":case"DD":null!=t&&(n[Ce]=k(t));break;case"Do":null!=t&&(n[Ce]=k(parseInt(t,10)));break;case"DDD":case"DDDD":null!=t&&(i._dayOfYear=k(t));break;case"YY":n[ye]=fe.parseTwoDigitYear(t);break;case"YYYY":case"YYYYY":case"YYYYYY":n[ye]=k(t);break;case"a":case"A":i._isPm=i._locale.isPM(t);break;case"H":case"HH":case"h":case"hh":n[we]=k(t);break;case"m":case"mm":n[ke]=k(t);break;case"s":case"ss":n[Se]=k(t);break;case"S":case"SS":case"SSS":case"SSSS":n[De]=k(1e3*("0."+t));break;case"X":i._d=new Date(1e3*parseFloat(t));break;case"Z":case"ZZ":i._useUTC=!0,i._tzm=N(t);break;case"dd":case"ddd":case"dddd":a=i._locale.weekdaysParse(t),null!=a?(i._w=i._w||{},i._w.d=a):i._pf.invalidWeekday=t;break;case"w":case"ww":case"W":case"WW":case"d":case"e":case"E":e=e.substr(0,1);case"gggg":case"GGGG":case"GGGGG":e=e.substr(0,2),t&&(i._w=i._w||{},i._w[e]=k(t));break;case"gg":case"GG":i._w=i._w||{},i._w[e]=fe.parseTwoDigitYear(t)}}function W(e){var i,a,n,o,s,r,l;i=e._w,null!=i.GG||null!=i.W||null!=i.E?(s=1,r=4,a=t(i.GG,e._a[ye],ae(fe(),1,4).year),n=t(i.W,1),o=t(i.E,1)):(s=e._locale._week.dow,r=e._locale._week.doy,a=t(i.gg,e._a[ye],ae(fe(),s,r).year),n=t(i.w,1),null!=i.d?(o=i.d,s>o&&++n):o=null!=i.e?i.e+s:s),l=ne(a,n,o,r,s),e._a[ye]=l.year,e._dayOfYear=l.dayOfYear}function z(e){var i,a,n,o,s=[];if(!e._d){for(n=H(e),e._w&&null==e._a[Ce]&&null==e._a[xe]&&W(e),e._dayOfYear&&(o=t(e._a[ye],n[ye]),e._dayOfYear>T(o)&&(e._pf._overflowDayOfYear=!0),a=Z(o,0,e._dayOfYear),e._a[xe]=a.getUTCMonth(),e._a[Ce]=a.getUTCDate()),i=0;3>i&&null==e._a[i];++i)e._a[i]=s[i]=n[i];for(;7>i;i++)e._a[i]=s[i]=null==e._a[i]?2===i?1:0:e._a[i];e._d=(e._useUTC?Z:J).apply(null,s),null!=e._tzm&&e._d.setUTCMinutes(e._d.getUTCMinutes()+e._tzm)}}function Y(e){var t;e._d||(t=w(e._i),e._a=[t.year,t.month,t.day,t.hour,t.minute,t.second,t.millisecond],z(e))}function H(e){var t=new Date;return e._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}function U(e){if(e._f===fe.ISO_8601)return void q(e);e._a=[],e._pf.empty=!0;var t,i,a,n,o,s=""+e._i,r=s.length,l=0;for(a=R(e._f,e._locale).match(Ie)||[],t=0;t<a.length;t++)n=a[t],i=(s.match(O(n,e))||[])[0],i&&(o=s.substr(0,s.indexOf(i)),o.length>0&&e._pf.unusedInput.push(o),s=s.slice(s.indexOf(i)+i.length),l+=i.length),rt[n]?(i?e._pf.empty=!1:e._pf.unusedTokens.push(n),V(n,i,e)):e._strict&&!i&&e._pf.unusedTokens.push(n);e._pf.charsLeftOver=r-l,s.length>0&&e._pf.unusedInput.push(s),e._isPm&&e._a[we]<12&&(e._a[we]+=12),!1===e._isPm&&12===e._a[we]&&(e._a[we]=0),z(e),P(e)}function j(e){return e.replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(e,t,i,a,n){return t||i||a||n})}function G(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function X(e){var t,a,n,o,s;if(0===e._f.length)return e._pf.invalidFormat=!0,void(e._d=new Date(NaN));for(o=0;o<e._f.length;o++)s=0,t=u({},e),t._pf=i(),t._f=e._f[o],U(t),$(t)&&(s+=t._pf.charsLeftOver,s+=10*t._pf.unusedTokens.length,t._pf.score=s,(null==n||n>s)&&(n=s,a=t));h(e,a||t)}function q(e){var t,i,a=e._i,n=Qe.exec(a);if(n){for(e._pf.iso=!0,t=0,i=Ke.length;i>t;t++)if(Ke[t][1].exec(a)){e._f=Ke[t][0]+(n[6]||" ");break}for(t=0,i=Je.length;i>t;t++)if(Je[t][1].exec(a)){e._f+=Je[t][0];break}a.match(Ve)&&(e._f+="Z"),U(e)}else e._isValid=!1}function Q(e){q(e),!1===e._isValid&&(delete e._isValid,fe.createFromInputFallback(e))}function K(t){var i,a=t._i;a===e?t._d=new Date:y(a)?t._d=new Date(+a):null!==(i=$e.exec(a))?t._d=new Date(+i[1]):"string"==typeof a?Q(t):b(a)?(t._a=a.slice(0),z(t)):"object"==typeof a?Y(t):"number"==typeof a?t._d=new Date(a):fe.createFromInputFallback(t)}function J(e,t,i,a,n,o,s){var r=new Date(e,t,i,a,n,o,s);return 1970>e&&r.setFullYear(e),r}function Z(e){var t=new Date(Date.UTC.apply(null,arguments));return 1970>e&&t.setUTCFullYear(e),t}function ee(e,t){if("string"==typeof e)if(isNaN(e)){if("number"!=typeof(e=t.weekdaysParse(e)))return null}else e=parseInt(e,10);return e}function te(e,t,i,a,n){return n.relativeTime(t||1,!!i,e,a)}function ie(e,t,i){var a=fe.duration(e).abs(),n=be(a.as("s")),o=be(a.as("m")),s=be(a.as("h")),r=be(a.as("d")),l=be(a.as("M")),c=be(a.as("y")),h=n<nt.s&&["s",n]||1===o&&["m"]||o<nt.m&&["mm",o]||1===s&&["h"]||s<nt.h&&["hh",s]||1===r&&["d"]||r<nt.d&&["dd",r]||1===l&&["M"]||l<nt.M&&["MM",l]||1===c&&["y"]||["yy",c];return h[2]=t,h[3]=+e>0,h[4]=i,te.apply({},h)}function ae(e,t,i){var a,n=i-t,o=i-e.day();return o>n&&(o-=7),n-7>o&&(o+=7),a=fe(e).add(o,"d"),{week:Math.ceil(a.dayOfYear()/7),year:a.year()}}function ne(e,t,i,a,n){var o,s,r=Z(e,0,1).getUTCDay();return r=0===r?7:r,i=null!=i?i:n,o=n-r+(r>a?7:0)-(n>r?7:0),s=7*(t-1)+(i-n)+o+1,{year:s>0?e:e-1,dayOfYear:s>0?s:T(e-1)+s}}function oe(t){var i=t._i,a=t._f;return t._locale=t._locale||fe.localeData(t._l),null===i||a===e&&""===i?fe.invalid({nullInput:!0}):("string"==typeof i&&(t._i=i=t._locale.preparse(i)),fe.isMoment(i)?new l(i,!0):(a?b(a)?X(t):U(t):K(t),new l(t)))}function se(e,t){var i,a;if(1===t.length&&b(t[0])&&(t=t[0]),!t.length)return fe();for(i=t[0],a=1;a<t.length;++a)t[a][e](i)&&(i=t[a]);return i}function re(e,t){var i;return"string"==typeof t&&"number"!=typeof(t=e.localeData().monthsParse(t))?e:(i=Math.min(e.date(),S(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,i),e)}function le(e,t){return e._d["get"+(e._isUTC?"UTC":"")+t]()}function ce(e,t,i){return"Month"===t?re(e,i):e._d["set"+(e._isUTC?"UTC":"")+t](i)}function he(e,t){return function(i){return null!=i?(ce(this,e,i),fe.updateOffset(this,t),this):le(this,e)}}function ue(e){return 400*e/146097}function de(e){return 146097*e/400}function pe(e){"undefined"==typeof ender&&(me=ve.moment,ve.moment=e?n("Accessing Moment through the global scope is deprecated, and will be removed in an upcoming release.",fe):fe)}for(var fe,me,ge,ve="undefined"!=typeof global?global:this,be=Math.round,ye=0,xe=1,Ce=2,we=3,ke=4,Se=5,De=6,Te={},Me=[],Pe="undefined"!=typeof module&&module.exports,$e=/^\/?Date\((\-?\d+)/i,_e=/(\-)?(?:(\d*)\.)?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?)?/,Ae=/^(-)?P(?:(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?)?|([0-9,.]*)W)$/,Ie=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Q|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|S{1,4}|X|zz?|ZZ?|.)/g,Fe=/(\[[^\[]*\])|(\\)?(LT|LL?L?L?|l{1,4})/g,Ee=/\d\d?/,Le=/\d{1,3}/,Be=/\d{1,4}/,Re=/[+\-]?\d{1,6}/,Oe=/\d+/,Ne=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,Ve=/Z|[\+\-]\d\d:?\d\d/gi,We=/T/i,ze=/[\+\-]?\d+(\.\d{1,3})?/,Ye=/\d{1,2}/,He=/\d/,Ue=/\d\d/,je=/\d{3}/,Ge=/\d{4}/,Xe=/[+-]?\d{6}/,qe=/[+-]?\d+/,Qe=/^\s*(?:[+-]\d{6}|\d{4})-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Ke=[["YYYYYY-MM-DD",/[+-]\d{6}-\d{2}-\d{2}/],["YYYY-MM-DD",/\d{4}-\d{2}-\d{2}/],["GGGG-[W]WW-E",/\d{4}-W\d{2}-\d/],["GGGG-[W]WW",/\d{4}-W\d{2}/],["YYYY-DDD",/\d{4}-\d{3}/]],Je=[["HH:mm:ss.SSSS",/(T| )\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss",/(T| )\d\d:\d\d:\d\d/],["HH:mm",/(T| )\d\d:\d\d/],["HH",/(T| )\d\d/]],Ze=/([\+\-]|\d\d)/gi,et=("Date|Hours|Minutes|Seconds|Milliseconds".split("|"),{Milliseconds:1,Seconds:1e3,Minutes:6e4,Hours:36e5,Days:864e5,Months:2592e6,Years:31536e6}),tt={ms:"millisecond",s:"second",m:"minute",h:"hour",d:"day",D:"date",w:"week",W:"isoWeek",M:"month",Q:"quarter",y:"year",DDD:"dayOfYear",e:"weekday",E:"isoWeekday",gg:"weekYear",GG:"isoWeekYear"},it={dayofyear:"dayOfYear",isoweekday:"isoWeekday",isoweek:"isoWeek",weekyear:"weekYear",isoweekyear:"isoWeekYear"},at={},nt={s:45,m:45,h:22,d:26,M:11},ot="DDD w W M D d".split(" "),st="M D H h m s w W".split(" "),rt={M:function(){return this.month()+1},MMM:function(e){return this.localeData().monthsShort(this,e)},MMMM:function(e){return this.localeData().months(this,e)},D:function(){return this.date()},DDD:function(){return this.dayOfYear()},d:function(){return this.day()},dd:function(e){return this.localeData().weekdaysMin(this,e)},ddd:function(e){return this.localeData().weekdaysShort(this,e)},dddd:function(e){return this.localeData().weekdays(this,e)},w:function(){return this.week()},W:function(){return this.isoWeek()},YY:function(){return p(this.year()%100,2)},YYYY:function(){return p(this.year(),4)},YYYYY:function(){return p(this.year(),5)},YYYYYY:function(){var e=this.year();return(e>=0?"+":"-")+p(Math.abs(e),6)},gg:function(){return p(this.weekYear()%100,2)},gggg:function(){return p(this.weekYear(),4)},ggggg:function(){return p(this.weekYear(),5)},GG:function(){return p(this.isoWeekYear()%100,2)},GGGG:function(){return p(this.isoWeekYear(),4)},GGGGG:function(){return p(this.isoWeekYear(),5)},e:function(){return this.weekday()},E:function(){return this.isoWeekday()},a:function(){return this.localeData().meridiem(this.hours(),this.minutes(),!0)},A:function(){return this.localeData().meridiem(this.hours(),this.minutes(),!1)},H:function(){return this.hours()},h:function(){return this.hours()%12||12},m:function(){return this.minutes()},s:function(){return this.seconds()},S:function(){return k(this.milliseconds()/100)},SS:function(){return p(k(this.milliseconds()/10),2)},SSS:function(){return p(this.milliseconds(),3)},SSSS:function(){return p(this.milliseconds(),3)},Z:function(){var e=-this.zone(),t="+";return 0>e&&(e=-e,t="-"),t+p(k(e/60),2)+":"+p(k(e)%60,2)},ZZ:function(){var e=-this.zone(),t="+";return 0>e&&(e=-e,t="-"),t+p(k(e/60),2)+p(k(e)%60,2)},z:function(){return this.zoneAbbr()},zz:function(){return this.zoneName()},X:function(){return this.unix()},Q:function(){return this.quarter()}},lt={},ct=["months","monthsShort","weekdays","weekdaysShort","weekdaysMin"];ot.length;)ge=ot.pop(),rt[ge+"o"]=function(e,t){return function(i){return this.localeData().ordinal(e.call(this,i),t)}}(rt[ge],ge);for(;st.length;)ge=st.pop(),rt[ge+ge]=s(rt[ge],2);rt.DDDD=s(rt.DDD,3),h(r.prototype,{set:function(e){var t,i;for(i in e)t=e[i],"function"==typeof t?this[i]=t:this["_"+i]=t},_months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),months:function(e){return this._months[e.month()]},_monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),monthsShort:function(e){return this._monthsShort[e.month()]},monthsParse:function(e){var t,i,a;for(this._monthsParse||(this._monthsParse=[]),t=0;12>t;t++)if(this._monthsParse[t]||(i=fe.utc([2e3,t]),a="^"+this.months(i,"")+"|^"+this.monthsShort(i,""),this._monthsParse[t]=new RegExp(a.replace(".",""),"i")),this._monthsParse[t].test(e))return t},_weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdays:function(e){return this._weekdays[e.day()]},_weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysShort:function(e){return this._weekdaysShort[e.day()]},_weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),weekdaysMin:function(e){return this._weekdaysMin[e.day()]},weekdaysParse:function(e){var t,i,a;for(this._weekdaysParse||(this._weekdaysParse=[]),t=0;7>t;t++)if(this._weekdaysParse[t]||(i=fe([2e3,1]).day(t),a="^"+this.weekdays(i,"")+"|^"+this.weekdaysShort(i,"")+"|^"+this.weekdaysMin(i,""),this._weekdaysParse[t]=new RegExp(a.replace(".",""),"i")),this._weekdaysParse[t].test(e))return t},_longDateFormat:{LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY LT",LLLL:"dddd, MMMM D, YYYY LT"},longDateFormat:function(e){var t=this._longDateFormat[e];return!t&&this._longDateFormat[e.toUpperCase()]&&(t=this._longDateFormat[e.toUpperCase()].replace(/MMMM|MM|DD|dddd/g,function(e){return e.slice(1)}),this._longDateFormat[e]=t),t},isPM:function(e){return"p"===(e+"").toLowerCase().charAt(0)},_meridiemParse:/[ap]\.?m?\.?/i,meridiem:function(e,t,i){return e>11?i?"pm":"PM":i?"am":"AM"},_calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},calendar:function(e,t){var i=this._calendar[e];return"function"==typeof i?i.apply(t):i},_relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},relativeTime:function(e,t,i,a){var n=this._relativeTime[i];return"function"==typeof n?n(e,t,i,a):n.replace(/%d/i,e)},pastFuture:function(e,t){var i=this._relativeTime[e>0?"future":"past"];return"function"==typeof i?i(t):i.replace(/%s/i,t)},ordinal:function(e){return this._ordinal.replace("%d",e)},_ordinal:"%d",preparse:function(e){return e},postformat:function(e){return e},week:function(e){return ae(e,this._week.dow,this._week.doy).week},_week:{dow:0,doy:6},_invalidDate:"Invalid date",invalidDate:function(){return this._invalidDate}}),fe=function(t,a,n,o){var s;return"boolean"==typeof n&&(o=n,n=e),s={},s._isAMomentObject=!0,s._i=t,s._f=a,s._l=n,s._strict=o,s._isUTC=!1,s._pf=i(),oe(s)},fe.suppressDeprecationWarnings=!1,fe.createFromInputFallback=n("moment construction falls back to js Date. This is discouraged and will be removed in upcoming major release. Please refer to https://github.com/moment/moment/issues/1407 for more info.",function(e){e._d=new Date(e._i)}),fe.min=function(){return se("isBefore",[].slice.call(arguments,0))},fe.max=function(){return se("isAfter",[].slice.call(arguments,0))},fe.utc=function(t,a,n,o){var s;return"boolean"==typeof n&&(o=n,n=e),s={},s._isAMomentObject=!0,s._useUTC=!0,s._isUTC=!0,s._l=n,s._i=t,s._f=a,s._strict=o,s._pf=i(),oe(s).utc()},fe.unix=function(e){return fe(1e3*e)},fe.duration=function(e,t){var i,a,n,o,s=e,r=null;return fe.isDuration(e)?s={ms:e._milliseconds,d:e._days,M:e._months}:"number"==typeof e?(s={},t?s[t]=e:s.milliseconds=e):(r=_e.exec(e))?(i="-"===r[1]?-1:1,s={y:0,d:k(r[Ce])*i,h:k(r[we])*i,m:k(r[ke])*i,s:k(r[Se])*i,ms:k(r[De])*i}):(r=Ae.exec(e))?(i="-"===r[1]?-1:1,n=function(e){var t=e&&parseFloat(e.replace(",","."));return(isNaN(t)?0:t)*i},s={y:n(r[2]),M:n(r[3]),d:n(r[4]),h:n(r[5]),m:n(r[6]),s:n(r[7]),w:n(r[8])}):"object"==typeof s&&("from"in s||"to"in s)&&(o=m(fe(s.from),fe(s.to)),s={},s.ms=o.milliseconds,s.M=o.months),a=new c(s),fe.isDuration(e)&&e.hasOwnProperty("_locale")&&(a._locale=e._locale),a},fe.version="2.8.1",fe.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",fe.ISO_8601=function(){},fe.momentProperties=Me,fe.updateOffset=function(){},fe.relativeTimeThreshold=function(t,i){return nt[t]!==e&&(i===e?nt[t]:(nt[t]=i,!0))},fe.lang=n("moment.lang is deprecated. Use moment.locale instead.",function(e,t){return fe.locale(e,t)}),fe.locale=function(e,t){var i;return e&&(i=void 0!==t?fe.defineLocale(e,t):fe.localeData(e))&&(fe.duration._locale=fe._locale=i),fe._locale._abbr},fe.defineLocale=function(e,t){return null!==t?(t.abbr=e,Te[e]||(Te[e]=new r),Te[e].set(t),fe.locale(e),Te[e]):(delete Te[e],null)},fe.langData=n("moment.langData is deprecated. Use moment.localeData instead.",function(e){return fe.localeData(e)}),fe.localeData=function(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return fe._locale;if(!b(e)){if(t=I(e))return t;e=[e]}return A(e)},fe.isMoment=function(e){return e instanceof l||null!=e&&e.hasOwnProperty("_isAMomentObject")},fe.isDuration=function(e){return e instanceof c};for(ge=ct.length-1;ge>=0;--ge)!function(t){var i,a;if(0===t.indexOf("week"))i=7,a="day";else{if(0!==t.indexOf("month"))return;i=12,a="month"}fe[t]=function(n,o){var s,r,l=fe._locale[t],c=[];if("number"==typeof n&&(o=n,n=e),r=function(e){var t=fe().utc().set(a,e);return l.call(fe._locale,t,n||"")},null!=o)return r(o);for(s=0;i>s;s++)c.push(r(s));return c}}(ct[ge]);fe.normalizeUnits=function(e){return C(e)},fe.invalid=function(e){var t=fe.utc(NaN);return null!=e?h(t._pf,e):t._pf.userInvalidated=!0,t},fe.parseZone=function(){return fe.apply(null,arguments).parseZone()},fe.parseTwoDigitYear=function(e){return k(e)+(k(e)>68?1900:2e3)},h(fe.fn=l.prototype,{clone:function(){return fe(this)},valueOf:function(){return+this._d+6e4*(this._offset||0)},unix:function(){return Math.floor(+this/1e3)},toString:function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},toDate:function(){return this._offset?new Date(+this):this._d},toISOString:function(){var e=fe(this).utc();return 0<e.year()&&e.year()<=9999?B(e,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):B(e,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")},toArray:function(){var e=this;return[e.year(),e.month(),e.date(),e.hours(),e.minutes(),e.seconds(),e.milliseconds()]},isValid:function(){return $(this)},isDSTShifted:function(){return!!this._a&&(this.isValid()&&x(this._a,(this._isUTC?fe.utc(this._a):fe(this._a)).toArray())>0)},parsingFlags:function(){return h({},this._pf)},invalidAt:function(){return this._pf.overflow},utc:function(e){return this.zone(0,e)},local:function(e){return this._isUTC&&(this.zone(0,e),this._isUTC=!1,e&&this.add(this._d.getTimezoneOffset(),"m")),this},format:function(e){var t=B(this,e||fe.defaultFormat);return this.localeData().postformat(t)},add:g(1,"add"),subtract:g(-1,"subtract"),diff:function(e,t,i){var a,n,o=F(e,this),s=6e4*(this.zone()-o.zone());return t=C(t),"year"===t||"month"===t?(a=432e5*(this.daysInMonth()+o.daysInMonth()),n=12*(this.year()-o.year())+(this.month()-o.month()),n+=(this-fe(this).startOf("month")-(o-fe(o).startOf("month")))/a,n-=6e4*(this.zone()-fe(this).startOf("month").zone()-(o.zone()-fe(o).startOf("month").zone()))/a,"year"===t&&(n/=12)):(a=this-o,n="second"===t?a/1e3:"minute"===t?a/6e4:"hour"===t?a/36e5:"day"===t?(a-s)/864e5:"week"===t?(a-s)/6048e5:a),i?n:d(n)},from:function(e,t){return fe.duration({to:this,from:e}).locale(this.locale()).humanize(!t)},fromNow:function(e){return this.from(fe(),e)},calendar:function(e){var t=e||fe(),i=F(t,this).startOf("day"),a=this.diff(i,"days",!0),n=-6>a?"sameElse":-1>a?"lastWeek":0>a?"lastDay":1>a?"sameDay":2>a?"nextDay":7>a?"nextWeek":"sameElse";return this.format(this.localeData().calendar(n,this))},isLeapYear:function(){return M(this.year())},isDST:function(){return this.zone()<this.clone().month(0).zone()||this.zone()<this.clone().month(5).zone()},day:function(e){var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=e?(e=ee(e,this.localeData()),this.add(e-t,"d")):t},month:he("Month",!0),startOf:function(e){switch(e=C(e)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===e?this.weekday(0):"isoWeek"===e&&this.isoWeekday(1),"quarter"===e&&this.month(3*Math.floor(this.month()/3)),this},endOf:function(e){return e=C(e),this.startOf(e).add(1,"isoWeek"===e?"week":e).subtract(1,"ms")},isAfter:function(e,t){return t=void 0!==t?t:"millisecond",+this.clone().startOf(t)>+fe(e).startOf(t)},isBefore:function(e,t){return t=void 0!==t?t:"millisecond",+this.clone().startOf(t)<+fe(e).startOf(t)},isSame:function(e,t){return t=t||"ms",+this.clone().startOf(t)==+F(e,this).startOf(t)},min:n("moment().min is deprecated, use moment.min instead. https://github.com/moment/moment/issues/1548",function(e){return e=fe.apply(null,arguments),this>e?this:e}),max:n("moment().max is deprecated, use moment.max instead. https://github.com/moment/moment/issues/1548",function(e){return e=fe.apply(null,arguments),e>this?this:e}),zone:function(e,t){var i,a=this._offset||0;return null==e?this._isUTC?a:this._d.getTimezoneOffset():("string"==typeof e&&(e=N(e)),Math.abs(e)<16&&(e*=60),!this._isUTC&&t&&(i=this._d.getTimezoneOffset()),this._offset=e,this._isUTC=!0,null!=i&&this.subtract(i,"m"),a!==e&&(!t||this._changeInProgress?v(this,fe.duration(a-e,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,fe.updateOffset(this,!0),this._changeInProgress=null)),this)},zoneAbbr:function(){return this._isUTC?"UTC":""},zoneName:function(){return this._isUTC?"Coordinated Universal Time":""},parseZone:function(){return this._tzm?this.zone(this._tzm):"string"==typeof this._i&&this.zone(this._i),this},hasAlignedHourOffset:function(e){return e=e?fe(e).zone():0,(this.zone()-e)%60==0},daysInMonth:function(){return S(this.year(),this.month())},dayOfYear:function(e){var t=be((fe(this).startOf("day")-fe(this).startOf("year"))/864e5)+1;return null==e?t:this.add(e-t,"d")},quarter:function(e){return null==e?Math.ceil((this.month()+1)/3):this.month(3*(e-1)+this.month()%3)},weekYear:function(e){var t=ae(this,this.localeData()._week.dow,this.localeData()._week.doy).year;return null==e?t:this.add(e-t,"y")},isoWeekYear:function(e){var t=ae(this,1,4).year;return null==e?t:this.add(e-t,"y")},week:function(e){var t=this.localeData().week(this);return null==e?t:this.add(7*(e-t),"d")},isoWeek:function(e){var t=ae(this,1,4).week;return null==e?t:this.add(7*(e-t),"d")},weekday:function(e){var t=(this.day()+7-this.localeData()._week.dow)%7;return null==e?t:this.add(e-t,"d")},isoWeekday:function(e){return null==e?this.day()||7:this.day(this.day()%7?e:e-7)},isoWeeksInYear:function(){return D(this.year(),1,4)},weeksInYear:function(){var e=this.localeData()._week;return D(this.year(),e.dow,e.doy)},get:function(e){return e=C(e),this[e]()},set:function(e,t){return e=C(e),"function"==typeof this[e]&&this[e](t),this},locale:function(t){return t===e?this._locale._abbr:(this._locale=fe.localeData(t),this)},lang:n("moment().lang() is deprecated. Use moment().localeData() instead.",function(t){return t===e?this.localeData():(this._locale=fe.localeData(t),this)}),localeData:function(){return this._locale}}),fe.fn.millisecond=fe.fn.milliseconds=he("Milliseconds",!1),fe.fn.second=fe.fn.seconds=he("Seconds",!1),fe.fn.minute=fe.fn.minutes=he("Minutes",!1),fe.fn.hour=fe.fn.hours=he("Hours",!0),fe.fn.date=he("Date",!0),fe.fn.dates=n("dates accessor is deprecated. Use date instead.",he("Date",!0)),fe.fn.year=he("FullYear",!0),fe.fn.years=n("years accessor is deprecated. Use year instead.",he("FullYear",!0)),fe.fn.days=fe.fn.day,fe.fn.months=fe.fn.month,fe.fn.weeks=fe.fn.week,fe.fn.isoWeeks=fe.fn.isoWeek,fe.fn.quarters=fe.fn.quarter,fe.fn.toJSON=fe.fn.toISOString,h(fe.duration.fn=c.prototype,{_bubble:function(){var e,t,i,a=this._milliseconds,n=this._days,o=this._months,s=this._data,r=0;s.milliseconds=a%1e3,e=d(a/1e3),s.seconds=e%60,t=d(e/60),s.minutes=t%60,i=d(t/60),s.hours=i%24,n+=d(i/24),r=d(ue(n)),n-=d(de(r)),o+=d(n/30),n%=30,r+=d(o/12),o%=12,s.days=n,s.months=o,s.years=r},abs:function(){return this._milliseconds=Math.abs(this._milliseconds),this._days=Math.abs(this._days),this._months=Math.abs(this._months),this._data.milliseconds=Math.abs(this._data.milliseconds),this._data.seconds=Math.abs(this._data.seconds),this._data.minutes=Math.abs(this._data.minutes),this._data.hours=Math.abs(this._data.hours),this._data.months=Math.abs(this._data.months),this._data.years=Math.abs(this._data.years),this},weeks:function(){return d(this.days()/7)},valueOf:function(){return this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*k(this._months/12)},humanize:function(e){var t=ie(this,!e,this.localeData());return e&&(t=this.localeData().pastFuture(+this,t)),this.localeData().postformat(t)},add:function(e,t){var i=fe.duration(e,t);return this._milliseconds+=i._milliseconds,this._days+=i._days,this._months+=i._months,this._bubble(),this},subtract:function(e,t){var i=fe.duration(e,t);return this._milliseconds-=i._milliseconds,this._days-=i._days,this._months-=i._months,this._bubble(),this},get:function(e){return e=C(e),this[e.toLowerCase()+"s"]()},as:function(e){var t,i;if(e=C(e),t=this._days+this._milliseconds/864e5,"month"===e||"year"===e)return i=this._months+12*ue(t),"month"===e?i:i/12;switch(t+=de(this._months/12),e){case"week":return t/7;case"day":return t;case"hour":return 24*t;case"minute":return 24*t*60;case"second":return 24*t*60*60;case"millisecond":return 24*t*60*60*1e3;default:throw new Error("Unknown unit "+e)}},lang:fe.fn.lang,locale:fe.fn.locale,toIsoString:n("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",function(){return this.toISOString()}),toISOString:function(){var e=Math.abs(this.years()),t=Math.abs(this.months()),i=Math.abs(this.days()),a=Math.abs(this.hours()),n=Math.abs(this.minutes()),o=Math.abs(this.seconds()+this.milliseconds()/1e3);return this.asSeconds()?(this.asSeconds()<0?"-":"")+"P"+(e?e+"Y":"")+(t?t+"M":"")+(i?i+"D":"")+(a||n||o?"T":"")+(a?a+"H":"")+(n?n+"M":"")+(o?o+"S":""):"P0D"},localeData:function(){return this._locale}});for(ge in et)et.hasOwnProperty(ge)&&function(e){fe.duration.fn[e]=function(){return this._data[e]}}(ge.toLowerCase());fe.duration.fn.asMilliseconds=function(){return this.as("ms")},fe.duration.fn.asSeconds=function(){return this.as("s")},fe.duration.fn.asMinutes=function(){return this.as("m")},fe.duration.fn.asHours=function(){return this.as("h")},fe.duration.fn.asDays=function(){return this.as("d")},fe.duration.fn.asWeeks=function(){return this.as("weeks")},fe.duration.fn.asMonths=function(){return this.as("M")},fe.duration.fn.asYears=function(){return this.as("y")},fe.locale("en",{ordinal:function(e){var t=e%10;return e+(1===k(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")}}),Pe?module.exports=fe:"function"==typeof define&&define.amd?(define("moment",function(e,t,i){return i.config&&i.config()&&!0===i.config().noGlobal&&(ve.moment=me),fe}),pe(!0)):pe()}.call(this),function(e,t){if("function"==typeof define&&define.amd)define(["moment","jquery","exports"],function(i,a,n){e.daterangepicker=t(e,n,i,a)});else if("undefined"!=typeof exports){var i,a=require("moment");try{i=require("jquery")}catch(e){if(!(i=window.jQuery))throw new Error("jQuery dependency not found")}t(e,exports,a,i)}else e.daterangepicker=t(e,{},e.moment,e.jQuery||e.Zepto||e.ender||e.$)}(this,function(e,t,i,a){var n=function(e,t,i){this.parentEl="body",this.element=a(e),this.isShowing=!1;"object"==typeof t&&null!==t||(t={}),this.parentEl=a("object"==typeof t&&t.parentEl&&a(t.parentEl).length?t.parentEl:this.parentEl),this.container=a('<div class="daterangepicker dropdown-menu"><div class="calendar left"></div><div class="calendar right"></div><div class="ranges"><div class="range_inputs"><div class="daterangepicker_start_input"><label for="daterangepicker_start"></label><input class="input-mini" type="text" name="daterangepicker_start" value="" /></div><div class="daterangepicker_end_input"><label for="daterangepicker_end"></label><input class="input-mini" type="text" name="daterangepicker_end" value="" /></div><button class="applyBtn" disabled="disabled"></button>&nbsp;<button class="cancelBtn"></button></div></div></div>').appendTo(this.parentEl),this.setOptions(t,i);var n=this.container
;a.each(this.buttonClasses,function(e,t){n.find("button").addClass(t)}),this.container.find(".daterangepicker_start_input label").html(this.locale.fromLabel),this.container.find(".daterangepicker_end_input label").html(this.locale.toLabel),this.applyClass.length&&this.container.find(".applyBtn").addClass(this.applyClass),this.cancelClass.length&&this.container.find(".cancelBtn").addClass(this.cancelClass),this.container.find(".applyBtn").html(this.locale.applyLabel),this.container.find(".cancelBtn").html(this.locale.cancelLabel),this.container.find(".calendar").on("click.daterangepicker",".prev",a.proxy(this.clickPrev,this)).on("click.daterangepicker",".next",a.proxy(this.clickNext,this)).on("click.daterangepicker","td.available",a.proxy(this.clickDate,this)).on("mouseenter.daterangepicker","td.available",a.proxy(this.hoverDate,this)).on("mouseleave.daterangepicker","td.available",a.proxy(this.updateFormInputs,this)).on("change.daterangepicker","select.yearselect",a.proxy(this.updateMonthYear,this)).on("change.daterangepicker","select.monthselect",a.proxy(this.updateMonthYear,this)).on("change.daterangepicker","select.hourselect,select.minuteselect,select.ampmselect",a.proxy(this.updateTime,this)),this.container.find(".ranges").on("click.daterangepicker","button.applyBtn",a.proxy(this.clickApply,this)).on("click.daterangepicker","button.cancelBtn",a.proxy(this.clickCancel,this)).on("click.daterangepicker",".daterangepicker_start_input,.daterangepicker_end_input",a.proxy(this.showCalendars,this)).on("change.daterangepicker",".daterangepicker_start_input,.daterangepicker_end_input",a.proxy(this.inputsChanged,this)).on("keydown.daterangepicker",".daterangepicker_start_input,.daterangepicker_end_input",a.proxy(this.inputsKeydown,this)).on("click.daterangepicker","li",a.proxy(this.clickRange,this)).on("mouseenter.daterangepicker","li",a.proxy(this.enterRange,this)).on("mouseleave.daterangepicker","li",a.proxy(this.updateFormInputs,this)),this.element.is("input")?this.element.on({"click.daterangepicker":a.proxy(this.show,this),"focus.daterangepicker":a.proxy(this.show,this),"keyup.daterangepicker":a.proxy(this.updateFromControl,this)}):this.element.on("click.daterangepicker",a.proxy(this.toggle,this))};n.prototype={constructor:n,setOptions:function(e,t){if(this.startDate=i().startOf("day"),this.endDate=i().endOf("day"),this.minDate=!1,this.maxDate=!1,this.dateLimit=!1,this.showDropdowns=!1,this.showWeekNumbers=!1,this.timePicker=!1,this.timePickerIncrement=30,this.timePicker12Hour=!0,this.singleDatePicker=!1,this.ranges={},this.opens="right",this.element.hasClass("pull-right")&&(this.opens="left"),this.buttonClasses=["btn","btn-small btn-sm"],this.applyClass="btn-success",this.cancelClass="btn-default",this.format="MM/DD/YYYY",this.separator=" - ",this.locale={applyLabel:"Apply",cancelLabel:"Cancel",fromLabel:"From",toLabel:"To",weekLabel:"W",customRangeLabel:"Custom Range",daysOfWeek:i.weekdaysMin(),monthNames:i.monthsShort(),firstDay:i.localeData()._week.dow},this.cb=function(){},"string"==typeof e.format&&(this.format=e.format),"string"==typeof e.separator&&(this.separator=e.separator),"string"==typeof e.startDate&&(this.startDate=i(e.startDate,this.format)),"string"==typeof e.endDate&&(this.endDate=i(e.endDate,this.format)),"string"==typeof e.minDate&&(this.minDate=i(e.minDate,this.format)),"string"==typeof e.maxDate&&(this.maxDate=i(e.maxDate,this.format)),"object"==typeof e.startDate&&(this.startDate=i(e.startDate)),"object"==typeof e.endDate&&(this.endDate=i(e.endDate)),"object"==typeof e.minDate&&(this.minDate=i(e.minDate)),"object"==typeof e.maxDate&&(this.maxDate=i(e.maxDate)),"string"==typeof e.applyClass&&(this.applyClass=e.applyClass),"string"==typeof e.cancelClass&&(this.cancelClass=e.cancelClass),"object"==typeof e.dateLimit&&(this.dateLimit=e.dateLimit),"object"==typeof e.locale&&("object"==typeof e.locale.daysOfWeek&&(this.locale.daysOfWeek=e.locale.daysOfWeek.slice()),"object"==typeof e.locale.monthNames&&(this.locale.monthNames=e.locale.monthNames.slice()),"number"==typeof e.locale.firstDay&&(this.locale.firstDay=e.locale.firstDay),"string"==typeof e.locale.applyLabel&&(this.locale.applyLabel=e.locale.applyLabel),"string"==typeof e.locale.cancelLabel&&(this.locale.cancelLabel=e.locale.cancelLabel),"string"==typeof e.locale.fromLabel&&(this.locale.fromLabel=e.locale.fromLabel),"string"==typeof e.locale.toLabel&&(this.locale.toLabel=e.locale.toLabel),"string"==typeof e.locale.weekLabel&&(this.locale.weekLabel=e.locale.weekLabel),"string"==typeof e.locale.customRangeLabel&&(this.locale.customRangeLabel=e.locale.customRangeLabel)),"string"==typeof e.opens&&(this.opens=e.opens),"boolean"==typeof e.showWeekNumbers&&(this.showWeekNumbers=e.showWeekNumbers),"string"==typeof e.buttonClasses&&(this.buttonClasses=[e.buttonClasses]),"object"==typeof e.buttonClasses&&(this.buttonClasses=e.buttonClasses),"boolean"==typeof e.showDropdowns&&(this.showDropdowns=e.showDropdowns),"boolean"==typeof e.singleDatePicker&&(this.singleDatePicker=e.singleDatePicker,this.singleDatePicker&&(this.endDate=this.startDate.clone())),"boolean"==typeof e.timePicker&&(this.timePicker=e.timePicker),"number"==typeof e.timePickerIncrement&&(this.timePickerIncrement=e.timePickerIncrement),"boolean"==typeof e.timePicker12Hour&&(this.timePicker12Hour=e.timePicker12Hour),0!=this.locale.firstDay)for(var n=this.locale.firstDay;n>0;)this.locale.daysOfWeek.push(this.locale.daysOfWeek.shift()),n--;var o,s,r;if(void 0===e.startDate&&void 0===e.endDate&&a(this.element).is("input[type=text]")){var l=a(this.element).val(),c=l.split(this.separator);o=s=null,2==c.length?(o=i(c[0],this.format),s=i(c[1],this.format)):this.singleDatePicker&&(o=i(l,this.format),s=i(l,this.format)),null!==o&&null!==s&&(this.startDate=o,this.endDate=s)}if("object"==typeof e.ranges){for(r in e.ranges)o=i(e.ranges[r][0]),s=i(e.ranges[r][1]),this.minDate&&o.isBefore(this.minDate)&&(o=i(this.minDate)),this.maxDate&&s.isAfter(this.maxDate)&&(s=i(this.maxDate)),this.minDate&&s.isBefore(this.minDate)||this.maxDate&&o.isAfter(this.maxDate)||(this.ranges[r]=[o,s]);var h="<ul>";for(r in this.ranges)h+="<li>"+r+"</li>";h+="<li>"+this.locale.customRangeLabel+"</li>",h+="</ul>",this.container.find(".ranges ul").remove(),this.container.find(".ranges").prepend(h)}if("function"==typeof t&&(this.cb=t),this.timePicker||(this.startDate=this.startDate.startOf("day"),this.endDate=this.endDate.endOf("day")),this.singleDatePicker?(this.opens="right",this.container.addClass("single"),this.container.find(".calendar.right").show(),this.container.find(".calendar.left").hide(),this.timePicker?this.container.find(".ranges .daterangepicker_start_input, .ranges .daterangepicker_end_input").hide():this.container.find(".ranges").hide(),this.container.find(".calendar.right").hasClass("single")||this.container.find(".calendar.right").addClass("single")):(this.container.removeClass("single"),this.container.find(".calendar.right").removeClass("single"),this.container.find(".ranges").show()),this.oldStartDate=this.startDate.clone(),this.oldEndDate=this.endDate.clone(),this.oldChosenLabel=this.chosenLabel,this.leftCalendar={month:i([this.startDate.year(),this.startDate.month(),1,this.startDate.hour(),this.startDate.minute()]),calendar:[]},this.rightCalendar={month:i([this.endDate.year(),this.endDate.month(),1,this.endDate.hour(),this.endDate.minute()]),calendar:[]},"right"==this.opens){var u=this.container.find(".calendar.left"),d=this.container.find(".calendar.right");d.hasClass("single")&&(d.removeClass("single"),u.addClass("single")),u.removeClass("left").addClass("right"),d.removeClass("right").addClass("left"),this.singleDatePicker&&(u.show(),d.hide())}void 0!==e.ranges||this.singleDatePicker||this.container.addClass("show-calendar"),this.container.addClass("opens"+this.opens),this.updateView(),this.updateCalendars()},setStartDate:function(e){"string"==typeof e&&(this.startDate=i(e,this.format)),"object"==typeof e&&(this.startDate=i(e)),this.timePicker||(this.startDate=this.startDate.startOf("day")),this.oldStartDate=this.startDate.clone(),this.updateView(),this.updateCalendars(),this.updateInputText()},setEndDate:function(e){"string"==typeof e&&(this.endDate=i(e,this.format)),"object"==typeof e&&(this.endDate=i(e)),this.timePicker||(this.endDate=this.endDate.endOf("day")),this.oldEndDate=this.endDate.clone(),this.updateView(),this.updateCalendars(),this.updateInputText()},updateView:function(){this.leftCalendar.month.month(this.startDate.month()).year(this.startDate.year()).hour(this.startDate.hour()).minute(this.startDate.minute()),this.rightCalendar.month.month(this.endDate.month()).year(this.endDate.year()).hour(this.endDate.hour()).minute(this.endDate.minute()),this.updateFormInputs()},updateFormInputs:function(){this.container.find("input[name=daterangepicker_start]").val(this.startDate.format(this.format)),this.container.find("input[name=daterangepicker_end]").val(this.endDate.format(this.format)),this.startDate.isSame(this.endDate)||this.startDate.isBefore(this.endDate)?this.container.find("button.applyBtn").removeAttr("disabled"):this.container.find("button.applyBtn").attr("disabled","disabled")},updateFromControl:function(){if(this.element.is("input")&&this.element.val().length){var e=this.element.val().split(this.separator),t=null,a=null;2===e.length&&(t=i(e[0],this.format),a=i(e[1],this.format)),(this.singleDatePicker||null===t||null===a)&&(t=i(this.element.val(),this.format),a=t),a.isBefore(t)||(this.oldStartDate=this.startDate.clone(),this.oldEndDate=this.endDate.clone(),this.startDate=t,this.endDate=a,this.startDate.isSame(this.oldStartDate)&&this.endDate.isSame(this.oldEndDate)||this.notify(),this.updateCalendars())}},notify:function(){this.updateView(),this.cb(this.startDate,this.endDate,this.chosenLabel)},move:function(){var e={top:0,left:0},t=a(window).width();this.parentEl.is("body")||(e={top:this.parentEl.offset().top-this.parentEl.scrollTop(),left:this.parentEl.offset().left-this.parentEl.scrollLeft()},t=this.parentEl[0].clientWidth+this.parentEl.offset().left),"left"==this.opens?(this.container.css({top:this.element.offset().top+this.element.outerHeight()-e.top,right:t-this.element.offset().left-this.element.outerWidth(),left:"auto"}),this.container.offset().left<0&&this.container.css({right:"auto",left:9})):(this.container.css({top:this.element.offset().top+this.element.outerHeight()-e.top,left:this.element.offset().left-e.left,right:"auto"}),this.container.offset().left+this.container.outerWidth()>a(window).width()&&this.container.css({left:"auto",right:0}))},toggle:function(e){this.element.hasClass("active")?this.hide():this.show()},show:function(e){this.isShowing||(this.element.addClass("active"),this.container.show(),this.move(),this._outsideClickProxy=a.proxy(function(e){this.outsideClick(e)},this),a(document).on("mousedown.daterangepicker",this._outsideClickProxy).on("click.daterangepicker","[data-toggle=dropdown]",this._outsideClickProxy).on("focusin.daterangepicker",this._outsideClickProxy),this.isShowing=!0,this.element.trigger("show.daterangepicker",this))},outsideClick:function(e){var t=a(e.target);t.closest(this.element).length||t.closest(this.container).length||t.closest(".calendar-date").length||this.hide()},hide:function(e){this.isShowing&&(a(document).off("mousedown.daterangepicker").off("click.daterangepicker","[data-toggle=dropdown]").off("focusin.daterangepicker"),this.element.removeClass("active"),this.container.hide(),this.startDate.isSame(this.oldStartDate)&&this.endDate.isSame(this.oldEndDate)||this.notify(),this.oldStartDate=this.startDate.clone(),this.oldEndDate=this.endDate.clone(),this.isShowing=!1,this.element.trigger("hide.daterangepicker",this))},enterRange:function(e){var t=e.target.innerHTML;if(t==this.locale.customRangeLabel)this.updateView();else{var i=this.ranges[t];this.container.find("input[name=daterangepicker_start]").val(i[0].format(this.format)),this.container.find("input[name=daterangepicker_end]").val(i[1].format(this.format))}},showCalendars:function(){this.container.addClass("show-calendar"),this.move(),this.element.trigger("showCalendar.daterangepicker",this)},hideCalendars:function(){this.container.removeClass("show-calendar"),this.element.trigger("hideCalendar.daterangepicker",this)},inputsChanged:function(e){var t=a(e.target),n=i(t.val(),this.format);if(n.isValid()){var o,s;"daterangepicker_start"===t.attr("name")?(o=n,s=this.endDate):(o=this.startDate,s=n),this.setCustomDates(o,s)}},inputsKeydown:function(e){13===e.keyCode&&(this.inputsChanged(e),this.notify())},updateInputText:function(){this.element.is("input")&&!this.singleDatePicker?this.element.val(this.startDate.format(this.format)+this.separator+this.endDate.format(this.format)):this.element.is("input")&&this.element.val(this.endDate.format(this.format))},clickRange:function(e){var t=e.target.innerHTML;if(this.chosenLabel=t,t==this.locale.customRangeLabel)this.showCalendars();else{var i=this.ranges[t];this.startDate=i[0],this.endDate=i[1],this.timePicker||(this.startDate.startOf("day"),this.endDate.endOf("day")),this.leftCalendar.month.month(this.startDate.month()).year(this.startDate.year()).hour(this.startDate.hour()).minute(this.startDate.minute()),this.rightCalendar.month.month(this.endDate.month()).year(this.endDate.year()).hour(this.endDate.hour()).minute(this.endDate.minute()),this.updateCalendars(),this.updateInputText(),this.hideCalendars(),this.hide(),this.element.trigger("apply.daterangepicker",this)}},clickPrev:function(e){a(e.target).parents(".calendar").hasClass("left")?this.leftCalendar.month.subtract(1,"month"):this.rightCalendar.month.subtract(1,"month"),this.updateCalendars()},clickNext:function(e){a(e.target).parents(".calendar").hasClass("left")?this.leftCalendar.month.add(1,"month"):this.rightCalendar.month.add(1,"month"),this.updateCalendars()},hoverDate:function(e){var t=a(e.target).attr("data-title"),i=t.substr(1,1),n=t.substr(3,1);a(e.target).parents(".calendar").hasClass("left")?this.container.find("input[name=daterangepicker_start]").val(this.leftCalendar.calendar[i][n].format(this.format)):this.container.find("input[name=daterangepicker_end]").val(this.rightCalendar.calendar[i][n].format(this.format))},setCustomDates:function(e,t){if(this.chosenLabel=this.locale.customRangeLabel,e.isAfter(t)){var a=this.endDate.diff(this.startDate);t=i(e).add(a,"ms")}this.startDate=e,this.endDate=t,this.updateView(),this.updateCalendars()},clickDate:function(e){var t,n,o=a(e.target).attr("data-title"),s=o.substr(1,1),r=o.substr(3,1),l=a(e.target).parents(".calendar");if(l.hasClass("left")){if(t=this.leftCalendar.calendar[s][r],n=this.endDate,"object"==typeof this.dateLimit){var c=i(t).add(this.dateLimit).startOf("day");n.isAfter(c)&&(n=c)}}else if(t=this.startDate,n=this.rightCalendar.calendar[s][r],"object"==typeof this.dateLimit){var h=i(n).subtract(this.dateLimit).startOf("day");t.isBefore(h)&&(t=h)}this.singleDatePicker&&l.hasClass("left")?n=t.clone():this.singleDatePicker&&l.hasClass("right")&&(t=n.clone()),l.find("td").removeClass("active"),a(e.target).addClass("active"),this.setCustomDates(t,n),this.timePicker||n.endOf("day"),this.singleDatePicker&&!this.timePicker&&this.clickApply()},clickApply:function(e){this.updateInputText(),this.hide(),this.element.trigger("apply.daterangepicker",this)},clickCancel:function(e){this.startDate=this.oldStartDate,this.endDate=this.oldEndDate,this.chosenLabel=this.oldChosenLabel,this.updateView(),this.updateCalendars(),this.hide(),this.element.trigger("cancel.daterangepicker",this)},updateMonthYear:function(e){var t=a(e.target).closest(".calendar").hasClass("left"),i=t?"left":"right",n=this.container.find(".calendar."+i),o=parseInt(n.find(".monthselect").val(),10),s=n.find(".yearselect").val();this[i+"Calendar"].month.month(o).year(s),this.updateCalendars()},updateTime:function(e){var t=a(e.target).closest(".calendar"),i=t.hasClass("left"),n=parseInt(t.find(".hourselect").val(),10),o=parseInt(t.find(".minuteselect").val(),10);if(this.timePicker12Hour){var s=t.find(".ampmselect").val();"PM"===s&&n<12&&(n+=12),"AM"===s&&12===n&&(n=0)}if(i){var r=this.startDate.clone();r.hour(n),r.minute(o),this.startDate=r,this.leftCalendar.month.hour(n).minute(o)}else{var l=this.endDate.clone();l.hour(n),l.minute(o),this.endDate=l,this.rightCalendar.month.hour(n).minute(o)}this.updateCalendars()},updateCalendars:function(){this.leftCalendar.calendar=this.buildCalendar(this.leftCalendar.month.month(),this.leftCalendar.month.year(),this.leftCalendar.month.hour(),this.leftCalendar.month.minute(),"left"),this.rightCalendar.calendar=this.buildCalendar(this.rightCalendar.month.month(),this.rightCalendar.month.year(),this.rightCalendar.month.hour(),this.rightCalendar.month.minute(),"right"),this.container.find(".calendar.left").empty().html(this.renderCalendar(this.leftCalendar.calendar,this.startDate,this.minDate,this.maxDate)),this.container.find(".calendar.right").empty().html(this.renderCalendar(this.rightCalendar.calendar,this.endDate,this.singleDatePicker?this.minDate:this.startDate,this.maxDate)),this.container.find(".ranges li").removeClass("active");var e=!0,t=0;for(var i in this.ranges)this.timePicker?this.startDate.isSame(this.ranges[i][0])&&this.endDate.isSame(this.ranges[i][1])&&(e=!1,this.chosenLabel=this.container.find(".ranges li:eq("+t+")").addClass("active").html()):this.startDate.format("YYYY-MM-DD")==this.ranges[i][0].format("YYYY-MM-DD")&&this.endDate.format("YYYY-MM-DD")==this.ranges[i][1].format("YYYY-MM-DD")&&(e=!1,this.chosenLabel=this.container.find(".ranges li:eq("+t+")").addClass("active").html()),t++;e&&(this.chosenLabel=this.container.find(".ranges li:last").addClass("active").html(),this.showCalendars())},buildCalendar:function(e,t,a,n,o){var s,r=i([t,e]).daysInMonth(),l=i([t,e,1]),c=i([t,e,r]),h=i(l).subtract(1,"month").month(),u=i(l).subtract(1,"month").year(),d=i([u,h]).daysInMonth(),p=l.day(),f=[];for(f.firstDay=l,f.lastDay=c,s=0;s<6;s++)f[s]=[];var m=d-p+this.locale.firstDay+1;m>d&&(m-=7),p==this.locale.firstDay&&(m=d-6);var g,v,b=i([u,h,m,12,n]);for(s=0,g=0,v=0;s<42;s++,g++,b=i(b).add(24,"hour"))s>0&&g%7==0&&(g=0,v++),f[v][g]=b.clone().hour(a),b.hour(12);return f},renderDropdowns:function(e,t,i){for(var a=e.month(),n='<select class="monthselect">',o=0;o<12;o++)n+="<option value='"+o+"'"+(o===a?" selected='selected'":"")+">"+this.locale.monthNames[o]+"</option>";n+="</select>";for(var s=e.year(),r=i&&i.year()||s+5,l=t&&t.year()||s-50,c='<select class="yearselect">',h=l;h<=r;h++)c+='<option value="'+h+'"'+(h===s?' selected="selected"':"")+">"+h+"</option>";return c+="</select>",n+c},renderCalendar:function(e,t,i,n){var o='<div class="calendar-date">';o+='<table class="table-condensed">',o+="<thead>",o+="<tr>",this.showWeekNumbers&&(o+="<th></th>"),!i||i.isBefore(e.firstDay)?o+='<th class="prev available"><i class="fa fa-angle-left"></i></th>':o+="<th></th>";var s=this.locale.monthNames[e[1][1].month()]+e[1][1].format(" YYYY");this.showDropdowns&&(s=this.renderDropdowns(e[1][1],i,n)),o+='<th colspan="5" class="month">'+s+"</th>",!n||n.isAfter(e.lastDay)?o+='<th class="next available"><i class="fa fa-angle-right"></i></th>':o+="<th></th>",o+="</tr>",o+="<tr>",this.showWeekNumbers&&(o+='<th class="week">'+this.locale.weekLabel+"</th>"),a.each(this.locale.daysOfWeek,function(e,t){o+="<th>"+t+"</th>"}),o+="</tr>",o+="</thead>",o+="<tbody>";for(var r=0;r<6;r++){o+="<tr>",this.showWeekNumbers&&(o+='<td class="week">'+e[r][0].week()+"</td>");for(var l=0;l<7;l++){var c="available ";c+=e[r][l].month()==e[1][1].month()?"":"off",i&&e[r][l].isBefore(i,"day")||n&&e[r][l].isAfter(n,"day")?c=" off disabled ":e[r][l].format("YYYY-MM-DD")==t.format("YYYY-MM-DD")?(c+=" active ",e[r][l].format("YYYY-MM-DD")==this.startDate.format("YYYY-MM-DD")&&(c+=" start-date "),e[r][l].format("YYYY-MM-DD")==this.endDate.format("YYYY-MM-DD")&&(c+=" end-date ")):e[r][l]>=this.startDate&&e[r][l]<=this.endDate&&(c+=" in-range ",e[r][l].isSame(this.startDate)&&(c+=" start-date "),e[r][l].isSame(this.endDate)&&(c+=" end-date "));var h="r"+r+"c"+l;o+='<td class="'+c.replace(/\s+/g," ").replace(/^\s?(.*?)\s?$/,"$1")+'" data-title="'+h+'">'+e[r][l].date()+"</td>"}o+="</tr>"}o+="</tbody>",o+="</table>",o+="</div>";var u;if(this.timePicker){o+='<div class="calendar-time">',o+='<select class="hourselect">';var d=0,p=23,f=t.hour();for(this.timePicker12Hour&&(d=1,p=12,f>=12&&(f-=12),0===f&&(f=12)),u=d;u<=p;u++)o+=u==f?'<option value="'+u+'" selected="selected">'+u+"</option>":'<option value="'+u+'">'+u+"</option>";for(o+="</select> : ",o+='<select class="minuteselect">',u=0;u<60;u+=this.timePickerIncrement){var m=u;m<10&&(m="0"+m),u==t.minute()?o+='<option value="'+u+'" selected="selected">'+m+"</option>":o+='<option value="'+u+'">'+m+"</option>"}o+="</select> ",this.timePicker12Hour&&(o+='<select class="ampmselect">',t.hour()>=12?o+='<option value="AM">AM</option><option value="PM" selected="selected">PM</option>':o+='<option value="AM" selected="selected">AM</option><option value="PM">PM</option>',o+="</select>"),o+="</div>"}return o},remove:function(){this.container.remove(),this.element.off(".daterangepicker"),this.element.removeData("daterangepicker")}},a.fn.daterangepicker=function(e,t){return this.each(function(){var i=a(this);i.data("daterangepicker")&&i.data("daterangepicker").remove(),i.data("daterangepicker",new n(i,e,t))}),this}}),function(){var e;e=angular.module("daterangepicker",[]),e.constant("dateRangePickerConfig",{clearLabel:"Clear",locale:{separator:" - ",format:"YYYY-MM-DD"}}),e.directive("dateRangePicker",["$compile","$timeout","$parse","dateRangePickerConfig",function(e,t,i,a){return{require:"ngModel",restrict:"A",scope:{min:"=",max:"=",model:"=ngModel",opts:"=options",clearable:"="},link:function(e,t,i,n){var o,s,r,l,c,h,u,d,p,f,m,g,v,b;return l=function(){var e,t;return t=angular.extend.apply(angular,Array.prototype.slice.call(arguments).map(function(e){return null!=e?e.locale:void 0}).filter(function(e){return!!e})),e=angular.extend.apply(angular,arguments),e.locale=t,e},v=$(t),g=e.opts,b=l({},a,g),c=null,o=function(){return c.setStartDate(),c.setEndDate()},h=function(e){return function(t){return c&&t?e(moment(t)):void 0}},d=h(function(e){return c.endDate<e&&c.setEndDate(e),b.startDate=e,c.setStartDate(e)}),u=h(function(e){return c.startDate>e&&c.setStartDate(e),b.endDate=e,c.setEndDate(e)}),p=function(e){return function(t,i){return!t||!i||e(moment(t),moment(i))}},m=p(function(e,t){return e.isBefore(t)||e.isSame(t,"day")}),f=p(function(e,t){return e.isAfter(t)||e.isSame(t,"day")}),n.$formatters.push(function(e){var t;return t=function(e){return moment.isMoment(e)?e.format(b.locale.format):moment(e).format(b.locale.format)},b.singleDatePicker&&e?t(e):e.startDate?[t(e.startDate),t(e.endDate)].join(b.locale.separator):""}),n.$render=function(){return n.$modelValue&&n.$modelValue.startDate?(d(n.$modelValue.startDate),u(n.$modelValue.endDate)):o(),v.val(n.$viewValue)},n.$parsers.push(function(e){var t,i,a;return t=function(e){return moment(e,b.locale.format)},i={startDate:null,endDate:null},angular.isString(e)&&e.length>0&&(b.singleDatePicker?i=t(e):(a=e.split(b.locale.separator).map(t),i.startDate=a[0],i.endDate=a[1])),i}),n.$isEmpty=function(e){return!(angular.isString(e)&&e.length>0)},s=function(){var t,i;v.daterangepicker(angular.extend(b,{autoUpdateInput:!1}),function(t,i){return e.$apply(function(){return e.model=b.singleDatePicker?t:{startDate:t,endDate:i}})}),c=v.data("daterangepicker"),i=[];for(t in b.eventHandlers)i.push(v.on(t,function(t){var i;return i=t.type+"."+t.namespace,e.$evalAsync(b.eventHandlers[i])}));return i},s(),e.$watch("model.startDate",function(e){return d(e)}),e.$watch("model.endDate",function(e){return u(e)}),r=function(t,a,o,r){return i[t]?(n.$validators[t]=function(e){return e&&a(b[r],e[o])},e.$watch(t,function(e){return b[r]=!!e&&moment(e),s()})):void 0},r("min",m,"startDate","minDate"),r("max",f,"endDate","maxDate"),i.options&&e.$watch("opts",function(e){return b=l(b,e),s()},!0),i.clearable&&e.$watch("clearable",function(t){return t&&(b=l(b,{locale:{cancelLabel:b.clearLabel}})),s(),t?v.on("cancel.daterangepicker",function(){return e.$apply(function(){return e.model=b.singleDatePicker?null:{startDate:null,endDate:null}})}):void 0}),e.$on("$destroy",function(){return null!=c?c.remove():void 0})}}}])}.call(this),function(e){function t(){return new Date(Date.UTC.apply(Date,arguments))}var i=function(t,i){var o=this;this.element=e(t),this.language=i.language||this.element.data("date-language")||"en",this.language=this.language in a?this.language:"en",this.isRTL=a[this.language].rtl||"rtl"==e("body").css("direction"),this.formatType=i.formatType||this.element.data("format-type")||"standard",this.format=n.parseFormat(i.format||this.element.data("date-format")||a[this.language].format||n.getDefaultFormat(this.formatType,"input"),this.formatType),this.isInline=!1,this.isVisible=!1,this.isInput=this.element.is("input"),this.component=!!this.element.is(".date")&&this.element.find(".date-set").parent(),this.componentReset=!!this.element.is(".date")&&this.element.find(".date-reset").parent(),this.hasInput=this.component&&this.element.find("input").length,this.component&&0===this.component.length&&(this.component=!1),this.linkField=i.linkField||this.element.data("link-field")||!1,this.linkFormat=n.parseFormat(i.linkFormat||this.element.data("link-format")||n.getDefaultFormat(this.formatType,"link"),this.formatType),this.minuteStep=i.minuteStep||this.element.data("minute-step")||5,this.pickerPosition=i.pickerPosition||this.element.data("picker-position")||"bottom-right",this.showMeridian=i.showMeridian||this.element.data("show-meridian")||!1,this.initialDate=i.initialDate||new Date,this._attachEvents(),this.formatViewType="datetime","formatViewType"in i?this.formatViewType=i.formatViewType:"formatViewType"in this.element.data()&&(this.formatViewType=this.element.data("formatViewType")),this.minView=0,"minView"in i?this.minView=i.minView:"minView"in this.element.data()&&(this.minView=this.element.data("min-view")),this.minView=n.convertViewMode(this.minView),this.maxView=n.modes.length-1,"maxView"in i?this.maxView=i.maxView:"maxView"in this.element.data()&&(this.maxView=this.element.data("max-view")),this.maxView=n.convertViewMode(this.maxView),this.wheelViewModeNavigation=!1,"wheelViewModeNavigation"in i?this.wheelViewModeNavigation=i.wheelViewModeNavigation:"wheelViewModeNavigation"in this.element.data()&&(this.wheelViewModeNavigation=this.element.data("view-mode-wheel-navigation")),this.wheelViewModeNavigationInverseDirection=!1,"wheelViewModeNavigationInverseDirection"in i?this.wheelViewModeNavigationInverseDirection=i.wheelViewModeNavigationInverseDirection:"wheelViewModeNavigationInverseDirection"in this.element.data()&&(this.wheelViewModeNavigationInverseDirection=this.element.data("view-mode-wheel-navigation-inverse-dir")),this.wheelViewModeNavigationDelay=100,"wheelViewModeNavigationDelay"in i?this.wheelViewModeNavigationDelay=i.wheelViewModeNavigationDelay:"wheelViewModeNavigationDelay"in this.element.data()&&(this.wheelViewModeNavigationDelay=this.element.data("view-mode-wheel-navigation-delay")),this.startViewMode=2,"startView"in i?this.startViewMode=i.startView:"startView"in this.element.data()&&(this.startViewMode=this.element.data("start-view")),this.startViewMode=n.convertViewMode(this.startViewMode),this.viewMode=this.startViewMode,this.viewSelect=this.minView,"viewSelect"in i?this.viewSelect=i.viewSelect:"viewSelect"in this.element.data()&&(this.viewSelect=this.element.data("view-select")),this.viewSelect=n.convertViewMode(this.viewSelect),this.forceParse=!0,"forceParse"in i?this.forceParse=i.forceParse:"dateForceParse"in this.element.data()&&(this.forceParse=this.element.data("date-force-parse")),this.picker=e(n.template).appendTo(this.isInline?this.element:"body").on({click:e.proxy(this.click,this),mousedown:e.proxy(this.mousedown,this)}),this.wheelViewModeNavigation&&(e.fn.mousewheel?this.picker.on({mousewheel:e.proxy(this.mousewheel,this)}):void 0),this.isInline?this.picker.addClass("datetimepicker-inline"):this.picker.addClass("datetimepicker-dropdown-"+this.pickerPosition+" dropdown-menu"),this.isRTL&&(this.picker.addClass("datetimepicker-rtl"),this.picker.find(".prev i, .next i").toggleClass("fa-arrow-left fa-arrow-right")),e(document).on("mousedown",function(t){0===e(t.target).closest(".datetimepicker").length&&o.hide()}),this.autoclose=!1,"autoclose"in i?this.autoclose=i.autoclose:"dateAutoclose"in this.element.data()&&(this.autoclose=this.element.data("date-autoclose")),this.keyboardNavigation=!0,"keyboardNavigation"in i?this.keyboardNavigation=i.keyboardNavigation:"dateKeyboardNavigation"in this.element.data()&&(this.keyboardNavigation=this.element.data("date-keyboard-navigation")),this.todayBtn=i.todayBtn||this.element.data("date-today-btn")||!1,this.todayHighlight=i.todayHighlight||this.element.data("date-today-highlight")||!1,this.weekStart=(i.weekStart||this.element.data("date-weekstart")||a[this.language].weekStart||0)%7,this.weekEnd=(this.weekStart+6)%7,this.startDate=-1/0,this.endDate=1/0,this.daysOfWeekDisabled=[],this.setStartDate(i.startDate||this.element.data("date-startdate")),this.setEndDate(i.endDate||this.element.data("date-enddate")),this.setDaysOfWeekDisabled(i.daysOfWeekDisabled||this.element.data("date-days-of-week-disabled")),this.fillDow(),this.fillMonths(),this.update(),this.showMode(),this.isInline&&this.show()};i.prototype={constructor:i,_events:[],_attachEvents:function(){this._detachEvents(),this.isInput?this._events=[[this.element,{focus:e.proxy(this.show,this),keyup:e.proxy(this.update,this),keydown:e.proxy(this.keydown,this)}]]:this.component&&this.hasInput?(this._events=[[this.element.find("input"),{focus:e.proxy(this.show,this),keyup:e.proxy(this.update,this),keydown:e.proxy(this.keydown,this)}],[this.component,{click:e.proxy(this.show,this)}]],this.componentReset&&this._events.push([this.componentReset,{click:e.proxy(this.reset,this)}])):this.element.is("div")?this.isInline=!0:this._events=[[this.element,{click:e.proxy(this.show,this)}]];for(var t,i,a=0;a<this._events.length;a++)t=this._events[a][0],i=this._events[a][1],t.on(i)},_detachEvents:function(){for(var e,t,i=0;i<this._events.length;i++)e=this._events[i][0],t=this._events[i][1],e.off(t);this._events=[]},show:function(t){this.picker.show(),this.height=this.component?this.component.outerHeight():this.element.outerHeight(),this.forceParse&&this.update(),this.place(),e(window).on("resize",e.proxy(this.place,this)),t&&(t.stopPropagation(),t.preventDefault()),this.isVisible=!0,this.element.trigger({type:"show",date:this.date})},hide:function(){this.isVisible&&(this.isInline||(this.picker.hide(),e(window).off("resize",this.place),this.viewMode=this.startViewMode,this.showMode(),this.isInput||e(document).off("mousedown",this.hide),this.forceParse&&(this.isInput&&this.element.val()||this.hasInput&&this.element.find("input").val())&&this.setValue(),this.isVisible=!1,this.element.trigger({type:"hide",date:this.date})))},remove:function(){this._detachEvents(),this.picker.remove(),delete this.picker,delete this.element.data().datetimepicker},getDate:function(){var e=this.getUTCDate();return new Date(e.getTime()+6e4*e.getTimezoneOffset())},getUTCDate:function(){return this.date},setDate:function(e){this.setUTCDate(new Date(e.getTime()-6e4*e.getTimezoneOffset()))},setUTCDate:function(e){e>=this.startDate&&e<=this.endDate?(this.date=e,this.setValue(),this.viewDate=this.date,this.fill()):this.element.trigger({type:"outOfRange",date:e,startDate:this.startDate,endDate:this.endDate})},setFormat:function(e){this.format=n.parseFormat(e,this.formatType);var t;this.isInput?t=this.element:this.component&&(t=this.element.find("input")),t&&t.val()&&this.setValue()},setValue:function(){
var t=this.getFormattedDate();this.isInput?this.element.val(t):(this.component&&this.element.find("input").val(t),this.element.data("date",t)),this.linkField&&e("#"+this.linkField).val(this.getFormattedDate(this.linkFormat))},getFormattedDate:function(e){return void 0==e&&(e=this.format),n.formatDate(this.date,e,this.language,this.formatType)},setStartDate:function(e){this.startDate=e||-1/0,this.startDate!==-1/0&&(this.startDate=n.parseDate(this.startDate,this.format,this.language,this.formatType)),this.update(),this.updateNavArrows()},setEndDate:function(e){this.endDate=e||1/0,1/0!==this.endDate&&(this.endDate=n.parseDate(this.endDate,this.format,this.language,this.formatType)),this.update(),this.updateNavArrows()},setDaysOfWeekDisabled:function(t){this.daysOfWeekDisabled=t||[],e.isArray(this.daysOfWeekDisabled)||(this.daysOfWeekDisabled=this.daysOfWeekDisabled.split(/,\s*/)),this.daysOfWeekDisabled=e.map(this.daysOfWeekDisabled,function(e){return parseInt(e,10)}),this.update(),this.updateNavArrows()},place:function(){if(!this.isInline){var t,i,a,n=parseInt(this.element.parents().filter(function(){return"auto"!=e(this).css("z-index")}).first().css("z-index"))+10;this.component?(t=this.component.offset(),a=t.left,("bottom-left"==this.pickerPosition||"top-left"==this.pickerPosition)&&(a+=this.component.outerWidth()-this.picker.outerWidth())):(t=this.element.offset(),a=t.left),i="top-left"==this.pickerPosition||"top-right"==this.pickerPosition?t.top-this.picker.outerHeight():t.top+this.height,this.picker.css({top:i,left:a,zIndex:n})}},update:function(){var e,t=!1;arguments&&arguments.length&&("string"==typeof arguments[0]||arguments[0]instanceof Date)?(e=arguments[0],t=!0):e=this.element.data("date")||(this.isInput?this.element.val():this.element.find("input").val())||this.initialDate,e||(e=new Date,t=!1),this.date=n.parseDate(e,this.format,this.language,this.formatType),t&&this.setValue(),this.viewDate=this.date<this.startDate?new Date(this.startDate):this.date>this.endDate?new Date(this.endDate):new Date(this.date),this.fill()},fillDow:function(){for(var e=this.weekStart,t="<tr>";e<this.weekStart+7;)t+='<th class="dow">'+a[this.language].daysMin[e++%7]+"</th>";t+="</tr>",this.picker.find(".datetimepicker-days thead").append(t)},fillMonths:function(){for(var e="",t=0;12>t;)e+='<span class="month">'+a[this.language].monthsShort[t++]+"</span>";this.picker.find(".datetimepicker-months td").html(e)},fill:function(){if(null!=this.date&&null!=this.viewDate){var i=new Date(this.viewDate),o=i.getUTCFullYear(),s=i.getUTCMonth(),r=i.getUTCDate(),l=i.getUTCHours(),c=i.getUTCMinutes(),h=this.startDate!==-1/0?this.startDate.getUTCFullYear():-1/0,u=this.startDate!==-1/0?this.startDate.getUTCMonth():-1/0,d=1/0!==this.endDate?this.endDate.getUTCFullYear():1/0,p=1/0!==this.endDate?this.endDate.getUTCMonth():1/0,f=new t(this.date.getUTCFullYear(),this.date.getUTCMonth(),this.date.getUTCDate()).valueOf(),m=new Date;if(this.picker.find(".datetimepicker-days thead th:eq(1)").text(a[this.language].months[s]+" "+o),"time"==this.formatViewType){var g=l%12?l%12:12,v=(10>g?"0":"")+g,b=(10>c?"0":"")+c,y=a[this.language].meridiem[12>l?0:1];this.picker.find(".datetimepicker-hours thead th:eq(1)").text(v+":"+b+" "+y.toUpperCase()),this.picker.find(".datetimepicker-minutes thead th:eq(1)").text(v+":"+b+" "+y.toUpperCase())}else this.picker.find(".datetimepicker-hours thead th:eq(1)").text(r+" "+a[this.language].months[s]+" "+o),this.picker.find(".datetimepicker-minutes thead th:eq(1)").text(r+" "+a[this.language].months[s]+" "+o);this.picker.find("tfoot th.today").text(a[this.language].today).toggle(!1!==this.todayBtn),this.updateNavArrows(),this.fillMonths();var x=t(o,s-1,28,0,0,0,0),C=n.getDaysInMonth(x.getUTCFullYear(),x.getUTCMonth());x.setUTCDate(C),x.setUTCDate(C-(x.getUTCDay()-this.weekStart+7)%7);var w=new Date(x);w.setUTCDate(w.getUTCDate()+42),w=w.valueOf();for(var k,S=[];x.valueOf()<w;)x.getUTCDay()==this.weekStart&&S.push("<tr>"),k="",x.getUTCFullYear()<o||x.getUTCFullYear()==o&&x.getUTCMonth()<s?k+=" old":(x.getUTCFullYear()>o||x.getUTCFullYear()==o&&x.getUTCMonth()>s)&&(k+=" new"),this.todayHighlight&&x.getUTCFullYear()==m.getFullYear()&&x.getUTCMonth()==m.getMonth()&&x.getUTCDate()==m.getDate()&&(k+=" today"),x.valueOf()==f&&(k+=" active"),(x.valueOf()+864e5<=this.startDate||x.valueOf()>this.endDate||-1!==e.inArray(x.getUTCDay(),this.daysOfWeekDisabled))&&(k+=" disabled"),S.push('<td class="day'+k+'">'+x.getUTCDate()+"</td>"),x.getUTCDay()==this.weekEnd&&S.push("</tr>"),x.setUTCDate(x.getUTCDate()+1);this.picker.find(".datetimepicker-days tbody").empty().append(S.join("")),S=[];for(var D="",T="",M="",P=0;24>P;P++){var $=t(o,s,r,P);k="",$.valueOf()+36e5<=this.startDate||$.valueOf()>this.endDate?k+=" disabled":l==P&&(k+=" active"),this.showMeridian&&2==a[this.language].meridiem.length?(T=12>P?a[this.language].meridiem[0]:a[this.language].meridiem[1],T!=M&&(""!=M&&S.push("</fieldset>"),S.push('<fieldset class="hour"><legend>'+T.toUpperCase()+"</legend>")),M=T,D=P%12?P%12:12,S.push('<span class="hour'+k+" hour_"+(12>P?"am":"pm")+'">'+D+"</span>"),23==P&&S.push("</fieldset>")):(D=P+":00",S.push('<span class="hour'+k+'">'+D+"</span>"))}this.picker.find(".datetimepicker-hours td").html(S.join("")),S=[],D="",T="",M="";for(var P=0;60>P;P+=this.minuteStep){var $=t(o,s,r,l,P,0);k="",$.valueOf()<this.startDate||$.valueOf()>this.endDate?k+=" disabled":Math.floor(c/this.minuteStep)==Math.floor(P/this.minuteStep)&&(k+=" active"),this.showMeridian&&2==a[this.language].meridiem.length?(T=12>l?a[this.language].meridiem[0]:a[this.language].meridiem[1],T!=M&&(""!=M&&S.push("</fieldset>"),S.push('<fieldset class="minute"><legend>'+T.toUpperCase()+"</legend>")),M=T,D=l%12?l%12:12,S.push('<span class="minute'+k+'">'+D+":"+(10>P?"0"+P:P)+"</span>"),59==P&&S.push("</fieldset>")):(D=P+":00",S.push('<span class="minute'+k+'">'+l+":"+(10>P?"0"+P:P)+"</span>"))}this.picker.find(".datetimepicker-minutes td").html(S.join(""));var _=this.date.getUTCFullYear(),A=this.picker.find(".datetimepicker-months").find("th:eq(1)").text(o).end().find("span").removeClass("active");_==o&&A.eq(this.date.getUTCMonth()).addClass("active"),(h>o||o>d)&&A.addClass("disabled"),o==h&&A.slice(0,u).addClass("disabled"),o==d&&A.slice(p+1).addClass("disabled"),S="",o=10*parseInt(o/10,10);var I=this.picker.find(".datetimepicker-years").find("th:eq(1)").text(o+"-"+(o+9)).end().find("td");o-=1;for(var P=-1;11>P;P++)S+='<span class="year'+(-1==P||10==P?" old":"")+(_==o?" active":"")+(h>o||o>d?" disabled":"")+'">'+o+"</span>",o+=1;I.html(S),this.place()}},updateNavArrows:function(){var e=new Date(this.viewDate),t=e.getUTCFullYear(),i=e.getUTCMonth(),a=e.getUTCDate(),n=e.getUTCHours();switch(this.viewMode){case 0:this.startDate!==-1/0&&t<=this.startDate.getUTCFullYear()&&i<=this.startDate.getUTCMonth()&&a<=this.startDate.getUTCDate()&&n<=this.startDate.getUTCHours()?this.picker.find(".prev").css({visibility:"hidden"}):this.picker.find(".prev").css({visibility:"visible"}),1/0!==this.endDate&&t>=this.endDate.getUTCFullYear()&&i>=this.endDate.getUTCMonth()&&a>=this.endDate.getUTCDate()&&n>=this.endDate.getUTCHours()?this.picker.find(".next").css({visibility:"hidden"}):this.picker.find(".next").css({visibility:"visible"});break;case 1:this.startDate!==-1/0&&t<=this.startDate.getUTCFullYear()&&i<=this.startDate.getUTCMonth()&&a<=this.startDate.getUTCDate()?this.picker.find(".prev").css({visibility:"hidden"}):this.picker.find(".prev").css({visibility:"visible"}),1/0!==this.endDate&&t>=this.endDate.getUTCFullYear()&&i>=this.endDate.getUTCMonth()&&a>=this.endDate.getUTCDate()?this.picker.find(".next").css({visibility:"hidden"}):this.picker.find(".next").css({visibility:"visible"});break;case 2:this.startDate!==-1/0&&t<=this.startDate.getUTCFullYear()&&i<=this.startDate.getUTCMonth()?this.picker.find(".prev").css({visibility:"hidden"}):this.picker.find(".prev").css({visibility:"visible"}),1/0!==this.endDate&&t>=this.endDate.getUTCFullYear()&&i>=this.endDate.getUTCMonth()?this.picker.find(".next").css({visibility:"hidden"}):this.picker.find(".next").css({visibility:"visible"});break;case 3:case 4:this.startDate!==-1/0&&t<=this.startDate.getUTCFullYear()?this.picker.find(".prev").css({visibility:"hidden"}):this.picker.find(".prev").css({visibility:"visible"}),1/0!==this.endDate&&t>=this.endDate.getUTCFullYear()?this.picker.find(".next").css({visibility:"hidden"}):this.picker.find(".next").css({visibility:"visible"})}},mousewheel:function(t){if(t.preventDefault(),t.stopPropagation(),!this.wheelPause){this.wheelPause=!0;var i=t.originalEvent,a=i.wheelDelta,n=a>0?1:0===a?0:-1;this.wheelViewModeNavigationInverseDirection&&(n=-n),this.showMode(n),setTimeout(e.proxy(function(){this.wheelPause=!1},this),this.wheelViewModeNavigationDelay)}},click:function(i){i.stopPropagation(),i.preventDefault();var a=e(i.target).closest("span, td, th, legend");if(1==a.length){if(a.is(".disabled"))return void this.element.trigger({type:"outOfRange",date:this.viewDate,startDate:this.startDate,endDate:this.endDate});switch(a[0].nodeName.toLowerCase()){case"th":switch(a[0].className){case"switch":this.showMode(1);break;case"prev":case"next":var o=n.modes[this.viewMode].navStep*("prev"==a[0].className?-1:1);switch(this.viewMode){case 0:this.viewDate=this.moveHour(this.viewDate,o);break;case 1:this.viewDate=this.moveDate(this.viewDate,o);break;case 2:this.viewDate=this.moveMonth(this.viewDate,o);break;case 3:case 4:this.viewDate=this.moveYear(this.viewDate,o)}this.fill();break;case"today":var s=new Date;s=t(s.getFullYear(),s.getMonth(),s.getDate(),s.getHours(),s.getMinutes(),s.getSeconds(),0),this.viewMode=this.startViewMode,this.showMode(0),this._setDate(s),this.fill(),this.autoclose&&this.hide()}break;case"span":if(!a.is(".disabled")){var r=this.viewDate.getUTCFullYear(),l=this.viewDate.getUTCMonth(),c=this.viewDate.getUTCDate(),h=this.viewDate.getUTCHours(),u=this.viewDate.getUTCMinutes(),d=this.viewDate.getUTCSeconds();if(a.is(".month")?(this.viewDate.setUTCDate(1),l=a.parent().find("span").index(a),c=this.viewDate.getUTCDate(),this.viewDate.setUTCMonth(l),this.element.trigger({type:"changeMonth",date:this.viewDate}),this.viewSelect>=3&&this._setDate(t(r,l,c,h,u,d,0))):a.is(".year")?(this.viewDate.setUTCDate(1),r=parseInt(a.text(),10)||0,this.viewDate.setUTCFullYear(r),this.element.trigger({type:"changeYear",date:this.viewDate}),this.viewSelect>=4&&this._setDate(t(r,l,c,h,u,d,0))):a.is(".hour")?(h=parseInt(a.text(),10)||0,(a.hasClass("hour_am")||a.hasClass("hour_pm"))&&(12==h&&a.hasClass("hour_am")?h=0:12!=h&&a.hasClass("hour_pm")&&(h+=12)),this.viewDate.setUTCHours(h),this.element.trigger({type:"changeHour",date:this.viewDate}),this.viewSelect>=1&&this._setDate(t(r,l,c,h,u,d,0))):a.is(".minute")&&(u=parseInt(a.text().substr(a.text().indexOf(":")+1),10)||0,this.viewDate.setUTCMinutes(u),this.element.trigger({type:"changeMinute",date:this.viewDate}),this.viewSelect>=0&&this._setDate(t(r,l,c,h,u,d,0))),0!=this.viewMode){var p=this.viewMode;this.showMode(-1),this.fill(),p==this.viewMode&&this.autoclose&&this.hide()}else this.fill(),this.autoclose&&this.hide()}break;case"td":if(a.is(".day")&&!a.is(".disabled")){var c=parseInt(a.text(),10)||1,r=this.viewDate.getUTCFullYear(),l=this.viewDate.getUTCMonth(),h=this.viewDate.getUTCHours(),u=this.viewDate.getUTCMinutes(),d=this.viewDate.getUTCSeconds();a.is(".old")?0===l?(l=11,r-=1):l-=1:a.is(".new")&&(11==l?(l=0,r+=1):l+=1),this.viewDate.setUTCFullYear(r),this.viewDate.setUTCMonth(l),this.viewDate.setUTCDate(c),this.element.trigger({type:"changeDay",date:this.viewDate}),this.viewSelect>=2&&this._setDate(t(r,l,c,h,u,d,0))}var p=this.viewMode;this.showMode(-1),this.fill(),p==this.viewMode&&this.autoclose&&this.hide()}}},_setDate:function(e,t){t&&"date"!=t||(this.date=e),t&&"view"!=t||(this.viewDate=e),this.fill(),this.setValue();var i;this.isInput?i=this.element:this.component&&(i=this.element.find("input")),i&&(i.change(),this.autoclose),this.element.trigger({type:"changeDate",date:this.date})},moveMinute:function(e,t){if(!t)return e;var i=new Date(e.valueOf());return i.setUTCMinutes(i.getUTCMinutes()+t*this.minuteStep),i},moveHour:function(e,t){if(!t)return e;var i=new Date(e.valueOf());return i.setUTCHours(i.getUTCHours()+t),i},moveDate:function(e,t){if(!t)return e;var i=new Date(e.valueOf());return i.setUTCDate(i.getUTCDate()+t),i},moveMonth:function(e,t){if(!t)return e;var i,a,n=new Date(e.valueOf()),o=n.getUTCDate(),s=n.getUTCMonth(),r=Math.abs(t);if(t=t>0?1:-1,1==r)a=-1==t?function(){return n.getUTCMonth()==s}:function(){return n.getUTCMonth()!=i},i=s+t,n.setUTCMonth(i),(0>i||i>11)&&(i=(i+12)%12);else{for(var l=0;r>l;l++)n=this.moveMonth(n,t);i=n.getUTCMonth(),n.setUTCDate(o),a=function(){return i!=n.getUTCMonth()}}for(;a();)n.setUTCDate(--o),n.setUTCMonth(i);return n},moveYear:function(e,t){return this.moveMonth(e,12*t)},dateWithinRange:function(e){return e>=this.startDate&&e<=this.endDate},keydown:function(e){if(this.picker.is(":not(:visible)"))return void(27==e.keyCode&&this.show());var t,i,a,n=!1;switch(e.keyCode){case 27:this.hide(),e.preventDefault();break;case 37:case 39:if(!this.keyboardNavigation)break;t=37==e.keyCode?-1:1,viewMode=this.viewMode,e.ctrlKey?viewMode+=2:e.shiftKey&&(viewMode+=1),4==viewMode?(i=this.moveYear(this.date,t),a=this.moveYear(this.viewDate,t)):3==viewMode?(i=this.moveMonth(this.date,t),a=this.moveMonth(this.viewDate,t)):2==viewMode?(i=this.moveDate(this.date,t),a=this.moveDate(this.viewDate,t)):1==viewMode?(i=this.moveHour(this.date,t),a=this.moveHour(this.viewDate,t)):0==viewMode&&(i=this.moveMinute(this.date,t),a=this.moveMinute(this.viewDate,t)),this.dateWithinRange(i)&&(this.date=i,this.viewDate=a,this.setValue(),this.update(),e.preventDefault(),n=!0);break;case 38:case 40:if(!this.keyboardNavigation)break;t=38==e.keyCode?-1:1,viewMode=this.viewMode,e.ctrlKey?viewMode+=2:e.shiftKey&&(viewMode+=1),4==viewMode?(i=this.moveYear(this.date,t),a=this.moveYear(this.viewDate,t)):3==viewMode?(i=this.moveMonth(this.date,t),a=this.moveMonth(this.viewDate,t)):2==viewMode?(i=this.moveDate(this.date,7*t),a=this.moveDate(this.viewDate,7*t)):1==viewMode?this.showMeridian?(i=this.moveHour(this.date,6*t),a=this.moveHour(this.viewDate,6*t)):(i=this.moveHour(this.date,4*t),a=this.moveHour(this.viewDate,4*t)):0==viewMode&&(i=this.moveMinute(this.date,4*t),a=this.moveMinute(this.viewDate,4*t)),this.dateWithinRange(i)&&(this.date=i,this.viewDate=a,this.setValue(),this.update(),e.preventDefault(),n=!0);break;case 13:if(0!=this.viewMode){var o=this.viewMode;this.showMode(-1),this.fill(),o==this.viewMode&&this.autoclose&&this.hide()}else this.fill(),this.autoclose&&this.hide();e.preventDefault();break;case 9:this.hide()}if(n){var s;this.isInput?s=this.element:this.component&&(s=this.element.find("input")),s&&s.change(),this.element.trigger({type:"changeDate",date:this.date})}},showMode:function(e){if(e){var t=Math.max(0,Math.min(n.modes.length-1,this.viewMode+e));t>=this.minView&&t<=this.maxView&&(this.element.trigger({type:"changeMode",date:this.viewDate,oldViewMode:this.viewMode,newViewMode:t}),this.viewMode=t)}this.picker.find(">div").hide().filter(".datetimepicker-"+n.modes[this.viewMode].clsName).css("display","block"),this.updateNavArrows()},reset:function(){this._setDate(null,"date")}},e.fn.datetimepicker=function(t){var a=Array.apply(null,arguments);return a.shift(),this.each(function(){var n=e(this),o=n.data("datetimepicker"),s="object"==typeof t&&t;o||n.data("datetimepicker",o=new i(this,e.extend({},e.fn.datetimepicker.defaults,s))),"string"==typeof t&&"function"==typeof o[t]&&o[t].apply(o,a)})},e.fn.datetimepicker.defaults={},e.fn.datetimepicker.Constructor=i;var a=e.fn.datetimepicker.dates={en:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],daysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sun"],daysMin:["Su","Mo","Tu","We","Th","Fr","Sa","Su"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],meridiem:["am","pm"],suffix:["st","nd","rd","th"],today:"Today"}},n={modes:[{clsName:"minutes",navFnc:"Hours",navStep:1},{clsName:"hours",navFnc:"Date",navStep:1},{clsName:"days",navFnc:"Month",navStep:1},{clsName:"months",navFnc:"FullYear",navStep:1},{clsName:"years",navFnc:"FullYear",navStep:10}],isLeapYear:function(e){return 0==e%4&&0!=e%100||0==e%400},getDaysInMonth:function(e,t){return[31,n.isLeapYear(e)?29:28,31,30,31,30,31,31,30,31,30,31][t]},getDefaultFormat:function(e,t){if("standard"==e)return"input"==t?"yyyy-mm-dd hh:ii":"yyyy-mm-dd hh:ii:ss";if("php"==e)return"input"==t?"Y-m-d H:i":"Y-m-d H:i:s";throw new Error("Invalid format type.")},validParts:function(e){if("standard"==e)return/hh?|HH?|p|P|ii?|ss?|dd?|DD?|mm?|MM?|yy(?:yy)?/g;if("php"==e)return/[dDjlNwzFmMnStyYaABgGhHis]/g;throw new Error("Invalid format type.")},nonpunctuation:/[^ -\/:-@\[-`{-~\t\n\rTZ]+/g,parseFormat:function(e,t){var i=e.replace(this.validParts(t),"\0").split("\0"),a=e.match(this.validParts(t));if(!i||!i.length||!a||0==a.length)throw new Error("Invalid date format.");return{separators:i,parts:a}},parseDate:function(n,o,s,r){if(n instanceof Date){var l=new Date(n.valueOf()-6e4*n.getTimezoneOffset());return l.setMilliseconds(0),l}if(/^\d{4}\-\d{1,2}\-\d{1,2}$/.test(n)&&(o=this.parseFormat("yyyy-mm-dd",r)),/^\d{4}\-\d{1,2}\-\d{1,2}[T ]\d{1,2}\:\d{1,2}$/.test(n)&&(o=this.parseFormat("yyyy-mm-dd hh:ii",r)),/^\d{4}\-\d{1,2}\-\d{1,2}[T ]\d{1,2}\:\d{1,2}\:\d{1,2}[Z]{0,1}$/.test(n)&&(o=this.parseFormat("yyyy-mm-dd hh:ii:ss",r)),/^[-+]\d+[dmwy]([\s,]+[-+]\d+[dmwy])*$/.test(n)){var c,h,u=/([-+]\d+)([dmwy])/,d=n.match(/([-+]\d+)([dmwy])/g);n=new Date;for(var p=0;p<d.length;p++)switch(c=u.exec(d[p]),h=parseInt(c[1]),c[2]){case"d":n.setUTCDate(n.getUTCDate()+h);break;case"m":n=i.prototype.moveMonth.call(i.prototype,n,h);break;case"w":n.setUTCDate(n.getUTCDate()+7*h);break;case"y":n=i.prototype.moveYear.call(i.prototype,n,h)}return t(n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate(),n.getUTCHours(),n.getUTCMinutes(),n.getUTCSeconds(),0)}var f,m,c,d=n&&n.match(this.nonpunctuation)||[],n=new Date(0,0,0,0,0,0,0),g={},v=["hh","h","ii","i","ss","s","yyyy","yy","M","MM","m","mm","D","DD","d","dd","H","HH","p","P"],b={hh:function(e,t){return e.setUTCHours(t)},h:function(e,t){return e.setUTCHours(t)},HH:function(e,t){return e.setUTCHours(12==t?0:t)},H:function(e,t){return e.setUTCHours(12==t?0:t)},ii:function(e,t){return e.setUTCMinutes(t)},i:function(e,t){return e.setUTCMinutes(t)},ss:function(e,t){return e.setUTCSeconds(t)},s:function(e,t){return e.setUTCSeconds(t)},yyyy:function(e,t){return e.setUTCFullYear(t)},yy:function(e,t){return e.setUTCFullYear(2e3+t)},m:function(e,t){for(t-=1;0>t;)t+=12;for(t%=12,e.setUTCMonth(t);e.getUTCMonth()!=t;)e.setUTCDate(e.getUTCDate()-1);return e},d:function(e,t){return e.setUTCDate(t)},p:function(e,t){return e.setUTCHours(1==t?e.getUTCHours()+12:e.getUTCHours())}};if(b.M=b.MM=b.mm=b.m,b.dd=b.d,b.P=b.p,n=t(n.getFullYear(),n.getMonth(),n.getDate(),n.getHours(),n.getMinutes(),n.getSeconds()),d.length==o.parts.length){for(var p=0,y=o.parts.length;y>p;p++){if(f=parseInt(d[p],10),c=o.parts[p],isNaN(f))switch(c){case"MM":m=e(a[s].months).filter(function(){var e=this.slice(0,d[p].length);return e==d[p].slice(0,e.length)}),f=e.inArray(m[0],a[s].months)+1;break;case"M":m=e(a[s].monthsShort).filter(function(){var e=this.slice(0,d[p].length);return e==d[p].slice(0,e.length)}),f=e.inArray(m[0],a[s].monthsShort)+1;break;case"p":case"P":f=e.inArray(d[p].toLowerCase(),a[s].meridiem)}g[c]=f}for(var x,p=0;p<v.length;p++)(x=v[p])in g&&!isNaN(g[x])&&b[x](n,g[x])}return n},formatDate:function(t,i,o,s){if(null==t)return"";var r;if("standard"==s)r={yy:t.getUTCFullYear().toString().substring(2),yyyy:t.getUTCFullYear(),m:t.getUTCMonth()+1,M:a[o].monthsShort[t.getUTCMonth()],MM:a[o].months[t.getUTCMonth()],d:t.getUTCDate(),D:a[o].daysShort[t.getUTCDay()],DD:a[o].days[t.getUTCDay()],p:2==a[o].meridiem.length?a[o].meridiem[t.getUTCHours()<12?0:1]:"",h:t.getUTCHours(),i:t.getUTCMinutes(),s:t.getUTCSeconds()},r.H=0==r.h%12?12:r.h%12,r.HH=(r.H<10?"0":"")+r.H,r.P=r.p.toUpperCase(),r.hh=(r.h<10?"0":"")+r.h,r.ii=(r.i<10?"0":"")+r.i,r.ss=(r.s<10?"0":"")+r.s,r.dd=(r.d<10?"0":"")+r.d,r.mm=(r.m<10?"0":"")+r.m;else{if("php"!=s)throw new Error("Invalid format type.");r={y:t.getUTCFullYear().toString().substring(2),Y:t.getUTCFullYear(),F:a[o].months[t.getUTCMonth()],M:a[o].monthsShort[t.getUTCMonth()],n:t.getUTCMonth()+1,t:n.getDaysInMonth(t.getUTCFullYear(),t.getUTCMonth()),j:t.getUTCDate(),l:a[o].days[t.getUTCDay()],D:a[o].daysShort[t.getUTCDay()],w:t.getUTCDay(),N:0==t.getUTCDay()?7:t.getUTCDay(),S:t.getUTCDate()%10<=a[o].suffix.length?a[o].suffix[t.getUTCDate()%10-1]:"",a:2==a[o].meridiem.length?a[o].meridiem[t.getUTCHours()<12?0:1]:"",g:0==t.getUTCHours()%12?12:t.getUTCHours()%12,G:t.getUTCHours(),i:t.getUTCMinutes(),s:t.getUTCSeconds()},r.m=(r.n<10?"0":"")+r.n,r.d=(r.j<10?"0":"")+r.j,r.A=r.a.toString().toUpperCase(),r.h=(r.g<10?"0":"")+r.g,r.H=(r.G<10?"0":"")+r.G,r.i=(r.i<10?"0":"")+r.i,r.s=(r.s<10?"0":"")+r.s}for(var t=[],l=e.extend([],i.separators),c=0,h=i.parts.length;h>c;c++)l.length&&t.push(l.shift()),t.push(r[i.parts[c]]);return t.join("")},convertViewMode:function(e){switch(e){case 4:case"decade":e=4;break;case 3:case"year":e=3;break;case 2:case"month":e=2;break;case 1:case"day":e=1;break;case 0:case"hour":e=0}return e},headTemplate:'<thead><tr><th class="prev"><i class="fa fa-angle-left"/></th><th colspan="5" class="switch"></th><th class="next"><i class="fa fa-angle-right"/></th></tr></thead>',contTemplate:'<tbody><tr><td colspan="7"></td></tr></tbody>',footTemplate:'<tfoot><tr><th colspan="7" class="today"></th></tr></tfoot>'};n.template='<div class="datetimepicker"><div class="datetimepicker-minutes"><table class=" table-condensed">'+n.headTemplate+n.contTemplate+n.footTemplate+'</table></div><div class="datetimepicker-hours"><table class=" table-condensed">'+n.headTemplate+n.contTemplate+n.footTemplate+'</table></div><div class="datetimepicker-days"><table class=" table-condensed">'+n.headTemplate+"<tbody></tbody>"+n.footTemplate+'</table></div><div class="datetimepicker-months"><table class="table-condensed">'+n.headTemplate+n.contTemplate+n.footTemplate+'</table></div><div class="datetimepicker-years"><table class="table-condensed">'+n.headTemplate+n.contTemplate+n.footTemplate+"</table></div></div>",e.fn.datetimepicker.DPGlobal=n,e.fn.datetimepicker.noConflict=function(){return e.fn.datetimepicker=old,this},e(document).on("focus.datetimepicker.data-api click.datetimepicker.data-api",'[data-provide="datetimepicker"]',function(t){var i=e(this);i.data("datetimepicker")||(t.preventDefault(),i.datetimepicker("show"))}),e(function(){e('[data-provide="datetimepicker-inline"]').datetimepicker()})}(window.jQuery),function(e,t){"use strict";e.module("smart-table",[]).run(["$templateCache",function(e){e.put("template/smart-table/pagination.html",'<nav ng-if="pages.length >= 2"><ul class="pagination"><li ng-repeat="page in pages" ng-class="{active: page==currentPage}"><a ng-click="selectPage(page)">{{page}}</a></li></ul></nav>')}]),e.module("smart-table").constant("stConfig",{pagination:{template:"template/smart-table/pagination.html",itemsByPage:10,displayedPages:5},search:{delay:400},select:{mode:"single",selectedClass:"st-selected"},sort:{ascentClass:"st-sort-ascent",descentClass:"st-sort-descent"}}),e.module("smart-table").controller("stTableController",["$scope","$parse","$filter","$attrs",function(i,a,n,o){function s(e){return e?[].concat(e):[]}function r(){v=s(c(i)),!0===y&&x.pipe()}function l(e,i){for(var a=[],n={},o=0;o<e.length;o++){var s=e[o],r=s[i],l=n[r];l===t&&(l={key:r,items:[]},n[r]=l,a.push(l)),l.items.push(s)}return a}var c,h,u,d=o.stTable,p=a(d),f=p.assign,m=n("orderBy"),g=n("filter"),v=s(p(i)),b={sort:{},search:{},pagination:{start:0},group:{}},y=!0,x=this;o.stSafeSrc&&(c=a(o.stSafeSrc),i.$watch(function(){var e=c(i);return e?e.length:0},function(e,t){e!==v.length&&r()}),i.$watch(function(){return c(i)},function(e,t){e!==t&&r()})),this.sortBy=function(t,i,a){return b.sort.predicate=t,b.sort.reverse=!0===i,b.sort.isPercentage=a.isPercentage,b.sort.Numerator=a.Numerator,b.sort.Denominator=a.Denominator,e.isFunction(t)?b.sort.functionName=t.name:delete b.sort.functionName,b.pagination.start=0,this.pipe()},this.search=function(t,i){var a=b.search.predicateObject||{},n=i||"$";return t=e.isString(t)?t.trim():t,a[n]=t,t||delete a[n],b.search.predicateObject=a,b.pagination.start=0,this.pipe()},this.groupBy=function(e){return b.group.predicate=e||t,this.pipe()},this.pipe=function(){var e,a=b.pagination,n=b.group;h=b.search.predicateObject?g(v,b.search.predicateObject):v,b.sort.predicate&&n.predicate===t&&(h=m(h,b.sort.predicate,b.sort.reverse)),n.predicate!==t&&(h=l(h,n.predicate)),b.sort.predicate&&n.predicate!==t&&(h=m(h,function(e){if(!0===b.sort.isPercentage){for(var t=0,i=0,a=0;a<e.items.length;a++)t+=e.items[a][b.sort.Numerator],i+=e.items[a][b.sort.Denominator];var n=t/i*100;return 0==i?0:n}for(var o=0,a=0;a<e.items.length;a++)o+=e.items[a][b.sort.predicate];return o},b.sort.reverse)),a.number!==t&&(a.numberOfPages=h.length>0?Math.ceil(h.length/a.number):1,a.start=a.start>=h.length?(a.numberOfPages-1)*a.number:a.start,e=h.slice(a.start,a.start+parseInt(a.number))),f(i,e||h)},this.select=function(e,i){var a=v,n=a.indexOf(e);-1!==n&&("single"===i?(e.isSelected=!0!==e.isSelected,u&&(u.isSelected=!1),u=!0===e.isSelected?e:t):a[n].isSelected=!a[n].isSelected)},this.slice=function(e,t){return b.pagination.start=e,b.pagination.number=t,this.pipe()},this.tableState=function(){return b},this.getFilteredCollection=function(){return h||v},this.setFilterFunction=function(e){g=n(e)},this.setSortFunction=function(e){m=n(e)},this.preventPipeOnWatch=function(){y=!1}}]).directive("stTable",function(){return{restrict:"A",controller:"stTableController",link:function(e,t,i,a){i.stSetFilter&&a.setFilterFunction(i.stSetFilter),i.stSetSort&&a.setSortFunction(i.stSetSort)}}}),e.module("smart-table").directive("stSearch",["stConfig","$timeout",function(e,t){return{require:"^stTable",link:function(i,a,n,o){var s=o,r=null,l=n.stDelay||e.search.delay;n.$observe("stSearch",function(e,t){var i=a[0].value;e!==t&&i&&(o.tableState().search={},s.search(i,e))}),i.$watch(function(){return o.tableState().search},function(e,t){var i=n.stSearch||"$";e.predicateObject&&e.predicateObject[i]!==a[0].value&&(a[0].value=e.predicateObject[i]||"")},!0),a.bind("input",function(e){e=e.originalEvent||e,null!==r&&t.cancel(r),r=t(function(){s.search(e.target.value,n.stSearch||""),r=null},l)})}}}]),e.module("smart-table").directive("stResetSearch",function(){return{restrict:"EA",require:"^stTable",scope:{tableFunctions:"="},link:function(e,t,i,a){e.tableFunctions={},e.tableFunctions.resetSearch=function(){var e;return e=a.tableState(),e.search.predicateObject={},e.pagination.start=0,a.pipe()}}}}),e.module("smart-table").directive("stSelectRow",["stConfig",function(e){return{restrict:"A",require:"^stTable",scope:{row:"=stSelectRow"},link:function(t,i,a,n){var o=a.stSelectMode||e.select.mode;i.bind("click",function(){t.$apply(function(){n.select(t.row,o)})}),t.$watch("row.isSelected",function(t){!0===t?i.addClass(e.select.selectedClass):i.removeClass(e.select.selectedClass)})}}}]),e.module("smart-table").directive("stSort",["stConfig","$parse",function(i,a){return{restrict:"A",require:"^stTable",link:function(n,o,s,r){function l(){if(d++,h=e.isFunction(u(n))?u(n):s.stSort,d%3==0&&s.stSkipNatural===t)d=0,r.tableState().sort={},r.tableState().pagination.start=0,r.pipe();else{var i={},a=s.stSortPercentage!==t;a&&(i.Numerator=s.stSortPercentageNumerator,i.Denominator=s.stSortPercentageDenominator),i.isPercentage=a,r.sortBy(h,d%2==0,i)}}var c,h=s.stSort,u=a(h),d=0,p=s.stClassAscent||i.sort.ascentClass,f=s.stClassDescent||i.sort.descentClass,m=[p,f];s.stSortDefault&&(c=n.$eval(s.stSortDefault)!==t?n.$eval(s.stSortDefault):s.stSortDefault),o.bind("click",function(){h&&n.$apply(l)}),c&&(d="reverse"===c?1:0,l()),n.$watch(function(){return r.tableState().sort},function(e){e.predicate!==h?(d=0,o.removeClass(p).removeClass(f)):(d=!0===e.reverse?2:1,o.removeClass(m[d%2]).addClass(m[d-1]))},!0)}}}]),e.module("smart-table").directive("stPagination",["stConfig",function(e){return{restrict:"EA",require:"^stTable",scope:{stItemsByPage:"=?",stDisplayedPages:"=?",stPageChange:"&"},templateUrl:function(t,i){return i.stTemplate?i.stTemplate:e.pagination.template},link:function(t,i,a,n){function o(){var e,i,a=n.tableState().pagination,o=1,s=t.currentPage;for(t.currentPage=Math.floor(a.start/a.number)+1,o=Math.max(o,t.currentPage-Math.abs(Math.floor(t.stDisplayedPages/2))),e=o+t.stDisplayedPages,e>a.numberOfPages&&(e=a.numberOfPages+1,o=Math.max(1,e-t.stDisplayedPages)),t.pages=[],t.numPages=a.numberOfPages,i=o;i<e;i++)t.pages.push(i);s!==t.currentPage&&t.stPageChange({newPage:t.currentPage})}t.stItemsByPage=t.stItemsByPage?+t.stItemsByPage:e.pagination.itemsByPage,t.stDisplayedPages=t.stDisplayedPages?+t.stDisplayedPages:e.pagination.displayedPages,t.currentPage=1,t.pages=[],t.$watch(function(){return n.tableState().pagination},o,!0),t.$watch("stItemsByPage",function(e,i){e!==i&&t.selectPage(1)}),t.$watch("stDisplayedPages",o),t.selectPage=function(e){e>0&&e<=t.numPages&&n.slice((e-1)*t.stItemsByPage,t.stItemsByPage)},t.$watch(function(){return n.getFilteredCollection()},function(e){null!=e&&(t.totalData=e.length)},!0),n.tableState().pagination.number||n.slice(0,t.stItemsByPage)}}}]),e.module("smart-table").directive("stPipe",function(){return{require:"stTable",scope:{stPipe:"="},link:{pre:function(t,i,a,n){e.isFunction(t.stPipe)&&(n.preventPipeOnWatch(),n.pipe=function(){return t.stPipe(n.tableState(),n)})},post:function(e,t,i,a){a.pipe()}}}}),e.module("smart-table").directive("stGroup",["stConfig","$parse",function(e,t){return{restrict:"A",require:"^stTable",scope:{stGroup:"="},link:function(e,t,i,a){function n(){a.groupBy(o)}var o=e.stGroup;e.$watch("stGroup",function(){o=e.stGroup,n()})}}}])}(angular),function(e,t,i){"use strict";function a(e){return $(e)?e:Object.keys(e).map(function(t){return e[t]})}function n(e){return null===e}function o(e,t){return-1==Object.keys(e).map(function(a){return t[a]!==i&&t[a]==e[a]}).indexOf(!1)}function s(e,t){if(""===t)return e;var i=e.indexOf(t.charAt(0));return-1!==i&&s(e.substr(i+1),t.substr(1))}function r(e,t,i){var a=0;return e.filter(function(e){var n=k(i)?t>a&&i(e):t>a;return a=n?a+1:a,n})}function l(e,t,i){return i.round(e*i.pow(10,t))/i.pow(10,t)}function c(e,t,i){return t=t||[],Object.keys(e).forEach(function(a){if(P(e[a])&&!$(e[a])){var n=i?i+"."+a:i;c(e[a],t,n||a)}else{var o=i?i+"."+a:a;t.push(o)}}),t}function h(e){return e&&e.$evalAsync&&e.$watch}function u(){return function(e,t){return e>t}}function d(){return function(e,t){return e>=t}}function p(){return function(e,t){return t>e}}function f(){return function(e,t){return t>=e}}function m(){return function(e,t){return e==t}}function g(){return function(e,t){return e!=t}}function v(){return function(e,t){return e===t}}function b(){return function(e,t){return e!==t}}function y(e){return function(t,i){return t=P(t)?a(t):t,!(!$(t)||S(i))&&t.some(function(t){return P(t)||D(i)?e(i)(t):t===i})}}function x(e,t){return t=t||0,t>=e.length?e:$(e[t])?x(e.slice(0,t).concat(e[t],e.slice(t+1)),t):x(e,t+1)}function C(e){return function(t,i){function n(e,t){return!S(t)&&e.some(function(e){return F(e,t)})}if(t=P(t)?a(t):t,!$(t))return t;var o=[],s=e(i);return t.filter(S(i)?function(e,t,i){return i.indexOf(e)===t}:function(e){var t=s(e);return!n(o,t)&&(o.push(t),!0)})}}function w(e,t,i){return t?e+i+w(e,--t,i):e}
var k=t.isDefined,S=t.isUndefined,D=t.isFunction,T=t.isString,M=t.isNumber,P=t.isObject,$=t.isArray,_=t.forEach,A=t.extend,I=t.copy,F=t.equals;String.prototype.contains||(String.prototype.contains=function(){return-1!==String.prototype.indexOf.apply(this,arguments)}),t.module("a8m.angular",[]).filter("isUndefined",function(){return function(e){return t.isUndefined(e)}}).filter("isDefined",function(){return function(e){return t.isDefined(e)}}).filter("isFunction",function(){return function(e){return t.isFunction(e)}}).filter("isString",function(){return function(e){return t.isString(e)}}).filter("isNumber",function(){return function(e){return t.isNumber(e)}}).filter("isArray",function(){return function(e){return t.isArray(e)}}).filter("isObject",function(){return function(e){return t.isObject(e)}}).filter("isEqual",function(){return function(e,i){return t.equals(e,i)}}),t.module("a8m.conditions",[]).filter({isGreaterThan:u,">":u,isGreaterThanOrEqualTo:d,">=":d,isLessThan:p,"<":p,isLessThanOrEqualTo:f,"<=":f,isEqualTo:m,"==":m,isNotEqualTo:g,"!=":g,isIdenticalTo:v,"===":v,isNotIdenticalTo:b,"!==":b}),t.module("a8m.is-null",[]).filter("isNull",function(){return function(e){return n(e)}}),t.module("a8m.after-where",[]).filter("afterWhere",function(){return function(e,t){if(e=P(e)?a(e):e,!$(e)||S(t))return e;var i=e.map(function(e){return o(t,e)}).indexOf(!0);return e.slice(-1===i?0:i)}}),t.module("a8m.after",[]).filter("after",function(){return function(e,t){return e=P(e)?a(e):e,$(e)?e.slice(t):e}}),t.module("a8m.before-where",[]).filter("beforeWhere",function(){return function(e,t){if(e=P(e)?a(e):e,!$(e)||S(t))return e;var i=e.map(function(e){return o(t,e)}).indexOf(!0);return e.slice(0,-1===i?e.length:++i)}}),t.module("a8m.before",[]).filter("before",function(){return function(e,t){return e=P(e)?a(e):e,$(e)?e.slice(0,t?--t:t):e}}),t.module("a8m.concat",[]).filter("concat",[function(){return function(e,t){if(S(t))return e;if($(e))return e.concat(P(t)?a(t):t);if(P(e)){return a(e).concat(P(t)?a(t):t)}return e}}]),t.module("a8m.contains",[]).filter({contains:["$parse",y],some:["$parse",y]}),t.module("a8m.count-by",[]).filter("countBy",["$parse",function(e){return function(t,i){var n,o={},s=e(i);return t=P(t)?a(t):t,!$(t)||S(i)?t:(t.forEach(function(e){n=s(e),o[n]||(o[n]=0),o[n]++}),o)}}]),t.module("a8m.defaults",[]).filter("defaults",["$parse",function(e){return function(t,i){if(t=P(t)?a(t):t,!$(t)||!P(i))return t;var n=c(i);return t.forEach(function(t){n.forEach(function(a){var n=e(a),o=n.assign;S(n(t))&&o(t,n(i))})}),t}}]),t.module("a8m.every",[]).filter("every",["$parse",function(e){return function(t,i){return t=P(t)?a(t):t,!($(t)&&!S(i))||t.every(function(t){return P(t)||D(i)?e(i)(t):t===i})}}]),t.module("a8m.filter-by",[]).filter("filterBy",["$parse",function(e){return function(t,n,o){var s;return o=T(o)||M(o)?String(o).toLowerCase():i,t=P(t)?a(t):t,!$(t)||S(o)?t:t.filter(function(t){return n.some(function(i){if(~i.indexOf("+")){var a=i.replace(new RegExp("\\s","g"),"").split("+");s=a.reduce(function(i,a,n){return 1===n?e(i)(t)+" "+e(a)(t):i+" "+e(a)(t)})}else s=e(i)(t);return!(!T(s)&&!M(s))&&String(s).toLowerCase().contains(o)})})}}]),t.module("a8m.first",[]).filter("first",["$parse",function(e){return function(t){var n,o,s;return t=P(t)?a(t):t,$(t)?(s=Array.prototype.slice.call(arguments,1),n=M(s[0])?s[0]:1,o=M(s[0])?M(s[1])?i:s[1]:s[0],s.length?r(t,n,o?e(o):o):t[0]):t}}]),t.module("a8m.flatten",[]).filter("flatten",function(){return function(e,t){return t=t||!1,e=P(e)?a(e):e,$(e)?t?[].concat.apply([],e):x(e,0):e}}),t.module("a8m.fuzzy-by",[]).filter("fuzzyBy",["$parse",function(e){return function(t,i,n,o){var r,l,c=o||!1;return t=P(t)?a(t):t,!$(t)||S(i)||S(n)?t:(l=e(i),t.filter(function(e){return r=l(e),!!T(r)&&(r=c?r:r.toLowerCase(),n=c?n:n.toLowerCase(),!1!==s(r,n))}))}}]),t.module("a8m.fuzzy",[]).filter("fuzzy",function(){return function(e,t,i){function n(e,t){var i,a;return 0<Object.keys(e).filter(function(n){return i=e[n],!!a||!!T(i)&&(i=o?i:i.toLowerCase(),a=!1!==s(i,t))}).length}var o=i||!1;return e=P(e)?a(e):e,!$(e)||S(t)?e:(t=o?t:t.toLowerCase(),e.filter(function(e){return T(e)?(e=o?e:e.toLowerCase(),!1!==s(e,t)):!!P(e)&&n(e,t)}))}}),t.module("a8m.group-by",["a8m.filter-watcher"]).filter("groupBy",["$parse","filterWatcher",function(e,t){return function(i,a){if(!P(i)||S(a))return i;var n=e(a);return t.isMemoized("groupBy",arguments)||t.memoize("groupBy",arguments,this,function(e,t){var i,a={};return _(e,function(e){i=t(e),a[i]||(a[i]=[]),a[i].push(e)}),a}(i,n))}}]),t.module("a8m.is-empty",[]).filter("isEmpty",function(){return function(e){return P(e)?!a(e).length:!e.length}}),t.module("a8m.join",[]).filter("join",function(){return function(e,t){return S(e)||!$(e)?e:(S(t)&&(t=" "),e.join(t))}}),t.module("a8m.last",[]).filter("last",["$parse",function(e){return function(t){var n,o,s,l=I(t);return l=P(l)?a(l):l,$(l)?(s=Array.prototype.slice.call(arguments,1),n=M(s[0])?s[0]:1,o=M(s[0])?M(s[1])?i:s[1]:s[0],s.length?r(l.reverse(),n,o?e(o):o).reverse():l[l.length-1]):l}}]),t.module("a8m.map",[]).filter("map",["$parse",function(e){return function(t,i){return t=P(t)?a(t):t,!$(t)||S(i)?t:t.map(function(t){return e(i)(t)})}}]),t.module("a8m.omit",[]).filter("omit",["$parse",function(e){return function(t,i){return t=P(t)?a(t):t,!$(t)||S(i)?t:t.filter(function(t){return!e(i)(t)})}}]),t.module("a8m.pick",[]).filter("pick",["$parse",function(e){return function(t,i){return t=P(t)?a(t):t,!$(t)||S(i)?t:t.filter(function(t){return e(i)(t)})}}]),t.module("a8m.remove-with",[]).filter("removeWith",function(){return function(e,t){return S(t)?e:(e=P(e)?a(e):e,e.filter(function(e){return!o(t,e)}))}}),t.module("a8m.remove",[]).filter("remove",function(){return function(e){e=P(e)?a(e):e;var t=Array.prototype.slice.call(arguments,1);return $(e)?e.filter(function(e){return!t.some(function(t){return F(t,e)})}):e}}),t.module("a8m.reverse",[]).filter("reverse",[function(){return function(e){return e=P(e)?a(e):e,T(e)?e.split("").reverse().join(""):$(e)?e.slice().reverse():e}}]),t.module("a8m.search-field",[]).filter("searchField",["$parse",function(e){return function(t){var i,n;t=P(t)?a(t):t;var o=Array.prototype.slice.call(arguments,1);return $(t)&&o.length?t.map(function(t){return n=o.map(function(a){return(i=e(a))(t)}).join(" "),A(t,{searchField:n})}):t}}]),t.module("a8m.to-array",[]).filter("toArray",function(){return function(e,t){return P(e)?t?Object.keys(e).map(function(t){return A(e[t],{$key:t})}):a(e):e}}),t.module("a8m.unique",[]).filter({unique:["$parse",C],uniq:["$parse",C]}),t.module("a8m.where",[]).filter("where",function(){return function(e,t){return S(t)?e:(e=P(e)?a(e):e,e.filter(function(e){return o(t,e)}))}}),t.module("a8m.xor",[]).filter("xor",["$parse",function(e){return function(t,i,n){function o(t,i){var a=e(n);return i.some(function(e){return n?F(a(e),a(t)):F(e,t)})}return n=n||!1,t=P(t)?a(t):t,i=P(i)?a(i):i,$(t)&&$(i)?t.concat(i).filter(function(e){return!(o(e,t)&&o(e,i))}):t}}]),t.module("a8m.math.byteFmt",["a8m.math"]).filter("byteFmt",["$math",function(e){return function(t,i){return M(i)&&isFinite(i)&&i%1==0&&i>=0&&M(t)&&isFinite(t)?1024>t?l(t,i,e)+" B":1048576>t?l(t/1024,i,e)+" KB":1073741824>t?l(t/1048576,i,e)+" MB":l(t/1073741824,i,e)+" GB":"NaN"}}]),t.module("a8m.math.degrees",["a8m.math"]).filter("degrees",["$math",function(e){return function(t,i){if(M(i)&&isFinite(i)&&i%1==0&&i>=0&&M(t)&&isFinite(t)){var a=180*t/e.PI;return e.round(a*e.pow(10,i))/e.pow(10,i)}return"NaN"}}]),t.module("a8m.math.kbFmt",["a8m.math"]).filter("kbFmt",["$math",function(e){return function(t,i){return M(i)&&isFinite(i)&&i%1==0&&i>=0&&M(t)&&isFinite(t)?1024>t?l(t,i,e)+" KB":1048576>t?l(t/1024,i,e)+" MB":l(t/1048576,i,e)+" GB":"NaN"}}]),t.module("a8m.math",[]).factory("$math",["$window",function(e){return e.Math}]),t.module("a8m.math.max",["a8m.math"]).filter("max",["$math","$parse",function(e,t){function i(i,a){var n=i.map(function(e){return t(a)(e)});return n.indexOf(e.max.apply(e,n))}return function(t,a){return $(t)?S(a)?e.max.apply(e,t):t[i(t,a)]:t}}]),t.module("a8m.math.min",["a8m.math"]).filter("min",["$math","$parse",function(e,t){function i(i,a){var n=i.map(function(e){return t(a)(e)});return n.indexOf(e.min.apply(e,n))}return function(t,a){return $(t)?S(a)?e.min.apply(e,t):t[i(t,a)]:t}}]),t.module("a8m.math.percent",["a8m.math"]).filter("percent",["$math","$window",function(e,t){return function(i,a,n){var o=T(i)?t.Number(i):i;return a=a||100,n=n||!1,!M(o)||t.isNaN(o)?i:n?e.round(o/a*100):o/a*100}}]),t.module("a8m.math.radians",["a8m.math"]).filter("radians",["$math",function(e){return function(t,i){if(M(i)&&isFinite(i)&&i%1==0&&i>=0&&M(t)&&isFinite(t)){var a=3.14159265359*t/180;return e.round(a*e.pow(10,i))/e.pow(10,i)}return"NaN"}}]),t.module("a8m.math.radix",[]).filter("radix",function(){return function(e,t){var i=/^[2-9]$|^[1-2]\d$|^3[0-6]$/;return M(e)&&i.test(t)?e.toString(t).toUpperCase():e}}),t.module("a8m.math.shortFmt",["a8m.math"]).filter("shortFmt",["$math",function(e){return function(t,i){return M(i)&&isFinite(i)&&i%1==0&&i>=0&&M(t)&&isFinite(t)?1e3>t?t:1e6>t?l(t/1e3,i,e)+" K":1e9>t?l(t/1e6,i,e)+" M":l(t/1e9,i,e)+" B":"NaN"}}]),t.module("a8m.math.sum",[]).filter("sum",function(){return function(e,t){return $(e)?e.reduce(function(e,t){return e+t},t||0):e}}),t.module("a8m.ends-with",[]).filter("endsWith",function(){return function(e,t,i){var a,n=i||!1;return!T(e)||S(t)?e:(e=n?e:e.toLowerCase(),a=e.length-t.length,-1!==e.indexOf(n?t:t.toLowerCase(),a))}}),t.module("a8m.latinize",[]).filter("latinize",[function(){function e(e){return e.replace(/[^\u0000-\u007E]/g,function(e){return i[e]||e})}for(var t=[{base:"A",letters:"A"},{base:"AA",letters:""},{base:"AE",letters:""},{base:"AO",letters:""},{base:"AU",letters:""},{base:"AV",letters:""},{base:"AY",letters:""},{base:"B",letters:"B"},{base:"C",letters:"C"},{base:"D",letters:"D"},{base:"DZ",letters:""},{base:"Dz",letters:""},{base:"E",letters:"E"},{base:"F",letters:"F"},{base:"G",letters:"G"},{base:"H",letters:"H"},{base:"I",letters:"I"},{base:"J",letters:"J"},{base:"K",letters:"K"},{base:"L",letters:"L"},{base:"LJ",letters:""},{base:"Lj",letters:""},{base:"M",letters:"M"},{base:"N",letters:"N"},{base:"NJ",letters:""},{base:"Nj",letters:""},{base:"O",letters:"O"},{base:"OI",letters:""},{base:"OO",letters:""},{base:"OU",letters:""},{base:"OE",letters:""},{base:"oe",letters:""},{base:"P",letters:"P"},{base:"Q",letters:"Q"},{base:"R",letters:"R"},{base:"S",letters:"S"},{base:"T",letters:"T"},{base:"TZ",letters:""},{base:"U",letters:"U"},{base:"V",letters:"V"},{base:"VY",letters:""},{base:"W",letters:"W"},{base:"X",letters:"X"},{base:"Y",letters:"Y"},{base:"Z",letters:"Z"},{base:"a",letters:"a"},{base:"aa",letters:""},{base:"ae",letters:""},{base:"ao",letters:""},{base:"au",letters:""},{base:"av",letters:""},{base:"ay",letters:""},{base:"b",letters:"b"},{base:"c",letters:"c"},{base:"d",letters:"d"},{base:"dz",letters:""},{base:"e",letters:"e"},{base:"f",letters:"f"},{base:"g",letters:"g"},{base:"h",letters:"h"},{base:"hv",letters:""},{base:"i",letters:"i"},{base:"j",letters:"j"},{base:"k",letters:"k"},{base:"l",letters:"l"},{base:"lj",letters:""},{base:"m",letters:"m"},{base:"n",letters:"n"},{base:"nj",letters:""},{base:"o",letters:"o"},{base:"oi",letters:""},{base:"ou",letters:""},{base:"oo",letters:""},{base:"p",letters:"p"},{base:"q",letters:"q"},{base:"r",letters:"r"},{base:"s",letters:"s"},{base:"t",letters:"t"},{base:"tz",letters:""},{base:"u",letters:"u"},{base:"v",letters:"v"},{base:"vy",letters:""},{base:"w",letters:"w"},{base:"x",letters:"x"},{base:"y",letters:"y"},{base:"z",letters:"z"}],i={},a=0;a<t.length;a++)for(var n=t[a].letters.split(""),o=0;o<n.length;o++)i[n[o]]=t[a].base;return function(t){return T(t)?e(t):t}}]),t.module("a8m.ltrim",[]).filter("ltrim",function(){return function(e,t){var i=t||"\\s";return T(e)?e.replace(new RegExp("^"+i+"+"),""):e}}),t.module("a8m.match",[]).filter("match",function(){return function(e,t,i){var a=new RegExp(t,i);return T(e)?e.match(a):null}}),t.module("a8m.repeat",[]).filter("repeat",[function(){return function(e,t,i){var a=~~t;return T(e)&&a?w(e,--t,i||""):e}}]),t.module("a8m.rtrim",[]).filter("rtrim",function(){return function(e,t){var i=t||"\\s";return T(e)?e.replace(new RegExp(i+"+$"),""):e}}),t.module("a8m.slugify",[]).filter("slugify",[function(){return function(e,t){var i=S(t)?"-":t;return T(e)?e.toLowerCase().replace(/\s+/g,i):e}}]),t.module("a8m.starts-with",[]).filter("startsWith",function(){return function(e,t,i){var a=i||!1;return!T(e)||S(t)?e:(e=a?e:e.toLowerCase(),!e.indexOf(a?t:t.toLowerCase()))}}),t.module("a8m.stringular",[]).filter("stringular",function(){return function(e){var t=Array.prototype.slice.call(arguments,1);return e.replace(/{(\d+)}/g,function(e,i){return S(t[i])?e:t[i]})}}),t.module("a8m.strip-tags",[]).filter("stripTags",function(){return function(e){return T(e)?e.replace(/<\S[^><]*>/g,""):e}}),t.module("a8m.test",[]).filter("test",function(){return function(e,t,i){var a=new RegExp(t,i);return T(e)?a.test(e):e}}),t.module("a8m.trim",[]).filter("trim",function(){return function(e,t){var i=t||"\\s";return T(e)?e.replace(new RegExp("^"+i+"+|"+i+"+$","g"),""):e}}),t.module("a8m.truncate",[]).filter("truncate",function(){return function(e,t,i,a){return t=S(t)?e.length:t,a=a||!1,i=i||"",!T(e)||e.length<=t?e:e.substring(0,a?-1===e.indexOf(" ",t)?e.length:e.indexOf(" ",t):t)+i}}),t.module("a8m.ucfirst",[]).filter("ucfirst",[function(){return function(e){return T(e)?e.split(" ").map(function(e){return e.charAt(0).toUpperCase()+e.substring(1)}).join(" "):e}}]),t.module("a8m.uri-component-encode",[]).filter("uriComponentEncode",["$window",function(e){return function(t){return T(t)?e.encodeURIComponent(t):t}}]),t.module("a8m.uri-encode",[]).filter("uriEncode",["$window",function(e){return function(t){return T(t)?e.encodeURI(t):t}}]),t.module("a8m.wrap",[]).filter("wrap",function(){return function(e,t,i){return T(e)&&k(t)?[t,e,i||t].join(""):e}}),t.module("a8m.filter-watcher",[]).provider("filterWatcher",function(){this.$get=["$window","$rootScope",function(e,i){function a(e,i){return[e,t.toJson(i)].join("#").replace(/"/g,"")}function n(e){var t=e.targetScope.$id;_(u[t],function(e){delete c[e]}),delete u[t]}function o(){d(function(){i.$$phase||(c={})})}function s(e,t){var i=e.$id;return S(u[i])&&(e.$on("$destroy",n),u[i]=[]),u[i].push(t)}function r(e,t){var i=a(e,t);return c[i]}function l(e,t,i,n){var r=a(e,t);return c[r]=n,h(i)?s(i,r):o(),n}var c={},u={},d=e.setTimeout;return{isMemoized:r,memoize:l}}]}),t.module("angular.filter",["a8m.ucfirst","a8m.uri-encode","a8m.uri-component-encode","a8m.slugify","a8m.latinize","a8m.strip-tags","a8m.stringular","a8m.truncate","a8m.starts-with","a8m.ends-with","a8m.wrap","a8m.trim","a8m.ltrim","a8m.rtrim","a8m.repeat","a8m.test","a8m.match","a8m.to-array","a8m.concat","a8m.contains","a8m.unique","a8m.is-empty","a8m.after","a8m.after-where","a8m.before","a8m.before-where","a8m.defaults","a8m.where","a8m.reverse","a8m.remove","a8m.remove-with","a8m.group-by","a8m.count-by","a8m.search-field","a8m.fuzzy-by","a8m.fuzzy","a8m.omit","a8m.pick","a8m.every","a8m.filter-by","a8m.xor","a8m.map","a8m.first","a8m.last","a8m.flatten","a8m.join","a8m.math","a8m.math.max","a8m.math.min","a8m.math.percent","a8m.math.radix","a8m.math.sum","a8m.math.degrees","a8m.math.radians","a8m.math.byteFmt","a8m.math.kbFmt","a8m.math.shortFmt","a8m.angular","a8m.conditions","a8m.is-null","a8m.filter-watcher"])}(window,window.angular),function(e){angular.module("ngCsv.config",[]).value("ngCsv.config",{debug:!0}).config(["$compileProvider",function(e){angular.isDefined(e.urlSanitizationWhitelist)?e.urlSanitizationWhitelist(/^\s*(https?|ftp|mailto|file|data):/):e.aHrefSanitizationWhitelist(/^\s*(https?|ftp|mailto|file|data):/)}]),angular.module("ngCsv.directives",["ngCsv.services"]),angular.module("ngCsv.services",[]),angular.module("ngCsv",["ngCsv.config","ngCsv.services","ngCsv.directives","ngSanitize"]),angular.module("ngCsv.services").service("CSV",["$q",function(e){var t="\r\n",i={"\\t":"\t","\\b":"\b","\\v":"\v","\\f":"\f","\\r":"\r"};this.stringifyField=function(e,t){return"locale"===t.decimalSep&&this.isFloat(e)?e.toLocaleString():"."!==t.decimalSep&&this.isFloat(e)?e.toString().replace(".",t.decimalSep):"string"==typeof e?(e=e.replace(/"/g,'""'),(t.quoteStrings||e.indexOf(",")>-1||e.indexOf("\n")>-1||e.indexOf("\r")>-1)&&(e=t.txtDelim+e+t.txtDelim),e):"boolean"==typeof e?e?"TRUE":"FALSE":e},this.isFloat=function(e){return+e===e&&(!isFinite(e)||Boolean(e%1))},this.stringify=function(i,a){var n=e.defer(),o=this,s="",r="",l=e.when(i).then(function(e){if(angular.isDefined(a.header)&&a.header){var i,l;i=[],angular.forEach(a.header,function(e){this.push(o.stringifyField(e,a))},i),l=i.join(a.fieldSep?a.fieldSep:","),r+=l+t}var c=[];angular.isArray(e)?c=e:angular.isFunction(e)&&(c=e()),angular.forEach(c,function(e,i){var n,s,l=angular.copy(c[i]);s=[];var h=a.columnOrder?a.columnOrder:l;angular.forEach(h,function(e){var t=a.columnOrder?l[e]:e;this.push(o.stringifyField(t,a))},s),n=s.join(a.fieldSep?a.fieldSep:","),r+=i<c.length?n+t:n}),a.addByteOrderMarker&&(s+="\ufeff"),s+=r,n.resolve(s)});return"function"==typeof l.catch&&l.catch(function(e){n.reject(e)}),n.promise},this.isSpecialChar=function(e){return void 0!==i[e]},this.getSpecialChar=function(e){return i[e]}}]),angular.module("ngCsv.directives").directive("ngCsv",["$parse","$q","CSV","$document","$timeout",function(t,i,a,n,o){return{restrict:"AC",scope:{data:"&ngCsv",filename:"@filename",header:"&csvHeader",columnOrder:"&csvColumnOrder",txtDelim:"@textDelimiter",decimalSep:"@decimalSeparator",quoteStrings:"@quoteStrings",fieldSep:"@fieldSeparator",lazyLoad:"@lazyLoad",addByteOrderMarker:"@addBom",ngClick:"&",charset:"@charset"},controller:["$scope","$element","$attrs","$transclude",function(e,t,n){function o(){var t={txtDelim:e.txtDelim?e.txtDelim:'"',decimalSep:e.decimalSep?e.decimalSep:".",quoteStrings:e.quoteStrings,addByteOrderMarker:e.addByteOrderMarker};return angular.isDefined(n.csvHeader)&&(t.header=e.$eval(e.header)),angular.isDefined(n.csvColumnOrder)&&(t.columnOrder=e.$eval(e.columnOrder)),t.fieldSep=e.fieldSep?e.fieldSep:",",t.fieldSep=a.isSpecialChar(t.fieldSep)?a.getSpecialChar(t.fieldSep):t.fieldSep,t}e.csv="",angular.isDefined(e.lazyLoad)&&"true"==e.lazyLoad||angular.isArray(e.data)&&e.$watch("data",function(){e.buildCSV()},!0),e.getFilename=function(){return e.filename||"download.csv"},e.buildCSV=function(){var s=i.defer();return t.addClass(n.ngCsvLoadingClass||"ng-csv-loading"),a.stringify(e.data(),o()).then(function(i){e.csv=i,t.removeClass(n.ngCsvLoadingClass||"ng-csv-loading"),s.resolve(i)}),e.$apply(),s.promise}}],link:function(t,i){function a(){var i=t.charset||"utf-8",a=new Blob([t.csv],{type:"text/csv;charset="+i+";"});if(e.navigator.msSaveOrOpenBlob)navigator.msSaveBlob(a,t.getFilename());else{var s=angular.element("<a></a>");s.attr("href",e.URL.createObjectURL(a)),s.attr("download",t.getFilename()),s.attr("target","_blank"),n.find("body").append(s),o(function(){s[0].click(),s.remove()},null)}}i.bind("click",function(){t.buildCSV().then(function(){a()}),t.$apply()})}}}])}(window,document),function(e){var t={init:function(t){return this.each(function(){var i=e(this),a=i.data("monthpicker"),n=t&&t.year?t.year:(new Date).getFullYear(),o=e.extend({pattern:"mm/yyyy",selectedMonth:null,selectedMonthName:"",selectedYear:n,startYear:n-10,finalYear:n+10,monthNames:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],id:"monthpicker_"+(Math.random()*Math.random()).toString().replace(".",""),openOnFocus:!0,disabledMonths:[]},t);o.dateSeparator=o.pattern.replace(/(mmm|mm|m|yyyy|yy|y)/gi,""),a||(e(this).data("monthpicker",{target:i,settings:o}),!0===o.openOnFocus&&i.on("focus",function(){i.monthpicker("show")}),i.monthpicker("parseInputValue",o),i.monthpicker("mountWidget",o),i.on("monthpicker-click-month",function(e,t,a){i.monthpicker("setValue",o),i.monthpicker("hide")}),i.addClass("mtz-monthpicker-widgetcontainer"),e(document).unbind("mousedown.mtzmonthpicker").on("mousedown.mtzmonthpicker",function(t){(!t.target.className||t.target.className.toString().indexOf("mtz-monthpicker")<0)&&e(this).monthpicker("hideAll")}))})},show:function(){e(this).monthpicker("hideAll");var t=e("#"+this.data("monthpicker").settings.id);t.css("top",this.offset().top+this.outerHeight()),e(window).width()>t.width()+this.offset().left?t.css("left",this.offset().left):t.css("left",this.offset().left-t.width()),t.show(),t.find("select").focus(),this.trigger("monthpicker-show")},hide:function(){var t=e("#"+this.data("monthpicker").settings.id);t.is(":visible")&&(t.hide(),this.trigger("monthpicker-hide"))},hideAll:function(){e(".mtz-monthpicker-widgetcontainer").each(function(){void 0!==e(this).data("monthpicker")&&e(this).monthpicker("hide")})},setValue:function(e){var t=e.selectedMonth,i=e.selectedYear;e.pattern.indexOf("mmm")>=0?t=e.selectedMonthName:e.pattern.indexOf("mm")>=0&&e.selectedMonth<10&&(t="0"+e.selectedMonth),e.pattern.indexOf("yyyy")<0&&(i=i.toString().substr(2,2)),e.pattern.indexOf("y")>e.pattern.indexOf(e.dateSeparator)?this.val(t+e.dateSeparator+i):this.val(i+e.dateSeparator+t),this.change()},disableMonths:function(t){var i=this.data("monthpicker").settings,a=e("#"+i.id);i.disabledMonths=t,a.find(".mtz-monthpicker-month").each(function(){var i=parseInt(e(this).data("month"));e.inArray(i,t)>=0?e(this).addClass("ui-state-disabled"):e(this).removeClass("ui-state-disabled")})},mountWidget:function(t){var i=this,a=e('<div id="'+t.id+'" class="ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all" />'),n=e('<div class="ui-datepicker-header ui-widget-header ui-helper-clearfix ui-corner-all mtz-monthpicker" />'),o=e('<select class="mtz-monthpicker mtz-monthpicker-year" />'),s=e('<table class="mtz-monthpicker" />'),r=e('<tbody class="mtz-monthpicker" />'),l=e('<tr class="mtz-monthpicker" />'),c="",h=(t.selectedYear,null),u=e(this).data("selected-year"),d=e(this).data("start-year"),p=e(this).data("final-year");u&&(t.selectedYear=u),d&&(t.startYear=d),p&&(t.finalYear=p),a.css({position:"absolute",zIndex:999999,whiteSpace:"nowrap",width:"250px",overflow:"hidden",textAlign:"center",display:"none",top:i.offset().top+i.outerHeight(),left:i.offset().left}),o.on("change",function(){var a=e(this).parent().parent().find("td[data-month]");a.removeClass("ui-state-active"),e(this).val()==t.selectedYear&&a.filter("td[data-month="+t.selectedMonth+"]").addClass("ui-state-active"),i.trigger("monthpicker-change-year",e(this).val())});for(var f=t.startYear;f<=t.finalYear;f++){var h=e('<option class="mtz-monthpicker" />').attr("value",f).append(f);t.selectedYear==f&&h.attr("selected","selected"),o.append(h)}n.append(o).appendTo(a);for(var f=1;f<=12;f++)c=e('<td class="ui-state-default mtz-monthpicker mtz-monthpicker-month" style="padding:5px;cursor:default;" />').attr("data-month",f),t.selectedMonth==f&&c.addClass("ui-state-active"),c.append(t.monthNames[f-1]),l.append(c).appendTo(r),f%3==0&&(l=e('<tr class="mtz-monthpicker" />'));r.find(".mtz-monthpicker-month").on("click",function(){var a=parseInt(e(this).data("month"));e.inArray(a,t.disabledMonths)<0&&(t.selectedYear=e(this).closest(".ui-datepicker").find(".mtz-monthpicker-year").first().val(),t.selectedMonth=e(this).data("month"),t.selectedMonthName=e(this).text(),i.trigger("monthpicker-click-month",e(this).data("month")),e(this).closest("table").find(".ui-state-active").removeClass("ui-state-active"),e(this).addClass("ui-state-active"))}),s.append(r).appendTo(a),a.appendTo("body")},destroy:function(){return this.each(function(){e(this).removeClass("mtz-monthpicker-widgetcontainer").unbind("focus").removeData("monthpicker")})},getDate:function(){var e=this.data("monthpicker").settings;return e.selectedMonth&&e.selectedYear?new Date(e.selectedYear,e.selectedMonth-1):null},parseInputValue:function(e){if(this.val()&&e.dateSeparator){var t=this.val().toString().split(e.dateSeparator);0===e.pattern.indexOf("m")?(e.selectedMonth=t[0],e.selectedYear=t[1]):(e.selectedMonth=t[1],e.selectedYear=t[0])}}};e.fn.monthpicker=function(i){return t[i]?t[i].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof i&&i?void e.error("Method "+i+" does not exist on jQuery.mtz.monthpicker"):t.init.apply(this,arguments)}}(jQuery),function(e,t){"object"==typeof exports?module.exports=t():"function"==typeof define&&define.amd?define(t):e.Spinner=t()}(this,function(){"use strict";function e(e,t){var i,a=document.createElement(e||"div");for(i in t)a[i]=t[i];return a}function t(e){for(var t=1,i=arguments.length;i>t;t++)e.appendChild(arguments[t]);return e}function i(e,t,i,a){var n=["opacity",t,~~(100*e),i,a].join("-"),o=.01+i/a*100,s=Math.max(1-(1-e)/t*(100-o),e),r=l.substring(0,l.indexOf("Animation")).toLowerCase(),c=r&&"-"+r+"-"||"";return h[n]||(u.insertRule("@"+c+"keyframes "+n+"{0%{opacity:"+s+"}"+o+"%{opacity:"+e+"}"+(o+.01)+"%{opacity:1}"+(o+t)%100+"%{opacity:"+e+"}100%{opacity:"+s+"}}",u.cssRules.length),h[n]=1),n}function a(e,t){var i,a,n=e.style;for(t=t.charAt(0).toUpperCase()+t.slice(1),a=0;c.length>a;a++)if(i=c[a]+t,void 0!==n[i])return i;return void 0!==n[t]?t:void 0}function n(e,t){for(var i in t)e.style[a(e,i)||i]=t[i];return e}function o(e){for(var t=1;arguments.length>t;t++){var i=arguments[t];for(var a in i)void 0===e[a]&&(e[a]=i[a])}return e}function s(e,t){return"string"==typeof e?e:e[t%e.length]}function r(e){this.opts=o(e||{},r.defaults,d)}var l,c=["webkit","Moz","ms","O"],h={},u=function(){var i=e("style",{type:"text/css"});return t(document.getElementsByTagName("head")[0],i),i.sheet||i.styleSheet}(),d={lines:12,length:7,width:5,radius:10,rotate:0,corners:1,color:"#000",direction:1,speed:1,trail:100,opacity:.25,fps:20,zIndex:2e9,className:"spinner",top:"50%",left:"50%",position:"absolute"};r.defaults={},o(r.prototype,{spin:function(t){this.stop();var i=this,a=i.opts,o=i.el=n(e(0,{className:a.className}),{position:a.position,width:0,zIndex:a.zIndex});if(a.radius,a.length,a.width,n(o,{left:a.left,top:a.top}),t&&t.insertBefore(o,t.firstChild||null),o.setAttribute("role","progressbar"),i.lines(o,i.opts),!l){var s,r=0,c=(a.lines-1)*(1-a.direction)/2,h=a.fps,u=h/a.speed,d=(1-a.opacity)/(u*a.trail/100),p=u/a.lines;!function e(){r++;for(var t=0;a.lines>t;t++)s=Math.max(1-(r+(a.lines-t)*p)%u*d,a.opacity),i.opacity(o,t*a.direction+c,s,a);i.timeout=i.el&&setTimeout(e,~~(1e3/h))}()}return i},stop:function(){var e=this.el;return e&&(clearTimeout(this.timeout),e.parentNode&&e.parentNode.removeChild(e),this.el=void 0),this},lines:function(a,o){function r(t,i){return n(e(),{position:"absolute",width:o.length+o.width+"px",height:o.width+"px",background:t,boxShadow:i,transformOrigin:"left",transform:"rotate("+~~(360/o.lines*h+o.rotate)+"deg) translate("+o.radius+"px,0)",borderRadius:(o.corners*o.width>>1)+"px"})}for(var c,h=0,u=(o.lines-1)*(1-o.direction)/2;o.lines>h;h++)c=n(e(),{position:"absolute",top:1+~(o.width/2)+"px",transform:o.hwaccel?"translate3d(0,0,0)":"",opacity:o.opacity,animation:l&&i(o.opacity,o.trail,u+h*o.direction,o.lines)+" "+1/o.speed+"s linear infinite"}),o.shadow&&t(c,n(r("#000","0 0 4px #000"),{top:"2px"})),t(a,t(c,r(s(o.color,h),"0 0 1px rgba(0,0,0,.1)")));return a},opacity:function(e,t,i){e.childNodes.length>t&&(e.childNodes[t].style.opacity=i)}});var p=n(e("group"),{behavior:"url(#default#VML)"});return!a(p,"transform")&&p.adj?function(){function i(t,i){return e("<"+t+' xmlns="urn:schemas-microsoft.com:vml" class="spin-vml">',i)}u.addRule(".spin-vml","behavior:url(#default#VML)"),r.prototype.lines=function(e,a){function o(){return n(i("group",{coordsize:h+" "+h,coordorigin:-c+" "+-c}),{width:h,height:h})}function r(e,r,l){t(d,t(n(o(),{rotation:360/a.lines*e+"deg",left:~~r}),t(n(i("roundrect",{arcsize:a.corners}),{width:c,height:a.width,left:a.radius,top:-a.width>>1,filter:l}),i("fill",{color:s(a.color,e),opacity:a.opacity}),i("stroke",{opacity:0}))))}var l,c=a.length+a.width,h=2*c,u=2*-(a.width+a.length)+"px",d=n(o(),{position:"absolute",top:u,left:u});if(a.shadow)for(l=1;a.lines>=l;l++)r(l,-2,"progid:DXImageTransform.Microsoft.Blur(pixelradius=2,makeshadow=1,shadowopacity=.3)");for(l=1;a.lines>=l;l++)r(l);return t(e,d)},r.prototype.opacity=function(e,t,i,a){var n=e.firstChild;a=a.shadow&&a.lines||0,n&&n.childNodes.length>t+a&&(n=n.childNodes[t+a],n=n&&n.firstChild,(n=n&&n.firstChild)&&(n.opacity=i))}}():l=a(p,"animation"),r}),function(e,t){"object"==typeof exports?module.exports=t(require("spin.js")):"function"==typeof define&&define.amd?define(["spin"],t):e.Ladda=t(e.Spinner)}(this,function(e){"use strict";function t(e){if(void 0===e)return void void 0;e.querySelector(".ladda-label")||(e.innerHTML='<span class="ladda-label">'+e.innerHTML+"</span>");var t,i=document.createElement("span");i.className="ladda-spinner",e.appendChild(i);var a,n={start:function(){return t||(t=s(e)),e.setAttribute("disabled",""),e.setAttribute("data-loading",""),clearTimeout(a),t.spin(i),this.setProgress(0),this},startAfter:function(e){return clearTimeout(a),a=setTimeout(function(){n.start()},e),this},stop:function(){return e.removeAttribute("disabled"),e.removeAttribute("data-loading"),clearTimeout(a),t&&(a=setTimeout(function(){t.stop()},1e3)),this},toggle:function(){return this.isLoading()?this.stop():this.start(),this},setProgress:function(t){t=Math.max(Math.min(t,1),0);var i=e.querySelector(".ladda-progress");0===t&&i&&i.parentNode?i.parentNode.removeChild(i):(i||(i=document.createElement("div"),i.className="ladda-progress",e.appendChild(i)),i.style.width=(t||0)*e.offsetWidth+"px")},enable:function(){return this.stop(),this},disable:function(){return this.stop(),e.setAttribute("disabled",""),this},isLoading:function(){return e.hasAttribute("data-loading")},remove:function(){clearTimeout(a),e.removeAttribute("disabled",""),e.removeAttribute("data-loading",""),t&&(t.stop(),t=null);for(var i=0,o=l.length;o>i;i++)if(n===l[i]){l.splice(i,1);break}}};return l.push(n),n}function i(e,t){for(;e.parentNode&&e.tagName!==t;)e=e.parentNode;return t===e.tagName?e:void 0}function a(e){for(var t=["input","textarea"],i=[],a=0;t.length>a;a++)for(var n=e.getElementsByTagName(t[a]),o=0;n.length>o;o++)n[o].hasAttribute("required")&&i.push(n[o]);return i}function n(e,n){n=n||{};var o=[];"string"==typeof e?o=r(document.querySelectorAll(e)):"object"==typeof e&&"string"==typeof e.nodeName&&(o=[e]);for(var s=0,l=o.length;l>s;s++)!function(){var e=o[s];if("function"==typeof e.addEventListener){var r=t(e),l=-1;e.addEventListener("click",function(){var t=!0,o=i(e,"FORM");if(void 0!==o)for(var s=a(o),c=0;s.length>c;c++)""===s[c].value.replace(/^\s+|\s+$/g,"")&&(t=!1);t&&(r.startAfter(1),"number"==typeof n.timeout&&(clearTimeout(l),l=setTimeout(r.stop,n.timeout)),"function"==typeof n.callback&&n.callback.apply(null,[r]))},!1)}}()}function o(){for(var e=0,t=l.length;t>e;e++)l[e].stop()}function s(t){var i,a=t.offsetHeight;0===a&&(a=parseFloat(window.getComputedStyle(t).height)),a>32&&(a*=.8),
t.hasAttribute("data-spinner-size")&&(a=parseInt(t.getAttribute("data-spinner-size"),10)),t.hasAttribute("data-spinner-color")&&(i=t.getAttribute("data-spinner-color"));var n=.2*a,o=.6*n,s=7>n?2:3;return new e({color:i||"#fff",lines:12,radius:n,length:o,width:s,zIndex:"auto",top:"auto",left:"auto",className:""})}function r(e){for(var t=[],i=0;e.length>i;i++)t.push(e[i]);return t}var l=[];return{bind:n,create:t,stopAll:o}}),function(e){"use strict";function t(e,t){for(var i=0;i<e.length;++i)t(e[i],i)}function i(t,i){this.$select=e(t),this.$select.attr("data-placeholder")&&(i.nonSelectedText=this.$select.data("placeholder")),this.options=this.mergeOptions(e.extend({},i,this.$select.data())),this.originalOptions=this.$select.clone()[0].options,this.query="",this.searchTimeout=null,this.lastToggledInput=null,this.options.multiple="multiple"===this.$select.attr("multiple"),this.options.onChange=e.proxy(this.options.onChange,this),this.options.onSearchTextChange=e.proxy(this.options.onSearchTextChange,this),this.options.onDropdownShow=e.proxy(this.options.onDropdownShow,this),this.options.onDropdownHide=e.proxy(this.options.onDropdownHide,this),this.options.onDropdownShown=e.proxy(this.options.onDropdownShown,this),this.options.onDropdownHidden=e.proxy(this.options.onDropdownHidden,this),this.options.onInitialized=e.proxy(this.options.onInitialized,this),this.buildContainer(),this.buildButton(),this.buildDropdown(),this.buildSelectAll(),this.buildDropdownOptions(),this.buildFilter(),this.updateButtonText(),this.updateSelectAll(!0),this.options.disableIfEmpty&&e("option",this.$select).length<=0&&this.disable(),this.$select.hide().after(this.$container),this.options.onInitialized(this.$select,this.$container)}"undefined"!=typeof ko&&ko.bindingHandlers&&!ko.bindingHandlers.multiselect&&(ko.bindingHandlers.multiselect={after:["options","value","selectedOptions","enable","disable"],init:function(t,i,a,n,o){var s=e(t),r=ko.toJS(i());if(s.multiselect(r),a.has("options")){var l=a.get("options");ko.isObservable(l)&&ko.computed({read:function(){l(),setTimeout(function(){var e=s.data("multiselect");e&&e.updateOriginalOptions(),s.multiselect("rebuild")},1)},disposeWhenNodeIsRemoved:t})}if(a.has("value")){var c=a.get("value");ko.isObservable(c)&&ko.computed({read:function(){c(),setTimeout(function(){s.multiselect("refresh")},1)},disposeWhenNodeIsRemoved:t}).extend({rateLimit:100,notifyWhenChangesStop:!0})}if(a.has("selectedOptions")){var h=a.get("selectedOptions");ko.isObservable(h)&&ko.computed({read:function(){h(),setTimeout(function(){s.multiselect("refresh")},1)},disposeWhenNodeIsRemoved:t}).extend({rateLimit:100,notifyWhenChangesStop:!0})}var u=function(e){setTimeout(function(){e?s.multiselect("enable"):s.multiselect("disable")})};if(a.has("enable")){var d=a.get("enable");ko.isObservable(d)?ko.computed({read:function(){u(d())},disposeWhenNodeIsRemoved:t}).extend({rateLimit:100,notifyWhenChangesStop:!0}):u(d)}if(a.has("disable")){var p=a.get("disable");ko.isObservable(p)?ko.computed({read:function(){u(!p())},disposeWhenNodeIsRemoved:t}).extend({rateLimit:100,notifyWhenChangesStop:!0}):u(!p)}ko.utils.domNodeDisposal.addDisposeCallback(t,function(){s.multiselect("destroy")})},update:function(t,i,a,n,o){var s=e(t),r=ko.toJS(i());s.multiselect("setOptions",r),s.multiselect("rebuild")}}),i.prototype={defaults:{buttonText:function(t,i){if(this.disabledText.length>0&&(this.disableIfEmpty||i.prop("disabled"))&&0==t.length)return this.disabledText;if(0===t.length)return this.nonSelectedText;if(this.allSelectedText&&t.length===e("option",e(i)).length&&1!==e("option",e(i)).length&&this.multiple)return this.selectAllNumber?this.allSelectedText+" ("+t.length+")":this.allSelectedText;if(t.length>this.numberDisplayed)return t.length+" "+this.nSelectedText;var a="",n=this.delimiterText;return t.each(function(){var t=void 0!==e(this).attr("label")?e(this).attr("label"):e(this).text();a+=t+n}),a.substr(0,a.length-2)},buttonTitle:function(t,i){if(0===t.length)return this.nonSelectedText;var a="",n=this.delimiterText;return t.each(function(){var t=void 0!==e(this).attr("label")?e(this).attr("label"):e(this).text();a+=t+n}),a.substr(0,a.length-2)},optionLabel:function(t){return e(t).attr("label")||e(t).text()},optionClass:function(t){return e(t).attr("class")||""},onChange:function(e,t){},onDropdownShow:function(e){},onDropdownHide:function(e){},onDropdownShown:function(e){},onDropdownHidden:function(e){},onSelectAll:function(e){},onInitialized:function(e,t){},enableHTML:!1,buttonClass:"btn btn-default",inheritClass:!1,buttonWidth:"auto",buttonContainer:'<div class="btn-group" />',dropRight:!1,dropUp:!1,selectedClass:"active",maxHeight:!1,checkboxName:!1,includeSelectAllOption:!1,includeSelectAllIfMoreThan:0,selectAllText:" Select all",selectAllValue:"multiselect-all",selectAllName:!1,selectAllNumber:!0,selectAllJustVisible:!0,enableFiltering:!1,enableCaseInsensitiveFiltering:!1,enableFullValueFiltering:!1,enableClickableOptGroups:!1,enableCollapsibelOptGroups:!1,filterPlaceholder:"Search",filterBehavior:"text",includeFilterClearBtn:!0,preventInputChangeEvent:!1,nonSelectedText:"None selected",nSelectedText:"selected",allSelectedText:"All selected",numberDisplayed:3,disableIfEmpty:!1,disabledText:"",delimiterText:", ",templates:{button:'<button type="button" class="multiselect dropdown-toggle" data-toggle="dropdown"><span class="multiselect-selected-text"></span> <b class="caret"></b></button>',ul:'<ul class="multiselect-container dropdown-menu"></ul>',filter:'<li class="multiselect-item filter"><div class="input-group"><span class="input-group-addon"><i class="glyphicon glyphicon-search"></i></span><input class="form-control multiselect-search" type="text"></div></li>',filterClearBtn:'<span class="input-group-btn"><button class="btn btn-default multiselect-clear-filter" type="button"><i class="glyphicon glyphicon-remove-circle"></i></button></span>',li:'<li><a tabindex="0"><label></label></a></li>',divider:'<li class="multiselect-item divider"></li>',liGroup:'<li class="multiselect-item multiselect-group"><label></label></li>'}},constructor:i,buildContainer:function(){this.$container=e(this.options.buttonContainer),this.$container.on("show.bs.dropdown",this.options.onDropdownShow),this.$container.on("hide.bs.dropdown",this.options.onDropdownHide),this.$container.on("shown.bs.dropdown",this.options.onDropdownShown),this.$container.on("hidden.bs.dropdown",this.options.onDropdownHidden)},buildButton:function(){this.$button=e(this.options.templates.button).addClass(this.options.buttonClass),this.$select.attr("class")&&this.options.inheritClass&&this.$button.addClass(this.$select.attr("class")),this.$select.prop("disabled")?this.disable():this.enable(),this.options.buttonWidth&&"auto"!==this.options.buttonWidth&&(this.$button.css({width:this.options.buttonWidth,overflow:"hidden","text-overflow":"ellipsis"}),this.$container.css({width:this.options.buttonWidth}));var t=this.$select.attr("tabindex");t&&this.$button.attr("tabindex",t),this.$container.prepend(this.$button)},buildDropdown:function(){if(this.$ul=e(this.options.templates.ul),this.options.dropRight&&this.$ul.addClass("pull-right"),this.options.maxHeight&&this.$ul.css({"max-height":this.options.maxHeight+"px","overflow-y":"auto","overflow-x":"hidden"}),this.options.dropUp){var t=Math.min(this.options.maxHeight,26*e('option[data-role!="divider"]',this.$select).length+19*e('option[data-role="divider"]',this.$select).length+(this.options.includeSelectAllOption?26:0)+(this.options.enableFiltering||this.options.enableCaseInsensitiveFiltering?44:0)),i=t+34;this.$ul.css({"max-height":t+"px","overflow-y":"auto","overflow-x":"hidden","margin-top":"-"+i+"px"})}this.$container.append(this.$ul)},buildDropdownOptions:function(){this.$select.children().each(e.proxy(function(t,i){var a=e(i),n=a.prop("tagName").toLowerCase();a.prop("value")!==this.options.selectAllValue&&("optgroup"===n?this.createOptgroup(i):"option"===n&&("divider"===a.data("role")?this.createDivider():this.createOptionValue(i)))},this)),e("li input",this.$ul).on("change",e.proxy(function(t){var i=e(t.target),a=i.prop("checked")||!1,n=i.val()===this.options.selectAllValue;this.options.selectedClass&&(a?i.closest("li").addClass(this.options.selectedClass):i.closest("li").removeClass(this.options.selectedClass));var o=i.val(),s=this.getOptionByValue(o),r=e("option",this.$select).not(s),l=e("input",this.$container).not(i);if(n?a?this.selectAll(this.options.selectAllJustVisible):this.deselectAll(this.options.selectAllJustVisible):(a?(s.prop("selected",!0),this.options.multiple?s.prop("selected",!0):(this.options.selectedClass&&e(l).closest("li").removeClass(this.options.selectedClass),e(l).prop("checked",!1),r.prop("selected",!1),this.$button.click()),"active"===this.options.selectedClass&&r.closest("a").css("outline","")):s.prop("selected",!1),this.options.onChange(s,a)),this.$select.change(),this.updateButtonText(),this.updateSelectAll(),this.options.preventInputChangeEvent)return!1},this)),e("li a",this.$ul).on("mousedown",function(e){if(e.shiftKey)return!1}),e("li a",this.$ul).on("touchstart click",e.proxy(function(t){t.stopPropagation();var i=e(t.target);if(t.shiftKey&&this.options.multiple){i.is("label")&&(t.preventDefault(),i=i.find("input"),i.prop("checked",!i.prop("checked")));var a=i.prop("checked")||!1;if(null!==this.lastToggledInput&&this.lastToggledInput!==i){var n=i.closest("li").index(),o=this.lastToggledInput.closest("li").index();if(n>o){var s=o;o=n,n=s}++o;var r=this.$ul.find("li").slice(n,o).find("input");r.prop("checked",a),this.options.selectedClass&&r.closest("li").toggleClass(this.options.selectedClass,a);for(var l=0,c=r.length;l<c;l++){var h=e(r[l]);this.getOptionByValue(h.val()).prop("selected",a)}}i.trigger("change")}i.is("input")&&!i.closest("li").is(".multiselect-item")&&(this.lastToggledInput=i),i.blur()},this)),this.$container.off("keydown.multiselect").on("keydown.multiselect",e.proxy(function(t){if(!e('input[type="text"]',this.$container).is(":focus"))if(9===t.keyCode&&this.$container.hasClass("open"))this.$button.click();else{var i=e(this.$container).find("li:not(.divider):not(.disabled) a").filter(":visible");if(!i.length)return;var a=i.index(i.filter(":focus"));38===t.keyCode&&a>0?a--:40===t.keyCode&&a<i.length-1?a++:~a||(a=0);var n=i.eq(a);if(n.focus(),32===t.keyCode||13===t.keyCode){var o=n.find("input");o.prop("checked",!o.prop("checked")),o.change()}t.stopPropagation(),t.preventDefault()}},this)),this.options.enableClickableOptGroups&&this.options.multiple&&e("li.multiselect-group",this.$ul).on("click",e.proxy(function(t){t.stopPropagation(),void 0;var i=e(t.target).parent(),a=i.nextUntil("li.multiselect-group"),n=a.filter(":visible:not(.disabled)"),o=!0,s=n.find("input"),r=[];s.each(function(){o=o&&e(this).prop("checked"),r.push(e(this).val())}),o?this.deselect(r,!1):this.select(r,!1),this.options.onChange(s,!o)},this)),this.options.enableCollapsibleOptGroups&&this.options.multiple&&(e("li.multiselect-group input",this.$ul).off(),e("li.multiselect-group",this.$ul).siblings().not("li.multiselect-group, li.multiselect-all",this.$ul).each(function(){e(this).toggleClass("hidden",!0)}),e("li.multiselect-group",this.$ul).on("click",e.proxy(function(e){e.stopPropagation()},this)),e("li.multiselect-group > a > b",this.$ul).on("click",e.proxy(function(t){t.stopPropagation();var i=e(t.target).closest("li"),a=i.nextUntil("li.multiselect-group"),n=!0;a.each(function(){n=n&&e(this).hasClass("hidden")}),a.toggleClass("hidden",!n)},this)),e("li.multiselect-group > a > input",this.$ul).on("change",e.proxy(function(t){t.stopPropagation();var i=e(t.target).closest("li"),a=i.nextUntil("li.multiselect-group",":not(.disabled)"),n=a.find("input"),o=!0;n.each(function(){o=o&&e(this).prop("checked")}),n.prop("checked",!o).trigger("change")},this)),e("li.multiselect-group",this.$ul).each(function(){var t=e(this).nextUntil("li.multiselect-group",":not(.disabled)"),i=t.find("input"),a=!0;i.each(function(){a=a&&e(this).prop("checked")}),e(this).find("input").prop("checked",a)}),e("li input",this.$ul).on("change",e.proxy(function(t){t.stopPropagation();var i=e(t.target).closest("li"),a=i.prevUntil("li.multiselect-group",":not(.disabled)"),n=i.nextUntil("li.multiselect-group",":not(.disabled)"),o=a.find("input"),s=n.find("input"),r=e(t.target).prop("checked");o.each(function(){r=r&&e(this).prop("checked")}),s.each(function(){r=r&&e(this).prop("checked")}),i.prevAll(".multiselect-group").find("input").prop("checked",r)},this)),e("li.multiselect-all",this.$ul).css("background","#f3f3f3").css("border-bottom","1px solid #eaeaea"),e("li.multiselect-group > a, li.multiselect-all > a > label.checkbox",this.$ul).css("padding","3px 20px 3px 35px"),e("li.multiselect-group > a > input",this.$ul).css("margin","4px 0px 5px -20px"))},createOptionValue:function(t){var i=e(t);i.is(":selected")&&i.prop("selected",!0);var a=this.options.optionLabel(t),n=this.options.optionClass(t),o=i.val(),s=this.options.multiple?"checkbox":"radio",r=e(this.options.templates.li),l=e("label",r);l.addClass(s),r.addClass(n),this.options.enableHTML?l.html(" "+a):l.text(" "+a);var c=e("<input/>").attr("type",s);this.options.checkboxName&&c.attr("name",this.options.checkboxName),l.prepend(c);var h=i.prop("selected")||!1;c.val(o),o===this.options.selectAllValue&&(r.addClass("multiselect-item multiselect-all"),c.parent().parent().addClass("multiselect-all")),l.attr("title",i.attr("title")),this.$ul.append(r),i.is(":disabled")&&c.attr("disabled","disabled").prop("disabled",!0).closest("a").attr("tabindex","-1").closest("li").addClass("disabled"),c.prop("checked",h),h&&this.options.selectedClass&&c.closest("li").addClass(this.options.selectedClass)},createDivider:function(t){var i=e(this.options.templates.divider);this.$ul.append(i)},createOptgroup:function(t){if(this.options.enableCollapsibleOptGroups&&this.options.multiple){var i=e(t).attr("label"),a=e(t).attr("value"),n=e('<li class="multiselect-item multiselect-group"><a href="javascript:void(0);"><input type="checkbox" value="'+a+'"/><b> '+i+'<b class="caret"></b></b></a></li>');this.options.enableClickableOptGroups&&n.addClass("multiselect-group-clickable"),this.$ul.append(n),e(t).is(":disabled")&&n.addClass("disabled"),e("option",t).each(e.proxy(function(e,t){this.createOptionValue(t)},this))}else{var o=e(t).prop("label"),s=e(this.options.templates.liGroup);this.options.enableHTML?e("label",s).html(o):e("label",s).text(o),this.options.enableClickableOptGroups&&s.addClass("multiselect-group-clickable"),this.$ul.append(s),e(t).is(":disabled")&&s.addClass("disabled"),e("option",t).each(e.proxy(function(e,t){this.createOptionValue(t)},this))}},buildSelectAll:function(){if("number"==typeof this.options.selectAllValue&&(this.options.selectAllValue=this.options.selectAllValue.toString()),!this.hasSelectAll()&&this.options.includeSelectAllOption&&this.options.multiple&&e("option",this.$select).length>this.options.includeSelectAllIfMoreThan){this.options.includeSelectAllDivider&&this.$ul.prepend(e(this.options.templates.divider));var t=e(this.options.templates.li);e("label",t).addClass("checkbox"),this.options.enableHTML?e("label",t).html(" "+this.options.selectAllText):e("label",t).text(" "+this.options.selectAllText),this.options.selectAllName?e("label",t).prepend('<input type="checkbox" name="'+this.options.selectAllName+'" />'):e("label",t).prepend('<input type="checkbox" />');var i=e("input",t);i.val(this.options.selectAllValue),t.addClass("multiselect-item multiselect-all"),i.parent().parent().addClass("multiselect-all"),this.$ul.prepend(t),i.prop("checked",!1)}},buildFilter:function(t,i){if(this.options.enableFiltering||this.options.enableCaseInsensitiveFiltering){var a=Math.max(this.options.enableFiltering,this.options.enableCaseInsensitiveFiltering);if(this.$select.find("option").length>=a){if(this.$filter=e(this.options.templates.filter),e("input",this.$filter).attr("placeholder",this.options.filterPlaceholder),t&&e("input",this.$filter).val(t),this.options.includeFilterClearBtn){var n=e(this.options.templates.filterClearBtn);n.on("click",e.proxy(function(t){clearTimeout(this.searchTimeout),this.$filter.find(".multiselect-search").val(""),e("li",this.$ul).show().removeClass("filter-hidden"),this.updateSelectAll()},this)),this.$filter.find(".input-group").append(n)}this.$ul.prepend(this.$filter),i&&e("input",this.$filter).focus(),this.$filter.val(this.query).on("click",function(e){e.stopPropagation()}).on("input keydown",e.proxy(function(t){13===t.which&&t.preventDefault(),clearTimeout(this.searchTimeout),this.searchTimeout=this.asyncFunction(e.proxy(function(){if(this.query!==t.target.value){this.query=t.target.value;var i,a;e.each(e("li",this.$ul),e.proxy(function(t,n){var o=e("input",n).length>0?e("input",n).val():"",s=e("label",n).text(),r="";if("text"===this.options.filterBehavior?r=s:"value"===this.options.filterBehavior?r=o:"both"===this.options.filterBehavior&&(r=s+"\n"+o),o!==this.options.selectAllValue&&s){var l=!1;if(this.options.enableCaseInsensitiveFiltering&&(r=r.toLowerCase(),this.query=this.query.toLowerCase()),this.options.enableFullValueFiltering&&"both"!==this.options.filterBehavior){var c=r.trim().substring(0,this.query.length);this.query.indexOf(c)>-1&&(l=!0)}else r.indexOf(this.query)>-1&&(l=!0);e(n).toggle(l).toggleClass("filter-hidden",!l),e(n).hasClass("multiselect-group")?(i=n,a=l):(l&&e(i).show().removeClass("filter-hidden"),!l&&a&&e(n).show().removeClass("filter-hidden"))}},this))}this.updateSelectAll(),this.options.onSearchTextChange&&this.options.onSearchTextChange(this.query)},this),300,this)},this))}}},destroy:function(){this.$container.remove(),this.$select.show(),this.$select.data("multiselect",null)},refresh:function(){var t=e.map(e("li input",this.$ul),e);e("option",this.$select).each(e.proxy(function(i,a){for(var n,o=e(a),s=o.val(),r=t.length;0<r--;)if(s===(n=t[r]).val()){o.is(":selected")?(n.prop("checked",!0),this.options.selectedClass&&n.closest("li").addClass(this.options.selectedClass)):(n.prop("checked",!1),this.options.selectedClass&&n.closest("li").removeClass(this.options.selectedClass)),o.is(":disabled")?n.attr("disabled","disabled").prop("disabled",!0).closest("li").addClass("disabled"):n.prop("disabled",!1).closest("li").removeClass("disabled");break}},this)),this.updateButtonText(),this.updateSelectAll()},select:function(t,i){e.isArray(t)||(t=[t]);for(var a=0;a<t.length;a++){var n=t[a];if(null!==n&&void 0!==n){var o=this.getOptionByValue(n),s=this.getInputByValue(n);void 0!==o&&void 0!==s&&(this.options.multiple||this.deselectAll(!1),this.options.selectedClass&&s.closest("li").addClass(this.options.selectedClass),s.prop("checked",!0),o.prop("selected",!0),i&&this.options.onChange(o,!0))}}this.updateButtonText(),this.updateSelectAll()},clearSelection:function(){this.deselectAll(!1),this.updateButtonText(),this.updateSelectAll()},deselect:function(t,i){e.isArray(t)||(t=[t]);for(var a=0;a<t.length;a++){var n=t[a];if(null!==n&&void 0!==n){var o=this.getOptionByValue(n),s=this.getInputByValue(n);void 0!==o&&void 0!==s&&(this.options.selectedClass&&s.closest("li").removeClass(this.options.selectedClass),s.prop("checked",!1),o.prop("selected",!1),i&&this.options.onChange(o,!1))}}this.updateButtonText(),this.updateSelectAll()},selectAll:function(t,i){t=(!this.options.enableCollapsibleOptGroups||!this.options.multiple)&&t;var t=void 0===t||t,a=e("li input[type='checkbox']:enabled",this.$ul),n=a.filter(":visible"),o=a.length,s=n.length;if(t?(n.prop("checked",!0),n.parent().addClass("checked"),e("li:not(.divider):not(.disabled)",this.$ul).filter(":visible").addClass(this.options.selectedClass)):(a.prop("checked",!0),a.parent().addClass("checked"),e("li:not(.divider):not(.disabled)",this.$ul).addClass(this.options.selectedClass)),o===s||!1===t)e("option:not([data-role='divider']):enabled",this.$select).prop("selected",!0);else{var r=n.map(function(){return e(this).val()}).get();e("option:enabled",this.$select).filter(function(t){return-1!==e.inArray(e(this).val(),r)}).prop("selected",!0)}i&&this.options.onSelectAll()},deselectAll:function(t){if(t=(!this.options.enableCollapsibleOptGroups||!this.options.multiple)&&t,t=void 0===t||t){var i=e("li input[type='checkbox']:not(:disabled)",this.$ul).filter(":visible");i.prop("checked",!1),i.parent().removeClass("checked");var a=i.map(function(){return e(this).val()}).get();e("option:enabled",this.$select).filter(function(t){return-1!==e.inArray(e(this).val(),a)}).prop("selected",!1),this.options.selectedClass&&e("li:not(.divider):not(.disabled)",this.$ul).filter(":visible").removeClass(this.options.selectedClass)}else e("li input[type='checkbox']:enabled",this.$ul).prop("checked",!1),e("option:enabled",this.$select).prop("selected",!1),this.options.selectedClass&&e("li:not(.divider):not(.disabled)",this.$ul).removeClass(this.options.selectedClass)},rebuild:function(t,i){this.$ul.html(""),this.options.multiple="multiple"===this.$select.attr("multiple"),this.buildSelectAll(),this.buildDropdownOptions(),this.buildFilter(t,i),this.updateButtonText(),this.updateSelectAll(!0),this.options.disableIfEmpty&&e("option",this.$select).length<=0?this.disable():this.enable(),this.options.dropRight&&this.$ul.addClass("pull-right")},dataprovider:function(i,a){var n=0,o=this.$select.empty();e.each(i,function(i,a){var s;e.isArray(a.children)?(n++,s=e("<optgroup/>").attr({label:a.label||"Group "+n,disabled:!!a.disabled}),t(a.children,function(t){s.append(e("<option/>").attr({value:t.value,label:t.label||t.value,title:t.title,selected:!!t.selected,disabled:!!t.disabled}))})):(s=e("<option/>").attr({value:a.value,label:a.label||a.value,title:a.title,class:a.class,selected:!!a.selected,disabled:!!a.disabled}),s.text(a.label||a.value)),o.append(s)}),this.rebuild(e("input",this.$filter).val(),a)},enable:function(){this.$select.prop("disabled",!1),this.$button.prop("disabled",!1).removeClass("disabled")},disable:function(){this.$select.prop("disabled",!0),this.$button.prop("disabled",!0).addClass("disabled")},setOptions:function(e){this.options=this.mergeOptions(e)},mergeOptions:function(t){return e.extend(!0,{},this.defaults,this.options,t)},hasSelectAll:function(){return e("li.multiselect-all",this.$ul).length>0},updateSelectAll:function(t){if(this.hasSelectAll()){var i=e("li:not(.multiselect-item):not(.filter-hidden) input:enabled",this.$ul),a=i.length,n=i.filter(":checked").length,o=e("li.multiselect-all",this.$ul),s=o.find("input");n>0&&n===a?(s.prop("checked",!0),o.addClass(this.options.selectedClass),this.options.onSelectAll(!0)):(s.prop("checked",!1),o.removeClass(this.options.selectedClass),0===n&&(t||this.options.onSelectAll(!1)))}},updateButtonText:function(){var t=this.getSelected();this.options.enableHTML?e(".multiselect .multiselect-selected-text",this.$container).html(this.options.buttonText(t,this.$select)):e(".multiselect .multiselect-selected-text",this.$container).text(this.options.buttonText(t,this.$select)),e(".multiselect",this.$container).attr("title",this.options.buttonTitle(t,this.$select))},getSelected:function(){return e("option",this.$select).filter(":selected")},getOptionByValue:function(t){for(var i=e("option",this.$select),a=t.toString(),n=0;n<i.length;n+=1){var o=i[n];if(o.value===a)return e(o)}},getInputByValue:function(t){for(var i=e("li input",this.$ul),a=t.toString(),n=0;n<i.length;n+=1){var o=i[n];if(o.value===a)return e(o)}},updateOriginalOptions:function(){this.originalOptions=this.$select.clone()[0].options},asyncFunction:function(e,t,i){var a=Array.prototype.slice.call(arguments,3);return setTimeout(function(){e.apply(i||window,a)},t)},setAllSelectedText:function(e){this.options.allSelectedText=e,this.updateButtonText()}},e.fn.multiselect=function(t,a,n){return this.each(function(){var o=e(this).data("multiselect"),s="object"==typeof t&&t;o||(o=new i(this,s),e(this).data("multiselect",o)),"string"==typeof t&&(o[t](a,n),"destroy"===t&&e(this).data("multiselect",!1))})},e.fn.multiselect.Constructor=i,e(function(){e("select[data-role=multiselect]").multiselect()})}(window.jQuery),MetronicApp.directive("vocMultiselect",function(e){return{restrict:"A",require:"?ngModel",scope:{dropdownSrc:"=",toggleRefresh:"=",myData:"=ngModel"},link:function(t,i,a,n){function o(){i.multiselect("destroy");var e=s();i.html(e),i.multiselect({maxHeight:t.maxHeight,includeSelectAllOption:t.selectAllOption,enableFiltering:t.enableFiltering,numberDisplayed:1,nonSelectedText:t.nonSelectedText,nSelectedText:t.nSelectedText,allSelectedText:t.allSelectedText,buttonWidth:t.buttonWidth,onSearchTextChange:r})}function s(){var e="";return t.isServersideSearching&&(e+=' <option disabled="true" > enter min '+t.minimumSearchLength+" characters </option> "),t.isScalarData?angular.forEach(t.dropdownSrc,function(t,i){e+=' <option value="'+t+'"> '+t+" </option> "}):angular.forEach(t.dropdownSrc,function(i,a){e+=' <option value="'+i[t.valueFeild]+'"> '+i[t.textFeild]+" </option> "}),e}t.isScalarData=null!=a.scalarData&&"true"==a.scalarData,t.valueFeild=null==a.valueFeild?"value":a.valueFeild,t.textFeild=null==a.textFeild?"text":a.textFeild,t.maxHeight=null==a.maxHeight?400:parseInt(a.maxHeight),t.selectAllOption=null==a.selectAllOption||"true"==a.selectAllOption,t.enableFiltering=null==a.enableFiltering||"true"==a.enableFiltering,t.nonSelectedText=null==a.nonSelectedText?"Please select":a.nonSelectedText,t.nSelectedText=null==a.nSelectedText?" Selected":a.nSelectedText,t.allSelectedText=null==a.allSelectedText?"All Selected":a.allSelectedText,t.buttonWidth=null==a.buttonWidth?"":a.buttonWidth,t.lastSearchedText="",t.isServersideSearching=!1;var r=null;null!=a.dropdownSrcUrl&&""!=a.dropdownSrcUrl&&(t.isServersideSearching=!0,t.dropdownSrc=[],t.minimumSearchLength=null==a.minSearchLength?3:a.minSearchLength,r=function(n){n.length>=t.minimumSearchLength&&t.lastSearchedText!=n&&(t.lastSearchedText=n,e.get(a.dropdownSrcUrl+n).then(function(e){var a=[];angular.forEach(t.myData,function(e){var t={label:e,title:e,value:e,selected:!0};a.push(t)}),angular.forEach(e.data,function(e){if(t.myData&&t.myData.indexOf(e)>0);else{var i={label:e,title:e,value:e,selected:!1};a.push(i)}}),a.length>0&&i.multiselect("dataprovider",a,!0)},function(){}))}),t.$watchGroup(["dropdownSrc","toggleRefresh"],function(e,t){o()})}}}),function(e){"use strict";var t=function(e){var t=arguments,i=!0,a=1;return e=e.replace(/%s/g,function(){var e=t[a++];return void 0===e?(i=!1,""):e}),i?e:""},i=function(t,i){this.options=i,this.$element=e(t),this.isShown=!1,this.init()};i.DEFAULTS={placement:"after",white:!1,message:"Click here to show/hide password",eyeClass:"glyphicon",eyeOpenClass:"glyphicon-eye-open",eyeCloseClass:"glyphicon-eye-close"},i.prototype.init=function(){var i,a;"before"===this.options.placement?(i="insertBefore",a="input-prepend"):(this.options.placement="after",i="insertAfter",a="input-append"),this.$element.wrap(t('<div class="%s input-group" />',a)),this.$text=e('<input type="text" />')[i](this.$element).attr("class",this.$element.attr("class")).attr("style",this.$element.attr("style")).attr("placeholder",this.$element.attr("placeholder")).css("display",this.$element.css("display")).val(this.$element.val()).hide(),this.$element.prop("readonly")&&this.$text.prop("readonly",!0),this.$icon=e(['<span tabindex="100" title="'+this.options.message+'" class="add-on input-group-addon">','<i class="icon-eye-open'+(this.options.white?" icon-white":"")+" "+this.options.eyeClass+" "+this.options.eyeOpenClass+'"></i>',"</span>"].join(""))[i](this.$text).css("cursor","pointer"),this.$text.off("keyup").on("keyup",e.proxy(function(){this.isShown&&this.$element.val(this.$text.val()).trigger("change")},this)),this.$icon.off("click").on("click",e.proxy(function(){this.$text.val(this.$element.val()).trigger("change"),this.toggle()},this))},i.prototype.toggle=function(e){this[this.isShown?"hide":"show"](e)},i.prototype.show=function(t){var i=e.Event("show.bs.password",{relatedTarget:t});this.$element.trigger(i),this.isShown=!0,this.$element.hide(),this.$text.show(),this.$icon.find("i").removeClass("icon-eye-open "+this.options.eyeOpenClass).addClass("icon-eye-close "+this.options.eyeCloseClass),this.$text[this.options.placement](this.$element)},i.prototype.hide=function(t){var i=e.Event("hide.bs.password",{relatedTarget:t});this.$element.trigger(i),this.isShown=!1,this.$element.show(),this.$text.hide(),this.$icon.find("i").removeClass("icon-eye-close "+this.options.eyeCloseClass).addClass("icon-eye-open "+this.options.eyeOpenClass),this.$element[this.options.placement](this.$text)},i.prototype.val=function(e){return void 0===e?this.$element.val():(this.$element.val(e).trigger("change"),void this.$text.val(e))};var a=e.fn.password;e.fn.password=function(){var t,a=arguments[0],n=arguments,o=["show","hide","toggle","val"];return this.each(function(){var s=e(this),r=s.data("bs.password"),l=e.extend({},i.DEFAULTS,s.data(),"object"==typeof a&&a);if("string"==typeof a){if(e.inArray(a,o)<0)throw"Unknown method: "+a;t=r[a](n[1])}else r?r.init(l):(r=new i(s,l),s.data("bs.password",r))}),t||this},e.fn.password.Constructor=i,e.fn.password.noConflict=function(){return e.fn.password=a,this},e(function(){e('[data-toggle="password"]').password()})}(window.jQuery),function(e){function t(e,t,n){var o=e[0],s=/er/.test(n)?_indeterminate:/bl/.test(n)?p:u,r=n==_update?{checked:o[u],disabled:o[p],indeterminate:"true"==e.attr(_indeterminate)||"false"==e.attr(_determinate)}:o[s];if(/^(ch|di|in)/.test(n)&&!r)i(e,s);else if(/^(un|en|de)/.test(n)&&r)a(e,s);else if(n==_update)for(var l in r)r[l]?i(e,l,!0):a(e,l,!0);else t&&"toggle"!=n||(t||e[_callback]("ifClicked"),r?o[_type]!==h&&a(e,s):i(e,s))}function i(t,i,n){var f=t[0],m=t.parent(),g=i==u,v=i==_indeterminate,b=i==p,y=v?_determinate:g?d:"enabled",x=o(t,y+s(f[_type])),C=o(t,i+s(f[_type]));if(!0!==f[i]){if(!n&&i==u&&f[_type]==h&&f.name){var w=t.closest("form"),k='input[name="'+f.name+'"]',k=w.length?w.find(k):e(k);k.each(function(){this!==f&&e(this).data(l)&&a(e(this),i)})}v?(f[i]=!0,f[u]&&a(t,u,"force")):(n||(f[i]=!0),g&&f[_indeterminate]&&a(t,_indeterminate,!1)),r(t,g,i,n)}f[p]&&o(t,_cursor,!0)&&m.find("."+c).css(_cursor,"default"),m[_add](C||o(t,i)||""),m.attr("role")&&!v&&m.attr("aria-"+(b?p:u),"true"),m[_remove](x||o(t,y)||"")}function a(e,t,i){var a=e[0],n=e.parent(),l=t==u,h=t==_indeterminate,f=t==p,m=h?_determinate:l?d:"enabled",g=o(e,m+s(a[_type])),v=o(e,t+s(a[_type]));!1!==a[t]&&(!h&&i&&"force"!=i||(a[t]=!1),r(e,l,m,i)),!a[p]&&o(e,_cursor,!0)&&n.find("."+c).css(_cursor,"pointer"),n[_remove](v||o(e,t)||""),n.attr("role")&&!h&&n.attr("aria-"+(f?p:u),"false"),n[_add](g||o(e,m)||"")}function n(t,i){t.data(l)&&(t.parent().html(t.attr("style",t.data(l).s||"")),i&&t[_callback](i),t.off(".i").unwrap(),e(_label+'[for="'+t[0].id+'"]').add(t.closest(_label)).off(".i"))}function o(e,t,i){if(e.data(l))return e.data(l).o[t+(i?"":"Class")]}function s(e){return e.charAt(0).toUpperCase()+e.slice(1)}function r(e,t,i,a){a||(t&&e[_callback]("ifToggled"),e[_callback]("ifChanged")[_callback]("if"+s(i)))}var l="iCheck",c=l+"-helper",h="radio",u="checked",d="un"+u,p="disabled";_determinate="determinate",_indeterminate="in"+_determinate,_update="update",_type="type",_click="click",_touch="touchbegin.i touchend.i",_add="addClass",_remove="removeClass",_callback="trigger",_label="label",_cursor="cursor",_mobile=/ipad|iphone|ipod|android|blackberry|windows phone|opera mini|silk/i.test(navigator.userAgent),e.fn[l]=function(o,s){var r='input[type="checkbox"], input[type="'+h+'"]',d=e(),f=function(t){t.each(function(){var t=e(this);d=t.is(r)?d.add(t):d.add(t.find(r))})};if(/^(check|uncheck|toggle|indeterminate|determinate|disable|enable|update|destroy)$/i.test(o))return o=o.toLowerCase(),f(this),d.each(function(){var i=e(this);"destroy"==o?n(i,"ifDestroyed"):t(i,!0,o),e.isFunction(s)&&s()});if("object"!=typeof o&&o)return this;var m=e.extend({checkedClass:u,
disabledClass:p,indeterminateClass:_indeterminate,labelHover:!0},o),g=m.handle,v=m.hoverClass||"hover",b=m.focusClass||"focus",y=m.activeClass||"active",x=!!m.labelHover,C=m.labelHoverClass||"hover",w=0|(""+m.increaseArea).replace("%","");return"checkbox"!=g&&g!=h||(r='input[type="'+g+'"]'),-50>w&&(w=-50),f(this),d.each(function(){var o=e(this);n(o);var s=this,r=s.id,d=-w+"%",f=100+2*w+"%",f={position:"absolute",top:d,left:d,display:"block",width:f,height:f,margin:0,padding:0,background:"#fff",border:0,opacity:0},d=_mobile?{position:"absolute",visibility:"hidden"}:w?f:{position:"absolute",opacity:0},g="checkbox"==s[_type]?m.checkboxClass||"icheckbox":m.radioClass||"i"+h,k=e(_label+'[for="'+r+'"]').add(o.closest(_label)),S=!!m.aria,D=l+"-"+Math.random().toString(36).substr(2,6),T='<div class="'+g+'" '+(S?'role="'+s[_type]+'" ':"");S&&k.each(function(){T+='aria-labelledby="',this.id?T+=this.id:(this.id=D,T+=D),T+='"'}),T=o.wrap(T+"/>")[_callback]("ifCreated").parent().append(m.insert),f=e('<ins class="'+c+'"/>').css(f).appendTo(T),o.data(l,{o:m,s:o.attr("style")}).css(d),m.inheritClass&&T[_add](s.className||""),m.inheritID&&r&&T.attr("id",l+"-"+r),"static"==T.css("position")&&T.css("position","relative"),t(o,!0,_update),k.length&&k.on(_click+".i mouseover.i mouseout.i "+_touch,function(i){var a=i[_type],n=e(this);if(!s[p]){if(a==_click){if(e(i.target).is("a"))return;t(o,!1,!0)}else x&&(/ut|nd/.test(a)?(T[_remove](v),n[_remove](C)):(T[_add](v),n[_add](C)));if(!_mobile)return!1;i.stopPropagation()}}),o.on(_click+".i focus.i blur.i keyup.i keydown.i keypress.i",function(e){var t=e[_type];return e=e.keyCode,t!=_click&&("keydown"==t&&32==e?(s[_type]==h&&s[u]||(s[u]?a(o,u):i(o,u)),!1):void("keyup"==t&&s[_type]==h?!s[u]&&i(o,u):/us|ur/.test(t)&&T["blur"==t?_remove:_add](b)))}),f.on(_click+" mousedown mouseup mouseover mouseout "+_touch,function(e){var i=e[_type],a=/wn|up/.test(i)?y:v;if(!s[p]){if(i==_click?t(o,!1,!0):(/wn|er|in/.test(i)?T[_add](a):T[_remove](a+" "+y),k.length&&x&&a==v&&k[/ut|nd/.test(i)?_remove:_add](C)),!_mobile)return!1;e.stopPropagation()}})})}}(window.jQuery||window.Zepto),function(){function e(e,i){e.prototype=t(i.prototype),e.prototype.constructor=e,e.base=i.prototype}function t(e){function t(){}return t.prototype=e,new t}function a(e,t,i){return"millisecond"===i?e.setMilliseconds(e.getMilliseconds()+1*t):"second"===i?e.setSeconds(e.getSeconds()+1*t):"minute"===i?e.setMinutes(e.getMinutes()+1*t):"hour"===i?e.setHours(e.getHours()+1*t):"day"===i?e.setDate(e.getDate()+1*t):"week"===i?e.setDate(e.getDate()+7*t):"month"===i?e.setMonth(e.getMonth()+1*t):"year"===i&&e.setFullYear(e.getFullYear()+1*t),e}function n(e,t){var i=!1;for(0>e&&(i=!0,e*=-1),e=""+e,t=t||1;e.length<t;)e="0"+e;return i?"-"+e:e}function o(e){if(!e)return e;e=e.replace(/^\s\s*/,"");for(var t=/\s/,i=e.length;t.test(e.charAt(--i)););return e.slice(0,i+1)}function s(e){e.roundRect=function(e,t,i,a,n,o,s,r){s&&(this.fillStyle=s),r&&(this.strokeStyle=r),void 0===n&&(n=5),this.lineWidth=o,this.beginPath(),this.moveTo(e+n,t),this.lineTo(e+i-n,t),this.quadraticCurveTo(e+i,t,e+i,t+n),this.lineTo(e+i,t+a-n),this.quadraticCurveTo(e+i,t+a,e+i-n,t+a),this.lineTo(e+n,t+a),this.quadraticCurveTo(e,t+a,e,t+a-n),this.lineTo(e,t+n),this.quadraticCurveTo(e,t,e+n,t),this.closePath(),s&&this.fill(),r&&0<o&&this.stroke()}}function r(e,t){return e-t}function l(e){var t=((16711680&e)>>16).toString(16),i=((65280&e)>>8).toString(16);return e=((255&e)>>0).toString(16),t=2>t.length?"0"+t:t,i=2>i.length?"0"+i:i,e=2>e.length?"0"+e:e,"#"+t+i+e}function c(e,t){var i=this.length>>>0,a=Number(t)||0,a=0>a?Math.ceil(a):Math.floor(a);for(0>a&&(a+=i);a<i;a++)if(a in this&&this[a]===e)return a;return-1}function h(e){return null===e||void 0===e}function u(e){return e.indexOf||(e.indexOf=c),e}function d(e){R.fSDec&&e[oe("`eeDwdouMhrudods")](oe("e`u`@ohl`uhnoHuds`uhnoDoe"),function(){R._fTWm&&R._fTWm(e)})}function p(e,t,i){i=i||"normal";var a=e+"_"+t+"_"+i,n=Q[a];if(isNaN(n)){try{if(e="position:absolute; left:0px; top:-20000px; padding:0px;margin:0px;border:none;white-space:pre;line-height:normal;font-family:"+e+"; font-size:"+t+"px; font-weight:"+i+";",!K){var o=document.body;K=document.createElement("span"),K.innerHTML="";var s=document.createTextNode("Mpgyi");K.appendChild(s),o.appendChild(K)}K.style.display="",K.setAttribute("style",e),n=Math.round(K.offsetHeight),K.style.display="none"}catch(e){n=Math.ceil(1.1*t)}n=Math.max(n,t),Q[a]=n}return n}function f(e,t){var i=[];if(i={solid:[],shortDash:[3,1],shortDot:[1,1],shortDashDot:[3,1,1,1],shortDashDotDot:[3,1,1,1,1,1],dot:[1,2],dash:[4,2],dashDot:[4,2,1,2],longDash:[8,2],longDashDot:[8,2,1,2],longDashDotDot:[8,2,1,2,1,2]}[e||"solid"])for(var a=0;a<i.length;a++)i[a]*=t;else i=[];return i}function m(e,t,i,a){return e.addEventListener?(e.addEventListener(t,i,a||!1),i):!!e.attachEvent&&(a=function(t){t=t||window.event,t.preventDefault=t.preventDefault||function(){t.returnValue=!1},t.stopPropagation=t.stopPropagation||function(){t.cancelBubble=!0},i.call(e,t)},e.attachEvent("on"+t,a),a)}function g(e,t,i){for(e*=ne,t*=ne,e=i.getImageData(e,t,2,2).data,t=!0,i=0;4>i;i++)if(e[i]!==e[i+4]|e[i]!==e[i+8]|e[i]!==e[i+12]){t=!1;break}return t?e[0]<<16|e[1]<<8|e[2]:0}function v(e,t,i){return e in t?t[e]:i[e]}function b(e,t,i){if(O&&te){var a=e.getContext("2d");ae=a.webkitBackingStorePixelRatio||a.mozBackingStorePixelRatio||a.msBackingStorePixelRatio||a.oBackingStorePixelRatio||a.backingStorePixelRatio||1,ne=ie/ae,e.width=t*ne,e.height=i*ne,ie!==ae&&(e.style.width=t+"px",e.style.height=i+"px",a.scale(ne,ne))}else e.width=t,e.height=i}function y(e){if(!se){var t=!1,i=!1;void 0===N.Chart.creditHref?(e.creditHref=oe("iuuqr;..b`ow`rkr/bnl."),e.creditText=oe("B`ow`rKR/bnl")):(t=e.updateOption("creditText"),i=e.updateOption("creditHref")),e.creditHref&&e.creditText&&(e._creditLink||(e._creditLink=document.createElement("a"),e._creditLink.setAttribute("class","canvasjs-chart-credit"),e._creditLink.setAttribute("style","outline:none;margin:0px;position:absolute;right:2px;top:"+(e.height-14)+"px;color:dimgrey;text-decoration:none;font-size:11px;font-family: Calibri, Lucida Grande, Lucida Sans Unicode, Arial, sans-serif"),e._creditLink.setAttribute("tabIndex",-1),e._creditLink.setAttribute("target","_blank")),(0===e.renderCount||t||i)&&(e._creditLink.setAttribute("href",e.creditHref),e._creditLink.innerHTML=e.creditText),e._creditLink&&e.creditHref&&e.creditText?(e._creditLink.parentElement||e._canvasJSContainer.appendChild(e._creditLink),e._creditLink.style.top=e.height-14+"px"):e._creditLink.parentElement&&e._canvasJSContainer.removeChild(e._creditLink))}}function x(e,t){var i=document.createElement("canvas");return i.setAttribute("class","canvasjs-chart-canvas"),b(i,e,t),O||"undefined"==typeof G_vmlCanvasManager||G_vmlCanvasManager.initElement(i),i}function C(e,t,i){for(var a in i)t.style[a]=i[a]}function w(e,t,i){t.getAttribute("state")||(t.style.backgroundColor=e.toolbar.backgroundColor,t.style.color=e.toolbar.fontColor,t.style.border="none",C(e,t,{WebkitUserSelect:"none",MozUserSelect:"none",msUserSelect:"none",userSelect:"none"})),t.getAttribute("state")!==i&&(t.setAttribute("state",i),t.setAttribute("type","button"),C(e,t,{padding:"5px 12px",cursor:"pointer",float:"left",width:"40px",height:"25px",outline:"0px",verticalAlign:"baseline",lineHeight:"0"}),t.setAttribute("title",e._cultureInfo[i+"Text"]),t.innerHTML="<img style='height:95%;' src='"+re[i].image+"' alt='"+e._cultureInfo[i+"Text"]+"' />")}function k(){for(var e=null,t=0;t<arguments.length;t++)e=arguments[t],e.style&&(e.style.display="inline")}function S(){for(var e=null,t=0;t<arguments.length;t++)(e=arguments[t])&&e.style&&(e.style.display="none")}function D(e,t,i,a,n){this._defaultsKey=e,this._themeOptionsKey=t,this._index=a,this.parent=n,this._eventListeners=[],e={},this.theme&&h(t)&&h(a)?e=h(X[this.theme])?X.light1:X[this.theme]:this.parent&&this.parent.themeOptions&&this.parent.themeOptions[t]&&(null===a?e=this.parent.themeOptions[t]:0<this.parent.themeOptions[t].length&&(a=Math.min(this.parent.themeOptions[t].length-1,a),e=this.parent.themeOptions[t][a])),this.themeOptions=e,this.options=i||{_isPlaceholder:!0},this.setOptions(this.options,e)}function T(e,t,i,a,n){void 0===n&&(n=0),this._padding=n,this._x1=e,this._y1=t,this._x2=i,this._y2=a,this._rightOccupied=this._leftOccupied=this._bottomOccupied=this._topOccupied=this._padding}function M(e,t){M.base.constructor.call(this,"TextBlock",null,t,null,null),this.ctx=e,this._isDirty=!0,this._wrappedText=null,this._initialize()}function P(e,t){P.base.constructor.call(this,"Toolbar","toolbar",t,null,e),this.chart=e,this.canvas=e.canvas,this.ctx=this.chart.ctx,this.optionsName="toolbar"}function $(e,t){if($.base.constructor.call(this,"Title","title",t,null,e),this.chart=e,this.canvas=e.canvas,this.ctx=this.chart.ctx,this.optionsName="title",h(this.options.margin)&&e.options.subtitles)for(var i=e.options.subtitles,a=0;a<i.length;a++)if((h(i[a].horizontalAlign)&&"center"===this.horizontalAlign||i[a].horizontalAlign===this.horizontalAlign)&&(h(i[a].verticalAlign)&&"top"===this.verticalAlign||i[a].verticalAlign===this.verticalAlign)&&!i[a].dockInsidePlotArea==!this.dockInsidePlotArea){this.margin=0;break}void 0===this.options.fontSize&&(this.fontSize=this.chart.getAutoFontSize(this.fontSize)),this.height=this.width=null,this.bounds={x1:null,y1:null,x2:null,y2:null}}function _(e,t,i){_.base.constructor.call(this,"Subtitle","subtitles",t,i,e),this.chart=e,this.canvas=e.canvas,this.ctx=this.chart.ctx,this.optionsName="subtitles",this.isOptionsInArray=!0,void 0===this.options.fontSize&&(this.fontSize=this.chart.getAutoFontSize(this.fontSize)),this.height=this.width=null,this.bounds={x1:null,y1:null,x2:null,y2:null}}function A(e){var t;e&&V[e]&&(t=V[e]),A.base.constructor.call(this,"CultureInfo",null,t,null,null)}var I,F,E,L,B,R={},O=!!document.createElement("canvas").getContext,N={Chart:{width:500,height:400,zoomEnabled:!1,zoomType:"x",backgroundColor:"white",theme:"light1",animationEnabled:!1,animationDuration:1200,dataPointWidth:null,dataPointMinWidth:null,dataPointMaxWidth:null,colorSet:"colorSet1",culture:"en",creditHref:"",creditText:"CanvasJS",interactivityEnabled:!0,exportEnabled:!1,exportFileName:"Chart",rangeChanging:null,rangeChanged:null,publicProperties:{title:"readWrite",subtitles:"readWrite",toolbar:"readWrite",toolTip:"readWrite",legend:"readWrite",axisX:"readWrite",axisY:"readWrite",axisX2:"readWrite",axisY2:"readWrite",data:"readWrite",options:"readWrite",bounds:"readOnly",container:"readOnly"}},Title:{padding:0,text:null,verticalAlign:"top",horizontalAlign:"center",fontSize:20,fontFamily:"Calibri",fontWeight:"normal",fontColor:"black",fontStyle:"normal",borderThickness:0,borderColor:"black",cornerRadius:0,backgroundColor:O?"transparent":null,margin:5,wrap:!0,maxWidth:null,dockInsidePlotArea:!1,publicProperties:{options:"readWrite",bounds:"readOnly",chart:"readOnly"}},Subtitle:{padding:0,text:null,verticalAlign:"top",horizontalAlign:"center",fontSize:14,fontFamily:"Calibri",fontWeight:"normal",fontColor:"black",fontStyle:"normal",borderThickness:0,borderColor:"black",cornerRadius:0,backgroundColor:null,margin:2,wrap:!0,maxWidth:null,dockInsidePlotArea:!1,publicProperties:{options:"readWrite",bounds:"readOnly",chart:"readOnly"}},Toolbar:{backgroundColor:"white",backgroundColorOnHover:"#2196f3",borderColor:"#2196f3",borderThickness:1,fontColor:"black",fontColorOnHover:"white",publicProperties:{options:"readWrite",chart:"readOnly"}},Legend:{name:null,verticalAlign:"center",horizontalAlign:"right",fontSize:14,fontFamily:"calibri",fontWeight:"normal",fontColor:"black",fontStyle:"normal",cursor:null,itemmouseover:null,itemmouseout:null,itemmousemove:null,itemclick:null,dockInsidePlotArea:!1,reversed:!1,backgroundColor:O?"transparent":null,borderColor:O?"transparent":null,borderThickness:0,cornerRadius:0,maxWidth:null,maxHeight:null,markerMargin:null,itemMaxWidth:null,itemWidth:null,itemWrap:!0,itemTextFormatter:null,publicProperties:{options:"readWrite",bounds:"readOnly",chart:"readOnly"}},ToolTip:{enabled:!0,shared:!1,animationEnabled:!0,content:null,contentFormatter:null,reversed:!1,backgroundColor:O?"rgba(255,255,255,.9)":"rgb(255,255,255)",borderColor:null,borderThickness:2,cornerRadius:5,fontSize:14,fontColor:"black",fontFamily:"Calibri, Arial, Georgia, serif;",fontWeight:"normal",fontStyle:"italic",publicProperties:{options:"readWrite",chart:"readOnly"}},Axis:{minimum:null,maximum:null,viewportMinimum:null,viewportMaximum:null,interval:null,intervalType:null,reversed:!1,logarithmic:!1,logarithmBase:10,title:null,titleFontColor:"black",titleFontSize:20,titleFontFamily:"arial",titleFontWeight:"normal",titleFontStyle:"normal",titleWrap:!0,titleMaxWidth:null,titleBackgroundColor:O?"transparent":null,titleBorderColor:O?"transparent":null,titleBorderThickness:0,titleCornerRadius:0,labelAngle:0,labelFontFamily:"arial",labelFontColor:"black",labelFontSize:12,labelFontWeight:"normal",labelFontStyle:"normal",labelAutoFit:!0,labelWrap:!0,labelMaxWidth:null,labelFormatter:null,labelBackgroundColor:O?"transparent":null,labelBorderColor:O?"transparent":null,labelBorderThickness:0,labelCornerRadius:0,labelPlacement:"outside",prefix:"",suffix:"",includeZero:!0,tickLength:5,tickColor:"black",tickThickness:1,lineColor:"black",lineThickness:1,lineDashType:"solid",gridColor:"A0A0A0",gridThickness:0,gridDashType:"solid",interlacedColor:O?"transparent":null,valueFormatString:null,margin:2,publicProperties:{options:"readWrite",stripLines:"readWrite",scaleBreaks:"readWrite",crosshair:"readWrite",bounds:"readOnly",chart:"readOnly"}},StripLine:{value:null,startValue:null,endValue:null,color:"orange",opacity:null,thickness:2,lineDashType:"solid",label:"",labelPlacement:"inside",labelAlign:"far",labelWrap:!0,labelMaxWidth:null,labelBackgroundColor:null,labelBorderColor:O?"transparent":null,labelBorderThickness:0,labelCornerRadius:0,labelFontFamily:"arial",labelFontColor:"orange",labelFontSize:12,labelFontWeight:"normal",labelFontStyle:"normal",labelFormatter:null,showOnTop:!1,publicProperties:{options:"readWrite",axis:"readOnly",bounds:"readOnly",chart:"readOnly"}},ScaleBreaks:{autoCalculate:!1,collapsibleThreshold:"25%",maxNumberOfAutoBreaks:2,spacing:8,type:"straight",color:"#FFFFFF",fillOpacity:.9,lineThickness:2,lineColor:"#E16E6E",lineDashType:"solid",publicProperties:{options:"readWrite",customBreaks:"readWrite",axis:"readOnly",autoBreaks:"readOnly",bounds:"readOnly",chart:"readOnly"}},Break:{startValue:null,endValue:null,spacing:8,type:"straight",color:"#FFFFFF",fillOpacity:.9,lineThickness:2,lineColor:"#E16E6E",lineDashType:"solid",publicProperties:{options:"readWrite",scaleBreaks:"readOnly",bounds:"readOnly",chart:"readOnly"}},Crosshair:{enabled:!1,snapToDataPoint:!1,color:"grey",opacity:null,thickness:2,lineDashType:"solid",label:"",labelWrap:!0,labelMaxWidth:null,labelBackgroundColor:O?"grey":null,labelBorderColor:O?"grey":null,labelBorderThickness:0,labelCornerRadius:0,labelFontFamily:O?"Calibri, Optima, Candara, Verdana, Geneva, sans-serif":"calibri",labelFontSize:12,labelFontColor:"#fff",labelFontWeight:"normal",labelFontStyle:"normal",labelFormatter:null,valueFormatString:null,publicProperties:{options:"readWrite",axis:"readOnly",bounds:"readOnly",chart:"readOnly"}},DataSeries:{name:null,dataPoints:null,label:"",bevelEnabled:!1,highlightEnabled:!0,cursor:"default",indexLabel:"",indexLabelPlacement:"auto",indexLabelOrientation:"horizontal",indexLabelFontColor:"black",indexLabelFontSize:12,indexLabelFontStyle:"normal",indexLabelFontFamily:"Arial",indexLabelFontWeight:"normal",indexLabelBackgroundColor:null,indexLabelLineColor:"gray",indexLabelLineThickness:1,indexLabelLineDashType:"solid",indexLabelMaxWidth:null,indexLabelWrap:!0,indexLabelFormatter:null,lineThickness:2,lineDashType:"solid",connectNullData:!1,nullDataLineDashType:"dash",color:null,lineColor:null,risingColor:"white",fallingColor:"red",fillOpacity:null,startAngle:0,radius:null,innerRadius:null,neckHeight:null,neckWidth:null,reversed:!1,valueRepresents:null,linkedDataSeriesIndex:null,whiskerThickness:2,whiskerDashType:"solid",whiskerColor:null,whiskerLength:null,stemThickness:2,stemColor:null,stemDashType:"solid",upperBoxColor:"white",lowerBoxColor:"white",type:"column",xValueType:"number",axisXType:"primary",axisYType:"primary",axisXIndex:0,axisYIndex:0,xValueFormatString:null,yValueFormatString:null,zValueFormatString:null,percentFormatString:null,showInLegend:null,legendMarkerType:null,legendMarkerColor:null,legendText:null,legendMarkerBorderColor:O?"transparent":null,legendMarkerBorderThickness:0,markerType:"circle",markerColor:null,markerSize:null,markerBorderColor:O?"transparent":null,markerBorderThickness:0,mouseover:null,mouseout:null,mousemove:null,click:null,toolTipContent:null,visible:!0,publicProperties:{options:"readWrite",axisX:"readWrite",axisY:"readWrite",chart:"readOnly"}},TextBlock:{x:0,y:0,width:null,height:null,maxWidth:null,maxHeight:null,padding:0,angle:0,text:"",horizontalAlign:"center",fontSize:12,fontFamily:"calibri",fontWeight:"normal",fontColor:"black",fontStyle:"normal",borderThickness:0,borderColor:"black",cornerRadius:0,backgroundColor:null,textBaseline:"top"},CultureInfo:{decimalSeparator:".",digitGroupSeparator:",",zoomText:"Zoom",panText:"Pan",resetText:"Reset",menuText:"More Options",saveJPGText:"Save as JPEG",savePNGText:"Save as PNG",printText:"Print",days:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),shortDays:"Sun Mon Tue Wed Thu Fri Sat".split(" "),months:"January February March April May June July August September October November December".split(" "),shortMonths:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" ")}},V={en:{}},W=O?"Trebuchet MS, Helvetica, sans-serif":"Arial",z=O?"Impact, Charcoal, sans-serif":"Arial",Y={colorSet1:"#4F81BC #C0504E #9BBB58 #23BFAA #8064A1 #4AACC5 #F79647 #7F6084 #77A033 #33558B #E59566".split(" "),colorSet2:"#6D78AD #51CDA0 #DF7970 #4C9CA0 #AE7D99 #C9D45C #5592AD #DF874D #52BCA8 #8E7AA3 #E3CB64 #C77B85 #C39762 #8DD17E #B57952 #FCC26C".split(" "),colorSet3:"#8CA1BC #36845C #017E82 #8CB9D0 #708C98 #94838D #F08891 #0366A7 #008276 #EE7757 #E5BA3A #F2990B #03557B #782970".split(" ")};F="#333333",E="#000000",I="#666666",B=L="#000000";var H=20,U=14,j={colorSet:"colorSet1",backgroundColor:"#FFFFFF",title:{fontFamily:z,fontSize:32,fontColor:F,fontWeight:"normal",verticalAlign:"top",margin:5},subtitles:[{fontFamily:z,fontSize:U,fontColor:F,fontWeight:"normal",verticalAlign:"top",margin:5}],data:[{indexLabelFontFamily:W,indexLabelFontSize:U,indexLabelFontColor:F,indexLabelFontWeight:"normal",indexLabelLineThickness:1}],axisX:[{titleFontFamily:W,titleFontSize:H,titleFontColor:F,titleFontWeight:"normal",labelFontFamily:W,labelFontSize:U,labelFontColor:E,labelFontWeight:"normal",lineThickness:1,lineColor:I,tickThickness:1,tickColor:I,gridThickness:0,gridColor:I,stripLines:[{labelFontFamily:W,labelFontSize:U,labelFontColor:"#FF7300",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FF7300",thickness:1}],crosshair:{labelFontFamily:W,labelFontSize:U,labelFontColor:"#EEEEEE",labelFontWeight:"normal",labelBackgroundColor:B,color:L,thickness:1,lineDashType:"dash"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#BBBBBB",lineThickness:1,lineDashType:"solid"}}],axisX2:[{titleFontFamily:W,titleFontSize:H,titleFontColor:F,titleFontWeight:"normal",labelFontFamily:W,labelFontSize:U,labelFontColor:E,labelFontWeight:"normal",lineThickness:1,lineColor:I,tickThickness:1,tickColor:I,gridThickness:0,gridColor:I,stripLines:[{labelFontFamily:W,labelFontSize:U,labelFontColor:"#FF7300",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FF7300",thickness:1}],crosshair:{labelFontFamily:W,labelFontSize:U,labelFontColor:"#EEEEEE",labelFontWeight:"normal",labelBackgroundColor:B,color:L,thickness:1,lineDashType:"dash"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#BBBBBB",lineThickness:1,lineDashType:"solid"}}],axisY:[{titleFontFamily:W,titleFontSize:H,titleFontColor:F,titleFontWeight:"normal",labelFontFamily:W,labelFontSize:U,labelFontColor:E,labelFontWeight:"normal",lineThickness:1,lineColor:I,tickThickness:1,tickColor:I,gridThickness:1,gridColor:I,stripLines:[{labelFontFamily:W,labelFontSize:U,labelFontColor:"#FF7300",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FF7300",thickness:1}],crosshair:{labelFontFamily:W,labelFontSize:U,labelFontColor:"#EEEEEE",labelFontWeight:"normal",labelBackgroundColor:B,color:L,thickness:1,lineDashType:"dash"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#BBBBBB",lineThickness:1,lineDashType:"solid"}}],axisY2:[{titleFontFamily:W,titleFontSize:H,titleFontColor:F,titleFontWeight:"normal",labelFontFamily:W,labelFontSize:U,labelFontColor:E,labelFontWeight:"normal",lineThickness:1,lineColor:I,tickThickness:1,tickColor:I,gridThickness:1,gridColor:I,stripLines:[{labelFontFamily:W,labelFontSize:U,labelFontColor:"#FF7300",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FF7300",thickness:1}],crosshair:{labelFontFamily:W,labelFontSize:U,labelFontColor:"#EEEEEE",labelFontWeight:"normal",labelBackgroundColor:B,color:L,thickness:1,lineDashType:"dash"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#BBBBBB",lineThickness:1,lineDashType:"solid"}}],legend:{fontFamily:W,fontSize:14,fontColor:F,fontWeight:"bold",verticalAlign:"bottom",horizontalAlign:"center"},toolTip:{fontFamily:W,fontSize:14,fontStyle:"normal",cornerRadius:0,borderThickness:1}};E=F="#F5F5F5",I="#FFFFFF",L="#40BAF1",B="#F5F5F5";var H=20,U=14,G={colorSet:"colorSet2",title:{fontFamily:W,fontSize:33,fontColor:"#3A3A3A",fontWeight:"bold",verticalAlign:"top",margin:5},subtitles:[{fontFamily:W,fontSize:U,fontColor:"#3A3A3A",fontWeight:"normal",verticalAlign:"top",margin:5}],data:[{indexLabelFontFamily:W,indexLabelFontSize:U,indexLabelFontColor:"#666666",indexLabelFontWeight:"normal",indexLabelLineThickness:1}],axisX:[{titleFontFamily:W,titleFontSize:H,titleFontColor:"#666666",titleFontWeight:"normal",labelFontFamily:W,labelFontSize:U,labelFontColor:"#666666",labelFontWeight:"normal",lineThickness:1,lineColor:"#BBBBBB",tickThickness:1,tickColor:"#BBBBBB",gridThickness:1,gridColor:"#BBBBBB",stripLines:[{labelFontFamily:W,labelFontSize:U,labelFontColor:"#FFA500",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FFA500",thickness:1}],crosshair:{labelFontFamily:W,labelFontSize:U,labelFontColor:"#EEEEEE",labelFontWeight:"normal",labelBackgroundColor:"black",color:"black",thickness:1,lineDashType:"dot"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#BBBBBB",lineThickness:1,lineDashType:"solid"}}],axisX2:[{titleFontFamily:W,titleFontSize:H,titleFontColor:"#666666",titleFontWeight:"normal",labelFontFamily:W,labelFontSize:U,labelFontColor:"#666666",labelFontWeight:"normal",lineThickness:1,lineColor:"#BBBBBB",tickColor:"#BBBBBB",tickThickness:1,gridThickness:1,gridColor:"#BBBBBB",stripLines:[{labelFontFamily:W,labelFontSize:U,labelFontColor:"#FFA500",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FFA500",thickness:1}],crosshair:{labelFontFamily:W,labelFontSize:U,labelFontColor:"#EEEEEE",labelFontWeight:"normal",labelBackgroundColor:"black",color:"black",thickness:1,lineDashType:"dot"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#BBBBBB",lineThickness:1,lineDashType:"solid"}}],axisY:[{titleFontFamily:W,titleFontSize:H,titleFontColor:"#666666",titleFontWeight:"normal",labelFontFamily:W,labelFontSize:U,labelFontColor:"#666666",labelFontWeight:"normal",lineThickness:0,lineColor:"#BBBBBB",tickColor:"#BBBBBB",tickThickness:1,gridThickness:1,gridColor:"#BBBBBB",stripLines:[{labelFontFamily:W,labelFontSize:U,labelFontColor:"#FFA500",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FFA500",thickness:1}],crosshair:{labelFontFamily:W,labelFontSize:U,labelFontColor:"#EEEEEE",labelFontWeight:"normal",labelBackgroundColor:"black",color:"black",thickness:1,lineDashType:"dot"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#BBBBBB",lineThickness:1,lineDashType:"solid"}}],axisY2:[{titleFontFamily:W,titleFontSize:H,titleFontColor:"#666666",titleFontWeight:"normal",labelFontFamily:W,labelFontSize:U,labelFontColor:"#666666",labelFontWeight:"normal",lineThickness:0,lineColor:"#BBBBBB",tickColor:"#BBBBBB",tickThickness:1,gridThickness:1,gridColor:"#BBBBBB",stripLines:[{labelFontFamily:W,labelFontSize:U,labelFontColor:"#FFA500",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FFA500",thickness:1}],crosshair:{labelFontFamily:W,labelFontSize:U,labelFontColor:"#EEEEEE",labelFontWeight:"normal",labelBackgroundColor:"black",color:"black",thickness:1,lineDashType:"dot"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#BBBBBB",lineThickness:1,lineDashType:"solid"}}],legend:{fontFamily:W,fontSize:14,fontColor:"#3A3A3A",fontWeight:"bold",verticalAlign:"bottom",horizontalAlign:"center"},toolTip:{fontFamily:W,fontSize:14,fontStyle:"normal",cornerRadius:0,borderThickness:1}};E=F="#F5F5F5",I="#FFFFFF",L="#40BAF1",B="#F5F5F5",H=20,U=14,z={colorSet:"colorSet12",backgroundColor:"#2A2A2A",title:{fontFamily:z,fontSize:32,fontColor:F,fontWeight:"normal",verticalAlign:"top",margin:5},subtitles:[{fontFamily:z,fontSize:U,fontColor:F,fontWeight:"normal",verticalAlign:"top",margin:5}],toolbar:{backgroundColor:"#666666",backgroundColorOnHover:"#FF7372",borderColor:"#FF7372",borderThickness:1,fontColor:"#F5F5F5",fontColorOnHover:"#F5F5F5"},data:[{indexLabelFontFamily:W,indexLabelFontSize:U,indexLabelFontColor:E,indexLabelFontWeight:"normal",indexLabelLineThickness:1}],axisX:[{titleFontFamily:W,titleFontSize:H,titleFontColor:E,titleFontWeight:"normal",labelFontFamily:W,labelFontSize:U,labelFontColor:E,labelFontWeight:"normal",lineThickness:1,lineColor:I,tickThickness:1,tickColor:I,gridThickness:0,gridColor:I,stripLines:[{labelFontFamily:W,labelFontSize:U,labelFontColor:"#FF7300",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FF7300",thickness:1}],crosshair:{labelFontFamily:W,labelFontSize:U,labelFontColor:"#000000",labelFontWeight:"normal",labelBackgroundColor:B,color:L,thickness:1,lineDashType:"dash"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#777777",lineThickness:1,lineDashType:"solid",color:"#111111"}}],axisX2:[{titleFontFamily:W,titleFontSize:H,titleFontColor:E,titleFontWeight:"normal",labelFontFamily:W,labelFontSize:U,labelFontColor:E,labelFontWeight:"normal",lineThickness:1,lineColor:I,tickThickness:1,tickColor:I,gridThickness:0,gridColor:I,stripLines:[{labelFontFamily:W,labelFontSize:U,labelFontColor:"#FF7300",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FF7300",thickness:1}],crosshair:{labelFontFamily:W,labelFontSize:U,labelFontColor:"#000000",labelFontWeight:"normal",labelBackgroundColor:B,color:L,thickness:1,lineDashType:"dash"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#777777",lineThickness:1,lineDashType:"solid",color:"#111111"}}],axisY:[{titleFontFamily:W,titleFontSize:H,titleFontColor:E,titleFontWeight:"normal",labelFontFamily:W,labelFontSize:U,labelFontColor:E,labelFontWeight:"normal",lineThickness:1,lineColor:I,tickThickness:1,tickColor:I,gridThickness:1,gridColor:I,stripLines:[{labelFontFamily:W,labelFontSize:U,labelFontColor:"#FF7300",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FF7300",thickness:1}],crosshair:{labelFontFamily:W,labelFontSize:U,labelFontColor:"#000000",labelFontWeight:"normal",labelBackgroundColor:B,color:L,thickness:1,lineDashType:"dash"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#777777",lineThickness:1,lineDashType:"solid",color:"#111111"}}],axisY2:[{titleFontFamily:W,titleFontSize:H,titleFontColor:E,titleFontWeight:"normal",labelFontFamily:W,labelFontSize:U,labelFontColor:E,labelFontWeight:"normal",lineThickness:1,lineColor:I,tickThickness:1,tickColor:I,gridThickness:1,gridColor:I,stripLines:[{labelFontFamily:W,labelFontSize:U,labelFontColor:"#FF7300",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FF7300",thickness:1}],crosshair:{labelFontFamily:W,labelFontSize:U,labelFontColor:"#000000",labelFontWeight:"normal",labelBackgroundColor:B,color:L,thickness:1,lineDashType:"dash"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#777777",lineThickness:1,lineDashType:"solid",color:"#111111"}}],legend:{fontFamily:W,fontSize:14,fontColor:F,fontWeight:"bold",verticalAlign:"bottom",horizontalAlign:"center"},toolTip:{fontFamily:W,fontSize:14,fontStyle:"normal",cornerRadius:0,borderThickness:1,fontColor:E,backgroundColor:"rgba(0, 0, 0, .7)"}},I="#FFFFFF",E=F="#FAFAFA",L="#40BAF1",B="#F5F5F5";var H=20,U=14,X={light1:j,light2:G,dark1:z,dark2:{colorSet:"colorSet2",backgroundColor:"#32373A",title:{fontFamily:W,fontSize:32,fontColor:F,fontWeight:"normal",verticalAlign:"top",margin:5},subtitles:[{fontFamily:W,fontSize:U,fontColor:F,fontWeight:"normal",verticalAlign:"top",margin:5}],toolbar:{backgroundColor:"#666666",backgroundColorOnHover:"#FF7372",borderColor:"#FF7372",borderThickness:1,fontColor:"#F5F5F5",fontColorOnHover:"#F5F5F5"},data:[{indexLabelFontFamily:W,indexLabelFontSize:U,indexLabelFontColor:E,indexLabelFontWeight:"normal",indexLabelLineThickness:1}],axisX:[{titleFontFamily:W,titleFontSize:H,titleFontColor:E,titleFontWeight:"normal",labelFontFamily:W,labelFontSize:U,labelFontColor:E,labelFontWeight:"normal",lineThickness:1,lineColor:I,tickThickness:1,tickColor:I,gridThickness:0,gridColor:I,stripLines:[{labelFontFamily:W,labelFontSize:U,labelFontColor:"#FF7300",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FF7300",thickness:1}],crosshair:{labelFontFamily:W,labelFontSize:U,labelFontColor:"#000000",labelFontWeight:"normal",labelBackgroundColor:B,color:L,thickness:1,lineDashType:"dash"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#777777",lineThickness:1,lineDashType:"solid",color:"#111111"}}],axisX2:[{titleFontFamily:W,titleFontSize:H,titleFontColor:E,titleFontWeight:"normal",labelFontFamily:W,labelFontSize:U,labelFontColor:E,labelFontWeight:"normal",lineThickness:1,lineColor:I,tickThickness:1,tickColor:I,gridThickness:0,gridColor:I,stripLines:[{labelFontFamily:W,labelFontSize:U,labelFontColor:"#FF7300",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FF7300",thickness:1}],crosshair:{labelFontFamily:W,labelFontSize:U,labelFontColor:"#000000",labelFontWeight:"normal",labelBackgroundColor:B,color:L,thickness:1,lineDashType:"dash"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#777777",lineThickness:1,lineDashType:"solid",color:"#111111"}}],axisY:[{titleFontFamily:W,titleFontSize:H,titleFontColor:E,titleFontWeight:"normal",labelFontFamily:W,labelFontSize:U,labelFontColor:E,labelFontWeight:"normal",lineThickness:0,lineColor:I,tickThickness:1,tickColor:I,gridThickness:1,gridColor:I,stripLines:[{labelFontFamily:W,labelFontSize:U,labelFontColor:"#FF7300",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FF7300",thickness:1}],crosshair:{labelFontFamily:W,labelFontSize:U,labelFontColor:"#000000",labelFontWeight:"normal",labelBackgroundColor:B,color:L,thickness:1,lineDashType:"dash"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#777777",lineThickness:1,lineDashType:"solid",color:"#111111"}}],axisY2:[{titleFontFamily:W,titleFontSize:H,titleFontColor:E,titleFontWeight:"normal",labelFontFamily:W,labelFontSize:U,labelFontColor:E,labelFontWeight:"normal",lineThickness:0,lineColor:I,tickThickness:1,tickColor:I,gridThickness:1,gridColor:I,stripLines:[{labelFontFamily:W,labelFontSize:U,labelFontColor:"#FF7300",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FF7300",thickness:1}],crosshair:{labelFontFamily:W,labelFontSize:U,labelFontColor:"#000000",labelFontWeight:"normal",labelBackgroundColor:B,color:L,thickness:1,lineDashType:"dash"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#777777",lineThickness:1,lineDashType:"solid",color:"#111111"}}],legend:{fontFamily:W,fontSize:14,fontColor:F,fontWeight:"bold",verticalAlign:"bottom",horizontalAlign:"center"},toolTip:{fontFamily:W,fontSize:14,
fontStyle:"normal",cornerRadius:0,borderThickness:1,fontColor:E,backgroundColor:"rgba(0, 0, 0, .7)"}},theme1:j,theme2:G,theme3:j},q={numberDuration:1,yearDuration:314496e5,monthDuration:2592e6,weekDuration:6048e5,dayDuration:864e5,hourDuration:36e5,minuteDuration:6e4,secondDuration:1e3,millisecondDuration:1,dayOfWeekFromInt:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" ")};!function(){R.fSDec=function(e){for(var t="",i=0;i<e.length;i++)t+=String.fromCharCode(Math.ceil(e.length/57/5)^e.charCodeAt(i));return t},R.obj={trVs:"Ush`m!Wdsrhno",fntStr:"qy!B`mhcsh-!Mtbhe`!Fs`oed-!Mtbhe`!R`or!Tohbned-!@sh`m-!r`or,rdshg",txtBl:"udyuC`rdmhod",fnt:"gnou",fSy:"ghmmRuxmd",fTx:"ghmmUdyu",grClr:"fsdx",cntx:"buy",tp:"unq"},delete N[R.fSDec("Bi`su")][R.fSDec("bsdehuIsdg")],R.pro={sCH:N[R.fSDec("Bi`su")][R.fSDec("bsdehuIsdg")]},R._fTWm=function(e){if(void 0===R.pro.sCH&&!se)try{var t=e[R.fSDec(R.obj.cntx)];t[R.fSDec(R.obj.txtBl)]=R.fSDec(R.obj.tp),t[R.fSDec(R.obj.fnt)]=11+R.fSDec(R.obj.fntStr),t[R.fSDec(R.obj.fSy)]=R.fSDec(R.obj.grClr),t[R.fSDec(R.obj.fTx)](R.fSDec(R.obj.trVs),2,e.height-11-2)}catch(e){}}}();var Q={},K=null,J=function(){var e=/D{1,4}|M{1,4}|Y{1,4}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|f{1,3}|t{1,2}|T{1,2}|K|z{1,3}|"[^"]*"|'[^']*'/g,t="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),i="Sun Mon Tue Wed Thu Fri Sat".split(" "),a="January February March April May June July August September October November December".split(" "),o="Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),s=/\b(?:[PMCEA][SDP]T|(?:Pacific|Mountain|Central|Eastern|Atlantic) (?:Standard|Daylight|Prevailing) Time|(?:GMT|UTC)(?:[-+]\d{4})?)\b/g,r=/[^-+\dA-Z]/g;return function(l,c,h){var u=h?h.days:t,d=h?h.months:a,p=h?h.shortDays:i,f=h?h.shortMonths:o;h="";var m=!1;if(l=l&&l.getTime?l:l?new Date(l):new Date,isNaN(l))throw SyntaxError("invalid date");"UTC:"===c.slice(0,4)&&(c=c.slice(4),m=!0),h=m?"getUTC":"get";var g=l[h+"Date"](),v=l[h+"Day"](),b=l[h+"Month"](),y=l[h+"FullYear"](),x=l[h+"Hours"](),C=l[h+"Minutes"](),w=l[h+"Seconds"](),k=l[h+"Milliseconds"](),S=m?0:l.getTimezoneOffset();return h=c.replace(e,function(e){switch(e){case"D":return g;case"DD":return n(g,2);case"DDD":return p[v];case"DDDD":return u[v];case"M":return b+1;case"MM":return n(b+1,2);case"MMM":return f[b];case"MMMM":return d[b];case"Y":return parseInt(String(y).slice(-2));case"YY":return n(String(y).slice(-2),2);case"YYY":return n(String(y).slice(-3),3);case"YYYY":return n(y,4);case"h":return x%12||12;case"hh":return n(x%12||12,2);case"H":return x;case"HH":return n(x,2);case"m":return C;case"mm":return n(C,2);case"s":return w;case"ss":return n(w,2);case"f":return String(k).slice(0,1);case"ff":return n(String(k).slice(0,2),2);case"fff":return n(String(k).slice(0,3),3);case"t":return 12>x?"a":"p";case"tt":return 12>x?"am":"pm";case"T":return 12>x?"A":"P";case"TT":return 12>x?"AM":"PM";case"K":return m?"UTC":(String(l).match(s)||[""]).pop().replace(r,"");case"z":return(0<S?"-":"+")+Math.floor(Math.abs(S)/60);case"zz":return(0<S?"-":"+")+n(Math.floor(Math.abs(S)/60),2);case"zzz":return(0<S?"-":"+")+n(Math.floor(Math.abs(S)/60),2)+n(Math.abs(S)%60,2);default:return e.slice(1,e.length-1)}})}}(),Z=function(e,t,i){if(null===e)return"";if(!isFinite(e))return e;e=Number(e);var a=0>e;a&&(e*=-1);var o=i?i.decimalSeparator:".",s=i?i.digitGroupSeparator:",",r="";t=String(t);var r=1,l=i="",c=-1,h=[],u=[],d=0,p=0,f=0,m=!1,g=0,l=t.match(/"[^"]*"|'[^']*'|[eE][+-]*[0]+|[,]+[.]|\u2030|./g);t=null;for(var v=0;l&&v<l.length;v++)if("."===(t=l[v])&&0>c)c=v;else{if("%"===t)r*=100;else{if(""===t){r*=1e3;continue}if(","===t[0]&&"."===t[t.length-1]){r/=Math.pow(1e3,t.length-1),c=v+t.length-1;continue}"E"!==t[0]&&"e"!==t[0]||"0"!==t[t.length-1]||(m=!0)}0>c?(h.push(t),"#"===t||"0"===t?d++:","===t&&f++):(u.push(t),"#"!==t&&"0"!==t||p++)}for(m&&(t=Math.floor(e),l=-Math.floor(Math.log(e)/Math.LN10+1),g=0===e?0:0===t?-(d+l):String(t).length-d,r/=Math.pow(10,g)),0>c&&(c=v),r=(e*r).toFixed(p),t=r.split("."),r=(t[0]+"").split(""),e=(t[1]+"").split(""),r&&"0"===r[0]&&r.shift(),m=l=v=p=c=0;0<h.length;)if("#"===(t=h.pop())||"0"===t)if(++c===d){var b=r,r=[];if("0"===t)for(t=d-p-(b?b.length:0);0<t;)b.unshift("0"),t--;for(;0<b.length;)i=b.pop()+i,0==++m%l&&v===f&&0<b.length&&(i=s+i)}else 0<r.length?(i=r.pop()+i,p++,m++):"0"===t&&(i="0"+i,p++,m++),0==m%l&&v===f&&0<r.length&&(i=s+i);else"E"!==t[0]&&"e"!==t[0]||"0"!==t[t.length-1]||!/[eE][+-]*[0]+/.test(t)?","===t?(v++,l=m,m=0,0<r.length&&(i=s+i)):i=1<t.length&&('"'===t[0]&&'"'===t[t.length-1]||"'"===t[0]&&"'"===t[t.length-1])?t.slice(1,t.length-1)+i:t+i:(t=0>g?t.replace("+","").replace("-",""):t.replace("-",""),i+=t.replace(/[0]+/,function(e){return n(g,e.length)}));for(s="",h=!1;0<u.length;)t=u.shift(),"#"===t||"0"===t?0<e.length&&0!==Number(e.join(""))?(s+=e.shift(),h=!0):"0"===t&&(s+="0",h=!0):1<t.length&&('"'===t[0]&&'"'===t[t.length-1]||"'"===t[0]&&"'"===t[t.length-1])?s+=t.slice(1,t.length-1):"E"!==t[0]&&"e"!==t[0]||"0"!==t[t.length-1]||!/[eE][+-]*[0]+/.test(t)?s+=t:(t=0>g?t.replace("+","").replace("-",""):t.replace("-",""),s+=t.replace(/[0]+/,function(e){return n(g,e.length)}));return i+=(h?o:"")+s,a?"-"+i:i},ee=function(e){var t=0,i=0;return e=e||window.event,e.offsetX||0===e.offsetX?(t=e.offsetX,i=e.offsetY):e.layerX||0==e.layerX?(t=e.layerX,i=e.layerY):(t=e.pageX-e.target.offsetLeft,i=e.pageY-e.target.offsetTop),{x:t,y:i}},te=!0,ie=window.devicePixelRatio||1,ae=1,ne=te?ie/ae:1,oe=function(e){for(var t="",i=0;i<e.length;i++)t+=String.fromCharCode(Math.ceil(e.length/57/5)^e.charCodeAt(i));return t},se=window&&window[oe("mnb`uhno")]&&window[oe("mnb`uhno")].href&&window[oe("mnb`uhno")].href.indexOf&&(-1!==window[oe("mnb`uhno")].href.indexOf(oe("b`ow`rkr/bnl"))||-1!==window[oe("mnb`uhno")].href.indexOf(oe("gdonqhy/bnl"))||-1!==window[oe("mnb`uhno")].href.indexOf(oe("gheemd"))),re={reset:{image:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACIAAAAeCAYAAABJ/8wUAAAAIGNIUk0AAHolAACAgwAA+f8AAIDpAAB1MAAA6mAAADqYAAAXb5JfxUYAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAPjSURBVFhHxVdJaFNRFP1J/jwkP5MxsbaC1WJEglSxOFAXIsFpVRE3ggi1K90obioRRBA33XXnQnciirhQcMCdorgQxBkXWlREkFKsWkv5npvckp/XnzRpKh64kLw733fffe9L/wrL0+mVUdO8uTSZ3MBL/we2qg4rkuSpodCELstXE46ziVkLQ6FQcGOmeSSq6wd4aV50d3drWjj8kQKZJTUc9kxFGenv79dZrDksTSTWWJp2QYtEPiErysyzdX0LsxsCQR8keX8gs6RHIk8ysdgKFg2G53mhuOPsshTlBjKaFo1g7SqLNoShKLdFXT8huQ/paLSbxatYnc2mHMM4hr18Vi8TIvCmXF3vYrW6cF23gGTOk0M1wA4RKvOmq6vLZRVJipvmSWT6tZ6CSEYkco5V50VPT4+D7RwOqi6RiSZm0fJ+vggSqkeoypdsNmuyelNwbXsbgvkWYMtzDWNvWaijoyOBqE+hVK8abcssUeXQ/YfKyi0gFYv1Ipgfoj34fYGTJLOYJA0ODirok32GLN8XhUWCwSes1hIwBg6LydJ/tEeRRapAdUp+wSAiZchtZZWWgAZ+JNpD8peYXQVK9UwUxNpzOK8pq97kURZhYTCKBwPD7h2zK+js7Myi7D8Fod+0TkMI8+EMAngLGc/WtBFWawkFHFnoj/t9KLgGmF0B3QfkxC+EarxkdhnFYlFLY06USqUwL7UMjICHfh/wOc2sCqhpxGbCkLvL7EUDbF73+6DkmVWB6zi7xUDQSLeYvWjAILvm9zEnkJhlbRcDQZcv6Kg2AipyT/Axw6wKlqVSqxDdjF8Izfod13qURdrG/nxehY+xGh+h0CSzKygGvSNQIcc097BI24jb9hax6kj2E7OrMFX1il+ICEf2NrPbhiXLl+fYl+U7zK4iYdsDcyLGf+ofFlkwcN+s10KhmpuYhhtm0hCLVIFL0MDsqNlDIqy9x2CLs1jL6OvrI7vPRbtohXG6eFmsFnHDGAp6n9AgyuVySRZrGvROxRgIfLXhzjrNYnNBUxNX/dMgRWT1mt4XLDovaApD53E9W3ilNX5M55LJHpRtIsgAvciR4WWcgK2Dvb1YqgXevmF8z2zEBTcKG39EfSKsT9EbhVUaI2FZO+oZIqImxol6j66/hcAu4sSN4vc1ZPoKeoE6RGhYL2YYA+ymOSSi0Z0wWntbtkGUWCvfSDXIxONraZ/FY90KUfNTpfC5spnNLgxoYNnR9RO4F8ofXEHOgogCQE99w+fF2Xw+b7O59rEOsyRqGEfpVoaDMQQ1CZrG46bcM6AZ0C/wPqNfHliqejyTySxh9TqQpL+xmbIlkB9SlAAAAABJRU5ErkJggg=="},pan:{image:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAAIGNIUk0AAHolAACAgwAA+f8AAIDpAAB1MAAA6mAAADqYAAAXb5JfxUYAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAICSURBVEhLxZbPahNRGMUn/5MpuAiBEAIufQGfzr5E40YptBXajYzudCEuGqS+gGlrFwquDGRTutBdYfydzJ3LzeQmJGZue+Dw/Z17Mnfmu5Pof9Hr9Z61Wq0bWZMKj263O6xWq99wU9lOpzPMKgEhEcRucNOcioOK+0RzBhNvt9tPV4nmVF19+OWhVqt9xXgFXZq+8lCv119UKpUJ7iX2FmvFTKz8RH34YdBsNk8wVtjE4fGYwm8wrrDi3WBG5oKXZGRSS9hGuNFojLTe2lFz5xThWZIktayyiE2FdT3rzXBXz7krKiL8c17wAKFDjCus2AvW+YGZ9y2JF0VFRuMPfI//rsCE/C+s26s4gQu9ul7r4NteKx7H8XOC724xNNGbaNu++IrBqbOV7Tj3FgMRvc/YKOr3+3sE47wgEt/Bl/gaK5cHbNU11vYSXylfpK7XOvjuumPp4Wcoipu30Qsez2uMXYz4lfI+mOmwothY+SLiXJy7mKVpWs3Si0CoOMfeI9Od43Wic+jO+ZVv+crsm9QSNhUW9LXSeoPBYLXopthGuFQgdIxxhY+UDwlt1x5CZ1hX+NTUdt/OIvjKaDSmuOJfaIVNPKX+W18j/PLA2/kR44p5Sd8HbHngT/yTfNRWUXX14ZcL3wmX0+TLf8YO7CGT8yFE5zB3/gney25/OETRP9CtPDFe5jShAAAAAElFTkSuQmCC"},zoom:{image:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAAIGNIUk0AAHolAACAgwAA+f8AAIDpAAB1MAAA6mAAADqYAAAXb5JfxUYAAAAJcEhZcwAADsMAAA7DAcdvqGQAAALWSURBVEhLvZZLaBNRFIabyftBIgEfqCCBoCC6MYqiXYiIj4U76U4X7sUHbhQhUBfixhZEUBDB16YuFERaUaQLK7ooCOJj4UKtYEFU0EptShO/A9Ph3js3k8lo/eHnP7n3nP/M3LlzMz1hkUwmNziOcyKRSFyFt+LxeD/c2Wq1Ym7Kv0M2m11Os1OxWGycn1OwZXCGuXfwIhezkd9/jRgNT2L4ldhs1pbkX5OLJe4euVxuGQaPCa3mnUjtJx7BDuKusJTCV6jVVGHTMuYRjxma7yIOhTgFY6jNaAKew2xPKpVay9ganmkvj+M448/MfJdT5K5Gg4HJacRngPFgqVRaRNwW1B4i7yehWfsEDdz1K+A01AoxPIqGAiuwGfkOTY8+1A6u7AyiFTB2Hu0KPIrdiOnzHLWDybeImvy+Wq2mZa5bUHsD0Zpz+KxHdWQymV6kAb1ElqeORgJLvgnRdj1+R1AfzkIvSUjxVjQSarVakrueIPT8+H1F5jSUy+WXiJrUYBVWyVxU4PEU8TzhfaijUqnMIWrjaY492eWRwdKOIqrnIxnXwLLeRLwk2GQzrEMjg0avEbXxkIxr4OoOImpj2QwyFgms1koa/SZUG8s+0iGnEhNfCNXEhzIXBVz0McTzEvJ+70P9oNFtxEzei3aFYrFYxmuSUPWSv9Yi9IMm2xE1We56Mp1OV4nDwqFmBDV9gk9AEh4gZtFHNt8W4kAUCoXF5MorY9Z/kDni9nDv7hc0i2fhgLvTtX8a99PoMPPagTFPxofRzmDJ9yM+AyEmTfgGysYbQcfhDzPPJDmX0c7gDg4gs9BqFIWhm/Nct5H8gtBq1I7UfIbtvmIuoaGQcp+fdpbbSM43eEH5wrwLbXmhm/fU63VHXjcuok7hEByFY/AeHGC8L5/PL3HT5xGH1uYwfPOICGo+CBcU0vwO1BqzUqILDl/z/9VYIMfpddiAc47jDP8BsUpb13wOLRwAAAAASUVORK5CYII="},menu:{image:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAeCAYAAABE4bxTAAAAIGNIUk0AAHolAACAgwAA+f8AAIDpAAB1MAAA6mAAADqYAAAXb5JfxUYAAAAJcEhZcwAADsMAAA7DAcdvqGQAAADoSURBVFhH7dc9CsJAFATgRxIIBCwCqZKATX5sbawsY2MvWOtF9AB6AU8gguAJbD2AnZ2VXQT/Ko2TYGCL2OYtYQc+BuYA+1hCtnCVwMm27SGaXpDJIAiCvCkVR05hGOZNN3HkFMdx3nQRR06+76/R1IcFLJlNQEWlmWlBTwJtKLKHynehZqnjOGM0PYWRVXk61C37p7xlZ3Hk5HneCk1dmMH811xGoKLSzDiQwIBZB4ocoPJdqNkDt2yKlueWRVGUtzy3rPwo3sWRU3nLjuLI6OO67oZM00wMw3hrmpZx0XU9syxrR0T0BeMpb9dneSR2AAAAAElFTkSuQmCC"}};D.prototype.setOptions=function(e,t){if(N[this._defaultsKey]){var i,a=N[this._defaultsKey];for(i in a)"publicProperties"!==i&&a.hasOwnProperty(i)&&(this[i]=e&&i in e?e[i]:t&&i in t?t[i]:a[i])}},D.prototype.get=function(e){var t=N[this._defaultsKey];return"options"===e?this.options&&this.options._isPlaceholder?null:this.options:t.hasOwnProperty(e)||t.publicProperties&&t.publicProperties.hasOwnProperty(e)?this[e]:void(window.console&&void 0)},D.prototype.set=function(e,t,i){i=void 0===i||i;var a=N[this._defaultsKey];if("options"===e)this.createUserOptions(t);else{if(!(a.hasOwnProperty(e)||a.publicProperties&&a.publicProperties.hasOwnProperty(e)&&"readWrite"===a.publicProperties[e]))return void(window.console&&(a.publicProperties&&a.publicProperties.hasOwnProperty(e)&&"readOnly"===a.publicProperties[e]?void 0:void 0));this.options._isPlaceholder&&this.createUserOptions(),this.options[e]=t}i&&(this.chart||this).render()},D.prototype.addTo=function(e,t,i,a){a=void 0===a||a;var n=N[this._defaultsKey];n.hasOwnProperty(e)||n.publicProperties&&n.publicProperties.hasOwnProperty(e)&&"readWrite"===n.publicProperties[e]?(this.options._isPlaceholder&&this.createUserOptions(),void 0===this.options[e]&&(this.options[e]=[]),e=this.options[e],i=void 0===i||null===i?e.length:i,e.splice(i,0,t),a&&(this.chart||this).render()):window.console&&(n.publicProperties&&n.publicProperties.hasOwnProperty(e)&&"readOnly"===n.publicProperties[e]?void 0:void 0)},D.prototype.createUserOptions=function(e){if(void 0!==e||this.options._isPlaceholder)if(this.parent.options._isPlaceholder&&this.parent.createUserOptions(),this.isOptionsInArray){this.parent.options[this.optionsName]||(this.parent.options[this.optionsName]=[]);var t=this.parent.options[this.optionsName],i=t.length;this.options._isPlaceholder||(u(t),i=t.indexOf(this.options)),this.options=void 0===e?{}:e,t[i]=this.options}else this.options=void 0===e?{}:e,e=this.parent.options,this.optionsName?t=this.optionsName:(t=this._defaultsKey)&&0!==t.length?(i=t.charAt(0).toLowerCase(),1<t.length&&(i=i.concat(t.slice(1))),t=i):t=void 0,e[t]=this.options},D.prototype.remove=function(e){if(e=void 0===e||e,this.isOptionsInArray){var t=this.parent.options[this.optionsName];u(t);var i=t.indexOf(this.options);0<=i&&t.splice(i,1)}else delete this.parent.options[this.optionsName];e&&(this.chart||this).render()},D.prototype.updateOption=function(e){var t=N[this._defaultsKey],i={},a=this[e],n=this._themeOptionsKey,o=this._index;return this.theme&&h(n)&&h(o)?i=h(X[this.theme])?X.light1:X[this.theme]:this.parent&&this.parent.themeOptions&&this.parent.themeOptions[n]&&(null===o?i=this.parent.themeOptions[n]:0<this.parent.themeOptions[n].length&&(i=Math.min(this.parent.themeOptions[n].length-1,o),i=this.parent.themeOptions[n][i])),this.themeOptions=i,e in t&&(a=e in this.options?this.options[e]:i&&e in i?i[e]:t[e]),a!==this[e]&&(this[e]=a,!0)},D.prototype.trackChanges=function(e){if(!this.sessionVariables)throw"Session Variable Store not set";this.sessionVariables[e]=this.options[e]},D.prototype.isBeingTracked=function(e){return this.options._oldOptions||(this.options._oldOptions={}),!!this.options._oldOptions[e]},D.prototype.hasOptionChanged=function(e){if(!this.sessionVariables)throw"Session Variable Store not set";return this.sessionVariables[e]!==this.options[e]},D.prototype.addEventListener=function(e,t,i){e&&t&&(this._eventListeners[e]=this._eventListeners[e]||[],this._eventListeners[e].push({context:i||this,eventHandler:t}))},D.prototype.removeEventListener=function(e,t){if(e&&t&&this._eventListeners[e])for(var i=this._eventListeners[e],a=0;a<i.length;a++)if(i[a].eventHandler===t){i[a].splice(a,1);break}},D.prototype.removeAllEventListeners=function(){this._eventListeners=[]},D.prototype.dispatchEvent=function(e,t,i){if(e&&this._eventListeners[e]){t=t||{};for(var a=this._eventListeners[e],n=0;n<a.length;n++)a[n].eventHandler.call(a[n].context,t)}"function"==typeof this[e]&&this[e].call(i||this.chart,t)},T.prototype.registerSpace=function(e,t){"top"===e?this._topOccupied+=t.height:"bottom"===e?this._bottomOccupied+=t.height:"left"===e?this._leftOccupied+=t.width:"right"===e&&(this._rightOccupied+=t.width)},T.prototype.unRegisterSpace=function(e,t){"top"===e?this._topOccupied-=t.height:"bottom"===e?this._bottomOccupied-=t.height:"left"===e?this._leftOccupied-=t.width:"right"===e&&(this._rightOccupied-=t.width)},T.prototype.getFreeSpace=function(){return{x1:this._x1+this._leftOccupied,y1:this._y1+this._topOccupied,x2:this._x2-this._rightOccupied,y2:this._y2-this._bottomOccupied,width:this._x2-this._x1-this._rightOccupied-this._leftOccupied,height:this._y2-this._y1-this._bottomOccupied-this._topOccupied}},T.prototype.reset=function(){this._rightOccupied=this._leftOccupied=this._bottomOccupied=this._topOccupied=this._padding},e(M,D),M.prototype._initialize=function(){h(this.padding)||"object"!=typeof this.padding?this.topPadding=this.rightPadding=this.bottomPadding=this.leftPadding=0|Number(this.padding):(this.topPadding=h(this.padding.top)?0:0|Number(this.padding.top),this.rightPadding=h(this.padding.right)?0:0|Number(this.padding.right),this.bottomPadding=h(this.padding.bottom)?0:0|Number(this.padding.bottom),this.leftPadding=h(this.padding.left)?0:0|Number(this.padding.left))},M.prototype.render=function(e){if(0!==this.fontSize){e&&this.ctx.save();var t=this.ctx.font;this.ctx.textBaseline=this.textBaseline;var i=0;this._isDirty&&this.measureText(this.ctx),this.ctx.translate(this.x,this.y+i),"middle"===this.textBaseline&&(i=-this._lineHeight/2),this.ctx.font=this._getFontString(),this.ctx.rotate(Math.PI/180*this.angle);var a=0,n=this.topPadding,o=null;for(this.ctx.roundRect||s(this.ctx),(0<this.borderThickness&&this.borderColor||this.backgroundColor)&&this.ctx.roundRect(0,i,this.width,this.height,this.cornerRadius,this.borderThickness,this.backgroundColor,this.borderColor),this.ctx.fillStyle=this.fontColor,i=0;i<this._wrappedText.lines.length;i++)o=this._wrappedText.lines[i],"right"===this.horizontalAlign?a=(this.width-(this.leftPadding+this.rightPadding))/2-o.width/2+this.leftPadding:"left"===this.horizontalAlign?a=this.leftPadding:"center"===this.horizontalAlign&&(a=(this.width-(this.leftPadding+this.rightPadding))/2-o.width/2+this.leftPadding),this.ctx.fillText(o.text,a,n),n+=o.height;this.ctx.font=t,e&&this.ctx.restore()}},M.prototype.setText=function(e){this.text=e,this._isDirty=!0,this._wrappedText=null},M.prototype.measureText=function(){if(this._lineHeight=p(this.fontFamily,this.fontSize,this.fontWeight),null===this.maxWidth)throw"Please set maxWidth and height for TextBlock";return this._wrapText(this.ctx),this._isDirty=!1,{width:this.width,height:this.height}},M.prototype._getLineWithWidth=function(e,t,i){if(!(e=String(e)))return{text:"",width:0};var a=i=0,n=e.length-1,o=1/0;for(this.ctx.font=this._getFontString();a<=n;){var o=Math.floor((a+n)/2),s=e.substr(0,o+1);if((i=this.ctx.measureText(s).width)<t)a=o+1;else{if(!(i>t))break;n=o-1}}return i>t&&1<s.length&&(s=s.substr(0,s.length-1),i=this.ctx.measureText(s).width),t=!0,s.length!==e.length&&" "!==e[s.length]||(t=!1),t&&(e=s.split(" "),1<e.length&&e.pop(),s=e.join(" "),i=this.ctx.measureText(s).width),{text:s,width:i}},M.prototype._wrapText=function(){var e=new String(o(String(this.text))),t=[],i=this.ctx.font,a=0,n=0;if(this.ctx.font=this._getFontString(),0===this.frontSize)n=a=0;else for(;0<e.length;){var s=this.maxHeight-(this.topPadding+this.bottomPadding),r=this._getLineWithWidth(e,this.maxWidth-(this.leftPadding+this.rightPadding),!1);r.height=this._lineHeight,t.push(r);var l=n,n=Math.max(n,r.width),a=a+r.height,e=o(e.slice(r.text.length,e.length));s&&a>s&&(r=t.pop(),a-=r.height,n=l)}this._wrappedText={lines:t,width:n,height:a},this.width=n+(this.leftPadding+this.rightPadding),this.height=a+(this.topPadding+this.bottomPadding),this.ctx.font=i},M.prototype._getFontString=function(){var e;e=this.fontStyle?this.fontStyle+" ":"",e+=this.fontWeight?this.fontWeight+" ":"",e+=this.fontSize?this.fontSize+"px ":"";var t=this.fontFamily?this.fontFamily+"":"";return!O&&t&&(t=t.split(",")[0],"'"!==t[0]&&'"'!==t[0]&&(t="'"+t+"'")),e+=t},e(P,D),e($,D),$.prototype.render=function(){if(this.text){var e,t,i=this.dockInsidePlotArea?this.chart.plotArea:this.chart,a=i.layoutManager.getFreeSpace(),n=a.x1,o=a.y1,s=0,r=0,l=this.chart._menuButton&&this.chart.exportEnabled&&"top"===this.verticalAlign?22:0;"top"===this.verticalAlign||"bottom"===this.verticalAlign?(null===this.maxWidth&&(this.maxWidth=a.width-4-l*("center"===this.horizontalAlign?2:1)),r=.5*a.height-this.margin-2,s=0):"center"===this.verticalAlign&&("left"===this.horizontalAlign||"right"===this.horizontalAlign?(null===this.maxWidth&&(this.maxWidth=a.height-4),r=.5*a.width-this.margin-2):"center"===this.horizontalAlign&&(null===this.maxWidth&&(this.maxWidth=a.width-4),r=.5*a.height-4));var c;h(this.padding)||"number"!=typeof this.padding?h(this.padding)||"object"!=typeof this.padding||(c=this.padding.top?this.padding.top:this.padding.bottom?this.padding.bottom:0,c+=this.padding.bottom?this.padding.bottom:this.padding.top?this.padding.top:0,c*=1.25):c=2.5*this.padding,this.wrap||(r=Math.min(r,Math.max(1.5*this.fontSize,this.fontSize+c))),r=new M(this.ctx,{fontSize:this.fontSize,fontFamily:this.fontFamily,fontColor:this.fontColor,fontStyle:this.fontStyle,fontWeight:this.fontWeight,horizontalAlign:this.horizontalAlign,verticalAlign:this.verticalAlign,borderColor:this.borderColor,borderThickness:this.borderThickness,backgroundColor:this.backgroundColor,maxWidth:this.maxWidth,maxHeight:r,cornerRadius:this.cornerRadius,text:this.text,padding:this.padding,textBaseline:"top"}),c=r.measureText(),"top"===this.verticalAlign||"bottom"===this.verticalAlign?("top"===this.verticalAlign?(o=a.y1+2,t="top"):"bottom"===this.verticalAlign&&(o=a.y2-2-c.height,t="bottom"),"left"===this.horizontalAlign?n=a.x1+2:"center"===this.horizontalAlign?n=a.x1+a.width/2-c.width/2:"right"===this.horizontalAlign&&(n=a.x2-2-c.width-l),e=this.horizontalAlign,this.width=c.width,this.height=c.height):"center"===this.verticalAlign&&("left"===this.horizontalAlign?(n=a.x1+2,o=a.y2-2-(this.maxWidth/2-c.width/2),s=-90,t="left",this.width=c.height,this.height=c.width):"right"===this.horizontalAlign?(n=a.x2-2,o=a.y1+2+(this.maxWidth/2-c.width/2),s=90,t="right",this.width=c.height,this.height=c.width):"center"===this.horizontalAlign&&(o=i.y1+(i.height/2-c.height/2),n=i.x1+(i.width/2-c.width/2),t="center",this.width=c.width,this.height=c.height),e="center"),r.x=n,r.y=o,r.angle=s,r.horizontalAlign=e,r.render(!0),i.layoutManager.registerSpace(t,{width:this.width+("left"===t||"right"===t?this.margin+2:0),height:this.height+("top"===t||"bottom"===t?this.margin+2:0)}),this.bounds={x1:n,y1:o,x2:n+this.width,y2:o+this.height},this.ctx.textBaseline="top"}},e(_,D),_.prototype.render=$.prototype.render,e(A,D);var le={addTheme:function(e,t){X[e]=t},addColorSet:function(e,t){Y[e]=t},addCultureInfo:function(e,t){V[e]=t},formatNumber:function(e,t,i){if(i=i||"en",V[i])return Z(e,t||"#,##0.##",new A(i));throw"Unknown Culture Name"},formatDate:function(e,t,i){if(i=i||"en",V[i])return J(e,t||"DD MMM YYYY",new A(i));throw"Unknown Culture Name"}};"undefined"!=typeof module&&void 0!==module.exports?module.exports=le:"function"==typeof define&&define.amd?define([],function(){return le}):window.CanvasJS=le,le.Chart=function(){function t(e,t){return e.x-t.x}function n(e,t,i){if(e&&t&&i){i=i+"."+t;var a="image/"+t;e=e.toDataURL(a);var n=!1,o=document.createElement("a");if(o.download=i,o.href=e,"undefined"!=typeof Blob&&new Blob){for(var s=e.replace(/^data:[a-z\/]*;base64,/,""),s=atob(s),r=new ArrayBuffer(s.length),r=new Uint8Array(r),l=0;l<s.length;l++)r[l]=s.charCodeAt(l);t=new Blob([r.buffer],{type:"image/"+t});try{window.navigator.msSaveBlob(t,i),n=!0}catch(e){o.dataset.downloadurl=[a,o.download,o.href].join(":"),o.href=window.URL.createObjectURL(t)}}if(!n)try{event=document.createEvent("MouseEvents"),event.initMouseEvent("click",!0,!1,window,0,0,0,0,0,!1,!1,!1,!1,0,null),o.dispatchEvent?o.dispatchEvent(event):o.fireEvent&&o.fireEvent("onclick")}catch(i){t=window.open(),t.document.write("<img src='"+e+"'></img><div>Please right click on the image and save it to your device</div>"),t.document.close()}}}function c(e,t){t=t||{},this.theme=h(t.theme)||h(X[t.theme])?"light1":t.theme,c.base.constructor.call(this,"Chart",null,t,null,null);var i=this;if(this._containerId=e,this._objectsInitialized=!1,this.overlaidCanvasCtx=this.ctx=null,this._indexLabels=[],this._panTimerId=0,this._lastTouchEventType="",this._lastTouchData=null,this.isAnimating=!1,this.renderCount=0,this.panEnabled=this.disableToolTip=this.animatedRender=!1,this._defaultCursor="default",this.plotArea={canvas:null,ctx:null,x1:0,y1:0,x2:0,y2:0,width:0,height:0},this._dataInRenderedOrder=[],this.container="string"==typeof this._containerId?document.getElementById(this._containerId):this._containerId){this.container.innerHTML="";var a=0,n=0,a=this.options.width?this.width:0<this.container.clientWidth?this.container.clientWidth:this.width,n=this.options.height?this.height:0<this.container.clientHeight?this.container.clientHeight:this.height;this.width=a,this.height=n,this.x1=this.y1=0,this.x2=this.width,this.y2=this.height,this._selectedColorSet=void 0!==Y[this.colorSet]?Y[this.colorSet]:Y.colorSet1,this._canvasJSContainer=document.createElement("div"),this._canvasJSContainer.setAttribute("class","canvasjs-chart-container"),this._canvasJSContainer.style.position="relative",this._canvasJSContainer.style.textAlign="left",this._canvasJSContainer.style.cursor="auto",O||(this._canvasJSContainer.style.height="0px"),this.container.appendChild(this._canvasJSContainer),this.canvas=x(a,n),this._preRenderCanvas=x(a,n),this.canvas.style.position="absolute",this.canvas.getContext&&(this._canvasJSContainer.appendChild(this.canvas),this.ctx=this.canvas.getContext("2d"),this.ctx.textBaseline="top",s(this.ctx),this._preRenderCtx=this._preRenderCanvas.getContext("2d"),this._preRenderCtx.textBaseline="top",s(this._preRenderCtx),O?this.plotArea.ctx=this.ctx:(this.plotArea.canvas=x(a,n),this.plotArea.canvas.style.position="absolute",this.plotArea.canvas.setAttribute("class","plotAreaCanvas"),this._canvasJSContainer.appendChild(this.plotArea.canvas),this.plotArea.ctx=this.plotArea.canvas.getContext("2d")),this.overlaidCanvas=x(a,n),this.overlaidCanvas.style.position="absolute",this.overlaidCanvas.style.webkitTapHighlightColor="transparent",this.overlaidCanvas.getContext&&(this._canvasJSContainer.appendChild(this.overlaidCanvas),this.overlaidCanvasCtx=this.overlaidCanvas.getContext("2d"),this.overlaidCanvasCtx.textBaseline="top",s(this.overlaidCanvasCtx)),this._eventManager=new j(this),this.windowResizeHandler=m(window,"resize",function(){i._updateSize()&&i.render()}),this._toolBar=document.createElement("div"),this._toolBar.setAttribute("class","canvasjs-chart-toolbar"),this._toolBar.style.cssText="position: absolute; right: 1px; top: 1px;",this._canvasJSContainer.appendChild(this._toolBar),this.bounds={x1:0,y1:0,x2:this.width,y2:this.height},m(this.overlaidCanvas,"click",function(e){i._mouseEventHandler(e)}),m(this.overlaidCanvas,"mousemove",function(e){i._mouseEventHandler(e)}),m(this.overlaidCanvas,"mouseup",function(e){i._mouseEventHandler(e)}),m(this.overlaidCanvas,"mousedown",function(e){i._mouseEventHandler(e),S(i._dropdownMenu)}),m(this.overlaidCanvas,"mouseout",function(e){i._mouseEventHandler(e)}),m(this.overlaidCanvas,window.navigator.msPointerEnabled?"MSPointerDown":"touchstart",function(e){i._touchEventHandler(e)}),m(this.overlaidCanvas,window.navigator.msPointerEnabled?"MSPointerMove":"touchmove",function(e){i._touchEventHandler(e)}),m(this.overlaidCanvas,window.navigator.msPointerEnabled?"MSPointerUp":"touchend",function(e){i._touchEventHandler(e)}),m(this.overlaidCanvas,window.navigator.msPointerEnabled?"MSPointerCancel":"touchcancel",function(e){i._touchEventHandler(e)}),this.toolTip=new U(this,this.options.toolTip),this.data=null,this.axisX=[],this.axisX2=[],this.axisY=[],this.axisY2=[],this.sessionVariables={axisX:[],axisX2:[],axisY:[],axisY2:[]})}else window.console&&void 0}function I(e,t){for(var i,a=[],n=0;n<e.length;n++)if(0==n)a.push(e[0]);else{var o,s,r;r=n-1,o=0===r?0:r-1,s=r===e.length-1?r:r+1,i=Math.abs((e[s].x-e[o].x)/(0==e[s].x-e[r].x?.01:e[s].x-e[r].x))*(t-1)/2+1;var l=(e[s].x-e[o].x)/i;i=(e[s].y-e[o].y)/i,a[a.length]=e[r].x>e[o].x&&0<l||e[r].x<e[o].x&&0>l?{x:e[r].x+l/3,y:e[r].y+i/3}:{x:e[r].x,y:e[r].y+i/9},r=n,o=0===r?0:r-1,s=r===e.length-1?r:r+1,i=Math.abs((e[s].x-e[o].x)/(0==e[r].x-e[o].x?.01:e[r].x-e[o].x))*(t-1)/2+1,l=(e[s].x-e[o].x)/i,i=(e[s].y-e[o].y)/i,a[a.length]=e[r].x>e[o].x&&0<l||e[r].x<e[o].x&&0>l?{x:e[r].x-l/3,y:e[r].y-i/3}:{x:e[r].x,y:e[r].y-i/9},a[a.length]=e[n]}return a}function F(e,t,i,a,n,o,s,r,l,c){var h=0;c?(s.color=o,r.color=o):c=1,h=l?Math.abs(n-i):Math.abs(a-t),h=0<s.trimLength?Math.abs(h*s.trimLength/100):Math.abs(h-s.length),l?(i+=h/2,n-=h/2):(t+=h/2,a-=h/2);var h=1==Math.round(s.thickness)%2?.5:0,u=1==Math.round(r.thickness)%2?.5:0;e.save(),e.globalAlpha=c,e.strokeStyle=r.color||o,e.lineWidth=r.thickness||2,e.setLineDash&&e.setLineDash(f(r.dashType,r.thickness)),e.beginPath(),l&&0<r.thickness?(e.moveTo(a-s.thickness/2,Math.round((i+n)/2)-u),e.lineTo(t+s.thickness/2,Math.round((i+n)/2)-u)):0<r.thickness&&(e.moveTo(Math.round((t+a)/2)-u,i+s.thickness/2),e.lineTo(Math.round((t+a)/2)-u,n-s.thickness/2)),e.stroke(),e.strokeStyle=s.color||o,e.lineWidth=s.thickness||2,e.setLineDash&&e.setLineDash(f(s.dashType,s.thickness)),e.beginPath(),l&&0<s.thickness?(e.moveTo(a-h,i),e.lineTo(a-h,n),e.moveTo(t+h,i),e.lineTo(t+h,n)):0<s.thickness&&(e.moveTo(t,i+h),e.lineTo(a,i+h),e.moveTo(t,n-h),e.lineTo(a,n-h)),e.stroke(),e.restore()}function E(e,t,i,a,n){return null===e||void 0===e?void 0===i?t:i:(e=parseFloat(e.toString())*(0<=e.toString().indexOf("%")?t/100:1),void 0!==a&&(e=Math.min(a,e),void 0!==n&&(e=Math.max(n,e))),!isNaN(e)&&e<=t&&0<=e?e:void 0===i?t:i)}function L(e,t){L.base.constructor.call(this,"Legend","legend",t,null,e),this.chart=e,this.canvas=e.canvas,this.ctx=this.chart.ctx,this.ghostCtx=this.chart._eventManager.ghostCtx,this.items=[],this.optionsName="legend",this.height=this.width=0,this.orientation=null,this.dataSeries=[],this.bounds={x1:null,y1:null,x2:null,y2:null},void 0===this.options.fontSize&&(this.fontSize=this.chart.getAutoFontSize(this.fontSize)),this.lineHeight=p(this.fontFamily,this.fontSize,this.fontWeight),this.horizontalSpacing=this.fontSize}function B(e,t,i,a){for(B.base.constructor.call(this,"DataSeries","data",t,i,e),this.chart=e,this.canvas=e.canvas,this._ctx=e.canvas.ctx,this.index=i,this.noDataPointsInPlotArea=0,this.id=a,this.chart._eventManager.objectMap[a]={id:a,objectType:"dataSeries",dataSeriesIndex:i},e=t.dataPoints?t.dataPoints.length:0,this.dataPointEOs=[],t=0;t<e;t++)this.dataPointEOs[t]={};this.dataPointIds=[],this.plotUnit=[],this.axisY=this.axisX=null,this.optionsName="data",this.isOptionsInArray=!0,null===this.fillOpacity&&(this.type.match(/area/i)?this.fillOpacity=.7:this.fillOpacity=1),this.axisPlacement=this.getDefaultAxisPlacement(),void 0===this.options.indexLabelFontSize&&(this.indexLabelFontSize=this.chart.getAutoFontSize(this.indexLabelFontSize))}function N(e,t,i,a,n,o){if(N.base.constructor.call(this,"Axis",t,i,a,e),this.chart=e,this.canvas=e.canvas,this.ctx=e.ctx,this.intervalStartPosition=this.maxHeight=this.maxWidth=0,this.labels=[],this.dataSeries=[],this._stripLineLabels=this._ticks=this._labels=null,this.dataInfo={min:1/0,max:-1/0,viewPortMin:1/0,viewPortMax:-1/0,minDiff:1/0},this.isOptionsInArray=!0,"axisX"===n?("left"===o||"bottom"===o?(this.optionsName="axisX",h(this.chart.sessionVariables.axisX[a])&&(this.chart.sessionVariables.axisX[a]={}),this.sessionVariables=this.chart.sessionVariables.axisX[a]):(this.optionsName="axisX2",h(this.chart.sessionVariables.axisX2[a])&&(this.chart.sessionVariables.axisX2[a]={}),this.sessionVariables=this.chart.sessionVariables.axisX2[a]),this.options.interval||(this.intervalType=null)):"left"===o||"bottom"===o?(this.optionsName="axisY",h(this.chart.sessionVariables.axisY[a])&&(this.chart.sessionVariables.axisY[a]={}),this.sessionVariables=this.chart.sessionVariables.axisY[a]):(this.optionsName="axisY2",h(this.chart.sessionVariables.axisY2[a])&&(this.chart.sessionVariables.axisY2[a]={}),this.sessionVariables=this.chart.sessionVariables.axisY2[a]),void 0===this.options.titleFontSize&&(this.titleFontSize=this.chart.getAutoFontSize(this.titleFontSize)),void 0===this.options.labelFontSize&&(this.labelFontSize=this.chart.getAutoFontSize(this.labelFontSize)),this.type=n,"axisX"!==n||i&&void 0!==i.gridThickness||(this.gridThickness=0),this._position=o,this.lineCoordinates={x1:null,y1:null,x2:null,y2:null,width:null},this.labelAngle=(this.labelAngle%360+360)%360,90<this.labelAngle&&270>this.labelAngle?this.labelAngle-=180:270<=this.labelAngle&&360>=this.labelAngle&&(this.labelAngle-=360),this.options.scaleBreaks&&(this.scaleBreaks=new V(this.chart,this.options.scaleBreaks,++this.chart._eventManager.lastObjectId,this)),this.stripLines=[],this.options.stripLines&&0<this.options.stripLines.length)for(e=0;e<this.options.stripLines.length;e++)this.stripLines.push(new z(this.chart,this.options.stripLines[e],e,++this.chart._eventManager.lastObjectId,this));this.options.crosshair&&(this.crosshair=new H(this.chart,this.options.crosshair,this)),this._titleTextBlock=null,this.hasOptionChanged("viewportMinimum")&&null===this.viewportMinimum&&(this.options.viewportMinimum=void 0,
this.sessionVariables.viewportMinimum=null),this.hasOptionChanged("viewportMinimum")||isNaN(this.sessionVariables.newViewportMinimum)||null===this.sessionVariables.newViewportMinimum?this.sessionVariables.newViewportMinimum=null:this.viewportMinimum=this.sessionVariables.newViewportMinimum,this.hasOptionChanged("viewportMaximum")&&null===this.viewportMaximum&&(this.options.viewportMaximum=void 0,this.sessionVariables.viewportMaximum=null),this.hasOptionChanged("viewportMaximum")||isNaN(this.sessionVariables.newViewportMaximum)||null===this.sessionVariables.newViewportMaximum?this.sessionVariables.newViewportMaximum=null:this.viewportMaximum=this.sessionVariables.newViewportMaximum,null!==this.minimum&&null!==this.viewportMinimum&&(this.viewportMinimum=Math.max(this.viewportMinimum,this.minimum)),null!==this.maximum&&null!==this.viewportMaximum&&(this.viewportMaximum=Math.min(this.viewportMaximum,this.maximum)),this.trackChanges("viewportMinimum"),this.trackChanges("viewportMaximum")}function V(e,t,i,a){if(V.base.constructor.call(this,"ScaleBreaks","scaleBreaks",t,null,a),this.id=i,this.chart=e,this.ctx=this.chart.ctx,this.axis=a,this.optionsName="scaleBreaks",this.isOptionsInArray=!1,this._appliedBreaks=[],this.customBreaks=[],this.autoBreaks=[],"string"==typeof this.spacing?(this.spacing=parseFloat(this.spacing),this.spacing=isNaN(this.spacing)?8:(10<this.spacing?10:this.spacing)+"%"):"number"!=typeof this.spacing&&(this.spacing=8),this.autoCalculate&&(this.maxNumberOfAutoBreaks=Math.min(this.maxNumberOfAutoBreaks,5)),this.options.customBreaks&&0<this.options.customBreaks.length){for(e=0;e<this.options.customBreaks.length;e++)this.customBreaks.push(new W(this.chart,"customBreaks",this.options.customBreaks[e],e,++this.chart._eventManager.lastObjectId,this)),"number"==typeof this.customBreaks[e].startValue&&"number"==typeof this.customBreaks[e].endValue&&this.customBreaks[e].endValue!==this.customBreaks[e].startValue&&this._appliedBreaks.push(this.customBreaks[e]);for(this._appliedBreaks.sort(function(e,t){return e.startValue-t.startValue}),e=0;e<this._appliedBreaks.length-1;e++)this._appliedBreaks[e].endValue>=this._appliedBreaks[e+1].startValue&&(this._appliedBreaks[e].endValue=Math.max(this._appliedBreaks[e].endValue,this._appliedBreaks[e+1].endValue),window.console&&void 0,this._appliedBreaks.splice(e,2),e--)}}function W(e,t,i,a,n,o){W.base.constructor.call(this,"Break",t,i,a,o),this.id=n,this.chart=e,this.ctx=this.chart.ctx,this.scaleBreaks=o,this.optionsName=t,this.isOptionsInArray=!0,this.type=i.type?this.type:o.type,this.fillOpacity=h(i.fillOpacity)?o.fillOpacity:this.fillOpacity,this.lineThickness=h(i.lineThickness)?o.lineThickness:this.lineThickness,this.color=i.color?this.color:o.color,this.lineColor=i.lineColor?this.lineColor:o.lineColor,this.lineDashType=i.lineDashType?this.lineDashType:o.lineDashType,!h(this.startValue)&&this.startValue.getTime&&(this.startValue=this.startValue.getTime()),!h(this.endValue)&&this.endValue.getTime&&(this.endValue=this.endValue.getTime()),"number"==typeof this.startValue&&"number"==typeof this.endValue&&this.endValue<this.startValue&&(e=this.startValue,this.startValue=this.endValue,this.endValue=e),this.spacing=void 0===i.spacing?o.spacing:i.spacing,"string"==typeof this.options.spacing?(this.spacing=parseFloat(this.spacing),this.spacing=isNaN(this.spacing)?0:(10<this.spacing?10:this.spacing)+"%"):"number"!=typeof this.options.spacing&&(this.spacing=o.spacing),this.size=o.parent.logarithmic?1:0}function z(e,t,i,a,n){z.base.constructor.call(this,"StripLine","stripLines",t,i,n),this.id=a,this.chart=e,this.ctx=this.chart.ctx,this.label=this.label,this.axis=n,this.optionsName="stripLines",this.isOptionsInArray=!0,this._thicknessType="pixel",null!==this.startValue&&null!==this.endValue&&(this.value=n.logarithmic?Math.sqrt((this.startValue.getTime?this.startValue.getTime():this.startValue)*(this.endValue.getTime?this.endValue.getTime():this.endValue)):((this.startValue.getTime?this.startValue.getTime():this.startValue)+(this.endValue.getTime?this.endValue.getTime():this.endValue))/2,this._thicknessType=null)}function H(e,t,i){H.base.constructor.call(this,"Crosshair","crosshair",t,null,i),this.chart=e,this.ctx=this.chart.ctx,this.axis=i,this.optionsName="crosshair",this._thicknessType="pixel"}function U(e,t){U.base.constructor.call(this,"ToolTip","toolTip",t,null,e),this.chart=e,this.canvas=e.canvas,this.ctx=this.chart.ctx,this.currentDataPointIndex=this.currentSeriesIndex=-1,this._timerId=0,this._prevY=this._prevX=NaN,this.containerTransitionDuration=.1,this.mozContainerTransition=this.getContainerTransition(this.containerTransitionDuration),this.optionsName="toolTip",this._initialize()}function j(e){this.chart=e,this.lastObjectId=0,this.objectMap=[],this.rectangularRegionEventSubscriptions=[],this.previousDataPointEventObject=null,this.ghostCanvas=x(this.chart.width,this.chart.height),this.ghostCtx=this.ghostCanvas.getContext("2d"),this.mouseoveredObjectMaps=[]}function G(e){this.chart=e,this.ctx=this.chart.plotArea.ctx,this.animations=[],this.animationRequestId=null}e(c,D),c.prototype.destroy=function(){var e=window,t=this.windowResizeHandler;e.removeEventListener?e.removeEventListener("resize",t):e.detachEvent&&e.detachEvent("onresize",t)},c.prototype._updateOptions=function(){var e=this;if(this.updateOption("width"),this.updateOption("height"),this.updateOption("dataPointWidth"),this.updateOption("dataPointMinWidth"),this.updateOption("dataPointMaxWidth"),this.updateOption("interactivityEnabled"),this.updateOption("theme"),this.updateOption("colorSet")&&(this._selectedColorSet=void 0!==Y[this.colorSet]?Y[this.colorSet]:Y.colorSet1),this.updateOption("backgroundColor"),this.backgroundColor||(this.backgroundColor="rgba(0,0,0,0)"),this.updateOption("culture"),this._cultureInfo=new A(this.options.culture),this.updateOption("animationEnabled"),this.animationEnabled=this.animationEnabled&&O,this.updateOption("animationDuration"),this.updateOption("rangeChanging"),this.updateOption("rangeChanged"),this.updateOption("exportEnabled"),this.updateOption("exportFileName"),this.updateOption("zoomType"),this.options.zoomEnabled){if(!this._zoomButton){var t=!1;S(this._zoomButton=document.createElement("button")),w(this,this._zoomButton,"pan"),this._toolBar.appendChild(this._zoomButton),this._zoomButton.style.borderRight=this.toolbar.borderThickness+"px solid "+this.toolbar.borderColor,m(this._zoomButton,"touchstart",function(e){t=!0}),m(this._zoomButton,"click",function(){e.zoomEnabled?(e.zoomEnabled=!1,e.panEnabled=!0,w(e,e._zoomButton,"zoom")):(e.zoomEnabled=!0,e.panEnabled=!1,w(e,e._zoomButton,"pan")),e.render()}),m(this._zoomButton,"mouseover",function(){t?t=!1:(C(e,e._zoomButton,{backgroundColor:e.toolbar.backgroundColorOnHover,color:e.toolbar.fontColorOnHover,transition:"0.4s",WebkitTransition:"0.4s"}),0>=navigator.userAgent.search("MSIE")&&C(e,e._zoomButton.childNodes[0],{WebkitFilter:"invert(100%)",filter:"invert(100%)"}))}),m(this._zoomButton,"mouseout",function(){t||(C(e,e._zoomButton,{backgroundColor:e.toolbar.backgroundColor,color:e.toolbar.fontColor,transition:"0.4s",WebkitTransition:"0.4s"}),0>=navigator.userAgent.search("MSIE")&&C(e,e._zoomButton.childNodes[0],{WebkitFilter:"invert(0%)",filter:"invert(0%)"}))})}this._resetButton||(t=!1,S(this._resetButton=document.createElement("button")),w(this,this._resetButton,"reset"),this._resetButton.style.borderRight=(this.exportEnabled?this.toolbar.borderThickness:0)+"px solid "+this.toolbar.borderColor,this._toolBar.appendChild(this._resetButton),m(this._resetButton,"touchstart",function(e){t=!0}),m(this._resetButton,"click",function(){if(e.toolTip.hide(),e.zoomEnabled||e.panEnabled?(e.zoomEnabled=!0,e.panEnabled=!1,w(e,e._zoomButton,"pan"),e._defaultCursor="default",e.overlaidCanvas.style.cursor=e._defaultCursor):(e.zoomEnabled=!1,e.panEnabled=!1),e.sessionVariables.axisX)for(var t=0;t<e.sessionVariables.axisX.length;t++)e.sessionVariables.axisX[t].newViewportMinimum=null,e.sessionVariables.axisX[t].newViewportMaximum=null;if(e.sessionVariables.axisX2)for(t=0;t<e.sessionVariables.axisX2.length;t++)e.sessionVariables.axisX2[t].newViewportMinimum=null,e.sessionVariables.axisX2[t].newViewportMaximum=null;if(e.sessionVariables.axisY)for(t=0;t<e.sessionVariables.axisY.length;t++)e.sessionVariables.axisY[t].newViewportMinimum=null,e.sessionVariables.axisY[t].newViewportMaximum=null;if(e.sessionVariables.axisY2)for(t=0;t<e.sessionVariables.axisY2.length;t++)e.sessionVariables.axisY2[t].newViewportMinimum=null,e.sessionVariables.axisY2[t].newViewportMaximum=null;e.resetOverlayedCanvas(),S(e._zoomButton,e._resetButton),e._dispatchRangeEvent("rangeChanging","reset"),e.render(),e._dispatchRangeEvent("rangeChanged","reset")}),m(this._resetButton,"mouseover",function(){t||(C(e,e._resetButton,{backgroundColor:e.toolbar.backgroundColorOnHover,color:e.toolbar.hoverFfontColorOnHoverontColor,transition:"0.4s",WebkitTransition:"0.4s"}),0>=navigator.userAgent.search("MSIE")&&C(e,e._resetButton.childNodes[0],{WebkitFilter:"invert(100%)",filter:"invert(100%)"}))}),m(this._resetButton,"mouseout",function(){t||(C(e,e._resetButton,{backgroundColor:e.toolbar.backgroundColor,color:e.toolbar.fontColor,transition:"0.4s",WebkitTransition:"0.4s"}),0>=navigator.userAgent.search("MSIE")&&C(e,e._resetButton.childNodes[0],{WebkitFilter:"invert(0%)",filter:"invert(0%)"}))}),this.overlaidCanvas.style.cursor=e._defaultCursor),this.zoomEnabled||this.panEnabled||(this._zoomButton?(e._zoomButton.getAttribute("state")===e._cultureInfo.zoomText?(this.panEnabled=!0,this.zoomEnabled=!1):(this.zoomEnabled=!0,this.panEnabled=!1),k(e._zoomButton,e._resetButton)):(this.zoomEnabled=!0,this.panEnabled=!1))}else this.panEnabled=this.zoomEnabled=!1;if(this._menuButton?this.exportEnabled?k(this._menuButton):S(this._menuButton):this.exportEnabled&&O&&(t=!1,this._menuButton=document.createElement("button"),w(this,this._menuButton,"menu"),this._toolBar.appendChild(this._menuButton),m(this._menuButton,"touchstart",function(e){t=!0}),m(this._menuButton,"click",function(){"none"!==e._dropdownMenu.style.display||e._dropDownCloseTime&&500>=(new Date).getTime()-e._dropDownCloseTime.getTime()||(e._dropdownMenu.style.display="block",e._menuButton.blur(),e._dropdownMenu.focus())},!0),m(this._menuButton,"mouseover",function(){t||(C(e,e._menuButton,{backgroundColor:e.toolbar.backgroundColorOnHover,color:e.toolbar.fontColorOnHover}),0>=navigator.userAgent.search("MSIE")&&C(e,e._menuButton.childNodes[0],{WebkitFilter:"invert(100%)",filter:"invert(100%)"}))},!0),m(this._menuButton,"mouseout",function(){t||(C(e,e._menuButton,{backgroundColor:e.toolbar.backgroundColor,color:e.toolbar.fontColor}),0>=navigator.userAgent.search("MSIE")&&C(e,e._menuButton.childNodes[0],{WebkitFilter:"invert(0%)",filter:"invert(0%)"}))},!0)),!this._dropdownMenu&&this.exportEnabled&&O){t=!1,this._dropdownMenu=document.createElement("div"),this._dropdownMenu.setAttribute("tabindex",-1);var i=-1!==this.theme.indexOf("dark")?"black":"#888888";this._dropdownMenu.style.cssText="position: absolute; -webkit-user-select: none; -moz-user-select: none; -ms-user-select: none; user-select: none; cursor: pointer;right: 0px;top: 25px;min-width: 120px;outline: 0;font-size: 14px; font-family: Arial, Helvetica, sans-serif;padding: 5px 0px 5px 0px;text-align: left;line-height: 10px;background-color:"+this.toolbar.backgroundColor+";box-shadow: 2px 2px 10px "+i,e._dropdownMenu.style.display="none",this._toolBar.appendChild(this._dropdownMenu),m(this._dropdownMenu,"blur",function(){S(e._dropdownMenu),e._dropDownCloseTime=new Date},!0),i=document.createElement("div"),i.style.cssText="padding: 12px 8px 12px 8px",i.innerHTML=this._cultureInfo.printText,i.style.backgroundColor=this.toolbar.backgroundColor,i.style.color=this.toolbar.fontColor,this._dropdownMenu.appendChild(i),m(i,"touchstart",function(e){t=!0}),m(i,"mouseover",function(){t||(this.style.backgroundColor=e.toolbar.backgroundColorOnHover,this.style.color=e.toolbar.fontColorOnHover)},!0),m(i,"mouseout",function(){t||(this.style.backgroundColor=e.toolbar.backgroundColor,this.style.color=e.toolbar.fontColor)},!0),m(i,"click",function(){e.print(),S(e._dropdownMenu)},!0),i=document.createElement("div"),i.style.cssText="padding: 12px 8px 12px 8px",i.innerHTML=this._cultureInfo.saveJPGText,i.style.backgroundColor=this.toolbar.backgroundColor,i.style.color=this.toolbar.fontColor,this._dropdownMenu.appendChild(i),m(i,"touchstart",function(e){t=!0}),m(i,"mouseover",function(){t||(this.style.backgroundColor=e.toolbar.backgroundColorOnHover,this.style.color=e.toolbar.fontColorOnHover)},!0),m(i,"mouseout",function(){t||(this.style.backgroundColor=e.toolbar.backgroundColor,this.style.color=e.toolbar.fontColor)},!0),m(i,"click",function(){n(e.canvas,"jpeg",e.exportFileName),S(e._dropdownMenu)},!0),i=document.createElement("div"),i.style.cssText="padding: 12px 8px 12px 8px",i.innerHTML=this._cultureInfo.savePNGText,i.style.backgroundColor=this.toolbar.backgroundColor,i.style.color=this.toolbar.fontColor,this._dropdownMenu.appendChild(i),m(i,"touchstart",function(e){t=!0}),m(i,"mouseover",function(){t||(this.style.backgroundColor=e.toolbar.backgroundColorOnHover,this.style.color=e.toolbar.fontColorOnHover)},!0),m(i,"mouseout",function(){t||(this.style.backgroundColor=e.toolbar.backgroundColor,this.style.color=e.toolbar.fontColor)},!0),m(i,"click",function(){n(e.canvas,"png",e.exportFileName),S(e._dropdownMenu)},!0)}"none"!==this._toolBar.style.display&&this._zoomButton&&(this.panEnabled?w(e,e._zoomButton,"zoom"):w(e,e._zoomButton,"pan"),e._resetButton.getAttribute("state")!==e._cultureInfo.resetText&&w(e,e._resetButton,"reset")),this.options.toolTip&&this.toolTip.options!==this.options.toolTip&&(this.toolTip.options=this.options.toolTip);for(var a in this.toolTip.options)this.toolTip.options.hasOwnProperty(a)&&this.toolTip.updateOption(a)},c.prototype._updateSize=function(){var e=0,t=0;return this.options.width?e=this.width:this.width=e=0<this.container.clientWidth?this.container.clientWidth:this.width,this.options.height?t=this.height:this.height=t=0<this.container.clientHeight?this.container.clientHeight:this.height,(this.canvas.width!==e*ne||this.canvas.height!==t*ne)&&(b(this.canvas,e,t),b(this._preRenderCanvas,e,t),b(this.overlaidCanvas,e,t),b(this._eventManager.ghostCanvas,e,t),this.bounds={x1:0,y1:0,x2:this.width,y2:this.height},!0)},c.prototype._initialize=function(){this.toolbar=new P(this,this.options.toolbar),this._animator?this._animator.cancelAllAnimations():this._animator=new G(this),this.removeAllEventListeners(),this.disableToolTip=!1,this._axes=[],this.funnelPyramidClickHandler=this.pieDoughnutClickHandler=null,this.animationRequestId&&this.cancelRequestAnimFrame.call(window,this.animationRequestId),this._updateOptions(),this.animatedRender=O&&this.animationEnabled&&0===this.renderCount,this._updateSize(),this.clearCanvas(),this.ctx.beginPath(),this.axisX=[],this.axisX2=[],this.axisY=[],this.axisY2=[],this._indexLabels=[],this._dataInRenderedOrder=[],this._events=[],this._eventManager&&this._eventManager.reset(),this.plotInfo={axisPlacement:null,plotTypes:[]},this.layoutManager=new T(0,0,this.width,this.height,2),this.plotArea.layoutManager&&this.plotArea.layoutManager.reset(),this.data=[];var e=0,i=null;if(this.options.data){for(var a=0;a<this.options.data.length;a++)if(e++,!this.options.data[a].type||0<=c._supportedChartTypes.indexOf(this.options.data[a].type)){var n=new B(this,this.options.data[a],e-1,++this._eventManager.lastObjectId);"error"===n.type&&(n.linkedDataSeriesIndex=h(this.options.data[a].linkedDataSeriesIndex)?a-1:this.options.data[a].linkedDataSeriesIndex,0>n.linkedDataSeriesIndex||n.linkedDataSeriesIndex>=this.options.data.length||"number"!=typeof n.linkedDataSeriesIndex||"error"===this.options.data[n.linkedDataSeriesIndex].type)&&(n.linkedDataSeriesIndex=null),null===n.name&&(n.name="DataSeries "+e),null===n.color?1<this.options.data.length?(n._colorSet=[this._selectedColorSet[n.index%this._selectedColorSet.length]],n.color=this._selectedColorSet[n.index%this._selectedColorSet.length]):n._colorSet="line"===n.type||"stepLine"===n.type||"spline"===n.type||"area"===n.type||"stepArea"===n.type||"splineArea"===n.type||"stackedArea"===n.type||"stackedArea100"===n.type||"rangeArea"===n.type||"rangeSplineArea"===n.type||"candlestick"===n.type||"ohlc"===n.type||"waterfall"===n.type||"boxAndWhisker"===n.type?[this._selectedColorSet[0]]:this._selectedColorSet:n._colorSet=[n.color],null===n.markerSize&&(("line"===n.type||"stepLine"===n.type||"spline"===n.type||0<=n.type.toLowerCase().indexOf("area"))&&n.dataPoints&&n.dataPoints.length<this.width/16||"scatter"===n.type)&&(n.markerSize=8),"bubble"!==n.type&&"scatter"!==n.type||!n.dataPoints||(n.dataPoints.some?n.dataPoints.some(function(e){return e.x})&&n.dataPoints.sort(t):n.dataPoints.sort(t)),this.data.push(n);var o,s=n.axisPlacement,i=i||s;if("normal"===s?"xySwapped"===this.plotInfo.axisPlacement?o='You cannot combine "'+n.type+'" with bar chart':"none"===this.plotInfo.axisPlacement?o='You cannot combine "'+n.type+'" with pie chart':null===this.plotInfo.axisPlacement&&(this.plotInfo.axisPlacement="normal"):"xySwapped"===s?"normal"===this.plotInfo.axisPlacement?o='You cannot combine "'+n.type+'" with line, area, column or pie chart':"none"===this.plotInfo.axisPlacement?o='You cannot combine "'+n.type+'" with pie chart':null===this.plotInfo.axisPlacement&&(this.plotInfo.axisPlacement="xySwapped"):"none"===s?"normal"===this.plotInfo.axisPlacement?o='You cannot combine "'+n.type+'" with line, area, column or bar chart':"xySwapped"===this.plotInfo.axisPlacement?o='You cannot combine "'+n.type+'" with bar chart':null===this.plotInfo.axisPlacement&&(this.plotInfo.axisPlacement="none"):null===s&&"none"===this.plotInfo.axisPlacement&&(o='You cannot combine "'+n.type+'" with pie chart'),o&&window.console)return void void 0}for(a=0;a<this.data.length;a++){if("none"==i&&"error"===this.data[a].type&&window.console)return void void 0;"error"===this.data[a].type&&(this.data[a].axisPlacement=this.plotInfo.axisPlacement=i||"normal",this.data[a]._linkedSeries=null===this.data[a].linkedDataSeriesIndex?null:this.data[this.data[a].linkedDataSeriesIndex])}}this._objectsInitialized=!0},c._supportedChartTypes=u("line stepLine spline column area stepArea splineArea bar bubble scatter stackedColumn stackedColumn100 stackedBar stackedBar100 stackedArea stackedArea100 candlestick ohlc boxAndWhisker rangeColumn error rangeBar rangeArea rangeSplineArea pie doughnut funnel pyramid waterfall".split(" ")),c.prototype.render=function(e){e&&(this.options=e),this._initialize();var t=[];for(e=0;e<this.data.length;e++)if("normal"===this.plotInfo.axisPlacement||"xySwapped"===this.plotInfo.axisPlacement){if(!this.data[e].axisYType||"primary"===this.data[e].axisYType)if(this.options.axisY&&0<this.options.axisY.length){if(!this.axisY.length)for(var i=0;i<this.options.axisY.length;i++)"normal"===this.plotInfo.axisPlacement?this._axes.push(this.axisY[i]=new N(this,"axisY",this.options.axisY[i],i,"axisY","left")):"xySwapped"===this.plotInfo.axisPlacement&&this._axes.push(this.axisY[i]=new N(this,"axisY",this.options.axisY[i],i,"axisY","bottom"));this.data[e].axisY=this.axisY[0<=this.data[e].axisYIndex&&this.data[e].axisYIndex<this.axisY.length?this.data[e].axisYIndex:0],this.axisY[0<=this.data[e].axisYIndex&&this.data[e].axisYIndex<this.axisY.length?this.data[e].axisYIndex:0].dataSeries.push(this.data[e])}else this.axisY.length||("normal"===this.plotInfo.axisPlacement?this._axes.push(this.axisY[0]=new N(this,"axisY",this.options.axisY,0,"axisY","left")):"xySwapped"===this.plotInfo.axisPlacement&&this._axes.push(this.axisY[0]=new N(this,"axisY",this.options.axisY,0,"axisY","bottom"))),this.data[e].axisY=this.axisY[0],this.axisY[0].dataSeries.push(this.data[e]);if("secondary"===this.data[e].axisYType)if(this.options.axisY2&&0<this.options.axisY2.length){if(!this.axisY2.length)for(i=0;i<this.options.axisY2.length;i++)"normal"===this.plotInfo.axisPlacement?this._axes.push(this.axisY2[i]=new N(this,"axisY2",this.options.axisY2[i],i,"axisY","right")):"xySwapped"===this.plotInfo.axisPlacement&&this._axes.push(this.axisY2[i]=new N(this,"axisY2",this.options.axisY2[i],i,"axisY","top"));this.data[e].axisY=this.axisY2[0<=this.data[e].axisYIndex&&this.data[e].axisYIndex<this.axisY2.length?this.data[e].axisYIndex:0],this.axisY2[0<=this.data[e].axisYIndex&&this.data[e].axisYIndex<this.axisY2.length?this.data[e].axisYIndex:0].dataSeries.push(this.data[e])}else this.axisY2.length||("normal"===this.plotInfo.axisPlacement?this._axes.push(this.axisY2[0]=new N(this,"axisY2",this.options.axisY2,0,"axisY","right")):"xySwapped"===this.plotInfo.axisPlacement&&this._axes.push(this.axisY2[0]=new N(this,"axisY2",this.options.axisY2,0,"axisY","top"))),this.data[e].axisY=this.axisY2[0],this.axisY2[0].dataSeries.push(this.data[e]);if(!this.data[e].axisXType||"primary"===this.data[e].axisXType)if(this.options.axisX&&0<this.options.axisX.length){if(!this.axisX.length)for(i=0;i<this.options.axisX.length;i++)"normal"===this.plotInfo.axisPlacement?this._axes.push(this.axisX[i]=new N(this,"axisX",this.options.axisX[i],i,"axisX","bottom")):"xySwapped"===this.plotInfo.axisPlacement&&this._axes.push(this.axisX[i]=new N(this,"axisX",this.options.axisX[i],i,"axisX","left"));this.data[e].axisX=this.axisX[0<=this.data[e].axisXIndex&&this.data[e].axisXIndex<this.axisX.length?this.data[e].axisXIndex:0],this.axisX[0<=this.data[e].axisXIndex&&this.data[e].axisXIndex<this.axisX.length?this.data[e].axisXIndex:0].dataSeries.push(this.data[e])}else this.axisX.length||("normal"===this.plotInfo.axisPlacement?this._axes.push(this.axisX[0]=new N(this,"axisX",this.options.axisX,0,"axisX","bottom")):"xySwapped"===this.plotInfo.axisPlacement&&this._axes.push(this.axisX[0]=new N(this,"axisX",this.options.axisX,0,"axisX","left"))),this.data[e].axisX=this.axisX[0],this.axisX[0].dataSeries.push(this.data[e]);if("secondary"===this.data[e].axisXType)if(this.options.axisX2&&0<this.options.axisX2.length){if(!this.axisX2.length)for(i=0;i<this.options.axisX2.length;i++)"normal"===this.plotInfo.axisPlacement?this._axes.push(this.axisX2[i]=new N(this,"axisX2",this.options.axisX2[i],i,"axisX","top")):"xySwapped"===this.plotInfo.axisPlacement&&this._axes.push(this.axisX2[i]=new N(this,"axisX2",this.options.axisX2[i],i,"axisX","right"));this.data[e].axisX=this.axisX2[0<=this.data[e].axisXIndex&&this.data[e].axisXIndex<this.axisX2.length?this.data[e].axisXIndex:0],this.axisX2[0<=this.data[e].axisXIndex&&this.data[e].axisXIndex<this.axisX2.length?this.data[e].axisXIndex:0].dataSeries.push(this.data[e])}else this.axisX2.length||("normal"===this.plotInfo.axisPlacement?this._axes.push(this.axisX2[0]=new N(this,"axisX2",this.options.axisX2,0,"axisX","top")):"xySwapped"===this.plotInfo.axisPlacement&&this._axes.push(this.axisX2[0]=new N(this,"axisX2",this.options.axisX2,0,"axisX","right"))),this.data[e].axisX=this.axisX2[0],this.axisX2[0].dataSeries.push(this.data[e])}if(this.axisY){for(i=1;i<this.axisY.length;i++)void 0===this.axisY[i].options.gridThickness&&(this.axisY[i].gridThickness=0);for(i=0;i<this.axisY.length-1;i++)void 0===this.axisY[i].options.margin&&(this.axisY[i].margin=10)}if(this.axisY2){for(i=1;i<this.axisY2.length;i++)void 0===this.axisY2[i].options.gridThickness&&(this.axisY2[i].gridThickness=0);for(i=0;i<this.axisY2.length-1;i++)void 0===this.axisY2[i].options.margin&&(this.axisY2[i].margin=10)}if(this.axisY&&0<this.axisY.length&&this.axisY2&&0<this.axisY2.length&&(0<this.axisY[0].gridThickness&&void 0===this.axisY2[0].options.gridThickness?this.axisY2[0].gridThickness=0:0<this.axisY2[0].gridThickness&&void 0===this.axisY[0].options.gridThickness&&(this.axisY[0].gridThickness=0)),this.axisX)for(i=0;i<this.axisX.length;i++)void 0===this.axisX[i].options.gridThickness&&(this.axisX[i].gridThickness=0);if(this.axisX2)for(i=0;i<this.axisX2.length;i++)void 0===this.axisX2[i].options.gridThickness&&(this.axisX2[i].gridThickness=0);if(this.axisX&&0<this.axisX.length&&this.axisX2&&0<this.axisX2.length&&(0<this.axisX[0].gridThickness&&void 0===this.axisX2[0].options.gridThickness?this.axisX2[0].gridThickness=0:0<this.axisX2[0].gridThickness&&void 0===this.axisX[0].options.gridThickness&&(this.axisX[0].gridThickness=0)),i=!1,0<this._axes.length&&(this.zoomEnabled||this.panEnabled))for(e=0;e<this._axes.length;e++)if(null!==this._axes[e].viewportMinimum||null!==this._axes[e].viewportMaximum){i=!0;break}if(i?(k(this._zoomButton,this._resetButton),this._toolBar.style.border=this.toolbar.borderThickness+"px solid "+this.toolbar.borderColor,this._zoomButton.style.borderRight=this.toolbar.borderThickness+"px solid "+this.toolbar.borderColor,this._resetButton.style.borderRight=(this.exportEnabled?this.toolbar.borderThickness:0)+"px solid "+this.toolbar.borderColor):(S(this._zoomButton,this._resetButton),this._toolBar.style.border=this.toolbar.borderThickness+"px solid transparent",this.options.zoomEnabled&&(this.zoomEnabled=!0,this.panEnabled=!1)),d(this),this._processData(),this.options.title&&(this.title=new $(this,this.options.title),this.title.dockInsidePlotArea?t.push(this.title):this.title.render()),this.options.subtitles)for(this.subtitles=[],e=0;e<this.options.subtitles.length;e++)i=new _(this,this.options.subtitles[e],e),this.subtitles.push(i),i.dockInsidePlotArea?t.push(i):i.render();for(this.legend=new L(this,this.options.legend),e=0;e<this.data.length;e++)(this.data[e].showInLegend||"pie"===this.data[e].type||"doughnut"===this.data[e].type||"funnel"===this.data[e].type||"pyramid"===this.data[e].type)&&this.legend.dataSeries.push(this.data[e]);for(this.legend.dockInsidePlotArea?t.push(this.legend):this.legend.render(),e=0;e<this._axes.length;e++)if(this._axes[e].scaleBreaks&&this._axes[e].scaleBreaks._appliedBreaks.length){O?(this._breaksCanvas=x(this.width,this.height,!0),this._breaksCanvasCtx=this._breaksCanvas.getContext("2d")):(this._breaksCanvas=this.canvas,this._breaksCanvasCtx=this.ctx);break}if(this._preRenderCanvas=x(this.width,this.height),this._preRenderCtx=this._preRenderCanvas.getContext("2d"),"normal"===this.plotInfo.axisPlacement||"xySwapped"===this.plotInfo.axisPlacement)N.setLayoutAndRender(this.axisX,this.axisX2,this.axisY,this.axisY2,this.plotInfo.axisPlacement,this.layoutManager.getFreeSpace());else{if("none"!==this.plotInfo.axisPlacement)return;this.preparePlotArea()}for(e=0;e<t.length;e++)t[e].render();var a=[];if(this.animatedRender){var n=x(this.width,this.height);n.getContext("2d").drawImage(this.canvas,0,0,this.width,this.height)}y(this);var o,t=this.ctx.miterLimit;for(this.ctx.miterLimit=3,O&&this._breaksCanvas&&(this._preRenderCtx.drawImage(this.canvas,0,0,this.width,this.height),this._preRenderCtx.drawImage(this._breaksCanvas,0,0,this.width,this.height),this._breaksCanvasCtx.globalCompositeOperation="source-atop",this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),this._preRenderCtx.clearRect(0,0,this.width,this.height)),e=0;e<this.plotInfo.plotTypes.length;e++)for(var s=this.plotInfo.plotTypes[e],r=0;r<s.plotUnits.length;r++){var l=s.plotUnits[r],c=null;for(l.targetCanvas=null,this.animatedRender&&(l.targetCanvas=x(this.width,this.height),l.targetCanvasCtx=l.targetCanvas.getContext("2d"),o=l.targetCanvasCtx.miterLimit,l.targetCanvasCtx.miterLimit=3),"line"===l.type?c=this.renderLine(l):"stepLine"===l.type?c=this.renderStepLine(l):"spline"===l.type?c=this.renderSpline(l):"column"===l.type?c=this.renderColumn(l):"bar"===l.type?c=this.renderBar(l):"area"===l.type?c=this.renderArea(l):"stepArea"===l.type?c=this.renderStepArea(l):"splineArea"===l.type?c=this.renderSplineArea(l):"stackedColumn"===l.type?c=this.renderStackedColumn(l):"stackedColumn100"===l.type?c=this.renderStackedColumn100(l):"stackedBar"===l.type?c=this.renderStackedBar(l):"stackedBar100"===l.type?c=this.renderStackedBar100(l):"stackedArea"===l.type?c=this.renderStackedArea(l):"stackedArea100"===l.type?c=this.renderStackedArea100(l):"bubble"===l.type?c=c=this.renderBubble(l):"scatter"===l.type?c=this.renderScatter(l):"pie"===l.type?this.renderPie(l):"doughnut"===l.type?this.renderPie(l):"funnel"===l.type?c=this.renderFunnel(l):"pyramid"===l.type?c=this.renderFunnel(l):"candlestick"===l.type?c=this.renderCandlestick(l):"ohlc"===l.type?c=this.renderCandlestick(l):"rangeColumn"===l.type?c=this.renderRangeColumn(l):"error"===l.type?c=this.renderError(l):"rangeBar"===l.type?c=this.renderRangeBar(l):"rangeArea"===l.type?c=this.renderRangeArea(l):"rangeSplineArea"===l.type?c=this.renderRangeSplineArea(l):"waterfall"===l.type?c=this.renderWaterfall(l):"boxAndWhisker"===l.type&&(c=this.renderBoxAndWhisker(l)),i=0;i<l.dataSeriesIndexes.length;i++)this._dataInRenderedOrder.push(this.data[l.dataSeriesIndexes[i]]);this.animatedRender&&(l.targetCanvasCtx.miterLimit=o,c&&a.push(c))}this.ctx.miterLimit=t,this.animatedRender&&this._breaksCanvasCtx&&a.push({source:this._breaksCanvasCtx,dest:this.plotArea.ctx,animationCallback:ie.fadeInAnimation,easingFunction:ie.easing.easeInQuad,animationBase:0,startTimePercent:.7}),this.animatedRender&&0<this._indexLabels.length&&(o=x(this.width,this.height).getContext("2d"),a.push(this.renderIndexLabels(o)));var h=this;if(0<a.length)h.disableToolTip=!0,h._animator.animate(200,h.animationDuration,function(e){h.ctx.clearRect(0,0,h.width,h.height),h.ctx.drawImage(n,0,0,Math.floor(h.width*ne),Math.floor(h.height*ne),0,0,h.width,h.height);for(var t=0;t<a.length;t++)c=a[t],1>e&&void 0!==c.startTimePercent?e>=c.startTimePercent&&c.animationCallback(c.easingFunction(e-c.startTimePercent,0,1,1-c.startTimePercent),c):c.animationCallback(c.easingFunction(e,0,1,1),c);h.dispatchEvent("dataAnimationIterationEnd",{chart:h})},function(){a=[];for(var e=0;e<h.plotInfo.plotTypes.length;e++)for(var t=h.plotInfo.plotTypes[e],i=0;i<t.plotUnits.length;i++)t.plotUnits[i].targetCanvas=null;n=null,h.disableToolTip=!1});else{if(h._breaksCanvas)if(O)h.plotArea.ctx.drawImage(h._breaksCanvas,0,0,this.width,this.height);else for(i=0;i<h._axes.length;i++)h._axes[i].createMask();0<h._indexLabels.length&&h.renderIndexLabels(),h.dispatchEvent("dataAnimationIterationEnd",{chart:h})}for(this.attachPlotAreaEventHandlers(),this.zoomEnabled||this.panEnabled||!this._zoomButton||"none"===this._zoomButton.style.display||S(this._zoomButton,this._resetButton),this.toolTip._updateToolTip(),this.renderCount++,this._breaksCanvas&&(delete this._breaksCanvas,delete this._breaksCanvasCtx),i=0;i<this._axes.length;i++)this._axes[i].maskCanvas&&(delete this._axes[i].maskCanvas,delete this._axes[i].maskCtx)},c.prototype.attachPlotAreaEventHandlers=function(){this.attachEvent({context:this,chart:this,mousedown:this._plotAreaMouseDown,mouseup:this._plotAreaMouseUp,mousemove:this._plotAreaMouseMove,cursor:this.panEnabled?"move":"default",capture:!0,bounds:this.plotArea})},c.prototype.categoriseDataSeries=function(){for(var e="",t=0;t<this.data.length;t++)if(e=this.data[t],e.dataPoints&&0!==e.dataPoints.length&&e.visible&&0<=c._supportedChartTypes.indexOf(e.type)){for(var i=null,a=!1,n=null,o=!1,s=0;s<this.plotInfo.plotTypes.length;s++)if(this.plotInfo.plotTypes[s].type===e.type){a=!0,i=this.plotInfo.plotTypes[s];break}for(a||(i={type:e.type,totalDataSeries:0,plotUnits:[]},this.plotInfo.plotTypes.push(i)),s=0;s<i.plotUnits.length;s++)if(i.plotUnits[s].axisYType===e.axisYType&&i.plotUnits[s].axisXType===e.axisXType&&i.plotUnits[s].axisYIndex===e.axisYIndex&&i.plotUnits[s].axisXIndex===e.axisXIndex){o=!0,n=i.plotUnits[s];break}o||(n={type:e.type,previousDataSeriesCount:0,index:i.plotUnits.length,plotType:i,axisXType:e.axisXType,axisYType:e.axisYType,axisYIndex:e.axisYIndex,axisXIndex:e.axisXIndex,
axisY:"primary"===e.axisYType?this.axisY[0<=e.axisYIndex&&e.axisYIndex<this.axisY.length?e.axisYIndex:0]:this.axisY2[0<=e.axisYIndex&&e.axisYIndex<this.axisY2.length?e.axisYIndex:0],axisX:"primary"===e.axisXType?this.axisX[0<=e.axisXIndex&&e.axisXIndex<this.axisX.length?e.axisXIndex:0]:this.axisX2[0<=e.axisXIndex&&e.axisXIndex<this.axisX2.length?e.axisXIndex:0],dataSeriesIndexes:[],yTotals:[]},i.plotUnits.push(n)),i.totalDataSeries++,n.dataSeriesIndexes.push(t),e.plotUnit=n}for(t=0;t<this.plotInfo.plotTypes.length;t++)for(i=this.plotInfo.plotTypes[t],s=e=0;s<i.plotUnits.length;s++)i.plotUnits[s].previousDataSeriesCount=e,e+=i.plotUnits[s].dataSeriesIndexes.length},c.prototype.assignIdToDataPoints=function(){for(var e=0;e<this.data.length;e++){var t=this.data[e];if(t.dataPoints)for(var i=t.dataPoints.length,a=0;a<i;a++)t.dataPointIds[a]=++this._eventManager.lastObjectId}},c.prototype._processData=function(){this.assignIdToDataPoints(),this.categoriseDataSeries();for(var e=0;e<this.plotInfo.plotTypes.length;e++)for(var t=this.plotInfo.plotTypes[e],i=0;i<t.plotUnits.length;i++){var a=t.plotUnits[i];"line"===a.type||"stepLine"===a.type||"spline"===a.type||"column"===a.type||"area"===a.type||"stepArea"===a.type||"splineArea"===a.type||"bar"===a.type||"bubble"===a.type||"scatter"===a.type?this._processMultiseriesPlotUnit(a):"stackedColumn"===a.type||"stackedBar"===a.type||"stackedArea"===a.type?this._processStackedPlotUnit(a):"stackedColumn100"===a.type||"stackedBar100"===a.type||"stackedArea100"===a.type?this._processStacked100PlotUnit(a):"candlestick"===a.type||"ohlc"===a.type||"rangeColumn"===a.type||"rangeBar"===a.type||"rangeArea"===a.type||"rangeSplineArea"===a.type||"error"===a.type||"boxAndWhisker"===a.type?this._processMultiYPlotUnit(a):"waterfall"===a.type&&this._processSpecificPlotUnit(a)}this.calculateAutoBreaks()},c.prototype._processMultiseriesPlotUnit=function(e){if(e.dataSeriesIndexes&&!(1>e.dataSeriesIndexes.length))for(var t,i,a=e.axisY.dataInfo,n=e.axisX.dataInfo,o=!1,s=0;s<e.dataSeriesIndexes.length;s++){var r,l=this.data[e.dataSeriesIndexes[s]],c=0,h=!1,u=!1;if("normal"===l.axisPlacement||"xySwapped"===l.axisPlacement)var d=e.axisX.sessionVariables.newViewportMinimum?e.axisX.sessionVariables.newViewportMinimum:this.options.axisX&&this.options.axisX.viewportMinimum?this.options.axisX.viewportMinimum:this.options.axisX&&this.options.axisX.minimum?this.options.axisX.minimum:e.axisX.logarithmic?0:-1/0,p=e.axisX.sessionVariables.newViewportMaximum?e.axisX.sessionVariables.newViewportMaximum:this.options.axisX&&this.options.axisX.viewportMaximum?this.options.axisX.viewportMaximum:this.options.axisX&&this.options.axisX.maximum?this.options.axisX.maximum:1/0;for((l.dataPoints[c].x&&l.dataPoints[c].x.getTime||"dateTime"===l.xValueType)&&(o=!0),c=0;c<l.dataPoints.length;c++){if(void 0===l.dataPoints[c].x&&(l.dataPoints[c].x=c+(e.axisX.logarithmic?1:0)),l.dataPoints[c].x.getTime?(o=!0,t=l.dataPoints[c].x.getTime()):t=l.dataPoints[c].x,i=l.dataPoints[c].y,t<n.min&&(n.min=t),t>n.max&&(n.max=t),i<a.min&&"number"==typeof i&&(a.min=i),i>a.max&&"number"==typeof i&&(a.max=i),0<c){if(e.axisX.logarithmic){var f=t/l.dataPoints[c-1].x;1>f&&(f=1/f),n.minDiff>f&&1!==f&&(n.minDiff=f)}else f=t-l.dataPoints[c-1].x,0>f&&(f*=-1),n.minDiff>f&&0!==f&&(n.minDiff=f);null!==i&&null!==l.dataPoints[c-1].y&&(e.axisY.logarithmic?(f=i/l.dataPoints[c-1].y,1>f&&(f=1/f),a.minDiff>f&&1!==f&&(a.minDiff=f)):(f=i-l.dataPoints[c-1].y,0>f&&(f*=-1),a.minDiff>f&&0!==f&&(a.minDiff=f)))}if(t<d&&!h)null!==i&&(r=t);else{if(!h&&(h=!0,0<c)){c-=2;continue}if(t>p&&!u)u=!0;else if(t>p&&u)continue;l.dataPoints[c].label&&(e.axisX.labels[t]=l.dataPoints[c].label),t<n.viewPortMin&&(n.viewPortMin=t),t>n.viewPortMax&&(n.viewPortMax=t),null===i?n.viewPortMin===t&&r<t&&(n.viewPortMin=r):(i<a.viewPortMin&&"number"==typeof i&&(a.viewPortMin=i),i>a.viewPortMax&&"number"==typeof i&&(a.viewPortMax=i))}}l.axisX.valueType=l.xValueType=o?"dateTime":"number"}},c.prototype._processStackedPlotUnit=function(e){if(e.dataSeriesIndexes&&!(1>e.dataSeriesIndexes.length)){for(var t,i,a=e.axisY.dataInfo,n=e.axisX.dataInfo,o=!1,s=[],r=[],l=1/0,c=-1/0,u=0;u<e.dataSeriesIndexes.length;u++){var d,p=this.data[e.dataSeriesIndexes[u]],f=0,m=!1,g=!1;if("normal"===p.axisPlacement||"xySwapped"===p.axisPlacement)var v=this.sessionVariables.axisX.newViewportMinimum?this.sessionVariables.axisX.newViewportMinimum:this.options.axisX&&this.options.axisX.viewportMinimum?this.options.axisX.viewportMinimum:this.options.axisX&&this.options.axisX.minimum?this.options.axisX.minimum:-1/0,b=this.sessionVariables.axisX.newViewportMaximum?this.sessionVariables.axisX.newViewportMaximum:this.options.axisX&&this.options.axisX.viewportMaximum?this.options.axisX.viewportMaximum:this.options.axisX&&this.options.axisX.maximum?this.options.axisX.maximum:1/0;for((p.dataPoints[f].x&&p.dataPoints[f].x.getTime||"dateTime"===p.xValueType)&&(o=!0),f=0;f<p.dataPoints.length;f++){if(void 0===p.dataPoints[f].x&&(p.dataPoints[f].x=f+(e.axisX.logarithmic?1:0)),p.dataPoints[f].x.getTime?(o=!0,t=p.dataPoints[f].x.getTime()):t=p.dataPoints[f].x,i=h(p.dataPoints[f].y)?0:p.dataPoints[f].y,t<n.min&&(n.min=t),t>n.max&&(n.max=t),0<f){if(e.axisX.logarithmic){var y=t/p.dataPoints[f-1].x;1>y&&(y=1/y),n.minDiff>y&&1!==y&&(n.minDiff=y)}else y=t-p.dataPoints[f-1].x,0>y&&(y*=-1),n.minDiff>y&&0!==y&&(n.minDiff=y);null!==i&&null!==p.dataPoints[f-1].y&&(e.axisY.logarithmic?0<i&&(y=i/p.dataPoints[f-1].y,1>y&&(y=1/y),a.minDiff>y&&1!==y&&(a.minDiff=y)):(y=i-p.dataPoints[f-1].y,0>y&&(y*=-1),a.minDiff>y&&0!==y&&(a.minDiff=y)))}if(t<v&&!m)null!==p.dataPoints[f].y&&(d=t);else{if(!m&&(m=!0,0<f)){f-=2;continue}if(t>b&&!g)g=!0;else if(t>b&&g)continue;p.dataPoints[f].label&&(e.axisX.labels[t]=p.dataPoints[f].label),t<n.viewPortMin&&(n.viewPortMin=t),t>n.viewPortMax&&(n.viewPortMax=t),null===p.dataPoints[f].y?n.viewPortMin===t&&d<t&&(n.viewPortMin=d):(e.yTotals[t]=(e.yTotals[t]?e.yTotals[t]:0)+i,0<=i?s[t]?s[t]+=i:(s[t]=i,l=Math.min(i,l)):r[t]?r[t]+=i:(r[t]=i,c=Math.max(i,c)))}}e.axisY.scaleBreaks&&e.axisY.scaleBreaks.autoCalculate&&1<=e.axisY.scaleBreaks.maxNumberOfAutoBreaks&&(a.dataPointYPositiveSums?(a.dataPointYPositiveSums.push.apply(a.dataPointYPositiveSums,s),a.dataPointYNegativeSums.push.apply(a.dataPointYPositiveSums,r)):(a.dataPointYPositiveSums=s,a.dataPointYNegativeSums=r)),p.axisX.valueType=p.xValueType=o?"dateTime":"number"}for(f in s)s.hasOwnProperty(f)&&!isNaN(f)&&(e=s[f],e<a.min&&(a.min=Math.min(e,l)),e>a.max&&(a.max=e),f<n.viewPortMin||f>n.viewPortMax||(e<a.viewPortMin&&(a.viewPortMin=Math.min(e,l)),e>a.viewPortMax&&(a.viewPortMax=e)));for(f in r)r.hasOwnProperty(f)&&!isNaN(f)&&(e=r[f],e<a.min&&(a.min=e),e>a.max&&(a.max=Math.max(e,c)),f<n.viewPortMin||f>n.viewPortMax||(e<a.viewPortMin&&(a.viewPortMin=e),e>a.viewPortMax&&(a.viewPortMax=Math.max(e,c))))}},c.prototype._processStacked100PlotUnit=function(e){if(e.dataSeriesIndexes&&!(1>e.dataSeriesIndexes.length)){for(var t,i,a=e.axisY.dataInfo,n=e.axisX.dataInfo,o=!1,s=!1,r=!1,l=[],c=0;c<e.dataSeriesIndexes.length;c++){var u,d=this.data[e.dataSeriesIndexes[c]],p=0,f=!1,m=!1;if("normal"===d.axisPlacement||"xySwapped"===d.axisPlacement)var g=this.sessionVariables.axisX.newViewportMinimum?this.sessionVariables.axisX.newViewportMinimum:this.options.axisX&&this.options.axisX.viewportMinimum?this.options.axisX.viewportMinimum:this.options.axisX&&this.options.axisX.minimum?this.options.axisX.minimum:-1/0,v=this.sessionVariables.axisX.newViewportMaximum?this.sessionVariables.axisX.newViewportMaximum:this.options.axisX&&this.options.axisX.viewportMaximum?this.options.axisX.viewportMaximum:this.options.axisX&&this.options.axisX.maximum?this.options.axisX.maximum:1/0;for((d.dataPoints[p].x&&d.dataPoints[p].x.getTime||"dateTime"===d.xValueType)&&(o=!0),p=0;p<d.dataPoints.length;p++){if(void 0===d.dataPoints[p].x&&(d.dataPoints[p].x=p+(e.axisX.logarithmic?1:0)),d.dataPoints[p].x.getTime?(o=!0,t=d.dataPoints[p].x.getTime()):t=d.dataPoints[p].x,i=h(d.dataPoints[p].y)?null:d.dataPoints[p].y,t<n.min&&(n.min=t),t>n.max&&(n.max=t),0<p){if(e.axisX.logarithmic){var b=t/d.dataPoints[p-1].x;1>b&&(b=1/b),n.minDiff>b&&1!==b&&(n.minDiff=b)}else b=t-d.dataPoints[p-1].x,0>b&&(b*=-1),n.minDiff>b&&0!==b&&(n.minDiff=b);h(i)||null===d.dataPoints[p-1].y||(e.axisY.logarithmic?0<i&&(b=i/d.dataPoints[p-1].y,1>b&&(b=1/b),a.minDiff>b&&1!==b&&(a.minDiff=b)):(b=i-d.dataPoints[p-1].y,0>b&&(b*=-1),a.minDiff>b&&0!==b&&(a.minDiff=b)))}if(t<g&&!f)null!==i&&(u=t);else{if(!f&&(f=!0,0<p)){p-=2;continue}if(t>v&&!m)m=!0;else if(t>v&&m)continue;d.dataPoints[p].label&&(e.axisX.labels[t]=d.dataPoints[p].label),t<n.viewPortMin&&(n.viewPortMin=t),t>n.viewPortMax&&(n.viewPortMax=t),null===i?n.viewPortMin===t&&u<t&&(n.viewPortMin=u):(e.yTotals[t]=(e.yTotals[t]?e.yTotals[t]:0)+i,0<=i?s=!0:0>i&&(r=!0),l[t]=l[t]?l[t]+Math.abs(i):Math.abs(i))}}d.axisX.valueType=d.xValueType=o?"dateTime":"number"}e.axisY.logarithmic?(a.max=h(a.viewPortMax)?99*Math.pow(e.axisY.logarithmBase,-.05):Math.max(a.viewPortMax,99*Math.pow(e.axisY.logarithmBase,-.05)),a.min=h(a.viewPortMin)?1:Math.min(a.viewPortMin,1)):s&&!r?(a.max=h(a.viewPortMax)?99:Math.max(a.viewPortMax,99),a.min=h(a.viewPortMin)?1:Math.min(a.viewPortMin,1)):s&&r?(a.max=h(a.viewPortMax)?99:Math.max(a.viewPortMax,99),a.min=h(a.viewPortMin)?-99:Math.min(a.viewPortMin,-99)):!s&&r&&(a.max=h(a.viewPortMax)?-1:Math.max(a.viewPortMax,-1),a.min=h(a.viewPortMin)?-99:Math.min(a.viewPortMin,-99)),a.viewPortMin=a.min,a.viewPortMax=a.max,e.dataPointYSums=l}},c.prototype._processMultiYPlotUnit=function(e){if(e.dataSeriesIndexes&&!(1>e.dataSeriesIndexes.length))for(var t,i,a,n,o=e.axisY.dataInfo,s=e.axisX.dataInfo,r=!1,l=0;l<e.dataSeriesIndexes.length;l++){var c,h,u,d=this.data[e.dataSeriesIndexes[l]],p=0,f=!1,m=!1;if("normal"===d.axisPlacement||"xySwapped"===d.axisPlacement)var g=e.axisX.sessionVariables.newViewportMinimum?e.axisX.sessionVariables.newViewportMinimum:this.options.axisX&&this.options.axisX.viewportMinimum?this.options.axisX.viewportMinimum:this.options.axisX&&this.options.axisX.minimum?this.options.axisX.minimum:e.axisX.logarithmic?0:-1/0,v=e.axisX.sessionVariables.newViewportMaximum?e.axisX.sessionVariables.newViewportMaximum:this.options.axisX&&this.options.axisX.viewportMaximum?this.options.axisX.viewportMaximum:this.options.axisX&&this.options.axisX.maximum?this.options.axisX.maximum:1/0;for((d.dataPoints[p].x&&d.dataPoints[p].x.getTime||"dateTime"===d.xValueType)&&(r=!0),p=0;p<d.dataPoints.length;p++){if(void 0===d.dataPoints[p].x&&(d.dataPoints[p].x=p+(e.axisX.logarithmic?1:0)),d.dataPoints[p].x.getTime?(r=!0,t=d.dataPoints[p].x.getTime()):t=d.dataPoints[p].x,(i=d.dataPoints[p].y)&&i.length){a=Math.min.apply(null,i),n=Math.max.apply(null,i),h=!0;for(var b=0;b<i.length;b++)null===i.k&&(h=!1);h&&(f||(u=c),c=t)}if(t<s.min&&(s.min=t),t>s.max&&(s.max=t),a<o.min&&(o.min=a),n>o.max&&(o.max=n),0<p&&(e.axisX.logarithmic?(h=t/d.dataPoints[p-1].x,1>h&&(h=1/h),s.minDiff>h&&1!==h&&(s.minDiff=h)):(h=t-d.dataPoints[p-1].x,0>h&&(h*=-1),s.minDiff>h&&0!==h&&(s.minDiff=h)),i&&null!==i[0]&&d.dataPoints[p-1].y&&null!==d.dataPoints[p-1].y[0]&&(e.axisY.logarithmic?(h=i[0]/d.dataPoints[p-1].y[0],1>h&&(h=1/h),o.minDiff>h&&1!==h&&(o.minDiff=h)):(h=i[0]-d.dataPoints[p-1].y[0],0>h&&(h*=-1),o.minDiff>h&&0!==h&&(o.minDiff=h)))),!(t<g)||f){if(!f&&(f=!0,0<p)){p-=2,c=u;continue}if(t>v&&!m)m=!0;else if(t>v&&m)continue;if(d.dataPoints[p].label&&(e.axisX.labels[t]=d.dataPoints[p].label),t<s.viewPortMin&&(s.viewPortMin=t),t>s.viewPortMax&&(s.viewPortMax=t),s.viewPortMin===t&&i)for(b=0;b<i.length;b++)if(null===i[b]&&c<t){s.viewPortMin=c;break}null===i?s.viewPortMin===t&&c<t&&(s.viewPortMin=c):(a<o.viewPortMin&&(o.viewPortMin=a),n>o.viewPortMax&&(o.viewPortMax=n))}}d.axisX.valueType=d.xValueType=r?"dateTime":"number"}},c.prototype._processSpecificPlotUnit=function(e){if("waterfall"===e.type&&e.dataSeriesIndexes&&!(1>e.dataSeriesIndexes.length))for(var t,i,a=e.axisY.dataInfo,n=e.axisX.dataInfo,o=!1,s=0;s<e.dataSeriesIndexes.length;s++){var r=this.data[e.dataSeriesIndexes[s]],l=0,c=!1,h=!1,u=t=0;if("normal"===r.axisPlacement||"xySwapped"===r.axisPlacement)var d=e.axisX.sessionVariables.newViewportMinimum?e.axisX.sessionVariables.newViewportMinimum:this.options.axisX&&this.options.axisX.viewportMinimum?this.options.axisX.viewportMinimum:this.options.axisX&&this.options.axisX.minimum?this.options.axisX.minimum:e.axisX.logarithmic?0:-1/0,p=e.axisX.sessionVariables.newViewportMaximum?e.axisX.sessionVariables.newViewportMaximum:this.options.axisX&&this.options.axisX.viewportMaximum?this.options.axisX.viewportMaximum:this.options.axisX&&this.options.axisX.maximum?this.options.axisX.maximum:1/0;for((r.dataPoints[l].x&&r.dataPoints[l].x.getTime||"dateTime"===r.xValueType)&&(o=!0),l=0;l<r.dataPoints.length;l++)void 0!==r.dataPoints[l].isCumulativeSum&&!0===r.dataPoints[l].isCumulativeSum?(r.dataPointEOs[l].cumulativeSumYStartValue=0,r.dataPointEOs[l].cumulativeSum=0===l?0:r.dataPointEOs[l-1].cumulativeSum,r.dataPoints[l].y=0===l?0:r.dataPointEOs[l-1].cumulativeSum):void 0!==r.dataPoints[l].isIntermediateSum&&!0===r.dataPoints[l].isIntermediateSum?(r.dataPointEOs[l].cumulativeSumYStartValue=u,r.dataPointEOs[l].cumulativeSum=0===l?0:r.dataPointEOs[l-1].cumulativeSum,r.dataPoints[l].y=0===l?0:t,u=0===l?0:r.dataPointEOs[l-1].cumulativeSum,t=0):(i="number"!=typeof r.dataPoints[l].y?0:r.dataPoints[l].y,r.dataPointEOs[l].cumulativeSumYStartValue=0===l?0:r.dataPointEOs[l-1].cumulativeSum,r.dataPointEOs[l].cumulativeSum=0===l?i:r.dataPointEOs[l-1].cumulativeSum+i,t+=i);for(l=0;l<r.dataPoints.length;l++)if(void 0===r.dataPoints[l].x&&(r.dataPoints[l].x=l+(e.axisX.logarithmic?1:0)),r.dataPoints[l].x.getTime?(o=!0,t=r.dataPoints[l].x.getTime()):t=r.dataPoints[l].x,i=r.dataPoints[l].y,t<n.min&&(n.min=t),t>n.max&&(n.max=t),r.dataPointEOs[l].cumulativeSum<a.min&&(a.min=r.dataPointEOs[l].cumulativeSum),r.dataPointEOs[l].cumulativeSum>a.max&&(a.max=r.dataPointEOs[l].cumulativeSum),0<l&&(e.axisX.logarithmic?(u=t/r.dataPoints[l-1].x,1>u&&(u=1/u),n.minDiff>u&&1!==u&&(n.minDiff=u)):(u=t-r.dataPoints[l-1].x,0>u&&(u*=-1),n.minDiff>u&&0!==u&&(n.minDiff=u)),null!==i&&null!==r.dataPoints[l-1].y&&(e.axisY.logarithmic?(i=r.dataPointEOs[l].cumulativeSum/r.dataPointEOs[l-1].cumulativeSum,1>i&&(i=1/i),a.minDiff>i&&1!==i&&(a.minDiff=i)):(i=r.dataPointEOs[l].cumulativeSum-r.dataPointEOs[l-1].cumulativeSum,0>i&&(i*=-1),a.minDiff>i&&0!==i&&(a.minDiff=i)))),!(t<d)||c){if(!c&&(c=!0,0<l)){l-=2;continue}if(t>p&&!h)h=!0;else if(t>p&&h)continue;r.dataPoints[l].label&&(e.axisX.labels[t]=r.dataPoints[l].label),t<n.viewPortMin&&(n.viewPortMin=t),t>n.viewPortMax&&(n.viewPortMax=t),0<l&&(r.dataPointEOs[l-1].cumulativeSum<a.viewPortMin&&(a.viewPortMin=r.dataPointEOs[l-1].cumulativeSum),r.dataPointEOs[l-1].cumulativeSum>a.viewPortMax&&(a.viewPortMax=r.dataPointEOs[l-1].cumulativeSum)),r.dataPointEOs[l].cumulativeSum<a.viewPortMin&&(a.viewPortMin=r.dataPointEOs[l].cumulativeSum),r.dataPointEOs[l].cumulativeSum>a.viewPortMax&&(a.viewPortMax=r.dataPointEOs[l].cumulativeSum)}r.axisX.valueType=r.xValueType=o?"dateTime":"number"}},c.prototype.calculateAutoBreaks=function(){for(var e,t=this,i=!1,a=0;a<this._axes.length;a++)if(this._axes[a].scaleBreaks&&this._axes[a].scaleBreaks.autoCalculate&&1<=this._axes[a].scaleBreaks.maxNumberOfAutoBreaks){i=!0,this._axes[a].dataInfo._dataRanges=[];for(var n=0;n<100/Math.max(parseFloat(this._axes[a].scaleBreaks.collapsibleThreshold)||10,10);n++)this._axes[a].dataInfo._dataRanges.push({min:1/0,max:-1/0})}if(i){for(a=0;a<this.plotInfo.plotTypes.length;a++)for(i=this.plotInfo.plotTypes[a],n=0;n<i.plotUnits.length;n++)e=i.plotUnits[n],"line"===e.type||"stepLine"===e.type||"spline"===e.type||"column"===e.type||"area"===e.type||"stepArea"===e.type||"splineArea"===e.type||"bar"===e.type||"bubble"===e.type||"scatter"===e.type||"candlestick"===e.type||"ohlc"===e.type||"rangeColumn"===e.type||"rangeBar"===e.type||"rangeArea"===e.type||"rangeSplineArea"===e.type||"waterfall"===e.type||"error"===e.type||"boxAndWhisker"===e.type?function(e){if(e.dataSeriesIndexes&&!(1>e.dataSeriesIndexes.length)){var i=e.axisX.scaleBreaks&&e.axisX.scaleBreaks.autoCalculate&&1<=e.axisX.scaleBreaks.maxNumberOfAutoBreaks,a=e.axisY.scaleBreaks&&e.axisY.scaleBreaks.autoCalculate&&1<=e.axisY.scaleBreaks.maxNumberOfAutoBreaks;if(i||a)for(var n,o,s=e.axisY.dataInfo,r=e.axisX.dataInfo,l=r.min,c=r.max,u=s.min,d=s.max,r=r._dataRanges,s=s._dataRanges,p=0,f=0;f<e.dataSeriesIndexes.length;f++){var m=t.data[e.dataSeriesIndexes[f]];if(!(4>m.dataPoints.length))for(p=0;p<m.dataPoints.length;p++)if(i&&(o=(c+1-l)*Math.max(parseFloat(e.axisX.scaleBreaks.collapsibleThreshold)||10,10)/100,n=m.dataPoints[p].x.getTime?m.dataPoints[p].x.getTime():m.dataPoints[p].x,o=Math.floor((n-l)/o),n<r[o].min&&(r[o].min=n),n>r[o].max&&(r[o].max=n)),a){var g=(d+1-u)*Math.max(parseFloat(e.axisY.scaleBreaks.collapsibleThreshold)||10,10)/100;if((n="waterfall"===e.type?m.dataPointEOs[p].cumulativeSum:m.dataPoints[p].y)&&n.length)for(var v=0;v<n.length;v++)o=Math.floor((n[v]-u)/g),n[v]<s[o].min&&(s[o].min=n[v]),n[v]>s[o].max&&(s[o].max=n[v]);else h(n)||(o=Math.floor((n-u)/g),n<s[o].min&&(s[o].min=n),n>s[o].max&&(s[o].max=n))}}}}(e):0<=e.type.indexOf("stacked")&&function(e){if(e.dataSeriesIndexes&&!(1>e.dataSeriesIndexes.length)&&e.axisX.scaleBreaks&&e.axisX.scaleBreaks.autoCalculate&&1<=e.axisX.scaleBreaks.maxNumberOfAutoBreaks)for(var i,a=e.axisX.dataInfo,n=a.min,o=a.max,s=a._dataRanges,r=0,l=0;l<e.dataSeriesIndexes.length;l++){var c=t.data[e.dataSeriesIndexes[l]];if(!(4>c.dataPoints.length))for(r=0;r<c.dataPoints.length;r++)i=(o+1-n)*Math.max(parseFloat(e.axisX.scaleBreaks.collapsibleThreshold)||10,10)/100,a=c.dataPoints[r].x.getTime?c.dataPoints[r].x.getTime():c.dataPoints[r].x,i=Math.floor((a-n)/i),a<s[i].min&&(s[i].min=a),a>s[i].max&&(s[i].max=a)}}(e);for(a=0;a<this._axes.length;a++)if(this._axes[a].dataInfo._dataRanges){var o=this._axes[a].dataInfo.min;e=(this._axes[a].dataInfo.max+1-o)*Math.max(parseFloat(this._axes[a].scaleBreaks.collapsibleThreshold)||10,10)/100;var s,r,l=this._axes[a].dataInfo._dataRanges,i=[];if(this._axes[a].dataInfo.dataPointYPositiveSums){var c=this._axes[a].dataInfo.dataPointYPositiveSums;s=l;for(n in c)c.hasOwnProperty(n)&&!isNaN(n)&&(r=c[n],h(r)||(index=Math.floor((r-o)/e),r<s[index].min&&(s[index].min=r),r>s[index].max&&(s[index].max=r)));delete this._axes[a].dataInfo.dataPointYPositiveSums}if(this._axes[a].dataInfo.dataPointYNegativeSums){c=this._axes[a].dataInfo.dataPointYNegativeSums,s=l;for(n in c)c.hasOwnProperty(n)&&!isNaN(n)&&(r=-1*c[n],h(r)||(index=Math.floor((r-o)/e),r<s[index].min&&(s[index].min=r),r>s[index].max&&(s[index].max=r)));delete this._axes[a].dataInfo.dataPointYNegativeSums}for(n=0;n<l.length-1;n++)if(s=l[n].max,isFinite(s))for(;n<l.length-1;){if(o=l[n+1].min,isFinite(o)){r=o-s,r>e&&i.push({diff:r,start:s,end:o});break}n++}if(this._axes[a].scaleBreaks.customBreaks)for(n=0;n<this._axes[a].scaleBreaks.customBreaks.length;n++)for(e=0;e<i.length;e++)(this._axes[a].scaleBreaks.customBreaks[n].startValue<=i[e].start&&i[e].start<=this._axes[a].scaleBreaks.customBreaks[n].endValue||this._axes[a].scaleBreaks.customBreaks[n].startValue<=i[e].start&&i[e].start<=this._axes[a].scaleBreaks.customBreaks[n].endValue||i[e].start<=this._axes[a].scaleBreaks.customBreaks[n].startValue&&this._axes[a].scaleBreaks.customBreaks[n].startValue<=i[e].end||i[e].start<=this._axes[a].scaleBreaks.customBreaks[n].endValue&&this._axes[a].scaleBreaks.customBreaks[n].endValue<=i[e].end)&&(i.splice(e,1),e--);for(i.sort(function(e,t){return t.diff-e.diff}),n=0;n<Math.min(i.length,this._axes[a].scaleBreaks.maxNumberOfAutoBreaks);n++)e=function(e,t,i,a){return a?(i=Math.pow(Math.min(i*e/t,t/e),.2),1>=i&&(i=Math.pow(1>e?1/e:Math.min(t/e,e),.25)),{startValue:e*i,endValue:t/i}):(i=.2*Math.min(i-t+e,t-e),0>=i&&(i=.25*Math.min(t-e,Math.abs(e))),{startValue:e+i,endValue:t-i})}(i[n].start,i[n].end,this._axes[a].logarithmic?this._axes[a].dataInfo.max/this._axes[a].dataInfo.min:this._axes[a].dataInfo.max-this._axes[a].dataInfo.min,this._axes[a].logarithmic),this._axes[a].scaleBreaks.autoBreaks.push(new W(this,"autoBreaks",e,n,++this._eventManager.lastObjectId,this._axes[a].scaleBreaks)),this._axes[a].scaleBreaks._appliedBreaks.push(this._axes[a].scaleBreaks.autoBreaks[this._axes[a].scaleBreaks.autoBreaks.length-1]);this._axes[a].scaleBreaks._appliedBreaks.sort(function(e,t){return e.startValue-t.startValue})}}},c.prototype.getDataPointAtXY=function(e,t,i){i=i||!1;for(var a=[],n=this._dataInRenderedOrder.length-1;0<=n;n--){var o=null;(o=this._dataInRenderedOrder[n].getDataPointAtXY(e,t,i))&&a.push(o)}for(e=null,t=!1,i=0;i<a.length;i++)if(("line"===a[i].dataSeries.type||"stepLine"===a[i].dataSeries.type||"area"===a[i].dataSeries.type||"stepArea"===a[i].dataSeries.type)&&(n=v("markerSize",a[i].dataPoint,a[i].dataSeries)||8,a[i].distance<=n/2)){t=!0;break}for(i=0;i<a.length;i++)t&&"line"!==a[i].dataSeries.type&&"stepLine"!==a[i].dataSeries.type&&"area"!==a[i].dataSeries.type&&"stepArea"!==a[i].dataSeries.type||(e?a[i].distance<=e.distance&&(e=a[i]):e=a[i]);return e},c.prototype.getObjectAtXY=function(e,t,i){var a=null;if(i=this.getDataPointAtXY(e,t,i||!1))a=i.dataSeries.dataPointIds[i.dataPointIndex];else if(O)a=g(e,t,this._eventManager.ghostCtx);else for(i=0;i<this.legend.items.length;i++){var n=this.legend.items[i];e>=n.x1&&e<=n.x2&&t>=n.y1&&t<=n.y2&&(a=n.id)}return a},c.prototype.getAutoFontSize=function(e,t,i){return t=Math.min(this.width,this.height),Math.max("theme4"===this.theme?0:300<=t?12:10,Math.round(t*(e/400)))},c.prototype.resetOverlayedCanvas=function(){this.overlaidCanvasCtx.clearRect(0,0,this.width,this.height)},c.prototype.clearCanvas=function(){this.ctx.clearRect(0,0,this.width,this.height),this.backgroundColor&&(this.ctx.fillStyle=this.backgroundColor,this.ctx.fillRect(0,0,this.width,this.height))},c.prototype.attachEvent=function(e){this._events.push(e)},c.prototype._touchEventHandler=function(e){if(e.changedTouches&&this.interactivityEnabled){var t=[],i=e.changedTouches,a=i?i[0]:e,n=null;switch(e.type){case"touchstart":case"MSPointerDown":t=["mousemove","mousedown"],this._lastTouchData=ee(a),this._lastTouchData.time=new Date;break;case"touchmove":case"MSPointerMove":t=["mousemove"];break;case"touchend":case"MSPointerUp":var o=this._lastTouchData&&this._lastTouchData.time?new Date-this._lastTouchData.time:0,t="touchstart"===this._lastTouchEventType||"MSPointerDown"===this._lastTouchEventType||300>o?["mouseup","click"]:["mouseup"];break;default:return}if(!(i&&1<i.length)){n=ee(a),n.time=new Date;try{var s=n.y-this._lastTouchData.y,o=n.time-this._lastTouchData.time;if(15<Math.abs(s)&&(this._lastTouchData.scroll||300>o)){this._lastTouchData.scroll=!0;var r=window.parent||window;r&&r.scrollBy&&r.scrollBy(0,-s)}}catch(e){}if(this._lastTouchEventType=e.type,this._lastTouchData.scroll&&this.zoomEnabled)this.isDrag&&this.resetOverlayedCanvas(),this.isDrag=!1;else for(i=0;i<t.length;i++)n=t[i],o=document.createEvent("MouseEvent"),o.initMouseEvent(n,!0,!0,window,1,a.screenX,a.screenY,a.clientX,a.clientY,!1,!1,!1,!1,0,null),a.target.dispatchEvent(o),e.preventManipulation&&e.preventManipulation(),e.preventDefault&&e.preventDefault()}}},c.prototype._dispatchRangeEvent=function(e,t){var i={chart:this};i.type=e,i.trigger=t;var a=[];this.axisX&&0<this.axisX.length&&a.push("axisX"),this.axisX2&&0<this.axisX2.length&&a.push("axisX2"),this.axisY&&0<this.axisY.length&&a.push("axisY"),this.axisY2&&0<this.axisY2.length&&a.push("axisY2");for(var n=0;n<a.length;n++)if(h(i[a[n]])&&(i[a[n]]=[]),"axisY"===a[n])for(var o=0;o<this.axisY.length;o++)i[a[n]].push({viewportMinimum:this[a[n]][o].sessionVariables.newViewportMinimum,viewportMaximum:this[a[n]][o].sessionVariables.newViewportMaximum});else if("axisY2"===a[n])for(o=0;o<this.axisY2.length;o++)i[a[n]].push({viewportMinimum:this[a[n]][o].sessionVariables.newViewportMinimum,viewportMaximum:this[a[n]][o].sessionVariables.newViewportMaximum});else if("axisX"===a[n])for(o=0;o<this.axisX.length;o++)i[a[n]].push({viewportMinimum:this[a[n]][o].sessionVariables.newViewportMinimum,viewportMaximum:this[a[n]][o].sessionVariables.newViewportMaximum});else if("axisX2"===a[n])for(o=0;o<this.axisX2.length;o++)i[a[n]].push({viewportMinimum:this[a[n]][o].sessionVariables.newViewportMinimum,viewportMaximum:this[a[n]][o].sessionVariables.newViewportMaximum});this.dispatchEvent(e,i,this)},c.prototype._mouseEventHandler=function(e){void 0===e.target&&e.srcElement&&(e.target=e.srcElement);var t,i,a=ee(e),n=e.type;if(e.which?i=3==e.which:e.button&&(i=2==e.button),c.capturedEventParam&&(t=c.capturedEventParam,"mouseup"===n&&(c.capturedEventParam=null,t.chart.overlaidCanvas.releaseCapture?t.chart.overlaidCanvas.releaseCapture():document.documentElement.removeEventListener("mouseup",t.chart._mouseEventHandler,!1)),t.hasOwnProperty(n)&&("mouseup"!==n||t.chart.overlaidCanvas.releaseCapture?e.target!==t.chart.overlaidCanvas&&O||t[n].call(t.context,a.x,a.y):e.target!==t.chart.overlaidCanvas&&(t.chart.isDrag=!1))),this.interactivityEnabled)if(this._ignoreNextEvent)this._ignoreNextEvent=!1;else if(e.preventManipulation&&e.preventManipulation(),e.preventDefault&&e.preventDefault(),!i){if(!c.capturedEventParam&&this._events){for(var o=0;o<this._events.length;o++)if(this._events[o].hasOwnProperty(n)){if(t=this._events[o],i=t.bounds,a.x>=i.x1&&a.x<=i.x2&&a.y>=i.y1&&a.y<=i.y2){t[n].call(t.context,a.x,a.y),"mousedown"===n&&!0===t.capture?(c.capturedEventParam=t,this.overlaidCanvas.setCapture?this.overlaidCanvas.setCapture():document.documentElement.addEventListener("mouseup",this._mouseEventHandler,!1)):"mouseup"===n&&(t.chart.overlaidCanvas.releaseCapture?t.chart.overlaidCanvas.releaseCapture():document.documentElement.removeEventListener("mouseup",this._mouseEventHandler,!1));break}t=null}e.target.style.cursor=t&&t.cursor?t.cursor:this._defaultCursor}n=this.plotArea,(a.x<n.x1||a.x>n.x2||a.y<n.y1||a.y>n.y2)&&(this.toolTip&&this.toolTip.enabled?this.toolTip.hide():this.resetOverlayedCanvas()),this.isDrag&&this.zoomEnabled||!this._eventManager||this._eventManager.mouseEventHandler(e)}},c.prototype._plotAreaMouseDown=function(e,t){this.isDrag=!0,this.dragStartPoint={x:e,y:t}},c.prototype._plotAreaMouseUp=function(e,t){if(("normal"===this.plotInfo.axisPlacement||"xySwapped"===this.plotInfo.axisPlacement)&&this.isDrag){var i=t-this.dragStartPoint.y,a=e-this.dragStartPoint.x,n=0<=this.zoomType.indexOf("x"),o=0<=this.zoomType.indexOf("y"),s=!1;if(this.resetOverlayedCanvas(),"xySwapped"===this.plotInfo.axisPlacement)var r=o,o=n,n=r;if(this.panEnabled||this.zoomEnabled){if(this.panEnabled)for(n=o=0;n<this._axes.length;n++)i=this._axes[n],i.logarithmic?i.viewportMinimum<i.minimum?(o=i.minimum/i.viewportMinimum,i.sessionVariables.newViewportMinimum=i.viewportMinimum*o,i.sessionVariables.newViewportMaximum=i.viewportMaximum*o,s=!0):i.viewportMaximum>i.maximum&&(o=i.viewportMaximum/i.maximum,i.sessionVariables.newViewportMinimum=i.viewportMinimum/o,i.sessionVariables.newViewportMaximum=i.viewportMaximum/o,s=!0):i.viewportMinimum<i.minimum?(o=i.minimum-i.viewportMinimum,i.sessionVariables.newViewportMinimum=i.viewportMinimum+o,i.sessionVariables.newViewportMaximum=i.viewportMaximum+o,s=!0):i.viewportMaximum>i.maximum&&(o=i.viewportMaximum-i.maximum,i.sessionVariables.newViewportMinimum=i.viewportMinimum-o,i.sessionVariables.newViewportMaximum=i.viewportMaximum-o,s=!0);else if((!n||2<Math.abs(a))&&(!o||2<Math.abs(i))&&this.zoomEnabled){if(!this.dragStartPoint)return;i=n?this.dragStartPoint.x:this.plotArea.x1,a=o?this.dragStartPoint.y:this.plotArea.y1,n=n?e:this.plotArea.x2,o=o?t:this.plotArea.y2,2<Math.abs(i-n)&&2<Math.abs(a-o)&&this._zoomPanToSelectedRegion(i,a,n,o)&&(s=!0)}s&&(this._ignoreNextEvent=!0,this._dispatchRangeEvent("rangeChanging","zoom"),this.render(),this._dispatchRangeEvent("rangeChanged","zoom"),s&&this.zoomEnabled&&"none"===this._zoomButton.style.display&&(k(this._zoomButton,this._resetButton),w(this,this._zoomButton,"pan"),w(this,this._resetButton,"reset")))}}if(this.isDrag=!1,"none"!==this.plotInfo.axisPlacement){if(this.resetOverlayedCanvas(),this.axisX&&0<this.axisX.length)for(s=0;s<this.axisX.length;s++)this.axisX[s].crosshair&&this.axisX[s].crosshair.enabled&&this.axisX[s].renderCrosshair(e,t);if(this.axisX2&&0<this.axisX2.length)for(s=0;s<this.axisX2.length;s++)this.axisX2[s].crosshair&&this.axisX2[s].crosshair.enabled&&this.axisX2[s].renderCrosshair(e,t);if(this.axisY&&0<this.axisY.length)for(s=0;s<this.axisY.length;s++)this.axisY[s].crosshair&&this.axisY[s].crosshair.enabled&&this.axisY[s].renderCrosshair(e,t);if(this.axisY2&&0<this.axisY2.length)for(s=0;s<this.axisY2.length;s++)this.axisY2[s].crosshair&&this.axisY2[s].crosshair.enabled&&this.axisY2[s].renderCrosshair(e,t)}},c.prototype._plotAreaMouseMove=function(e,t){if(this.isDrag&&"none"!==this.plotInfo.axisPlacement){var i=0,a=0,n=i=null,n=0<=this.zoomType.indexOf("x"),o=0<=this.zoomType.indexOf("y"),s=this;if("xySwapped"===this.plotInfo.axisPlacement&&(i=o,o=n,n=i),i=this.dragStartPoint.x-e,a=this.dragStartPoint.y-t,2<Math.abs(i)&&8>Math.abs(i)&&(this.panEnabled||this.zoomEnabled)?this.toolTip.hide():this.panEnabled||this.zoomEnabled||this.toolTip.mouseMoveHandler(e,t),(!n||2<Math.abs(i)||!o||2<Math.abs(a))&&(this.panEnabled||this.zoomEnabled))if(this.panEnabled)n={x1:n?this.plotArea.x1+i:this.plotArea.x1,y1:o?this.plotArea.y1+a:this.plotArea.y1,x2:n?this.plotArea.x2+i:this.plotArea.x2,y2:o?this.plotArea.y2+a:this.plotArea.y2},clearTimeout(s._panTimerId),s._panTimerId=setTimeout(function(i,a,n,o){return function(){s._zoomPanToSelectedRegion(i,a,n,o,!0)&&(s._dispatchRangeEvent("rangeChanging","pan"),s.render(),s._dispatchRangeEvent("rangeChanged","pan"),s.dragStartPoint.x=e,s.dragStartPoint.y=t)}}(n.x1,n.y1,n.x2,n.y2),0);else if(this.zoomEnabled){this.resetOverlayedCanvas(),i=this.overlaidCanvasCtx.globalAlpha,this.overlaidCanvasCtx.fillStyle="#A89896";var a=n?this.dragStartPoint.x:this.plotArea.x1,r=o?this.dragStartPoint.y:this.plotArea.y1,l=n?e-this.dragStartPoint.x:this.plotArea.x2-this.plotArea.x1,c=o?t-this.dragStartPoint.y:this.plotArea.y2-this.plotArea.y1;this.validateRegion(a,r,n?e:this.plotArea.x2-this.plotArea.x1,o?t:this.plotArea.y2-this.plotArea.y1,"xy"!==this.zoomType).isValid&&(this.resetOverlayedCanvas(),this.overlaidCanvasCtx.fillStyle="#99B2B5"),this.overlaidCanvasCtx.globalAlpha=.7,this.overlaidCanvasCtx.fillRect(a,r,l,c),this.overlaidCanvasCtx.globalAlpha=i}}else if(this.toolTip.mouseMoveHandler(e,t),"none"!==this.plotInfo.axisPlacement){if(this.axisX&&0<this.axisX.length)for(n=0;n<this.axisX.length;n++)this.axisX[n].crosshair&&this.axisX[n].crosshair.enabled&&this.axisX[n].renderCrosshair(e,t);if(this.axisX2&&0<this.axisX2.length)for(n=0;n<this.axisX2.length;n++)this.axisX2[n].crosshair&&this.axisX2[n].crosshair.enabled&&this.axisX2[n].renderCrosshair(e,t);if(this.axisY&&0<this.axisY.length)for(n=0;n<this.axisY.length;n++)this.axisY[n].crosshair&&this.axisY[n].crosshair.enabled&&this.axisY[n].renderCrosshair(e,t);if(this.axisY2&&0<this.axisY2.length)for(n=0;n<this.axisY2.length;n++)this.axisY2[n].crosshair&&this.axisY2[n].crosshair.enabled&&this.axisY2[n].renderCrosshair(e,t)}},c.prototype._zoomPanToSelectedRegion=function(e,t,i,a,n){if(e=this.validateRegion(e,t,i,a,n),t=e.axesWithValidRange,i=e.axesRanges,e.isValid)for(a=0;a<t.length;a++)n=i[a],t[a].setViewPortRange(n.val1,n.val2);return e.isValid},c.prototype.validateRegion=function(e,t,i,a,n){n=n||!1;for(var o=0<=this.zoomType.indexOf("x"),s=0<=this.zoomType.indexOf("y"),r=!1,l=[],c=[],h=[],u=0;u<this._axes.length;u++)("axisX"===this._axes[u].type&&o||"axisY"===this._axes[u].type&&s)&&c.push(this._axes[u]);for(s=0;s<c.length;s++){var u=c[s],o=!1,d=u.convertPixelToValue({x:e,y:t}),p=u.convertPixelToValue({x:i,y:a});if(d>p)var f=p,p=d,d=f
;if(u.scaleBreaks)for(f=0;!o&&f<u.scaleBreaks._appliedBreaks.length;f++)o=u.scaleBreaks._appliedBreaks[f].startValue<=d&&u.scaleBreaks._appliedBreaks[f].endValue>=p;if(isFinite(u.dataInfo.minDiff))if(f=u.getApparentDifference(d,p,null,!0),o||!(this.panEnabled&&u.scaleBreaks&&u.scaleBreaks._appliedBreaks.length)&&(u.logarithmic&&f<Math.pow(u.dataInfo.minDiff,3)||!u.logarithmic&&f<3*Math.abs(u.dataInfo.minDiff))||d<u.minimum||p>u.maximum){if(!n){r=!1;break}}else l.push(u),h.push({val1:d,val2:p}),r=!0}return{isValid:r,axesWithValidRange:l,axesRanges:h}},c.prototype.preparePlotArea=function(){var e=this.plotArea;if(!O&&(0<e.x1||0<e.y1)&&e.ctx.translate(e.x1,e.y1),(this.axisX[0]||this.axisX2[0])&&(this.axisY[0]||this.axisY2[0])){var t=this.axisX[0]?this.axisX[0].lineCoordinates:this.axisX2[0].lineCoordinates;if(this.axisY&&0<this.axisY.length&&this.axisY[0]){var i=this.axisY[0];e.x1=t.x1<t.x2?t.x1:i.lineCoordinates.x1,e.y1=t.y1<i.lineCoordinates.y1?t.y1:i.lineCoordinates.y1,e.x2=t.x2>i.lineCoordinates.x2?t.x2:i.lineCoordinates.x2,e.y2=t.y2>t.y1?t.y2:i.lineCoordinates.y2,e.width=e.x2-e.x1,e.height=e.y2-e.y1}this.axisY2&&0<this.axisY2.length&&this.axisY2[0]&&(i=this.axisY2[0],e.x1=t.x1<t.x2?t.x1:i.lineCoordinates.x1,e.y1=t.y1<i.lineCoordinates.y1?t.y1:i.lineCoordinates.y1,e.x2=t.x2>i.lineCoordinates.x2?t.x2:i.lineCoordinates.x2,e.y2=t.y2>t.y1?t.y2:i.lineCoordinates.y2,e.width=e.x2-e.x1,e.height=e.y2-e.y1)}else t=this.layoutManager.getFreeSpace(),e.x1=t.x1,e.x2=t.x2,e.y1=t.y1,e.y2=t.y2,e.width=t.width,e.height=t.height;O||(e.canvas.width=e.width,e.canvas.height=e.height,e.canvas.style.left=e.x1+"px",e.canvas.style.top=e.y1+"px",(0<e.x1||0<e.y1)&&e.ctx.translate(-e.x1,-e.y1)),e.layoutManager=new T(e.x1,e.y1,e.x2,e.y2,2)},c.prototype.renderIndexLabels=function(e){var t=e||this.plotArea.ctx,i=this.plotArea,a=0,n=0,o=0,s=0,r=a=s=n=o=0,l=0;for(e=0;e<this._indexLabels.length;e++){var c,u,d=this._indexLabels[e],p=d.chartType.toLowerCase(),r=v("indexLabelFontColor",d.dataPoint,d.dataSeries),l=v("indexLabelFontSize",d.dataPoint,d.dataSeries);c=v("indexLabelFontFamily",d.dataPoint,d.dataSeries),u=v("indexLabelFontStyle",d.dataPoint,d.dataSeries);var s=v("indexLabelFontWeight",d.dataPoint,d.dataSeries),m=v("indexLabelBackgroundColor",d.dataPoint,d.dataSeries),n=v("indexLabelMaxWidth",d.dataPoint,d.dataSeries),o=v("indexLabelWrap",d.dataPoint,d.dataSeries),g=v("indexLabelLineDashType",d.dataPoint,d.dataSeries),b=v("indexLabelLineColor",d.dataPoint,d.dataSeries),y=h(d.dataPoint.indexLabelLineThickness)?h(d.dataSeries.options.indexLabelLineThickness)?0:d.dataSeries.options.indexLabelLineThickness:d.dataPoint.indexLabelLineThickness,a=0<y?Math.min(10,("normal"===this.plotInfo.axisPlacement?this.plotArea.height:this.plotArea.width)<<0):0,x={percent:null,total:null},C=null;(0<=d.dataSeries.type.indexOf("stacked")||"pie"===d.dataSeries.type||"doughnut"===d.dataSeries.type)&&(x=this.getPercentAndTotal(d.dataSeries,d.dataPoint)),(d.dataSeries.indexLabelFormatter||d.dataPoint.indexLabelFormatter)&&(C={chart:this,dataSeries:d.dataSeries,dataPoint:d.dataPoint,index:d.indexKeyword,total:x.total,percent:x.percent});var w=d.dataPoint.indexLabelFormatter?d.dataPoint.indexLabelFormatter(C):d.dataPoint.indexLabel?this.replaceKeywordsWithValue(d.dataPoint.indexLabel,d.dataPoint,d.dataSeries,null,d.indexKeyword):d.dataSeries.indexLabelFormatter?d.dataSeries.indexLabelFormatter(C):d.dataSeries.indexLabel?this.replaceKeywordsWithValue(d.dataSeries.indexLabel,d.dataPoint,d.dataSeries,null,d.indexKeyword):null;if(null!==w&&""!==w){var x=v("indexLabelPlacement",d.dataPoint,d.dataSeries),C=v("indexLabelOrientation",d.dataPoint,d.dataSeries),k=d.direction,S=d.dataSeries.axisX,D=d.dataSeries.axisY,T=!1,m=new M(t,{x:0,y:0,maxWidth:n||.5*this.width,maxHeight:o?5*l:1.5*l,angle:"horizontal"===C?0:-90,text:w,padding:0,backgroundColor:m,horizontalAlign:"left",fontSize:l,fontFamily:c,fontWeight:s,fontColor:r,fontStyle:u,textBaseline:"top"});if(m.measureText(),d.dataSeries.indexLabelMaxWidth=m.maxWidth,"stackedarea100"===p){if(d.point.x<i.x1||d.point.x>i.x2||d.point.y<i.y1-1||d.point.y>i.y2+1)continue}else if("rangearea"===p||"rangesplinearea"===p){if(d.dataPoint.x<S.viewportMinimum||d.dataPoint.x>S.viewportMaximum||Math.max.apply(null,d.dataPoint.y)<D.viewportMinimum||Math.min.apply(null,d.dataPoint.y)>D.viewportMaximum)continue}else if(0<=p.indexOf("line")||0<=p.indexOf("area")||0<=p.indexOf("bubble")||0<=p.indexOf("scatter")){if(d.dataPoint.x<S.viewportMinimum||d.dataPoint.x>S.viewportMaximum||d.dataPoint.y<D.viewportMinimum||d.dataPoint.y>D.viewportMaximum)continue}else if(0<=p.indexOf("column")||"waterfall"===p||"error"===p&&!d.axisSwapped){if(d.dataPoint.x<S.viewportMinimum||d.dataPoint.x>S.viewportMaximum||d.bounds.y1>i.y2||d.bounds.y2<i.y1)continue}else if(0<=p.indexOf("bar")||"error"===p){if(d.dataPoint.x<S.viewportMinimum||d.dataPoint.x>S.viewportMaximum||d.bounds.x1>i.x2||d.bounds.x2<i.x1)continue}else if("candlestick"===p||"ohlc"===p){if(d.dataPoint.x<S.viewportMinimum||d.dataPoint.x>S.viewportMaximum||Math.max.apply(null,d.dataPoint.y)<D.viewportMinimum||Math.min.apply(null,d.dataPoint.y)>D.viewportMaximum)continue}else if(d.dataPoint.x<S.viewportMinimum||d.dataPoint.x>S.viewportMaximum)continue;n=s=2,"horizontal"===C?(r=m.width,l=m.height):(l=m.width,r=m.height),"normal"===this.plotInfo.axisPlacement?(0<=p.indexOf("line")||0<=p.indexOf("area")?(x="auto",s=4):0<=p.indexOf("stacked")?"auto"===x&&(x="inside"):"bubble"!==p&&"scatter"!==p||(x="inside"),c=d.point.x-r/2,"inside"!==x?(n=i.y1,o=i.y2,0<k?(u=d.point.y-l-s-a)<n&&(u="auto"===x?Math.max(d.point.y,n)+s+a:n+s+a,T=u+l>d.point.y):(u=d.point.y+s+a)>o-l-s-a&&(u="auto"===x?Math.min(d.point.y,o)-l-s-a:o-l-s-a,T=u<d.point.y)):(n=Math.max(d.bounds.y1,i.y1),o=Math.min(d.bounds.y2,i.y2),a=0<=p.indexOf("range")||"error"===p?0<k?Math.max(d.bounds.y1,i.y1)+l/2+s:Math.min(d.bounds.y2,i.y2)-l/2-s:(Math.max(d.bounds.y1,i.y1)+Math.min(d.bounds.y2,i.y2))/2,0<k?(u=Math.max(d.point.y,a)-l/2)<n&&("bubble"===p||"scatter"===p)&&(u=Math.max(d.point.y-l-s,i.y1+s)):(u=Math.min(d.point.y,a)-l/2)>o-l-s&&("bubble"===p||"scatter"===p)&&(u=Math.min(d.point.y+s,i.y2-l-s)),u=Math.min(u,o-l))):(0<=p.indexOf("line")||0<=p.indexOf("area")||0<=p.indexOf("scatter")?(x="auto",n=4):0<=p.indexOf("stacked")?"auto"===x&&(x="inside"):"bubble"===p&&(x="inside"),u=d.point.y-l/2,"inside"!==x?(s=i.x1,o=i.x2,0>k?(c=d.point.x-r-n-a)<s&&(c="auto"===x?Math.max(d.point.x,s)+n+a:s+n+a,T=c+r>d.point.x):(c=d.point.x+n+a)>o-r-n-a&&(c="auto"===x?Math.min(d.point.x,o)-r-n-a:o-r-n-a,T=c<d.point.x)):(s=Math.max(d.bounds.x1,i.x1),Math.min(d.bounds.x2,i.x2),a=0<=p.indexOf("range")||"error"===p?0>k?Math.max(d.bounds.x1,i.x1)+r/2+n:Math.min(d.bounds.x2,i.x2)-r/2-n:(Math.max(d.bounds.x1,i.x1)+Math.min(d.bounds.x2,i.x2))/2,c=0>k?Math.max(d.point.x,a)-r/2:Math.min(d.point.x,a)-r/2,c=Math.max(c,s))),"vertical"===C&&(u+=l),m.x=c,m.y=u,m.render(!0),y&&"inside"!==x&&(0>p.indexOf("bar")&&("error"!==p||!d.axisSwapped)&&d.point.x>i.x1&&d.point.x<i.x2||!T)&&(0>p.indexOf("column")&&("error"!==p||d.axisSwapped)&&d.point.y>i.y1&&d.point.y<i.y2||!T)&&(t.lineWidth=y,t.strokeStyle=b||"gray",t.setLineDash&&t.setLineDash(f(g,y)),t.beginPath(),t.moveTo(d.point.x,d.point.y),0<=p.indexOf("bar")||"error"===p&&d.axisSwapped?t.lineTo(c+(0<d.direction?0:r),u+("horizontal"===C?l:-l)/2):0<=p.indexOf("column")||"error"===p&&!d.axisSwapped?t.lineTo(c+r/2,u+((0<d.direction?l:-l)+("horizontal"===C?l:-l))/2):t.lineTo(c+r/2,u+((u<d.point.y?l:-l)+("horizontal"===C?l:-l))/2),t.stroke())}}for(t={source:t,dest:this.plotArea.ctx,animationCallback:ie.fadeInAnimation,easingFunction:ie.easing.easeInQuad,animationBase:0,startTimePercent:.7},e=0;e<this._indexLabels.length;e++)d=this._indexLabels[e],m=v("indexLabelBackgroundColor",d.dataPoint,d.dataSeries),d.dataSeries.indexLabelBackgroundColor=h(m)?O?"transparent":null:m;return t},c.prototype.renderLine=function(e){var t=e.targetCanvasCtx||this.plotArea.ctx,i=O?this._preRenderCtx:t;if(!(0>=e.dataSeriesIndexes.length)){var a=this._eventManager.ghostCtx;i.save();var n=this.plotArea;i.beginPath(),i.rect(n.x1,n.y1,n.width,n.height),i.clip();for(var o,s=[],r=0;r<e.dataSeriesIndexes.length;r++){var c=e.dataSeriesIndexes[r],h=this.data[c];i.lineWidth=h.lineThickness;var u=h.dataPoints,d="solid";if(i.setLineDash){var p=f(h.nullDataLineDashType,h.lineThickness),d=h.lineDashType,m=f(d,h.lineThickness);i.setLineDash(m)}var g=h.id;this._eventManager.objectMap[g]={objectType:"dataSeries",dataSeriesIndex:c},g=l(g),a.strokeStyle=g,a.lineWidth=0<h.lineThickness?Math.max(h.lineThickness,4):0;var g=h._colorSet,v=g=h.lineColor=h.options.lineColor?h.options.lineColor:g[0];i.strokeStyle=g;var b,y,x=!0,C=0;if(i.beginPath(),0<u.length){for(var w=!1,C=0;C<u.length;C++)if(!((b=u[C].x.getTime?u[C].x.getTime():u[C].x)<e.axisX.dataInfo.viewPortMin||b>e.axisX.dataInfo.viewPortMax&&(!h.connectNullData||!w)))if("number"!=typeof u[C].y)0<C&&!(h.connectNullData||w||x)&&(i.stroke(),O&&a.stroke()),w=!0;else{b=e.axisX.convertValueToPixel(b),y=e.axisY.convertValueToPixel(u[C].y);var k=h.dataPointIds[C];if(this._eventManager.objectMap[k]={id:k,objectType:"dataPoint",dataSeriesIndex:c,dataPointIndex:C,x1:b,y1:y},x||w?(!x&&h.connectNullData?(i.setLineDash&&(h.options.nullDataLineDashType||d===h.lineDashType&&h.lineDashType!==h.nullDataLineDashType)&&(i.stroke(),i.beginPath(),i.moveTo(o.x,o.y),d=h.nullDataLineDashType,i.setLineDash(p)),i.lineTo(b,y),O&&a.lineTo(b,y)):(i.beginPath(),i.moveTo(b,y),O&&(a.beginPath(),a.moveTo(b,y))),w=x=!1):(i.lineTo(b,y),O&&a.lineTo(b,y),0==C%500&&(i.stroke(),i.beginPath(),i.moveTo(b,y),O&&(a.stroke(),a.beginPath(),a.moveTo(b,y)))),o={x:b,y:y},C<u.length-1&&(v!==(u[C].lineColor||g)||d!==(u[C].lineDashType||h.lineDashType))&&(i.stroke(),i.beginPath(),i.moveTo(b,y),v=u[C].lineColor||g,i.strokeStyle=v,i.setLineDash&&(u[C].lineDashType?(d=u[C].lineDashType,i.setLineDash(f(d,h.lineThickness))):(d=h.lineDashType,i.setLineDash(m)))),0<u[C].markerSize||0<h.markerSize){var S=h.getMarkerProperties(C,b,y,i);s.push(S),k=l(k),O&&s.push({x:b,y:y,ctx:a,type:S.type,size:S.size,color:k,borderColor:k,borderThickness:S.borderThickness})}(u[C].indexLabel||h.indexLabel||u[C].indexLabelFormatter||h.indexLabelFormatter)&&this._indexLabels.push({chartType:"line",dataPoint:u[C],dataSeries:h,point:{x:b,y:y},direction:0>u[C].y===e.axisY.reversed?1:-1,color:g})}i.stroke(),O&&a.stroke()}}return ae.drawMarkers(s),O&&(t.drawImage(this._preRenderCanvas,0,0,this.width,this.height),i.globalCompositeOperation="source-atop",e.axisX.maskCanvas&&i.drawImage(e.axisX.maskCanvas,0,0,this.width,this.height),e.axisY.maskCanvas&&i.drawImage(e.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),i.clearRect(n.x1,n.y1,n.width,n.height),a.beginPath()),i.restore(),i.beginPath(),{source:t,dest:this.plotArea.ctx,animationCallback:ie.xClipAnimation,easingFunction:ie.easing.linear,animationBase:0}}},c.prototype.renderStepLine=function(e){var t=e.targetCanvasCtx||this.plotArea.ctx,i=O?this._preRenderCtx:t;if(!(0>=e.dataSeriesIndexes.length)){var a=this._eventManager.ghostCtx;i.save();var n=this.plotArea;i.beginPath(),i.rect(n.x1,n.y1,n.width,n.height),i.clip();for(var o,s=[],r=0;r<e.dataSeriesIndexes.length;r++){var c=e.dataSeriesIndexes[r],h=this.data[c];i.lineWidth=h.lineThickness;var u=h.dataPoints,d="solid";if(i.setLineDash){var p=f(h.nullDataLineDashType,h.lineThickness),d=h.lineDashType,m=f(d,h.lineThickness);i.setLineDash(m)}var g=h.id;this._eventManager.objectMap[g]={objectType:"dataSeries",dataSeriesIndex:c},g=l(g),a.strokeStyle=g,a.lineWidth=0<h.lineThickness?Math.max(h.lineThickness,4):0;var g=h._colorSet,v=g=h.lineColor=h.options.lineColor?h.options.lineColor:g[0];i.strokeStyle=g;var b,y,x=!0,C=0;if(i.beginPath(),0<u.length){for(var w=!1,C=0;C<u.length;C++)if(!((b=u[C].getTime?u[C].x.getTime():u[C].x)<e.axisX.dataInfo.viewPortMin||b>e.axisX.dataInfo.viewPortMax&&(!h.connectNullData||!w)))if("number"!=typeof u[C].y)0<C&&!(h.connectNullData||w||x)&&(i.stroke(),O&&a.stroke()),w=!0;else{var k=y;b=e.axisX.convertValueToPixel(b),y=e.axisY.convertValueToPixel(u[C].y);var S=h.dataPointIds[C];this._eventManager.objectMap[S]={id:S,objectType:"dataPoint",dataSeriesIndex:c,dataPointIndex:C,x1:b,y1:y},x||w?(!x&&h.connectNullData?(i.setLineDash&&(h.options.nullDataLineDashType||d===h.lineDashType&&h.lineDashType!==h.nullDataLineDashType)&&(i.stroke(),i.beginPath(),i.moveTo(o.x,o.y),d=h.nullDataLineDashType,i.setLineDash(p)),i.lineTo(b,k),i.lineTo(b,y),O&&(a.lineTo(b,k),a.lineTo(b,y))):(i.beginPath(),i.moveTo(b,y),O&&(a.beginPath(),a.moveTo(b,y))),w=x=!1):(i.lineTo(b,k),O&&a.lineTo(b,k),i.lineTo(b,y),O&&a.lineTo(b,y),0==C%500&&(i.stroke(),i.beginPath(),i.moveTo(b,y),O&&(a.stroke(),a.beginPath(),a.moveTo(b,y)))),o={x:b,y:y},C<u.length-1&&(v!==(u[C].lineColor||g)||d!==(u[C].lineDashType||h.lineDashType))&&(i.stroke(),i.beginPath(),i.moveTo(b,y),v=u[C].lineColor||g,i.strokeStyle=v,i.setLineDash&&(u[C].lineDashType?(d=u[C].lineDashType,i.setLineDash(f(d,h.lineThickness))):(d=h.lineDashType,i.setLineDash(m)))),(0<u[C].markerSize||0<h.markerSize)&&(k=h.getMarkerProperties(C,b,y,i),s.push(k),S=l(S),O&&s.push({x:b,y:y,ctx:a,type:k.type,size:k.size,color:S,borderColor:S,borderThickness:k.borderThickness})),(u[C].indexLabel||h.indexLabel||u[C].indexLabelFormatter||h.indexLabelFormatter)&&this._indexLabels.push({chartType:"stepLine",dataPoint:u[C],dataSeries:h,point:{x:b,y:y},direction:0>u[C].y===e.axisY.reversed?1:-1,color:g})}i.stroke(),O&&a.stroke()}}return ae.drawMarkers(s),O&&(t.drawImage(this._preRenderCanvas,0,0,this.width,this.height),i.globalCompositeOperation="source-atop",e.axisX.maskCanvas&&i.drawImage(e.axisX.maskCanvas,0,0,this.width,this.height),e.axisY.maskCanvas&&i.drawImage(e.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),i.clearRect(n.x1,n.y1,n.width,n.height),a.beginPath()),i.restore(),i.beginPath(),{source:t,dest:this.plotArea.ctx,animationCallback:ie.xClipAnimation,easingFunction:ie.easing.linear,animationBase:0}}},c.prototype.renderSpline=function(e){function t(e){if(e=I(e,2),0<e.length){a.beginPath(),O&&n.beginPath(),a.moveTo(e[0].x,e[0].y),e[0].newStrokeStyle&&(a.strokeStyle=e[0].newStrokeStyle),e[0].newLineDashArray&&a.setLineDash(e[0].newLineDashArray),O&&n.moveTo(e[0].x,e[0].y);for(var t=0;t<e.length-3;t+=3)a.bezierCurveTo(e[t+1].x,e[t+1].y,e[t+2].x,e[t+2].y,e[t+3].x,e[t+3].y),O&&n.bezierCurveTo(e[t+1].x,e[t+1].y,e[t+2].x,e[t+2].y,e[t+3].x,e[t+3].y),(0<t&&0==t%3e3||e[t+3].newStrokeStyle||e[t+3].newLineDashArray)&&(a.stroke(),a.beginPath(),a.moveTo(e[t+3].x,e[t+3].y),e[t+3].newStrokeStyle&&(a.strokeStyle=e[t+3].newStrokeStyle),e[t+3].newLineDashArray&&a.setLineDash(e[t+3].newLineDashArray),O&&(n.stroke(),n.beginPath(),n.moveTo(e[t+3].x,e[t+3].y)));a.stroke(),O&&n.stroke()}}var i=e.targetCanvasCtx||this.plotArea.ctx,a=O?this._preRenderCtx:i;if(!(0>=e.dataSeriesIndexes.length)){var n=this._eventManager.ghostCtx;a.save();var o=this.plotArea;a.beginPath(),a.rect(o.x1,o.y1,o.width,o.height),a.clip();for(var s=[],r=0;r<e.dataSeriesIndexes.length;r++){var c=e.dataSeriesIndexes[r],h=this.data[c];a.lineWidth=h.lineThickness;var u=h.dataPoints,d="solid";if(a.setLineDash){var p=f(h.nullDataLineDashType,h.lineThickness),d=h.lineDashType,m=f(d,h.lineThickness);a.setLineDash(m)}var g=h.id;this._eventManager.objectMap[g]={objectType:"dataSeries",dataSeriesIndex:c},g=l(g),n.strokeStyle=g,n.lineWidth=0<h.lineThickness?Math.max(h.lineThickness,4):0;var g=h._colorSet,v=g=h.lineColor=h.options.lineColor?h.options.lineColor:g[0];a.strokeStyle=g;var b,y,x=0,C=[];if(a.beginPath(),0<u.length)for(y=!1,x=0;x<u.length;x++)if(!((b=u[x].getTime?u[x].x.getTime():u[x].x)<e.axisX.dataInfo.viewPortMin||b>e.axisX.dataInfo.viewPortMax&&(!h.connectNullData||!y)))if("number"!=typeof u[x].y)0<x&&!y&&(h.connectNullData?a.setLineDash&&0<C.length&&(h.options.nullDataLineDashType||!u[x-1].lineDashType)&&(C[C.length-1].newLineDashArray=p,d=h.nullDataLineDashType):(t(C),C=[])),y=!0;else{b=e.axisX.convertValueToPixel(b),y=e.axisY.convertValueToPixel(u[x].y);var w=h.dataPointIds[x];if(this._eventManager.objectMap[w]={id:w,objectType:"dataPoint",dataSeriesIndex:c,dataPointIndex:x,x1:b,y1:y},C[C.length]={x:b,y:y},x<u.length-1&&(v!==(u[x].lineColor||g)||d!==(u[x].lineDashType||h.lineDashType))&&(v=u[x].lineColor||g,C[C.length-1].newStrokeStyle=v,a.setLineDash&&(u[x].lineDashType?(d=u[x].lineDashType,C[C.length-1].newLineDashArray=f(d,h.lineThickness)):(d=h.lineDashType,C[C.length-1].newLineDashArray=m))),0<u[x].markerSize||0<h.markerSize){var k=h.getMarkerProperties(x,b,y,a);s.push(k),w=l(w),O&&s.push({x:b,y:y,ctx:n,type:k.type,size:k.size,color:w,borderColor:w,borderThickness:k.borderThickness})}(u[x].indexLabel||h.indexLabel||u[x].indexLabelFormatter||h.indexLabelFormatter)&&this._indexLabels.push({chartType:"spline",dataPoint:u[x],dataSeries:h,point:{x:b,y:y},direction:0>u[x].y===e.axisY.reversed?1:-1,color:g}),y=!1}t(C)}return ae.drawMarkers(s),O&&(i.drawImage(this._preRenderCanvas,0,0,this.width,this.height),a.globalCompositeOperation="source-atop",e.axisX.maskCanvas&&a.drawImage(e.axisX.maskCanvas,0,0,this.width,this.height),e.axisY.maskCanvas&&a.drawImage(e.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),a.clearRect(o.x1,o.y1,o.width,o.height),n.beginPath()),a.restore(),a.beginPath(),{source:i,dest:this.plotArea.ctx,animationCallback:ie.xClipAnimation,easingFunction:ie.easing.linear,animationBase:0}}};var Q=function(e,t,i,a,n,o,s,r,l,c,h,u,d){void 0===d&&(d=1),s=s||0,r=r||"black";var p=15<a-t&&15<n-i?8:.35*Math.min(a-t,n-i);e.beginPath(),e.moveTo(t,i),e.save(),e.fillStyle=o,e.globalAlpha=d,e.fillRect(t,i,a-t,n-i),e.globalAlpha=1,0<s&&(d=0==s%2?0:.5,e.beginPath(),e.lineWidth=s,e.strokeStyle=r,e.moveTo(t,i),e.rect(t-d,i-d,a-t+2*d,n-i+2*d),e.stroke()),e.restore(),!0===l&&(e.save(),e.beginPath(),e.moveTo(t,i),e.lineTo(t+p,i+p),e.lineTo(a-p,i+p),e.lineTo(a,i),e.closePath(),s=e.createLinearGradient((a+t)/2,i+p,(a+t)/2,i),s.addColorStop(0,o),s.addColorStop(1,"rgba(255, 255, 255, .4)"),e.fillStyle=s,e.fill(),e.restore()),!0===c&&(e.save(),e.beginPath(),e.moveTo(t,n),e.lineTo(t+p,n-p),e.lineTo(a-p,n-p),e.lineTo(a,n),e.closePath(),s=e.createLinearGradient((a+t)/2,n-p,(a+t)/2,n),s.addColorStop(0,o),s.addColorStop(1,"rgba(255, 255, 255, .4)"),e.fillStyle=s,e.fill(),e.restore()),!0===h&&(e.save(),e.beginPath(),e.moveTo(t,i),e.lineTo(t+p,i+p),e.lineTo(t+p,n-p),e.lineTo(t,n),e.closePath(),s=e.createLinearGradient(t+p,(n+i)/2,t,(n+i)/2),s.addColorStop(0,o),s.addColorStop(1,"rgba(255, 255, 255, 0.1)"),e.fillStyle=s,e.fill(),e.restore()),!0===u&&(e.save(),e.beginPath(),e.moveTo(a,i),e.lineTo(a-p,i+p),e.lineTo(a-p,n-p),e.lineTo(a,n),s=e.createLinearGradient(a-p,(n+i)/2,a,(n+i)/2),s.addColorStop(0,o),s.addColorStop(1,"rgba(255, 255, 255, 0.1)"),e.fillStyle=s,s.addColorStop(0,o),s.addColorStop(1,"rgba(255, 255, 255, 0.1)"),e.fillStyle=s,e.fill(),e.closePath(),e.restore())};c.prototype.renderColumn=function(e){var t=e.targetCanvasCtx||this.plotArea.ctx,i=O?this._preRenderCtx:t;if(!(0>=e.dataSeriesIndexes.length)){var a,n,o,s=null,r=this.plotArea,c=0,h=e.axisY.convertValueToPixel(e.axisY.logarithmic?e.axisY.viewportMinimum:0),c=this.dataPointMinWidth=this.dataPointMinWidth?this.dataPointMinWidth:this.dataPointWidth?this.dataPointWidth:1,u=this.dataPointMaxWidth=this.dataPointMaxWidth?this.dataPointMaxWidth:this.dataPointWidth?this.dataPointWidth:Math.min(.15*this.width,this.plotArea.width/e.plotType.totalDataSeries*.9)<<0,d=e.axisX.dataInfo.minDiff;for(isFinite(d)||(d=.3*Math.abs(e.axisX.range)),d=this.dataPointWidth=this.dataPointWidth?this.dataPointWidth:r.width*(e.axisX.logarithmic?Math.log(d)/Math.log(e.axisX.range):Math.abs(d)/Math.abs(e.axisX.range))/e.plotType.totalDataSeries*.9<<0,this.dataPointMaxWidth&&c>u&&(c=Math.min(this.dataPointWidth?this.dataPointWidth:1/0,u)),!this.dataPointMaxWidth&&this.dataPointMinWidth&&u<c&&(u=Math.max(this.dataPointWidth?this.dataPointWidth:-1/0,c)),d<c&&(d=c),d>u&&(d=u),i.save(),O&&this._eventManager.ghostCtx.save(),i.beginPath(),i.rect(r.x1,r.y1,r.width,r.height),i.clip(),O&&(this._eventManager.ghostCtx.beginPath(),this._eventManager.ghostCtx.rect(r.x1,r.y1,r.width,r.height),this._eventManager.ghostCtx.clip()),u=0;u<e.dataSeriesIndexes.length;u++){var p=e.dataSeriesIndexes[u],f=this.data[p],m=f.dataPoints;if(0<m.length)for(var g=!!(5<d&&f.bevelEnabled),c=0;c<m.length;c++)if(!((o=m[c].getTime?m[c].x.getTime():m[c].x)<e.axisX.dataInfo.viewPortMin||o>e.axisX.dataInfo.viewPortMax)&&"number"==typeof m[c].y){a=e.axisX.convertValueToPixel(o),n=e.axisY.convertValueToPixel(m[c].y),a=e.axisX.reversed?a+e.plotType.totalDataSeries*d/2-(e.previousDataSeriesCount+u)*d<<0:a-e.plotType.totalDataSeries*d/2+(e.previousDataSeriesCount+u)*d<<0;var v,b=e.axisX.reversed?a-d<<0:a+d<<0;0<=m[c].y?v=h:(v=n,n=h),n>v&&(s=n,n=v,v=s),s=m[c].color?m[c].color:f._colorSet[c%f._colorSet.length],Q(i,a,n,b,v,s,0,null,g&&0<=m[c].y,0>m[c].y&&g,!1,!1,f.fillOpacity),s=f.dataPointIds[c],this._eventManager.objectMap[s]={id:s,objectType:"dataPoint",dataSeriesIndex:p,dataPointIndex:c,x1:a,y1:n,x2:b,y2:v},s=l(s),O&&Q(this._eventManager.ghostCtx,a,n,b,v,s,0,null,!1,!1,!1,!1),(m[c].indexLabel||f.indexLabel||m[c].indexLabelFormatter||f.indexLabelFormatter)&&this._indexLabels.push({chartType:"column",dataPoint:m[c],dataSeries:f,point:{x:a+(b-a)/2,y:0>m[c].y===e.axisY.reversed?n:v},direction:0>m[c].y===e.axisY.reversed?1:-1,bounds:{x1:a,y1:Math.min(n,v),x2:b,y2:Math.max(n,v)},color:s})}}return O&&(t.drawImage(this._preRenderCanvas,0,0,this.width,this.height),i.globalCompositeOperation="source-atop",e.axisX.maskCanvas&&i.drawImage(e.axisX.maskCanvas,0,0,this.width,this.height),e.axisY.maskCanvas&&i.drawImage(e.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),i.clearRect(r.x1,r.y1,r.width,r.height),this._eventManager.ghostCtx.restore()),i.restore(),{source:t,dest:this.plotArea.ctx,animationCallback:ie.yScaleAnimation,easingFunction:ie.easing.easeOutQuart,animationBase:h<e.axisY.bounds.y1?e.axisY.bounds.y1:h>e.axisY.bounds.y2?e.axisY.bounds.y2:h}}},c.prototype.renderStackedColumn=function(e){var t=e.targetCanvasCtx||this.plotArea.ctx,i=O?this._preRenderCtx:t;if(!(0>=e.dataSeriesIndexes.length)){var a,n,o=null,s=this.plotArea,r=[],c=[],h=[],u=[],d=0,p=e.axisY.convertValueToPixel(e.axisY.logarithmic?e.axisY.viewportMinimum:0),d=this.dataPointMinWidth?this.dataPointMinWidth:this.dataPointWidth?this.dataPointWidth:1;a=this.dataPointMaxWidth?this.dataPointMaxWidth:this.dataPointWidth?this.dataPointWidth:.15*this.width<<0;var f=e.axisX.dataInfo.minDiff;isFinite(f)||(f=.3*Math.abs(e.axisX.range)),f=this.dataPointWidth?this.dataPointWidth:s.width*(e.axisX.logarithmic?Math.log(f)/Math.log(e.axisX.range):Math.abs(f)/Math.abs(e.axisX.range))/e.plotType.plotUnits.length*.9<<0,this.dataPointMaxWidth&&d>a&&(d=Math.min(this.dataPointWidth?this.dataPointWidth:1/0,a)),!this.dataPointMaxWidth&&this.dataPointMinWidth&&a<d&&(a=Math.max(this.dataPointWidth?this.dataPointWidth:-1/0,d)),f<d&&(f=d),f>a&&(f=a),i.save(),O&&this._eventManager.ghostCtx.save(),i.beginPath(),i.rect(s.x1,s.y1,s.width,s.height),i.clip(),O&&(this._eventManager.ghostCtx.beginPath(),this._eventManager.ghostCtx.rect(s.x1,s.y1,s.width,s.height),this._eventManager.ghostCtx.clip());for(var m=0;m<e.dataSeriesIndexes.length;m++){var g=e.dataSeriesIndexes[m],v=this.data[g],b=v.dataPoints;if(0<b.length){var y=!!(5<f&&v.bevelEnabled);for(i.strokeStyle="#4572A7 ",d=0;d<b.length;d++)if(!((o=b[d].x.getTime?b[d].x.getTime():b[d].x)<e.axisX.dataInfo.viewPortMin||o>e.axisX.dataInfo.viewPortMax)&&"number"==typeof b[d].y){a=e.axisX.convertValueToPixel(o);var x,C=a-e.plotType.plotUnits.length*f/2+e.index*f<<0,w=C+f<<0;if(e.axisY.logarithmic||e.axisY.scaleBreaks&&0<e.axisY.scaleBreaks._appliedBreaks.length&&0<b[d].y)h[o]=b[d].y+(h[o]?h[o]:0),0<h[o]&&(n=e.axisY.convertValueToPixel(h[o]),x=void 0!==r[o]?r[o]:p,r[o]=n);else if(e.axisY.scaleBreaks&&0<e.axisY.scaleBreaks._appliedBreaks.length&&0>=b[d].y)u[o]=b[d].y+(u[o]?u[o]:0),x=e.axisY.convertValueToPixel(u[o]),n=void 0!==c[o]?c[o]:p,c[o]=x;else if(n=e.axisY.convertValueToPixel(b[d].y),0<=b[d].y){var k=void 0!==r[o]?r[o]:0;n-=k,x=p-k,r[o]=k+(x-n)}else k=c[o]?c[o]:0,x=n+k,n=p+k,c[o]=k+(x-n);o=b[d].color?b[d].color:v._colorSet[d%v._colorSet.length],Q(i,C,n,w,x,o,0,null,y&&0<=b[d].y,0>b[d].y&&y,!1,!1,v.fillOpacity),o=v.dataPointIds[d],this._eventManager.objectMap[o]={id:o,objectType:"dataPoint",dataSeriesIndex:g,dataPointIndex:d,x1:C,y1:n,x2:w,y2:x},o=l(o),O&&Q(this._eventManager.ghostCtx,C,n,w,x,o,0,null,!1,!1,!1,!1),(b[d].indexLabel||v.indexLabel||b[d].indexLabelFormatter||v.indexLabelFormatter)&&this._indexLabels.push({chartType:"stackedColumn",dataPoint:b[d],dataSeries:v,point:{x:a,y:0<=b[d].y?n:x},direction:0>b[d].y===e.axisY.reversed?1:-1,bounds:{x1:C,y1:Math.min(n,x),x2:w,y2:Math.max(n,x)},color:o})}}}return O&&(t.drawImage(this._preRenderCanvas,0,0,this.width,this.height),i.globalCompositeOperation="source-atop",e.axisX.maskCanvas&&i.drawImage(e.axisX.maskCanvas,0,0,this.width,this.height),e.axisY.maskCanvas&&i.drawImage(e.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),i.clearRect(s.x1,s.y1,s.width,s.height),this._eventManager.ghostCtx.restore()),i.restore(),{source:t,dest:this.plotArea.ctx,animationCallback:ie.yScaleAnimation,easingFunction:ie.easing.easeOutQuart,animationBase:p<e.axisY.bounds.y1?e.axisY.bounds.y1:p>e.axisY.bounds.y2?e.axisY.bounds.y2:p}}},c.prototype.renderStackedColumn100=function(e){var t=e.targetCanvasCtx||this.plotArea.ctx,i=O?this._preRenderCtx:t;if(!(0>=e.dataSeriesIndexes.length)){var a,n,o=null,s=this.plotArea,r=[],c=[],h=[],u=[],d=0,p=e.axisY.convertValueToPixel(e.axisY.logarithmic?e.axisY.viewportMinimum:0),d=this.dataPointMinWidth?this.dataPointMinWidth:this.dataPointWidth?this.dataPointWidth:1;a=this.dataPointMaxWidth?this.dataPointMaxWidth:this.dataPointWidth?this.dataPointWidth:.15*this.width<<0;var f=e.axisX.dataInfo.minDiff;isFinite(f)||(f=.3*Math.abs(e.axisX.range)),f=this.dataPointWidth?this.dataPointWidth:s.width*(e.axisX.logarithmic?Math.log(f)/Math.log(e.axisX.range):Math.abs(f)/Math.abs(e.axisX.range))/e.plotType.plotUnits.length*.9<<0,this.dataPointMaxWidth&&d>a&&(d=Math.min(this.dataPointWidth?this.dataPointWidth:1/0,a)),!this.dataPointMaxWidth&&this.dataPointMinWidth&&a<d&&(a=Math.max(this.dataPointWidth?this.dataPointWidth:-1/0,d)),f<d&&(f=d),f>a&&(f=a),i.save(),O&&this._eventManager.ghostCtx.save(),i.beginPath(),i.rect(s.x1,s.y1,s.width,s.height),i.clip(),O&&(this._eventManager.ghostCtx.beginPath(),this._eventManager.ghostCtx.rect(s.x1,s.y1,s.width,s.height),this._eventManager.ghostCtx.clip());for(var m=0;m<e.dataSeriesIndexes.length;m++){var g=e.dataSeriesIndexes[m],v=this.data[g],b=v.dataPoints;if(0<b.length)for(var y=!!(5<f&&v.bevelEnabled),d=0;d<b.length;d++)if(!((o=b[d].x.getTime?b[d].x.getTime():b[d].x)<e.axisX.dataInfo.viewPortMin||o>e.axisX.dataInfo.viewPortMax)&&"number"==typeof b[d].y){a=e.axisX.convertValueToPixel(o),n=0!==e.dataPointYSums[o]?b[d].y/e.dataPointYSums[o]*100:0;var x,C=a-e.plotType.plotUnits.length*f/2+e.index*f<<0,w=C+f<<0;if(e.axisY.logarithmic||e.axisY.scaleBreaks&&0<e.axisY.scaleBreaks._appliedBreaks.length&&0<b[d].y){if(h[o]=n+(void 0!==h[o]?h[o]:0),0>=h[o])continue;n=e.axisY.convertValueToPixel(h[o]),x=r[o]?r[o]:p,r[o]=n}else if(e.axisY.scaleBreaks&&0<e.axisY.scaleBreaks._appliedBreaks.length&&0>=b[d].y)u[o]=n+(void 0!==u[o]?u[o]:0),x=e.axisY.convertValueToPixel(u[o]),n=c[o]?c[o]:p,c[o]=x;else if(n=e.axisY.convertValueToPixel(n),0<=b[d].y){var k=void 0!==r[o]?r[o]:0;n-=k,x=p-k,e.dataSeriesIndexes.length-1===m&&1>=Math.abs(s.y1-n)&&(n=s.y1),r[o]=k+(x-n)}else k=void 0!==c[o]?c[o]:0,x=n+k,n=p+k,e.dataSeriesIndexes.length-1===m&&1>=Math.abs(s.y2-x)&&(x=s.y2),c[o]=k+(x-n);o=b[d].color?b[d].color:v._colorSet[d%v._colorSet.length],Q(i,C,n,w,x,o,0,null,y&&0<=b[d].y,0>b[d].y&&y,!1,!1,v.fillOpacity),o=v.dataPointIds[d],this._eventManager.objectMap[o]={id:o,objectType:"dataPoint",dataSeriesIndex:g,dataPointIndex:d,x1:C,y1:n,x2:w,y2:x},o=l(o),O&&Q(this._eventManager.ghostCtx,C,n,w,x,o,0,null,!1,!1,!1,!1),(b[d].indexLabel||v.indexLabel||b[d].indexLabelFormatter||v.indexLabelFormatter)&&this._indexLabels.push({chartType:"stackedColumn100",dataPoint:b[d],dataSeries:v,point:{x:a,y:0<=b[d].y?n:x},direction:0>b[d].y===e.axisY.reversed?1:-1,bounds:{x1:C,y1:Math.min(n,x),x2:w,y2:Math.max(n,x)},color:o})}}return O&&(t.drawImage(this._preRenderCanvas,0,0,this.width,this.height),i.globalCompositeOperation="source-atop",e.axisX.maskCanvas&&i.drawImage(e.axisX.maskCanvas,0,0,this.width,this.height),e.axisY.maskCanvas&&i.drawImage(e.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),i.clearRect(s.x1,s.y1,s.width,s.height),this._eventManager.ghostCtx.restore()),i.restore(),{source:t,dest:this.plotArea.ctx,animationCallback:ie.yScaleAnimation,easingFunction:ie.easing.easeOutQuart,animationBase:p<e.axisY.bounds.y1?e.axisY.bounds.y1:p>e.axisY.bounds.y2?e.axisY.bounds.y2:p}}},c.prototype.renderBar=function(e){var t=e.targetCanvasCtx||this.plotArea.ctx,i=O?this._preRenderCtx:t;if(!(0>=e.dataSeriesIndexes.length)){var a,n,o,s=null,r=this.plotArea,c=0,h=e.axisY.convertValueToPixel(e.axisY.logarithmic?e.axisY.viewportMinimum:0),c=this.dataPointMinWidth?this.dataPointMinWidth:this.dataPointWidth?this.dataPointWidth:1,u=this.dataPointMaxWidth?this.dataPointMaxWidth:this.dataPointWidth?this.dataPointWidth:Math.min(.15*this.height,this.plotArea.height/e.plotType.totalDataSeries*.9)<<0,d=e.axisX.dataInfo.minDiff;for(isFinite(d)||(d=.3*Math.abs(e.axisX.range)),d=this.dataPointWidth?this.dataPointWidth:r.height*(e.axisX.logarithmic?Math.log(d)/Math.log(e.axisX.range):Math.abs(d)/Math.abs(e.axisX.range))/e.plotType.totalDataSeries*.9<<0,this.dataPointMaxWidth&&c>u&&(c=Math.min(this.dataPointWidth?this.dataPointWidth:1/0,u)),!this.dataPointMaxWidth&&this.dataPointMinWidth&&u<c&&(u=Math.max(this.dataPointWidth?this.dataPointWidth:-1/0,c)),d<c&&(d=c),d>u&&(d=u),i.save(),O&&this._eventManager.ghostCtx.save(),i.beginPath(),i.rect(r.x1,r.y1,r.width,r.height),i.clip(),O&&(this._eventManager.ghostCtx.beginPath(),this._eventManager.ghostCtx.rect(r.x1,r.y1,r.width,r.height),this._eventManager.ghostCtx.clip()),u=0;u<e.dataSeriesIndexes.length;u++){var p=e.dataSeriesIndexes[u],f=this.data[p],m=f.dataPoints;if(0<m.length){var g=!!(5<d&&f.bevelEnabled);for(i.strokeStyle="#4572A7 ",c=0;c<m.length;c++)if(!((o=m[c].getTime?m[c].x.getTime():m[c].x)<e.axisX.dataInfo.viewPortMin||o>e.axisX.dataInfo.viewPortMax)&&"number"==typeof m[c].y){n=e.axisX.convertValueToPixel(o),a=e.axisY.convertValueToPixel(m[c].y),n=e.axisX.reversed?n+e.plotType.totalDataSeries*d/2-(e.previousDataSeriesCount+u)*d<<0:n-e.plotType.totalDataSeries*d/2+(e.previousDataSeriesCount+u)*d<<0;var v,b=e.axisX.reversed?n-d<<0:n+d<<0;0<=m[c].y?v=h:(v=a,a=h),s=m[c].color?m[c].color:f._colorSet[c%f._colorSet.length],Q(i,v,n,a,b,s,0,null,g,!1,!1,!1,f.fillOpacity),s=f.dataPointIds[c],this._eventManager.objectMap[s]={id:s,objectType:"dataPoint",dataSeriesIndex:p,dataPointIndex:c,x1:v,y1:n,x2:a,y2:b},s=l(s),O&&Q(this._eventManager.ghostCtx,v,n,a,b,s,0,null,!1,!1,!1,!1),(m[c].indexLabel||f.indexLabel||m[c].indexLabelFormatter||f.indexLabelFormatter)&&this._indexLabels.push({chartType:"bar",dataPoint:m[c],dataSeries:f,point:{x:0<=m[c].y?a:v,y:n+(b-n)/2},direction:0>m[c].y===e.axisY.reversed?1:-1,bounds:{x1:Math.min(v,a),y1:n,x2:Math.max(v,a),y2:b},color:s})}}}
return O&&(t.drawImage(this._preRenderCanvas,0,0,this.width,this.height),i.globalCompositeOperation="source-atop",e.axisX.maskCanvas&&i.drawImage(e.axisX.maskCanvas,0,0,this.width,this.height),e.axisY.maskCanvas&&i.drawImage(e.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),i.clearRect(r.x1,r.y1,r.width,r.height),this._eventManager.ghostCtx.restore()),i.restore(),{source:t,dest:this.plotArea.ctx,animationCallback:ie.xScaleAnimation,easingFunction:ie.easing.easeOutQuart,animationBase:h<e.axisY.bounds.x1?e.axisY.bounds.x1:h>e.axisY.bounds.x2?e.axisY.bounds.x2:h}}},c.prototype.renderStackedBar=function(e){var t=e.targetCanvasCtx||this.plotArea.ctx,i=O?this._preRenderCtx:t;if(!(0>=e.dataSeriesIndexes.length)){var a,n,o=null,s=this.plotArea,r=[],c=[],h=[],u=[],d=0,p=e.axisY.convertValueToPixel(e.axisY.logarithmic?e.axisY.viewportMinimum:0),d=this.dataPointMinWidth?this.dataPointMinWidth:this.dataPointWidth?this.dataPointWidth:1;n=this.dataPointMaxWidth?this.dataPointMaxWidth:this.dataPointWidth?this.dataPointWidth:.15*this.height<<0;var f=e.axisX.dataInfo.minDiff;isFinite(f)||(f=.3*Math.abs(e.axisX.range)),f=this.dataPointWidth?this.dataPointWidth:s.height*(e.axisX.logarithmic?Math.log(f)/Math.log(e.axisX.range):Math.abs(f)/Math.abs(e.axisX.range))/e.plotType.plotUnits.length*.9<<0,this.dataPointMaxWidth&&d>n&&(d=Math.min(this.dataPointWidth?this.dataPointWidth:1/0,n)),!this.dataPointMaxWidth&&this.dataPointMinWidth&&n<d&&(n=Math.max(this.dataPointWidth?this.dataPointWidth:-1/0,d)),f<d&&(f=d),f>n&&(f=n),i.save(),O&&this._eventManager.ghostCtx.save(),i.beginPath(),i.rect(s.x1,s.y1,s.width,s.height),i.clip(),O&&(this._eventManager.ghostCtx.beginPath(),this._eventManager.ghostCtx.rect(s.x1,s.y1,s.width,s.height),this._eventManager.ghostCtx.clip());for(var m=0;m<e.dataSeriesIndexes.length;m++){var g=e.dataSeriesIndexes[m],v=this.data[g],b=v.dataPoints;if(0<b.length){var y=!!(5<f&&v.bevelEnabled);for(i.strokeStyle="#4572A7 ",d=0;d<b.length;d++)if(!((o=b[d].x.getTime?b[d].x.getTime():b[d].x)<e.axisX.dataInfo.viewPortMin||o>e.axisX.dataInfo.viewPortMax)&&"number"==typeof b[d].y){n=e.axisX.convertValueToPixel(o);var x,C=n-e.plotType.plotUnits.length*f/2+e.index*f<<0,w=C+f<<0;if(e.axisY.logarithmic||e.axisY.scaleBreaks&&0<e.axisY.scaleBreaks._appliedBreaks.length&&0<b[d].y)h[o]=b[d].y+(h[o]?h[o]:0),0<h[o]&&(x=r[o]?r[o]:p,r[o]=a=e.axisY.convertValueToPixel(h[o]));else if(e.axisY.scaleBreaks&&0<e.axisY.scaleBreaks._appliedBreaks.length&&0>=b[d].y)u[o]=b[d].y+(u[o]?u[o]:0),a=c[o]?c[o]:p,c[o]=x=e.axisY.convertValueToPixel(u[o]);else if(a=e.axisY.convertValueToPixel(b[d].y),0<=b[d].y){var k=r[o]?r[o]:0;x=p+k,a+=k,r[o]=k+(a-x)}else k=c[o]?c[o]:0,x=a-k,a=p-k,c[o]=k+(a-x);o=b[d].color?b[d].color:v._colorSet[d%v._colorSet.length],Q(i,x,C,a,w,o,0,null,y,!1,!1,!1,v.fillOpacity),o=v.dataPointIds[d],this._eventManager.objectMap[o]={id:o,objectType:"dataPoint",dataSeriesIndex:g,dataPointIndex:d,x1:x,y1:C,x2:a,y2:w},o=l(o),O&&Q(this._eventManager.ghostCtx,x,C,a,w,o,0,null,!1,!1,!1,!1),(b[d].indexLabel||v.indexLabel||b[d].indexLabelFormatter||v.indexLabelFormatter)&&this._indexLabels.push({chartType:"stackedBar",dataPoint:b[d],dataSeries:v,point:{x:0<=b[d].y?a:x,y:n},direction:0>b[d].y===e.axisY.reversed?1:-1,bounds:{x1:Math.min(x,a),y1:C,x2:Math.max(x,a),y2:w},color:o})}}}return O&&(t.drawImage(this._preRenderCanvas,0,0,this.width,this.height),i.globalCompositeOperation="source-atop",e.axisX.maskCanvas&&i.drawImage(e.axisX.maskCanvas,0,0,this.width,this.height),e.axisY.maskCanvas&&i.drawImage(e.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),i.clearRect(s.x1,s.y1,s.width,s.height),this._eventManager.ghostCtx.restore()),i.restore(),{source:t,dest:this.plotArea.ctx,animationCallback:ie.xScaleAnimation,easingFunction:ie.easing.easeOutQuart,animationBase:p<e.axisY.bounds.x1?e.axisY.bounds.x1:p>e.axisY.bounds.x2?e.axisY.bounds.x2:p}}},c.prototype.renderStackedBar100=function(e){var t=e.targetCanvasCtx||this.plotArea.ctx,i=O?this._preRenderCtx:t;if(!(0>=e.dataSeriesIndexes.length)){var a,n,o=null,s=this.plotArea,r=[],c=[],h=[],u=[],d=0,p=e.axisY.convertValueToPixel(e.axisY.logarithmic?e.axisY.viewportMinimum:0),d=this.dataPointMinWidth?this.dataPointMinWidth:this.dataPointWidth?this.dataPointWidth:1;n=this.dataPointMaxWidth?this.dataPointMaxWidth:this.dataPointWidth?this.dataPointWidth:.15*this.height<<0;var f=e.axisX.dataInfo.minDiff;isFinite(f)||(f=.3*Math.abs(e.axisX.range)),f=this.dataPointWidth?this.dataPointWidth:s.height*(e.axisX.logarithmic?Math.log(f)/Math.log(e.axisX.range):Math.abs(f)/Math.abs(e.axisX.range))/e.plotType.plotUnits.length*.9<<0,this.dataPointMaxWidth&&d>n&&(d=Math.min(this.dataPointWidth?this.dataPointWidth:1/0,n)),!this.dataPointMaxWidth&&this.dataPointMinWidth&&n<d&&(n=Math.max(this.dataPointWidth?this.dataPointWidth:-1/0,d)),f<d&&(f=d),f>n&&(f=n),i.save(),O&&this._eventManager.ghostCtx.save(),i.beginPath(),i.rect(s.x1,s.y1,s.width,s.height),i.clip(),O&&(this._eventManager.ghostCtx.beginPath(),this._eventManager.ghostCtx.rect(s.x1,s.y1,s.width,s.height),this._eventManager.ghostCtx.clip());for(var m=0;m<e.dataSeriesIndexes.length;m++){var g=e.dataSeriesIndexes[m],v=this.data[g],b=v.dataPoints;if(0<b.length){var y=!!(5<f&&v.bevelEnabled);for(i.strokeStyle="#4572A7 ",d=0;d<b.length;d++)if(!((o=b[d].x.getTime?b[d].x.getTime():b[d].x)<e.axisX.dataInfo.viewPortMin||o>e.axisX.dataInfo.viewPortMax)&&"number"==typeof b[d].y){n=e.axisX.convertValueToPixel(o);var x;x=0!==e.dataPointYSums[o]?b[d].y/e.dataPointYSums[o]*100:0;var C=n-e.plotType.plotUnits.length*f/2+e.index*f<<0,w=C+f<<0;if(e.axisY.logarithmic||e.axisY.scaleBreaks&&0<e.axisY.scaleBreaks._appliedBreaks.length&&0<b[d].y){if(h[o]=x+(h[o]?h[o]:0),0>=h[o])continue;x=r[o]?r[o]:p,r[o]=a=e.axisY.convertValueToPixel(h[o])}else if(e.axisY.scaleBreaks&&0<e.axisY.scaleBreaks._appliedBreaks.length&&0>=b[d].y)u[o]=x+(u[o]?u[o]:0),a=c[o]?c[o]:p,c[o]=x=e.axisY.convertValueToPixel(u[o]);else if(a=e.axisY.convertValueToPixel(x),0<=b[d].y){var k=r[o]?r[o]:0;x=p+k,a+=k,e.dataSeriesIndexes.length-1===m&&1>=Math.abs(s.x2-a)&&(a=s.x2),r[o]=k+(a-x)}else k=c[o]?c[o]:0,x=a-k,a=p-k,e.dataSeriesIndexes.length-1===m&&1>=Math.abs(s.x1-x)&&(x=s.x1),c[o]=k+(a-x);o=b[d].color?b[d].color:v._colorSet[d%v._colorSet.length],Q(i,x,C,a,w,o,0,null,y,!1,!1,!1,v.fillOpacity),o=v.dataPointIds[d],this._eventManager.objectMap[o]={id:o,objectType:"dataPoint",dataSeriesIndex:g,dataPointIndex:d,x1:x,y1:C,x2:a,y2:w},o=l(o),O&&Q(this._eventManager.ghostCtx,x,C,a,w,o,0,null,!1,!1,!1,!1),(b[d].indexLabel||v.indexLabel||b[d].indexLabelFormatter||v.indexLabelFormatter)&&this._indexLabels.push({chartType:"stackedBar100",dataPoint:b[d],dataSeries:v,point:{x:0<=b[d].y?a:x,y:n},direction:0>b[d].y===e.axisY.reversed?1:-1,bounds:{x1:Math.min(x,a),y1:C,x2:Math.max(x,a),y2:w},color:o})}}}return O&&(t.drawImage(this._preRenderCanvas,0,0,this.width,this.height),i.globalCompositeOperation="source-atop",e.axisX.maskCanvas&&i.drawImage(e.axisX.maskCanvas,0,0,this.width,this.height),e.axisY.maskCanvas&&i.drawImage(e.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),i.clearRect(s.x1,s.y1,s.width,s.height),this._eventManager.ghostCtx.restore()),i.restore(),{source:t,dest:this.plotArea.ctx,animationCallback:ie.xScaleAnimation,easingFunction:ie.easing.easeOutQuart,animationBase:p<e.axisY.bounds.x1?e.axisY.bounds.x1:p>e.axisY.bounds.x2?e.axisY.bounds.x2:p}}},c.prototype.renderArea=function(e){function t(){S&&(0<g.lineThickness&&o.stroke(),e.axisY.logarithmic||0>=e.axisY.viewportMinimum&&0<=e.axisY.viewportMaximum?C=k:0>e.axisY.viewportMaximum?C=h.y1:0<e.axisY.viewportMinimum&&(C=c.y2),o.lineTo(b,C),o.lineTo(S.x,C),o.closePath(),o.globalAlpha=g.fillOpacity,o.fill(),o.globalAlpha=1,O&&(r.lineTo(b,C),r.lineTo(S.x,C),r.closePath(),r.fill()),o.beginPath(),o.moveTo(b,y),r.beginPath(),r.moveTo(b,y),S={x:b,y:y})}var i,a,n=e.targetCanvasCtx||this.plotArea.ctx,o=O?this._preRenderCtx:n;if(!(0>=e.dataSeriesIndexes.length)){var s,r=this._eventManager.ghostCtx,c=e.axisX.lineCoordinates,h=e.axisY.lineCoordinates,u=[],d=this.plotArea;o.save(),O&&r.save(),o.beginPath(),o.rect(d.x1,d.y1,d.width,d.height),o.clip(),O&&(r.beginPath(),r.rect(d.x1,d.y1,d.width,d.height),r.clip());for(var p=0;p<e.dataSeriesIndexes.length;p++){var m=e.dataSeriesIndexes[p],g=this.data[m],v=g.dataPoints,u=g.id;this._eventManager.objectMap[u]={objectType:"dataSeries",dataSeriesIndex:m},u=l(u),r.fillStyle=u,u=[],i=!0;var b,y,x,C,w=0,k=e.axisY.convertValueToPixel(e.axisY.logarithmic?e.axisY.viewportMinimum:0),S=null;if(0<v.length){var D=g._colorSet[w%g._colorSet.length],T=g.lineColor=g.options.lineColor||D,M=T;if(o.fillStyle=D,o.strokeStyle=T,o.lineWidth=g.lineThickness,a="solid",o.setLineDash){var P=f(g.nullDataLineDashType,g.lineThickness);a=g.lineDashType;var $=f(a,g.lineThickness);o.setLineDash($)}for(var _=!0;w<v.length;w++)if(!((x=v[w].x.getTime?v[w].x.getTime():v[w].x)<e.axisX.dataInfo.viewPortMin||x>e.axisX.dataInfo.viewPortMax&&(!g.connectNullData||!_)))if("number"!=typeof v[w].y)g.connectNullData||_||i||t(),_=!0;else{b=e.axisX.convertValueToPixel(x),y=e.axisY.convertValueToPixel(v[w].y),i||_?(!i&&g.connectNullData?(o.setLineDash&&(g.options.nullDataLineDashType||a===g.lineDashType&&g.lineDashType!==g.nullDataLineDashType)&&(i=b,a=y,b=s.x,y=s.y,t(),o.moveTo(s.x,s.y),b=i,y=a,S=s,a=g.nullDataLineDashType,o.setLineDash(P)),o.lineTo(b,y),O&&r.lineTo(b,y)):(o.beginPath(),o.moveTo(b,y),O&&(r.beginPath(),r.moveTo(b,y)),S={x:b,y:y}),_=i=!1):(o.lineTo(b,y),O&&r.lineTo(b,y),0==w%250&&t()),s={x:b,y:y},w<v.length-1&&(M!==(v[w].lineColor||T)||a!==(v[w].lineDashType||g.lineDashType))&&(t(),M=v[w].lineColor||T,o.strokeStyle=M,o.setLineDash&&(v[w].lineDashType?(a=v[w].lineDashType,o.setLineDash(f(a,g.lineThickness))):(a=g.lineDashType,o.setLineDash($))));var A=g.dataPointIds[w];this._eventManager.objectMap[A]={id:A,objectType:"dataPoint",dataSeriesIndex:m,dataPointIndex:w,x1:b,y1:y},0!==v[w].markerSize&&(0<v[w].markerSize||0<g.markerSize)&&(x=g.getMarkerProperties(w,b,y,o),u.push(x),A=l(A),O&&u.push({x:b,y:y,ctx:r,type:x.type,size:x.size,color:A,borderColor:A,borderThickness:x.borderThickness})),(v[w].indexLabel||g.indexLabel||v[w].indexLabelFormatter||g.indexLabelFormatter)&&this._indexLabels.push({chartType:"area",dataPoint:v[w],dataSeries:g,point:{x:b,y:y},direction:0>v[w].y===e.axisY.reversed?1:-1,color:D})}t(),ae.drawMarkers(u)}}return O&&(n.drawImage(this._preRenderCanvas,0,0,this.width,this.height),o.globalCompositeOperation="source-atop",e.axisX.maskCanvas&&o.drawImage(e.axisX.maskCanvas,0,0,this.width,this.height),e.axisY.maskCanvas&&o.drawImage(e.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),o.clearRect(d.x1,d.y1,d.width,d.height),this._eventManager.ghostCtx.restore()),o.restore(),{source:n,dest:this.plotArea.ctx,animationCallback:ie.xClipAnimation,easingFunction:ie.easing.linear,animationBase:0}}},c.prototype.renderSplineArea=function(e){function t(){var t=I(C,2);if(0<t.length){if(0<d.lineThickness){a.beginPath(),a.moveTo(t[0].x,t[0].y),t[0].newStrokeStyle&&(a.strokeStyle=t[0].newStrokeStyle),t[0].newLineDashArray&&a.setLineDash(t[0].newLineDashArray);for(var i=0;i<t.length-3;i+=3)a.bezierCurveTo(t[i+1].x,t[i+1].y,t[i+2].x,t[i+2].y,t[i+3].x,t[i+3].y),O&&n.bezierCurveTo(t[i+1].x,t[i+1].y,t[i+2].x,t[i+2].y,t[i+3].x,t[i+3].y),(t[i+3].newStrokeStyle||t[i+3].newLineDashArray)&&(a.stroke(),a.beginPath(),a.moveTo(t[i+3].x,t[i+3].y),t[i+3].newStrokeStyle&&(a.strokeStyle=t[i+3].newStrokeStyle),t[i+3].newLineDashArray&&a.setLineDash(t[i+3].newLineDashArray));a.stroke()}for(a.beginPath(),a.moveTo(t[0].x,t[0].y),O&&(n.beginPath(),n.moveTo(t[0].x,t[0].y)),i=0;i<t.length-3;i+=3)a.bezierCurveTo(t[i+1].x,t[i+1].y,t[i+2].x,t[i+2].y,t[i+3].x,t[i+3].y),O&&n.bezierCurveTo(t[i+1].x,t[i+1].y,t[i+2].x,t[i+2].y,t[i+3].x,t[i+3].y);e.axisY.logarithmic||0>=e.axisY.viewportMinimum&&0<=e.axisY.viewportMaximum?v=y:0>e.axisY.viewportMaximum?v=s.y1:0<e.axisY.viewportMinimum&&(v=o.y2),x={x:t[0].x,y:t[0].y},a.lineTo(t[t.length-1].x,v),a.lineTo(x.x,v),a.closePath(),a.globalAlpha=d.fillOpacity,a.fill(),a.globalAlpha=1,O&&(n.lineTo(t[t.length-1].x,v),n.lineTo(x.x,v),n.closePath(),n.fill())}}var i=e.targetCanvasCtx||this.plotArea.ctx,a=O?this._preRenderCtx:i;if(!(0>=e.dataSeriesIndexes.length)){var n=this._eventManager.ghostCtx,o=e.axisX.lineCoordinates,s=e.axisY.lineCoordinates,r=[],c=this.plotArea;a.save(),O&&n.save(),a.beginPath(),a.rect(c.x1,c.y1,c.width,c.height),a.clip(),O&&(n.beginPath(),n.rect(c.x1,c.y1,c.width,c.height),n.clip());for(var h=0;h<e.dataSeriesIndexes.length;h++){var u=e.dataSeriesIndexes[h],d=this.data[u],p=d.dataPoints,r=d.id;this._eventManager.objectMap[r]={objectType:"dataSeries",dataSeriesIndex:u},r=l(r),n.fillStyle=r;var m,g,v,r=[],b=0,y=e.axisY.convertValueToPixel(e.axisY.logarithmic?e.axisY.viewportMinimum:0),x=null,C=[];if(0<p.length){var w=d._colorSet[b%d._colorSet.length],k=d.lineColor=d.options.lineColor||w,S=k;a.fillStyle=w,a.strokeStyle=k,a.lineWidth=d.lineThickness;var D="solid";if(a.setLineDash){var T=f(d.nullDataLineDashType,d.lineThickness),D=d.lineDashType,M=f(D,d.lineThickness);a.setLineDash(M)}for(g=!1;b<p.length;b++)if(!((m=p[b].x.getTime?p[b].x.getTime():p[b].x)<e.axisX.dataInfo.viewPortMin||m>e.axisX.dataInfo.viewPortMax&&(!d.connectNullData||!g)))if("number"!=typeof p[b].y)0<b&&!g&&(d.connectNullData?a.setLineDash&&0<C.length&&(d.options.nullDataLineDashType||!p[b-1].lineDashType)&&(C[C.length-1].newLineDashArray=T,D=d.nullDataLineDashType):(t(),C=[])),g=!0;else{m=e.axisX.convertValueToPixel(m),g=e.axisY.convertValueToPixel(p[b].y);var P=d.dataPointIds[b];if(this._eventManager.objectMap[P]={id:P,objectType:"dataPoint",dataSeriesIndex:u,dataPointIndex:b,x1:m,y1:g},C[C.length]={x:m,y:g},b<p.length-1&&(S!==(p[b].lineColor||k)||D!==(p[b].lineDashType||d.lineDashType))&&(S=p[b].lineColor||k,C[C.length-1].newStrokeStyle=S,a.setLineDash&&(p[b].lineDashType?(D=p[b].lineDashType,C[C.length-1].newLineDashArray=f(D,d.lineThickness)):(D=d.lineDashType,C[C.length-1].newLineDashArray=M))),0!==p[b].markerSize&&(0<p[b].markerSize||0<d.markerSize)){var $=d.getMarkerProperties(b,m,g,a);r.push($),P=l(P),O&&r.push({x:m,y:g,ctx:n,type:$.type,size:$.size,color:P,borderColor:P,borderThickness:$.borderThickness})}(p[b].indexLabel||d.indexLabel||p[b].indexLabelFormatter||d.indexLabelFormatter)&&this._indexLabels.push({chartType:"splineArea",dataPoint:p[b],dataSeries:d,point:{x:m,y:g},direction:0>p[b].y===e.axisY.reversed?1:-1,color:w}),g=!1}t(),ae.drawMarkers(r)}}return O&&(i.drawImage(this._preRenderCanvas,0,0,this.width,this.height),a.globalCompositeOperation="source-atop",e.axisX.maskCanvas&&a.drawImage(e.axisX.maskCanvas,0,0,this.width,this.height),e.axisY.maskCanvas&&a.drawImage(e.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),a.clearRect(c.x1,c.y1,c.width,c.height),this._eventManager.ghostCtx.restore()),a.restore(),{source:i,dest:this.plotArea.ctx,animationCallback:ie.xClipAnimation,easingFunction:ie.easing.linear,animationBase:0}}},c.prototype.renderStepArea=function(e){function t(){S&&(0<g.lineThickness&&o.stroke(),e.axisY.logarithmic||0>=e.axisY.viewportMinimum&&0<=e.axisY.viewportMaximum?C=k:0>e.axisY.viewportMaximum?C=h.y1:0<e.axisY.viewportMinimum&&(C=c.y2),o.lineTo(b,C),o.lineTo(S.x,C),o.closePath(),o.globalAlpha=g.fillOpacity,o.fill(),o.globalAlpha=1,O&&(r.lineTo(b,C),r.lineTo(S.x,C),r.closePath(),r.fill()),o.beginPath(),o.moveTo(b,y),r.beginPath(),r.moveTo(b,y),S={x:b,y:y})}var i,a,n=e.targetCanvasCtx||this.plotArea.ctx,o=O?this._preRenderCtx:n;if(!(0>=e.dataSeriesIndexes.length)){var s,r=this._eventManager.ghostCtx,c=e.axisX.lineCoordinates,h=e.axisY.lineCoordinates,u=[],d=this.plotArea;o.save(),O&&r.save(),o.beginPath(),o.rect(d.x1,d.y1,d.width,d.height),o.clip(),O&&(r.beginPath(),r.rect(d.x1,d.y1,d.width,d.height),r.clip());for(var p=0;p<e.dataSeriesIndexes.length;p++){var m=e.dataSeriesIndexes[p],g=this.data[m],v=g.dataPoints,u=g.id;this._eventManager.objectMap[u]={objectType:"dataSeries",dataSeriesIndex:m},u=l(u),r.fillStyle=u,u=[],i=!0;var b,y,x,C,w=0,k=e.axisY.convertValueToPixel(e.axisY.logarithmic?e.axisY.viewportMinimum:0),S=null;if(a=!1,0<v.length){var D=g._colorSet[w%g._colorSet.length],T=g.lineColor=g.options.lineColor||D,M=T;o.fillStyle=D,o.strokeStyle=T,o.lineWidth=g.lineThickness;var P="solid";if(o.setLineDash){var $=f(g.nullDataLineDashType,g.lineThickness),P=g.lineDashType,_=f(P,g.lineThickness);o.setLineDash(_)}for(;w<v.length;w++)if(!((x=v[w].x.getTime?v[w].x.getTime():v[w].x)<e.axisX.dataInfo.viewPortMin||x>e.axisX.dataInfo.viewPortMax&&(!g.connectNullData||!a))){var A=y;"number"!=typeof v[w].y?(g.connectNullData||a||i||t(),a=!0):(b=e.axisX.convertValueToPixel(x),y=e.axisY.convertValueToPixel(v[w].y),i||a?(!i&&g.connectNullData?(o.setLineDash&&(g.options.nullDataLineDashType||P===g.lineDashType&&g.lineDashType!==g.nullDataLineDashType)&&(i=b,a=y,b=s.x,y=s.y,t(),o.moveTo(s.x,s.y),b=i,y=a,S=s,P=g.nullDataLineDashType,o.setLineDash($)),o.lineTo(b,A),o.lineTo(b,y),O&&(r.lineTo(b,A),r.lineTo(b,y))):(o.beginPath(),o.moveTo(b,y),O&&(r.beginPath(),r.moveTo(b,y)),S={x:b,y:y}),a=i=!1):(o.lineTo(b,A),O&&r.lineTo(b,A),o.lineTo(b,y),O&&r.lineTo(b,y),0==w%250&&t()),s={x:b,y:y},w<v.length-1&&(M!==(v[w].lineColor||T)||P!==(v[w].lineDashType||g.lineDashType))&&(t(),M=v[w].lineColor||T,o.strokeStyle=M,o.setLineDash&&(v[w].lineDashType?(P=v[w].lineDashType,o.setLineDash(f(P,g.lineThickness))):(P=g.lineDashType,o.setLineDash(_)))),x=g.dataPointIds[w],this._eventManager.objectMap[x]={id:x,objectType:"dataPoint",dataSeriesIndex:m,dataPointIndex:w,x1:b,y1:y},0!==v[w].markerSize&&(0<v[w].markerSize||0<g.markerSize)&&(A=g.getMarkerProperties(w,b,y,o),u.push(A),x=l(x),O&&u.push({x:b,y:y,ctx:r,type:A.type,size:A.size,color:x,borderColor:x,borderThickness:A.borderThickness})),(v[w].indexLabel||g.indexLabel||v[w].indexLabelFormatter||g.indexLabelFormatter)&&this._indexLabels.push({chartType:"stepArea",dataPoint:v[w],dataSeries:g,point:{x:b,y:y},direction:0>v[w].y===e.axisY.reversed?1:-1,color:D}))}t(),ae.drawMarkers(u)}}return O&&(n.drawImage(this._preRenderCanvas,0,0,this.width,this.height),o.globalCompositeOperation="source-atop",e.axisX.maskCanvas&&o.drawImage(e.axisX.maskCanvas,0,0,this.width,this.height),e.axisY.maskCanvas&&o.drawImage(e.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),o.clearRect(d.x1,d.y1,d.width,d.height),this._eventManager.ghostCtx.restore()),o.restore(),{source:n,dest:this.plotArea.ctx,animationCallback:ie.xClipAnimation,easingFunction:ie.easing.linear,animationBase:0}}},c.prototype.renderStackedArea=function(e){function t(){if(!(1>v.length)){for(0<D.lineThickness&&a.stroke();0<v.length;){var e=v.pop();a.lineTo(e.x,e.y),O&&w.lineTo(e.x,e.y)}a.closePath(),a.globalAlpha=D.fillOpacity,a.fill(),a.globalAlpha=1,a.beginPath(),O&&(w.closePath(),w.fill(),w.beginPath()),v=[]}}var i=e.targetCanvasCtx||this.plotArea.ctx,a=O?this._preRenderCtx:i;if(!(0>=e.dataSeriesIndexes.length)){var n,o,s,c,h,u,d=null,p=[],m=this.plotArea,g=[],v=[],b=[],y=[],x=0,C=e.axisY.convertValueToPixel(e.axisY.logarithmic?e.axisY.viewportMinimum:0),w=this._eventManager.ghostCtx;O&&w.beginPath(),a.save(),O&&w.save(),a.beginPath(),a.rect(m.x1,m.y1,m.width,m.height),a.clip(),O&&(w.beginPath(),w.rect(m.x1,m.y1,m.width,m.height),w.clip());for(var d=[],k=0;k<e.dataSeriesIndexes.length;k++){var S=e.dataSeriesIndexes[k],D=this.data[S],T=D.dataPoints;for(D.dataPointIndexes=[],x=0;x<T.length;x++)S=T[x].x.getTime?T[x].x.getTime():T[x].x,D.dataPointIndexes[S]=x,d[S]||(b.push(S),d[S]=!0);b.sort(r)}for(k=0;k<e.dataSeriesIndexes.length;k++){if(S=e.dataSeriesIndexes[k],D=this.data[S],T=D.dataPoints,h=!0,v=[],x=D.id,this._eventManager.objectMap[x]={objectType:"dataSeries",dataSeriesIndex:S},x=l(x),w.fillStyle=x,0<b.length){var d=D._colorSet[0],M=D.lineColor=D.options.lineColor||d,P=M;if(a.fillStyle=d,a.strokeStyle=M,a.lineWidth=D.lineThickness,u="solid",a.setLineDash){var $=f(D.nullDataLineDashType,D.lineThickness);u=D.lineDashType;var _=f(u,D.lineThickness);a.setLineDash(_)}for(var A=!0,x=0;x<b.length;x++){s=b[x];var I=null,I=0<=D.dataPointIndexes[s]?T[D.dataPointIndexes[s]]:{x:s,y:null};if(!(s<e.axisX.dataInfo.viewPortMin||s>e.axisX.dataInfo.viewPortMax&&(!D.connectNullData||!A)))if("number"!=typeof I.y)D.connectNullData||A||h||t(),A=!0;else{n=e.axisX.convertValueToPixel(s);var F=g[s]?g[s]:0;if(e.axisY.logarithmic||e.axisY.scaleBreaks&&0<e.axisY.scaleBreaks._appliedBreaks.length){if(y[s]=I.y+(y[s]?y[s]:0),0>=y[s]&&e.axisY.logarithmic)continue;o=e.axisY.convertValueToPixel(y[s])}else o=e.axisY.convertValueToPixel(I.y),o-=F;if(v.push({x:n,y:C-F}),g[s]=C-o,h||A?(!h&&D.connectNullData?(a.setLineDash&&(D.options.nullDataLineDashType||u===D.lineDashType&&D.lineDashType!==D.nullDataLineDashType)&&(h=v.pop(),u=v[v.length-1],t(),a.moveTo(c.x,c.y),v.push(u),v.push(h),u=D.nullDataLineDashType,a.setLineDash($)),a.lineTo(n,o),O&&w.lineTo(n,o)):(a.beginPath(),a.moveTo(n,o),O&&(w.beginPath(),w.moveTo(n,o))),A=h=!1):(a.lineTo(n,o),O&&w.lineTo(n,o),0==x%250&&(t(),a.moveTo(n,o),O&&w.moveTo(n,o),v.push({x:n,y:C-F}))),c={x:n,y:o},x<T.length-1&&(P!==(T[x].lineColor||M)||u!==(T[x].lineDashType||D.lineDashType))&&(t(),a.beginPath(),a.moveTo(n,o),v.push({x:n,y:C-F}),P=T[x].lineColor||M,a.strokeStyle=P,a.setLineDash&&(T[x].lineDashType?(u=T[x].lineDashType,a.setLineDash(f(u,D.lineThickness))):(u=D.lineDashType,a.setLineDash(_)))),0<=D.dataPointIndexes[s]){var E=D.dataPointIds[D.dataPointIndexes[s]];this._eventManager.objectMap[E]={id:E,objectType:"dataPoint",dataSeriesIndex:S,dataPointIndex:D.dataPointIndexes[s],x1:n,y1:o}}0<=D.dataPointIndexes[s]&&0!==I.markerSize&&(0<I.markerSize||0<D.markerSize)&&(s=D.getMarkerProperties(D.dataPointIndexes[s],n,o,a),p.push(s),markerColor=l(E),O&&p.push({x:n,y:o,ctx:w,type:s.type,size:s.size,color:markerColor,borderColor:markerColor,borderThickness:s.borderThickness})),(I.indexLabel||D.indexLabel||I.indexLabelFormatter||D.indexLabelFormatter)&&this._indexLabels.push({chartType:"stackedArea",dataPoint:I,dataSeries:D,point:{x:n,y:o},direction:0>T[x].y===e.axisY.reversed?1:-1,color:d})}}t(),a.moveTo(n,o),O&&w.moveTo(n,o)}delete D.dataPointIndexes}return ae.drawMarkers(p),O&&(i.drawImage(this._preRenderCanvas,0,0,this.width,this.height),a.globalCompositeOperation="source-atop",e.axisX.maskCanvas&&a.drawImage(e.axisX.maskCanvas,0,0,this.width,this.height),e.axisY.maskCanvas&&a.drawImage(e.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),a.clearRect(m.x1,m.y1,m.width,m.height),w.restore()),a.restore(),{source:i,dest:this.plotArea.ctx,animationCallback:ie.xClipAnimation,easingFunction:ie.easing.linear,animationBase:0}}},c.prototype.renderStackedArea100=function(e){function t(){for(0<D.lineThickness&&a.stroke();0<v.length;){var e=v.pop();a.lineTo(e.x,e.y),O&&w.lineTo(e.x,e.y)}a.closePath(),a.globalAlpha=D.fillOpacity,a.fill(),a.globalAlpha=1,a.beginPath(),O&&(w.closePath(),w.fill(),w.beginPath()),v=[]}var i=e.targetCanvasCtx||this.plotArea.ctx,a=O?this._preRenderCtx:i;if(!(0>=e.dataSeriesIndexes.length)){var n,o,s,c,h,u,d=null,p=this.plotArea,m=[],g=[],v=[],b=[],y=[],x=0,C=e.axisY.convertValueToPixel(e.axisY.logarithmic?e.axisY.viewportMinimum:0),w=this._eventManager.ghostCtx;a.save(),O&&w.save(),a.beginPath(),a.rect(p.x1,p.y1,p.width,p.height),a.clip(),O&&(w.beginPath(),w.rect(p.x1,p.y1,p.width,p.height),w.clip());for(var d=[],k=0;k<e.dataSeriesIndexes.length;k++){var S=e.dataSeriesIndexes[k],D=this.data[S],T=D.dataPoints;for(D.dataPointIndexes=[],x=0;x<T.length;x++)S=T[x].x.getTime?T[x].x.getTime():T[x].x,D.dataPointIndexes[S]=x,d[S]||(b.push(S),d[S]=!0);b.sort(r)}for(k=0;k<e.dataSeriesIndexes.length;k++){if(S=e.dataSeriesIndexes[k],D=this.data[S],T=D.dataPoints,h=!0,d=D.id,this._eventManager.objectMap[d]={objectType:"dataSeries",dataSeriesIndex:S},d=l(d),w.fillStyle=d,v=[],0<b.length){var d=D._colorSet[x%D._colorSet.length],M=D.lineColor=D.options.lineColor||d,P=M;if(a.fillStyle=d,a.strokeStyle=M,a.lineWidth=D.lineThickness,u="solid",a.setLineDash){var $=f(D.nullDataLineDashType,D.lineThickness);u=D.lineDashType;var _=f(u,D.lineThickness);a.setLineDash(_)}for(var A=!0,x=0;x<b.length;x++){s=b[x];var I=null,I=0<=D.dataPointIndexes[s]?T[D.dataPointIndexes[s]]:{x:s,y:null};if(!(s<e.axisX.dataInfo.viewPortMin||s>e.axisX.dataInfo.viewPortMax&&(!D.connectNullData||!A)))if("number"!=typeof I.y)D.connectNullData||A||h||t(),A=!0;else{var F;F=0!==e.dataPointYSums[s]?I.y/e.dataPointYSums[s]*100:0,n=e.axisX.convertValueToPixel(s);var E=g[s]?g[s]:0;if(e.axisY.logarithmic||e.axisY.scaleBreaks&&0<e.axisY.scaleBreaks._appliedBreaks.length){if(y[s]=F+(y[s]?y[s]:0),0>=y[s]&&e.axisY.logarithmic)continue;o=e.axisY.convertValueToPixel(y[s])}else o=e.axisY.convertValueToPixel(F),o-=E;if(v.push({x:n,y:C-E}),g[s]=C-o,h||A?(!h&&D.connectNullData?(a.setLineDash&&(D.options.nullDataLineDashType||u===D.lineDashType&&D.lineDashType!==D.nullDataLineDashType)&&(h=v.pop(),u=v[v.length-1],t(),a.moveTo(c.x,c.y),v.push(u),v.push(h),u=D.nullDataLineDashType,a.setLineDash($)),a.lineTo(n,o),O&&w.lineTo(n,o)):(a.beginPath(),a.moveTo(n,o),O&&(w.beginPath(),w.moveTo(n,o))),A=h=!1):(a.lineTo(n,o),O&&w.lineTo(n,o),0==x%250&&(t(),a.moveTo(n,o),O&&w.moveTo(n,o),v.push({x:n,y:C-E}))),c={x:n,y:o},x<T.length-1&&(P!==(T[x].lineColor||M)||u!==(T[x].lineDashType||D.lineDashType))&&(t(),a.beginPath(),a.moveTo(n,o),v.push({x:n,y:C-E}),P=T[x].lineColor||M,a.strokeStyle=P,a.setLineDash&&(T[x].lineDashType?(u=T[x].lineDashType,a.setLineDash(f(u,D.lineThickness))):(u=D.lineDashType,a.setLineDash(_)))),0<=D.dataPointIndexes[s]){var L=D.dataPointIds[D.dataPointIndexes[s]];this._eventManager.objectMap[L]={id:L,objectType:"dataPoint",dataSeriesIndex:S,dataPointIndex:D.dataPointIndexes[s],x1:n,y1:o}}0<=D.dataPointIndexes[s]&&0!==I.markerSize&&(0<I.markerSize||0<D.markerSize)&&(s=D.getMarkerProperties(x,n,o,a),m.push(s),markerColor=l(L),O&&m.push({x:n,y:o,ctx:w,type:s.type,size:s.size,color:markerColor,borderColor:markerColor,borderThickness:s.borderThickness})),(I.indexLabel||D.indexLabel||I.indexLabelFormatter||D.indexLabelFormatter)&&this._indexLabels.push({chartType:"stackedArea100",dataPoint:I,dataSeries:D,point:{x:n,y:o},direction:0>T[x].y===e.axisY.reversed?1:-1,color:d})}}t(),a.moveTo(n,o),O&&w.moveTo(n,o)}delete D.dataPointIndexes}return ae.drawMarkers(m),O&&(i.drawImage(this._preRenderCanvas,0,0,this.width,this.height),a.globalCompositeOperation="source-atop",e.axisX.maskCanvas&&a.drawImage(e.axisX.maskCanvas,0,0,this.width,this.height),e.axisY.maskCanvas&&a.drawImage(e.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),a.clearRect(p.x1,p.y1,p.width,p.height),w.restore()),a.restore(),{source:i,dest:this.plotArea.ctx,animationCallback:ie.xClipAnimation,easingFunction:ie.easing.linear,animationBase:0}}},c.prototype.renderBubble=function(e){var t=e.targetCanvasCtx||this.plotArea.ctx,i=O?this._preRenderCtx:t;if(!(0>=e.dataSeriesIndexes.length)){var a,n,o=this.plotArea,s=0;i.save(),O&&this._eventManager.ghostCtx.save(),i.beginPath(),i.rect(o.x1,o.y1,o.width,o.height),i.clip(),O&&(this._eventManager.ghostCtx.beginPath(),this._eventManager.ghostCtx.rect(o.x1,o.y1,o.width,o.height),this._eventManager.ghostCtx.clip());for(var r=-1/0,c=1/0,h=0;h<e.dataSeriesIndexes.length;h++)for(var u=e.dataSeriesIndexes[h],d=this.data[u],p=d.dataPoints,f=0,s=0;s<p.length;s++)(a=a=p[s].getTime?p[s].x.getTime():p[s].x)<e.axisX.dataInfo.viewPortMin||a>e.axisX.dataInfo.viewPortMax||void 0===p[s].z||(f=p[s].z,f>r&&(r=f),f<c&&(c=f));for(var m=25*Math.PI,g=Math.max(Math.pow(.25*Math.min(o.height,o.width)/2,2)*Math.PI,m),h=0;h<e.dataSeriesIndexes.length;h++)if(u=e.dataSeriesIndexes[h],d=this.data[u],p=d.dataPoints,0<p.length)for(i.strokeStyle="#4572A7 ",s=0;s<p.length;s++)if(!((a=a=p[s].getTime?p[s].x.getTime():p[s].x)<e.axisX.dataInfo.viewPortMin||a>e.axisX.dataInfo.viewPortMax)&&"number"==typeof p[s].y){a=e.axisX.convertValueToPixel(a),n=e.axisY.convertValueToPixel(p[s].y);var f=p[s].z,v=2*Math.max(Math.sqrt((r===c?g/2:m+(g-m)/(r-c)*(f-c))/Math.PI)<<0,1),f=d.getMarkerProperties(s,i);f.size=v,i.globalAlpha=d.fillOpacity,ae.drawMarker(a,n,i,f.type,f.size,f.color,f.borderColor,f.borderThickness),i.globalAlpha=1;var b=d.dataPointIds[s];this._eventManager.objectMap[b]={id:b,objectType:"dataPoint",dataSeriesIndex:u,dataPointIndex:s,x1:a,y1:n,size:v},v=l(b),O&&ae.drawMarker(a,n,this._eventManager.ghostCtx,f.type,f.size,v,v,f.borderThickness),(p[s].indexLabel||d.indexLabel||p[s].indexLabelFormatter||d.indexLabelFormatter)&&this._indexLabels.push({chartType:"bubble",dataPoint:p[s],dataSeries:d,point:{x:a,y:n},direction:1,bounds:{x1:a-f.size/2,y1:n-f.size/2,x2:a+f.size/2,y2:n+f.size/2},color:null})}return O&&(t.drawImage(this._preRenderCanvas,0,0,this.width,this.height),i.globalCompositeOperation="source-atop",e.axisX.maskCanvas&&i.drawImage(e.axisX.maskCanvas,0,0,this.width,this.height),e.axisY.maskCanvas&&i.drawImage(e.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),i.clearRect(o.x1,o.y1,o.width,o.height),this._eventManager.ghostCtx.restore()),i.restore(),{source:t,dest:this.plotArea.ctx,animationCallback:ie.fadeInAnimation,easingFunction:ie.easing.easeInQuad,animationBase:0}}},c.prototype.renderScatter=function(e){var t=e.targetCanvasCtx||this.plotArea.ctx,i=O?this._preRenderCtx:t;if(!(0>=e.dataSeriesIndexes.length)){var a,n,o=this.plotArea,s=0;i.save(),O&&this._eventManager.ghostCtx.save(),i.beginPath(),i.rect(o.x1,o.y1,o.width,o.height),i.clip(),O&&(this._eventManager.ghostCtx.beginPath(),this._eventManager.ghostCtx.rect(o.x1,o.y1,o.width,o.height),this._eventManager.ghostCtx.clip());for(var r=0;r<e.dataSeriesIndexes.length;r++){var c=e.dataSeriesIndexes[r],h=this.data[c],u=h.dataPoints;if(0<u.length){i.strokeStyle="#4572A7 ",Math.pow(.3*Math.min(o.height,o.width)/2,2);for(var d=0,p=0,s=0;s<u.length;s++)if(!((a=a=u[s].getTime?u[s].x.getTime():u[s].x)<e.axisX.dataInfo.viewPortMin||a>e.axisX.dataInfo.viewPortMax)&&"number"==typeof u[s].y){a=e.axisX.convertValueToPixel(a),n=e.axisY.convertValueToPixel(u[s].y);var f=h.getMarkerProperties(s,a,n,i);i.globalAlpha=h.fillOpacity,ae.drawMarker(f.x,f.y,f.ctx,f.type,f.size,f.color,f.borderColor,f.borderThickness),i.globalAlpha=1,Math.sqrt((d-a)*(d-a)+(p-n)*(p-n))<Math.min(f.size,5)&&u.length>Math.min(this.plotArea.width,this.plotArea.height)||(d=h.dataPointIds[s],this._eventManager.objectMap[d]={id:d,objectType:"dataPoint",dataSeriesIndex:c,dataPointIndex:s,x1:a,y1:n},d=l(d),O&&ae.drawMarker(f.x,f.y,this._eventManager.ghostCtx,f.type,f.size,d,d,f.borderThickness),(u[s].indexLabel||h.indexLabel||u[s].indexLabelFormatter||h.indexLabelFormatter)&&this._indexLabels.push({chartType:"scatter",dataPoint:u[s],dataSeries:h,point:{x:a,y:n},direction:1,bounds:{x1:a-f.size/2,y1:n-f.size/2,x2:a+f.size/2,y2:n+f.size/2},color:null}),d=a,p=n)}}}return O&&(t.drawImage(this._preRenderCanvas,0,0,this.width,this.height),i.globalCompositeOperation="source-atop",e.axisX.maskCanvas&&i.drawImage(e.axisX.maskCanvas,0,0,this.width,this.height),e.axisY.maskCanvas&&i.drawImage(e.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),
i.clearRect(o.x1,o.y1,o.width,o.height),this._eventManager.ghostCtx.restore()),i.restore(),{source:t,dest:this.plotArea.ctx,animationCallback:ie.fadeInAnimation,easingFunction:ie.easing.easeInQuad,animationBase:0}}},c.prototype.renderCandlestick=function(e){var t=e.targetCanvasCtx||this.plotArea.ctx,i=O?this._preRenderCtx:t,a=this._eventManager.ghostCtx;if(!(0>=e.dataSeriesIndexes.length)){var n,o,s,r,c,u,d=null,p=null,f=this.plotArea,m=0,d=this.dataPointMinWidth?this.dataPointMinWidth:this.dataPointWidth?this.dataPointWidth:1,p=this.dataPointMaxWidth?this.dataPointMaxWidth:this.dataPointWidth?this.dataPointWidth:.015*this.width,g=e.axisX.dataInfo.minDiff;isFinite(g)||(g=.3*Math.abs(e.axisX.range)),g=this.dataPointWidth?this.dataPointWidth:.7*f.width*(e.axisX.logarithmic?Math.log(g)/Math.log(e.axisX.range):Math.abs(g)/Math.abs(e.axisX.range))<<0,this.dataPointMaxWidth&&d>p&&(d=Math.min(this.dataPointWidth?this.dataPointWidth:1/0,p)),!this.dataPointMaxWidth&&this.dataPointMinWidth&&p<d&&(p=Math.max(this.dataPointWidth?this.dataPointWidth:-1/0,d)),g<d&&(g=d),g>p&&(g=p),i.save(),O&&a.save(),i.beginPath(),i.rect(f.x1,f.y1,f.width,f.height),i.clip(),O&&(a.beginPath(),a.rect(f.x1,f.y1,f.width,f.height),a.clip());for(var v=0;v<e.dataSeriesIndexes.length;v++){var b=e.dataSeriesIndexes[v],y=this.data[b],x=y.dataPoints;if(0<x.length)for(var C=!!(5<g&&y.bevelEnabled),m=0;m<x.length;m++)if(!((u=x[m].getTime?x[m].x.getTime():x[m].x)<e.axisX.dataInfo.viewPortMin||u>e.axisX.dataInfo.viewPortMax)&&!h(x[m].y)&&x[m].y.length&&"number"==typeof x[m].y[0]&&"number"==typeof x[m].y[1]&&"number"==typeof x[m].y[2]&&"number"==typeof x[m].y[3]){n=e.axisX.convertValueToPixel(u),o=e.axisY.convertValueToPixel(x[m].y[0]),s=e.axisY.convertValueToPixel(x[m].y[1]),r=e.axisY.convertValueToPixel(x[m].y[2]),c=e.axisY.convertValueToPixel(x[m].y[3]);var w=n-g/2<<0,k=w+g<<0,p=y.options.fallingColor?y.fallingColor:y._colorSet[0],d=x[m].color?x[m].color:y._colorSet[0],S=Math.round(Math.max(1,.15*g)),D=0==S%2?0:.5,T=y.dataPointIds[m];this._eventManager.objectMap[T]={id:T,objectType:"dataPoint",dataSeriesIndex:b,dataPointIndex:m,x1:w,y1:o,x2:k,y2:s,x3:n,y3:r,x4:n,y4:c,borderThickness:S,color:d},i.strokeStyle=d,i.beginPath(),i.lineWidth=S,a.lineWidth=Math.max(S,4),"candlestick"===y.type?(i.moveTo(n-D,s),i.lineTo(n-D,Math.min(o,c)),i.stroke(),i.moveTo(n-D,Math.max(o,c)),i.lineTo(n-D,r),i.stroke(),Q(i,w,Math.min(o,c),k,Math.max(o,c),x[m].y[0]<=x[m].y[3]?y.risingColor:p,S,d,C,C,!1,!1,y.fillOpacity),O&&(d=l(T),a.strokeStyle=d,a.moveTo(n-D,s),a.lineTo(n-D,Math.min(o,c)),a.stroke(),a.moveTo(n-D,Math.max(o,c)),a.lineTo(n-D,r),a.stroke(),Q(a,w,Math.min(o,c),k,Math.max(o,c),d,0,null,!1,!1,!1,!1))):"ohlc"===y.type&&(i.moveTo(n-D,s),i.lineTo(n-D,r),i.stroke(),i.beginPath(),i.moveTo(n,o),i.lineTo(w,o),i.stroke(),i.beginPath(),i.moveTo(n,c),i.lineTo(k,c),i.stroke(),O&&(d=l(T),a.strokeStyle=d,a.moveTo(n-D,s),a.lineTo(n-D,r),a.stroke(),a.beginPath(),a.moveTo(n,o),a.lineTo(w,o),a.stroke(),a.beginPath(),a.moveTo(n,c),a.lineTo(k,c),a.stroke())),(x[m].indexLabel||y.indexLabel||x[m].indexLabelFormatter||y.indexLabelFormatter)&&this._indexLabels.push({chartType:y.type,dataPoint:x[m],dataSeries:y,point:{x:w+(k-w)/2,y:e.axisY.reversed?r:s},direction:1,bounds:{x1:w,y1:Math.min(s,r),x2:k,y2:Math.max(s,r)},color:d})}}return O&&(t.drawImage(this._preRenderCanvas,0,0,this.width,this.height),i.globalCompositeOperation="source-atop",e.axisX.maskCanvas&&i.drawImage(e.axisX.maskCanvas,0,0,this.width,this.height),e.axisY.maskCanvas&&i.drawImage(e.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),i.clearRect(f.x1,f.y1,f.width,f.height),a.restore()),i.restore(),{source:t,dest:this.plotArea.ctx,animationCallback:ie.fadeInAnimation,easingFunction:ie.easing.easeInQuad,animationBase:0}}},c.prototype.renderBoxAndWhisker=function(e){var t=e.targetCanvasCtx||this.plotArea.ctx,i=O?this._preRenderCtx:t,a=this._eventManager.ghostCtx;if(!(0>=e.dataSeriesIndexes.length)){var n,o,s,r,c,u,d,p=null,m=this.plotArea,g=0,p=this.dataPointMinWidth?this.dataPointMinWidth:this.dataPointWidth?this.dataPointWidth:1,g=this.dataPointMaxWidth?this.dataPointMaxWidth:this.dataPointWidth?this.dataPointWidth:.015*this.width,v=e.axisX.dataInfo.minDiff;isFinite(v)||(v=.3*Math.abs(e.axisX.range)),v=this.dataPointWidth?this.dataPointWidth:.7*m.width*(e.axisX.logarithmic?Math.log(v)/Math.log(e.axisX.range):Math.abs(v)/Math.abs(e.axisX.range))<<0,this.dataPointMaxWidth&&p>g&&(p=Math.min(this.dataPointWidth?this.dataPointWidth:1/0,g)),!this.dataPointMaxWidth&&this.dataPointMinWidth&&g<p&&(g=Math.max(this.dataPointWidth?this.dataPointWidth:-1/0,p)),v<p&&(v=p),v>g&&(v=g),i.save(),O&&a.save(),i.beginPath(),i.rect(m.x1,m.y1,m.width,m.height),i.clip(),O&&(a.beginPath(),a.rect(m.x1,m.y1,m.width,m.height),a.clip());for(var b=!1,b=!!e.axisY.reversed,y=0;y<e.dataSeriesIndexes.length;y++){var x=e.dataSeriesIndexes[y],C=this.data[x],w=C.dataPoints;if(0<w.length)for(var k=!!(5<v&&C.bevelEnabled),g=0;g<w.length;g++)if(!((d=w[g].getTime?w[g].x.getTime():w[g].x)<e.axisX.dataInfo.viewPortMin||d>e.axisX.dataInfo.viewPortMax)&&!h(w[g].y)&&w[g].y.length&&"number"==typeof w[g].y[0]&&"number"==typeof w[g].y[1]&&"number"==typeof w[g].y[2]&&"number"==typeof w[g].y[3]&&"number"==typeof w[g].y[4]&&5===w[g].y.length){n=e.axisX.convertValueToPixel(d),o=e.axisY.convertValueToPixel(w[g].y[0]),s=e.axisY.convertValueToPixel(w[g].y[1]),r=e.axisY.convertValueToPixel(w[g].y[2]),c=e.axisY.convertValueToPixel(w[g].y[3]),u=e.axisY.convertValueToPixel(w[g].y[4]);var S=n-v/2<<0,D=n+v/2<<0,p=w[g].color?w[g].color:C._colorSet[0],T=Math.round(Math.max(1,.15*v)),M=0==T%2?0:.5,P=w[g].whiskerColor?w[g].whiskerColor:w[g].color?C.whiskerColor?C.whiskerColor:w[g].color:C.whiskerColor?C.whiskerColor:p,$="number"==typeof w[g].whiskerThickness?w[g].whiskerThickness:"number"==typeof C.options.whiskerThickness?C.whiskerThickness:T,_=w[g].whiskerDashType?w[g].whiskerDashType:C.whiskerDashType,A=h(w[g].whiskerLength)?h(C.options.whiskerLength)?v:C.whiskerLength:w[g].whiskerLength,A="number"==typeof A?0>=A?0:A>=v?v:A:"string"==typeof A?parseInt(A)*v/100>v?v:parseInt(A)*v/100:v,I=1==Math.round($)%2?.5:0,F=w[g].stemColor?w[g].stemColor:w[g].color?C.stemColor?C.stemColor:w[g].color:C.stemColor?C.stemColor:p,E="number"==typeof w[g].stemThickness?w[g].stemThickness:"number"==typeof C.options.stemThickness?C.stemThickness:T,L=1==Math.round(E)%2?.5:0,B=w[g].stemDashType?w[g].stemDashType:C.stemDashType,R=w[g].lineColor?w[g].lineColor:w[g].color?C.lineColor?C.lineColor:w[g].color:C.lineColor?C.lineColor:p,N="number"==typeof w[g].lineThickness?w[g].lineThickness:"number"==typeof C.options.lineThickness?C.lineThickness:T,V=w[g].lineDashType?w[g].lineDashType:C.lineDashType,W=1==Math.round(N)%2?.5:0,z=C.upperBoxColor,Y=C.lowerBoxColor,H=h(C.options.fillOpacity)?1:C.fillOpacity,U=C.dataPointIds[g];this._eventManager.objectMap[U]={id:U,objectType:"dataPoint",dataSeriesIndex:x,dataPointIndex:g,x1:S,y1:o,x2:D,y2:s,x3:n,y3:r,x4:n,y4:c,y5:u,borderThickness:T,color:p,stemThickness:E,stemColor:F,whiskerThickness:$,whiskerLength:A,whiskerColor:P,lineThickness:N,lineColor:R},i.save(),0<E&&(i.beginPath(),i.strokeStyle=F,i.lineWidth=E,i.setLineDash&&i.setLineDash(f(B,E)),i.moveTo(n-L,s),i.lineTo(n-L,o),i.stroke(),i.moveTo(n-L,c),i.lineTo(n-L,r),i.stroke()),i.restore(),a.lineWidth=Math.max(T,4),i.beginPath(),Q(i,S,Math.min(u,s),D,Math.max(s,u),Y,0,p,!!b&&k,!b&&k,!1,!1,H),i.beginPath(),Q(i,S,Math.min(r,u),D,Math.max(u,r),z,0,p,!b&&k,!!b&&k,!1,!1,H),i.beginPath(),i.lineWidth=T,i.strokeStyle=p,i.rect(S-M,Math.min(s,r)-M,D-S+2*M,Math.max(s,r)-Math.min(s,r)+2*M),i.stroke(),i.save(),0<N&&(i.beginPath(),i.globalAlpha=1,i.setLineDash&&i.setLineDash(f(V,N)),i.strokeStyle=R,i.lineWidth=N,i.moveTo(S,u-W),i.lineTo(D,u-W),i.stroke()),i.restore(),i.save(),0<$&&(i.beginPath(),i.setLineDash&&i.setLineDash(f(_,$)),i.strokeStyle=P,i.lineWidth=$,i.moveTo(n-A/2<<0,c-I),i.lineTo(n+A/2<<0,c-I),i.stroke(),i.moveTo(n-A/2<<0,o+I),i.lineTo(n+A/2<<0,o+I),i.stroke()),i.restore(),O&&(p=l(U),a.strokeStyle=p,a.lineWidth=E,0<E&&(a.moveTo(n-M-L,s),a.lineTo(n-M-L,Math.max(o,c)),a.stroke(),a.moveTo(n-M-L,Math.min(o,c)),a.lineTo(n-M-L,r),a.stroke()),Q(a,S,Math.max(s,r),D,Math.min(s,r),p,0,null,!1,!1,!1,!1),0<$&&(a.beginPath(),a.lineWidth=$,a.moveTo(n+A/2,c-I),a.lineTo(n-A/2,c-I),a.stroke(),a.moveTo(n+A/2,o+I),a.lineTo(n-A/2,o+I),a.stroke())),(w[g].indexLabel||C.indexLabel||w[g].indexLabelFormatter||C.indexLabelFormatter)&&this._indexLabels.push({chartType:C.type,dataPoint:w[g],dataSeries:C,point:{x:S+(D-S)/2,y:e.axisY.reversed?o:c},direction:1,bounds:{x1:S,y1:Math.min(o,c),x2:D,y2:Math.max(o,c)},color:p})}}return O&&(t.drawImage(this._preRenderCanvas,0,0,this.width,this.height),i.globalCompositeOperation="source-atop",e.axisX.maskCanvas&&i.drawImage(e.axisX.maskCanvas,0,0,this.width,this.height),e.axisY.maskCanvas&&i.drawImage(e.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),i.clearRect(m.x1,m.y1,m.width,m.height),a.restore()),i.restore(),{source:t,dest:this.plotArea.ctx,animationCallback:ie.fadeInAnimation,easingFunction:ie.easing.easeInQuad,animationBase:0}}},c.prototype.renderRangeColumn=function(e){var t=e.targetCanvasCtx||this.plotArea.ctx,i=O?this._preRenderCtx:t;if(!(0>=e.dataSeriesIndexes.length)){var a,n,o,s=null,r=this.plotArea,c=0,c=this.dataPointMinWidth?this.dataPointMinWidth:this.dataPointWidth?this.dataPointWidth:1;a=this.dataPointMaxWidth?this.dataPointMaxWidth:this.dataPointWidth?this.dataPointWidth:.03*this.width;var u=e.axisX.dataInfo.minDiff;isFinite(u)||(u=.3*Math.abs(e.axisX.range)),u=this.dataPointWidth?this.dataPointWidth:r.width*(e.axisX.logarithmic?Math.log(u)/Math.log(e.axisX.range):Math.abs(u)/Math.abs(e.axisX.range))/e.plotType.totalDataSeries*.9<<0,this.dataPointMaxWidth&&c>a&&(c=Math.min(this.dataPointWidth?this.dataPointWidth:1/0,a)),!this.dataPointMaxWidth&&this.dataPointMinWidth&&a<c&&(a=Math.max(this.dataPointWidth?this.dataPointWidth:-1/0,c)),u<c&&(u=c),u>a&&(u=a),i.save(),O&&this._eventManager.ghostCtx.save(),i.beginPath(),i.rect(r.x1,r.y1,r.width,r.height),i.clip(),O&&(this._eventManager.ghostCtx.beginPath(),this._eventManager.ghostCtx.rect(r.x1,r.y1,r.width,r.height),this._eventManager.ghostCtx.clip());for(var d=0;d<e.dataSeriesIndexes.length;d++){var p=e.dataSeriesIndexes[d],f=this.data[p],m=f.dataPoints;if(0<m.length)for(var g=!!(5<u&&f.bevelEnabled),c=0;c<m.length;c++)if(!((o=m[c].getTime?m[c].x.getTime():m[c].x)<e.axisX.dataInfo.viewPortMin||o>e.axisX.dataInfo.viewPortMax)&&!h(m[c].y)&&m[c].y.length&&"number"==typeof m[c].y[0]&&"number"==typeof m[c].y[1]){s=e.axisX.convertValueToPixel(o),a=e.axisY.convertValueToPixel(m[c].y[0]),n=e.axisY.convertValueToPixel(m[c].y[1]);var v=e.axisX.reversed?s+e.plotType.totalDataSeries*u/2-(e.previousDataSeriesCount+d)*u<<0:s-e.plotType.totalDataSeries*u/2+(e.previousDataSeriesCount+d)*u<<0,b=e.axisX.reversed?v-u<<0:v+u<<0,s=m[c].color?m[c].color:f._colorSet[c%f._colorSet.length];if(a>n){var y=a;a=n,n=y}y=f.dataPointIds[c],this._eventManager.objectMap[y]={id:y,objectType:"dataPoint",dataSeriesIndex:p,dataPointIndex:c,x1:v,y1:a,x2:b,y2:n},Q(i,v,a,b,n,s,0,s,g,g,!1,!1,f.fillOpacity),s=l(y),O&&Q(this._eventManager.ghostCtx,v,a,b,n,s,0,null,!1,!1,!1,!1),(m[c].indexLabel||f.indexLabel||m[c].indexLabelFormatter||f.indexLabelFormatter)&&(this._indexLabels.push({chartType:"rangeColumn",dataPoint:m[c],dataSeries:f,indexKeyword:0,point:{x:v+(b-v)/2,y:m[c].y[1]>=m[c].y[0]?n:a},direction:m[c].y[1]>=m[c].y[0]?-1:1,bounds:{x1:v,y1:Math.min(a,n),x2:b,y2:Math.max(a,n)},color:s}),this._indexLabels.push({chartType:"rangeColumn",dataPoint:m[c],dataSeries:f,indexKeyword:1,point:{x:v+(b-v)/2,y:m[c].y[1]>=m[c].y[0]?a:n},direction:m[c].y[1]>=m[c].y[0]?1:-1,bounds:{x1:v,y1:Math.min(a,n),x2:b,y2:Math.max(a,n)},color:s}))}}return O&&(t.drawImage(this._preRenderCanvas,0,0,this.width,this.height),i.globalCompositeOperation="source-atop",e.axisX.maskCanvas&&i.drawImage(e.axisX.maskCanvas,0,0,this.width,this.height),e.axisY.maskCanvas&&i.drawImage(e.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),i.clearRect(r.x1,r.y1,r.width,r.height),this._eventManager.ghostCtx.restore()),i.restore(),{source:t,dest:this.plotArea.ctx,animationCallback:ie.fadeInAnimation,easingFunction:ie.easing.easeInQuad,animationBase:0}}},c.prototype.renderError=function(e){var t=e.targetCanvasCtx||this.plotArea.ctx,i=O?this._preRenderCtx:t,a=!!e.axisY._position&&("left"!==e.axisY._position&&"right"!==e.axisY._position);if(!(0>=e.dataSeriesIndexes.length)){var n,o,s,r,l,c,u,d=null,p=!1,f=this.plotArea,m=0,g=e.axisX.dataInfo.minDiff;isFinite(g)||(g=.3*Math.abs(e.axisX.range)),i.save(),O&&this._eventManager.ghostCtx.save(),i.beginPath(),i.rect(f.x1,f.y1,f.width,f.height),i.clip(),O&&(this._eventManager.ghostCtx.beginPath(),this._eventManager.ghostCtx.rect(f.x1,f.y1,f.width,f.height),this._eventManager.ghostCtx.clip());for(var v=0,b=0;b<this.data.length;b++)!this.data[b].type.match(/(bar|column)/gi)||!this.data[b].visible||this.data[b].type.match(/(stacked)/gi)&&v||v++;for(var y=0;y<e.dataSeriesIndexes.length;y++){var x=e.dataSeriesIndexes[y],C=this.data[x],w=C.dataPoints,k=!h(C._linkedSeries)&&!(!C._linkedSeries.type.match(/(bar|column)/gi)||!C._linkedSeries.visible),S=0;if(k)for(d=C._linkedSeries.id,b=0;b<d;b++)!this.data[b].type.match(/(bar|column)/gi)||!this.data[b].visible||this.data[b].type.match(/(stacked)/gi)&&S||(this.data[b].type.match(/(range)/gi)&&(p=!0),S++);if(d=this.dataPointMinWidth?this.dataPointMinWidth:this.dataPointWidth?this.dataPointWidth:1,m=this.dataPointMaxWidth?this.dataPointMaxWidth:this.dataPointWidth?this.dataPointWidth:a?Math.min(.15*this.height,this.plotArea.height/(k?v:1)*.9)<<0:.3*this.width,p&&(m=this.dataPointMaxWidth?this.dataPointMaxWidth:this.dataPointWidth?this.dataPointWidth:a?Math.min(.15*this.height,this.plotArea.height/(k?v:1)*.9)<<0:.03*this.width),b=this.options.dataPointWidth?this.dataPointWidth:(a?f.height:f.width)*(e.axisX.logarithmic?Math.log(g)/Math.log(e.axisX.range):Math.abs(g)/Math.abs(e.axisX.range))/(k?v:1)*.9<<0,this.dataPointMaxWidth&&d>m&&(d=Math.min(this.dataPointWidth?this.dataPointWidth:1/0,m)),!this.dataPointMaxWidth&&this.dataPointMinWidth&&m<d&&(m=Math.max(this.dataPointWidth?this.dataPointWidth:-1/0,d)),b<d&&(b=d),b>m&&(b=m),0<w.length)for(var D=C._colorSet,m=0;m<w.length;m++){var d=C.lineColor=C.options.color?C.options.color:D[0],T={color:w[m].whiskerColor?w[m].whiskerColor:w[m].color?C.whiskerColor?C.whiskerColor:w[m].color:C.whiskerColor?C.whiskerColor:d,thickness:h(w[m].whiskerThickness)?C.whiskerThickness:w[m].whiskerThickness,dashType:w[m].whiskerDashType?w[m].whiskerDashType:C.whiskerDashType,length:h(w[m].whiskerLength)?h(C.options.whiskerLength)?b:C.options.whiskerLength:w[m].whiskerLength,trimLength:h(w[m].whiskerLength)&&h(C.options.whiskerLength)?50:0};T.length="number"==typeof T.length?0>=T.length?0:T.length>=b?b:T.length:"string"==typeof T.length?parseInt(T.length)*b/100>b?b:parseInt(T.length)*b/100>b:b,T.thickness="number"==typeof T.thickness?0>T.thickness?0:Math.round(T.thickness):2;var M={color:w[m].stemColor?w[m].stemColor:w[m].color?C.stemColor?C.stemColor:w[m].color:C.stemColor?C.stemColor:d,thickness:w[m].stemThickness?w[m].stemThickness:C.stemThickness,dashType:w[m].stemDashType?w[m].stemDashType:C.stemDashType};if(M.thickness="number"==typeof M.thickness?0>M.thickness?0:Math.round(M.thickness):2,!((u=w[m].getTime?w[m].x.getTime():w[m].x)<e.axisX.dataInfo.viewPortMin||u>e.axisX.dataInfo.viewPortMax)&&!h(w[m].y)&&w[m].y.length&&"number"==typeof w[m].y[0]&&"number"==typeof w[m].y[1]){var P=e.axisX.convertValueToPixel(u);a?o=P:n=P,P=e.axisY.convertValueToPixel(w[m].y[0]),a?s=P:l=P,P=e.axisY.convertValueToPixel(w[m].y[1]),a?r=P:c=P,a?(l=e.axisX.reversed?o+(k?v:1)*b/2-(k?S-1:0)*b<<0:o-(k?v:1)*b/2+(k?S-1:0)*b<<0,c=e.axisX.reversed?l-b<<0:l+b<<0):(s=e.axisX.reversed?n+(k?v:1)*b/2-(k?S-1:0)*b<<0:n-(k?v:1)*b/2+(k?S-1:0)*b<<0,r=e.axisX.reversed?s-b<<0:s+b<<0),!a&&l>c&&(P=l,l=c,c=P),a&&s>r&&(P=s,s=r,r=P),P=C.dataPointIds[m],this._eventManager.objectMap[P]={id:P,objectType:"dataPoint",dataSeriesIndex:x,dataPointIndex:m,x1:Math.min(s,r),y1:Math.min(l,c),x2:Math.max(r,s),y2:Math.max(c,l),isXYSwapped:a,stemProperties:M,whiskerProperties:T},F(i,Math.min(s,r),Math.min(l,c),Math.max(r,s),Math.max(c,l),d,T,M,a),O&&F(this._eventManager.ghostCtx,s,l,r,c,d,T,M,a),(w[m].indexLabel||C.indexLabel||w[m].indexLabelFormatter||C.indexLabelFormatter)&&(this._indexLabels.push({chartType:"error",dataPoint:w[m],dataSeries:C,indexKeyword:0,point:{x:a?w[m].y[1]>=w[m].y[0]?s:r:s+(r-s)/2,y:a?l+(c-l)/2:w[m].y[1]>=w[m].y[0]?c:l},direction:w[m].y[1]>=w[m].y[0]?-1:1,bounds:{x1:a?Math.min(s,r):s,y1:a?l:Math.min(l,c),x2:a?Math.max(s,r):r,y2:a?c:Math.max(l,c)},color:d,axisSwapped:a}),this._indexLabels.push({chartType:"error",dataPoint:w[m],dataSeries:C,indexKeyword:1,point:{x:a?w[m].y[1]>=w[m].y[0]?r:s:s+(r-s)/2,y:a?l+(c-l)/2:w[m].y[1]>=w[m].y[0]?l:c},direction:w[m].y[1]>=w[m].y[0]?1:-1,bounds:{x1:a?Math.min(s,r):s,y1:a?l:Math.min(l,c),x2:a?Math.max(s,r):r,y2:a?c:Math.max(l,c)},color:d,axisSwapped:a}))}}}return O&&(t.drawImage(this._preRenderCanvas,0,0,this.width,this.height),i.globalCompositeOperation="source-atop",e.axisX.maskCanvas&&i.drawImage(e.axisX.maskCanvas,0,0,this.width,this.height),e.axisY.maskCanvas&&i.drawImage(e.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),i.clearRect(f.x1,f.y1,f.width,f.height),this._eventManager.ghostCtx.restore()),i.restore(),{source:t,dest:this.plotArea.ctx,animationCallback:ie.fadeInAnimation,easingFunction:ie.easing.easeInQuad,animationBase:0}}},c.prototype.renderRangeBar=function(e){var t=e.targetCanvasCtx||this.plotArea.ctx,i=O?this._preRenderCtx:t;if(!(0>=e.dataSeriesIndexes.length)){var a,n,o,s,r=null,c=this.plotArea,u=0,u=this.dataPointMinWidth?this.dataPointMinWidth:this.dataPointWidth?this.dataPointWidth:1;a=this.dataPointMaxWidth?this.dataPointMaxWidth:this.dataPointWidth?this.dataPointWidth:Math.min(.15*this.height,this.plotArea.height/e.plotType.totalDataSeries*.9)<<0;var d=e.axisX.dataInfo.minDiff;isFinite(d)||(d=.3*Math.abs(e.axisX.range)),d=this.dataPointWidth?this.dataPointWidth:c.height*(e.axisX.logarithmic?Math.log(d)/Math.log(e.axisX.range):Math.abs(d)/Math.abs(e.axisX.range))/e.plotType.totalDataSeries*.9<<0,this.dataPointMaxWidth&&u>a&&(u=Math.min(this.dataPointWidth?this.dataPointWidth:1/0,a)),!this.dataPointMaxWidth&&this.dataPointMinWidth&&a<u&&(a=Math.max(this.dataPointWidth?this.dataPointWidth:-1/0,u)),d<u&&(d=u),d>a&&(d=a),i.save(),O&&this._eventManager.ghostCtx.save(),i.beginPath(),i.rect(c.x1,c.y1,c.width,c.height),i.clip(),O&&(this._eventManager.ghostCtx.beginPath(),this._eventManager.ghostCtx.rect(c.x1,c.y1,c.width,c.height),this._eventManager.ghostCtx.clip());for(var p=0;p<e.dataSeriesIndexes.length;p++){var f=e.dataSeriesIndexes[p],m=this.data[f],g=m.dataPoints;if(0<g.length){var v=!!(5<d&&m.bevelEnabled);for(i.strokeStyle="#4572A7 ",u=0;u<g.length;u++)if(!((s=g[u].getTime?g[u].x.getTime():g[u].x)<e.axisX.dataInfo.viewPortMin||s>e.axisX.dataInfo.viewPortMax)&&!h(g[u].y)&&g[u].y.length&&"number"==typeof g[u].y[0]&&"number"==typeof g[u].y[1]){a=e.axisY.convertValueToPixel(g[u].y[0]),n=e.axisY.convertValueToPixel(g[u].y[1]),o=e.axisX.convertValueToPixel(s),o=e.axisX.reversed?o+e.plotType.totalDataSeries*d/2-(e.previousDataSeriesCount+p)*d<<0:o-e.plotType.totalDataSeries*d/2+(e.previousDataSeriesCount+p)*d<<0;var b=e.axisX.reversed?o-d<<0:o+d<<0;a>n&&(r=a,a=n,n=r),r=g[u].color?g[u].color:m._colorSet[u%m._colorSet.length],Q(i,a,o,n,b,r,0,null,v,!1,!1,!1,m.fillOpacity),r=m.dataPointIds[u],this._eventManager.objectMap[r]={id:r,objectType:"dataPoint",dataSeriesIndex:f,dataPointIndex:u,x1:a,y1:o,x2:n,y2:b},r=l(r),O&&Q(this._eventManager.ghostCtx,a,o,n,b,r,0,null,!1,!1,!1,!1),(g[u].indexLabel||m.indexLabel||g[u].indexLabelFormatter||m.indexLabelFormatter)&&(this._indexLabels.push({chartType:"rangeBar",dataPoint:g[u],dataSeries:m,indexKeyword:0,point:{x:g[u].y[1]>=g[u].y[0]?a:n,y:o+(b-o)/2},direction:g[u].y[1]>=g[u].y[0]?-1:1,bounds:{x1:Math.min(a,n),y1:o,x2:Math.max(a,n),y2:b},color:r}),this._indexLabels.push({chartType:"rangeBar",dataPoint:g[u],dataSeries:m,indexKeyword:1,point:{x:g[u].y[1]>=g[u].y[0]?n:a,y:o+(b-o)/2},direction:g[u].y[1]>=g[u].y[0]?1:-1,bounds:{x1:Math.min(a,n),y1:o,x2:Math.max(a,n),y2:b},color:r}))}}}return O&&(t.drawImage(this._preRenderCanvas,0,0,this.width,this.height),i.globalCompositeOperation="source-atop",e.axisX.maskCanvas&&i.drawImage(e.axisX.maskCanvas,0,0,this.width,this.height),e.axisY.maskCanvas&&i.drawImage(e.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),i.clearRect(c.x1,c.y1,c.width,c.height),this._eventManager.ghostCtx.restore()),i.restore(),{source:t,dest:this.plotArea.ctx,animationCallback:ie.fadeInAnimation,easingFunction:ie.easing.easeInQuad,animationBase:0}}},c.prototype.renderRangeArea=function(e){function t(){if(x){var e=null;0<u.lineThickness&&a.stroke();for(var t=c.length-1;0<=t;t--)e=c[t],a.lineTo(e.x,e.y),n.lineTo(e.x,e.y);if(a.closePath(),a.globalAlpha=u.fillOpacity,a.fill(),a.globalAlpha=1,n.fill(),0<u.lineThickness){for(a.beginPath(),a.moveTo(e.x,e.y),t=0;t<c.length;t++)e=c[t],a.lineTo(e.x,e.y);a.stroke()}a.beginPath(),a.moveTo(p,m),n.beginPath(),n.moveTo(p,m),x={x:p,y:m},c=[],c.push({x:p,y:g})}}var i=e.targetCanvasCtx||this.plotArea.ctx,a=O?this._preRenderCtx:i;if(!(0>=e.dataSeriesIndexes.length)){var n=this._eventManager.ghostCtx,o=[],s=this.plotArea;a.save(),O&&n.save(),a.beginPath(),a.rect(s.x1,s.y1,s.width,s.height),a.clip(),O&&(n.beginPath(),n.rect(s.x1,s.y1,s.width,s.height),n.clip());for(var r=0;r<e.dataSeriesIndexes.length;r++){var c=[],h=e.dataSeriesIndexes[r],u=this.data[h],d=u.dataPoints,o=u.id;this._eventManager.objectMap[o]={objectType:"dataSeries",dataSeriesIndex:h},o=l(o),n.fillStyle=o;var p,m,g,v,o=[],b=!0,y=0,x=null;if(0<d.length){var C=u._colorSet[y%u._colorSet.length],w=u.lineColor=u.options.lineColor||C,k=w;a.fillStyle=C,a.strokeStyle=w,a.lineWidth=u.lineThickness;var S="solid";if(a.setLineDash){var D=f(u.nullDataLineDashType,u.lineThickness),S=u.lineDashType,T=f(S,u.lineThickness);a.setLineDash(T)}for(var M=!0;y<d.length;y++)if(!((v=d[y].x.getTime?d[y].x.getTime():d[y].x)<e.axisX.dataInfo.viewPortMin||v>e.axisX.dataInfo.viewPortMax&&(!u.connectNullData||!M)))if(null!==d[y].y&&d[y].y.length&&"number"==typeof d[y].y[0]&&"number"==typeof d[y].y[1]){if(p=e.axisX.convertValueToPixel(v),m=e.axisY.convertValueToPixel(d[y].y[0]),g=e.axisY.convertValueToPixel(d[y].y[1]),b||M?(u.connectNullData&&!b?(a.setLineDash&&(u.options.nullDataLineDashType||S===u.lineDashType&&u.lineDashType!==u.nullDataLineDashType)&&(c[c.length-1].newLineDashArray=T,S=u.nullDataLineDashType,a.setLineDash(D)),a.lineTo(p,m),O&&n.lineTo(p,m),c.push({x:p,y:g})):(a.beginPath(),a.moveTo(p,m),x={x:p,y:m},c=[],c.push({x:p,y:g}),O&&(n.beginPath(),n.moveTo(p,m))),M=b=!1):(a.lineTo(p,m),c.push({x:p,y:g}),O&&n.lineTo(p,m),0==y%250&&t()),v=u.dataPointIds[y],this._eventManager.objectMap[v]={id:v,objectType:"dataPoint",dataSeriesIndex:h,dataPointIndex:y,x1:p,y1:m,y2:g},y<d.length-1&&(k!==(d[y].lineColor||w)||S!==(d[y].lineDashType||u.lineDashType))&&(t(),k=d[y].lineColor||w,c[c.length-1].newStrokeStyle=k,a.strokeStyle=k,a.setLineDash&&(d[y].lineDashType?(S=d[y].lineDashType,c[c.length-1].newLineDashArray=f(S,u.lineThickness),a.setLineDash(c[c.length-1].newLineDashArray)):(S=u.lineDashType,c[c.length-1].newLineDashArray=T,a.setLineDash(T)))),0!==d[y].markerSize&&(0<d[y].markerSize||0<u.markerSize)){var P=u.getMarkerProperties(y,p,g,a);o.push(P);var $=l(v);O&&o.push({x:p,y:g,ctx:n,type:P.type,size:P.size,color:$,borderColor:$,borderThickness:P.borderThickness}),P=u.getMarkerProperties(y,p,m,a),o.push(P),$=l(v),O&&o.push({x:p,y:m,ctx:n,type:P.type,size:P.size,color:$,borderColor:$,borderThickness:P.borderThickness})}(d[y].indexLabel||u.indexLabel||d[y].indexLabelFormatter||u.indexLabelFormatter)&&(this._indexLabels.push({chartType:"rangeArea",dataPoint:d[y],dataSeries:u,indexKeyword:0,point:{x:p,y:m},direction:d[y].y[0]>d[y].y[1]===e.axisY.reversed?-1:1,color:C}),this._indexLabels.push({chartType:"rangeArea",dataPoint:d[y],dataSeries:u,indexKeyword:1,point:{x:p,y:g},direction:d[y].y[0]>d[y].y[1]===e.axisY.reversed?1:-1,color:C}))}else M||b||t(),M=!0;t(),ae.drawMarkers(o)}}return O&&(i.drawImage(this._preRenderCanvas,0,0,this.width,this.height),a.globalCompositeOperation="source-atop",e.axisX.maskCanvas&&a.drawImage(e.axisX.maskCanvas,0,0,this.width,this.height),e.axisY.maskCanvas&&a.drawImage(e.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),a.clearRect(s.x1,s.y1,s.width,s.height),this._eventManager.ghostCtx.restore()),a.restore(),{source:i,dest:this.plotArea.ctx,animationCallback:ie.xClipAnimation,easingFunction:ie.easing.linear,animationBase:0}}},c.prototype.renderRangeSplineArea=function(e){function t(e,t){var i=I(v,2);if(0<i.length){if(0<h.lineThickness){a.strokeStyle=t,a.setLineDash&&a.setLineDash(e),a.beginPath(),a.moveTo(i[0].x,i[0].y);for(var o=0;o<i.length-3;o+=3)(i[o].newStrokeStyle||i[o].newLineDashArray)&&(a.stroke(),a.beginPath(),a.moveTo(i[o].x,i[o].y),i[o].newStrokeStyle&&(a.strokeStyle=i[o].newStrokeStyle),i[o].newLineDashArray&&a.setLineDash(i[o].newLineDashArray)),a.bezierCurveTo(i[o+1].x,i[o+1].y,i[o+2].x,i[o+2].y,i[o+3].x,i[o+3].y);a.stroke()}for(a.beginPath(),a.moveTo(i[0].x,i[0].y),O&&(n.beginPath(),n.moveTo(i[0].x,i[0].y)),o=0;o<i.length-3;o+=3)a.bezierCurveTo(i[o+1].x,i[o+1].y,i[o+2].x,i[o+2].y,i[o+3].x,i[o+3].y),O&&n.bezierCurveTo(i[o+1].x,i[o+1].y,i[o+2].x,i[o+2].y,i[o+3].x,i[o+3].y);for(i=I(b,2),a.lineTo(b[b.length-1].x,b[b.length-1].y),o=i.length-1;2<o;o-=3)a.bezierCurveTo(i[o-1].x,i[o-1].y,i[o-2].x,i[o-2].y,i[o-3].x,i[o-3].y),O&&n.bezierCurveTo(i[o-1].x,i[o-1].y,i[o-2].x,i[o-2].y,i[o-3].x,i[o-3].y);if(a.closePath(),a.globalAlpha=h.fillOpacity,a.fill(),O&&(n.closePath(),n.fill()),a.globalAlpha=1,0<h.lineThickness){a.strokeStyle=t,a.setLineDash&&a.setLineDash(e),a.beginPath(),a.moveTo(i[0].x,i[0].y);for(var s=o=0;o<i.length-3;o+=3,s++)(v[s].newStrokeStyle||v[s].newLineDashArray)&&(a.stroke(),a.beginPath(),a.moveTo(i[o].x,i[o].y),v[s].newStrokeStyle&&(a.strokeStyle=v[s].newStrokeStyle),v[s].newLineDashArray&&a.setLineDash(v[s].newLineDashArray)),a.bezierCurveTo(i[o+1].x,i[o+1].y,i[o+2].x,i[o+2].y,i[o+3].x,i[o+3].y);a.stroke()}a.beginPath()}}var i=e.targetCanvasCtx||this.plotArea.ctx,a=O?this._preRenderCtx:i;if(!(0>=e.dataSeriesIndexes.length)){var n=this._eventManager.ghostCtx,o=[],s=this.plotArea;a.save(),O&&n.save(),a.beginPath(),a.rect(s.x1,s.y1,s.width,s.height),a.clip(),O&&(n.beginPath(),n.rect(s.x1,s.y1,s.width,s.height),n.clip());for(var r=0;r<e.dataSeriesIndexes.length;r++){var c=e.dataSeriesIndexes[r],h=this.data[c],u=h.dataPoints,o=h.id;this._eventManager.objectMap[o]={objectType:"dataSeries",dataSeriesIndex:c},o=l(o),n.fillStyle=o;var d,p,m,o=[],g=0,v=[],b=[];if(0<u.length){var y=h._colorSet[g%h._colorSet.length],x=h.lineColor=h.options.lineColor||y,C=x;a.fillStyle=y,a.lineWidth=h.lineThickness;var w,k="solid";if(a.setLineDash){var S=f(h.nullDataLineDashType,h.lineThickness),k=h.lineDashType;w=f(k,h.lineThickness)}for(p=!1;g<u.length;g++)if(!((d=u[g].x.getTime?u[g].x.getTime():u[g].x)<e.axisX.dataInfo.viewPortMin||d>e.axisX.dataInfo.viewPortMax&&(!h.connectNullData||!p)))if(null!==u[g].y&&u[g].y.length&&"number"==typeof u[g].y[0]&&"number"==typeof u[g].y[1]){d=e.axisX.convertValueToPixel(d),p=e.axisY.convertValueToPixel(u[g].y[0]),m=e.axisY.convertValueToPixel(u[g].y[1]);var D=h.dataPointIds[g];if(this._eventManager.objectMap[D]={id:D,objectType:"dataPoint",dataSeriesIndex:c,dataPointIndex:g,x1:d,y1:p,y2:m},v[v.length]={x:d,y:p},b[b.length]={x:d,y:m},g<u.length-1&&(C!==(u[g].lineColor||x)||k!==(u[g].lineDashType||h.lineDashType))&&(C=u[g].lineColor||x,v[v.length-1].newStrokeStyle=C,a.setLineDash&&(u[g].lineDashType?(k=u[g].lineDashType,v[v.length-1].newLineDashArray=f(k,h.lineThickness)):(k=h.lineDashType,v[v.length-1].newLineDashArray=w))),0!==u[g].markerSize&&(0<u[g].markerSize||0<h.markerSize)){var T=h.getMarkerProperties(g,d,p,a);o.push(T);var M=l(D);O&&o.push({x:d,y:p,ctx:n,type:T.type,size:T.size,color:M,borderColor:M,borderThickness:T.borderThickness}),T=h.getMarkerProperties(g,d,m,a),o.push(T),M=l(D),O&&o.push({x:d,y:m,ctx:n,type:T.type,size:T.size,color:M,borderColor:M,borderThickness:T.borderThickness})}(u[g].indexLabel||h.indexLabel||u[g].indexLabelFormatter||h.indexLabelFormatter)&&(this._indexLabels.push({chartType:"rangeSplineArea",dataPoint:u[g],dataSeries:h,indexKeyword:0,point:{x:d,y:p},direction:u[g].y[0]<=u[g].y[1]?-1:1,color:y}),this._indexLabels.push({chartType:"rangeSplineArea",dataPoint:u[g],dataSeries:h,indexKeyword:1,point:{x:d,y:m},direction:u[g].y[0]<=u[g].y[1]?1:-1,color:y})),p=!1}else 0<g&&!p&&(h.connectNullData?a.setLineDash&&0<v.length&&(h.options.nullDataLineDashType||!u[g-1].lineDashType)&&(v[v.length-1].newLineDashArray=S,k=h.nullDataLineDashType):(t(w,x),v=[],b=[])),p=!0;t(w,x),ae.drawMarkers(o)}}return O&&(i.drawImage(this._preRenderCanvas,0,0,this.width,this.height),a.globalCompositeOperation="source-atop",e.axisX.maskCanvas&&a.drawImage(e.axisX.maskCanvas,0,0,this.width,this.height),e.axisY.maskCanvas&&a.drawImage(e.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),a.clearRect(s.x1,s.y1,s.width,s.height),this._eventManager.ghostCtx.restore()),a.restore(),{source:i,dest:this.plotArea.ctx,animationCallback:ie.xClipAnimation,easingFunction:ie.easing.linear,animationBase:0}}},c.prototype.renderWaterfall=function(e){var t=e.targetCanvasCtx||this.plotArea.ctx,i=O?this._preRenderCtx:t;if(!(0>=e.dataSeriesIndexes.length)){var a,n,o,s,r=this._eventManager.ghostCtx,c=null,h=this.plotArea,u=0,d=e.axisY.convertValueToPixel(e.axisY.logarithmic?e.axisY.viewportMinimum:0),u=this.dataPointMinWidth?this.dataPointMinWidth:this.dataPointWidth?this.dataPointWidth:1;n=this.dataPointMaxWidth?this.dataPointMaxWidth:this.dataPointWidth?this.dataPointWidth:Math.min(.15*this.width,this.plotArea.width/e.plotType.totalDataSeries*.9)<<0;var p=e.axisX.dataInfo.minDiff;isFinite(p)||(p=.3*Math.abs(e.axisX.range)),p=this.dataPointWidth?this.dataPointWidth:h.width*(e.axisX.logarithmic?Math.log(p)/Math.log(e.axisX.range):Math.abs(p)/Math.abs(e.axisX.range))/e.plotType.totalDataSeries*.6<<0,this.dataPointMaxWidth&&u>n&&(u=Math.min(this.dataPointWidth?this.dataPointWidth:1/0,n)),!this.dataPointMaxWidth&&this.dataPointMinWidth&&n<u&&(n=Math.max(this.dataPointWidth?this.dataPointWidth:-1/0,u)),p<u&&(p=u),p>n&&(p=n),i.save(),O&&this._eventManager.ghostCtx.save(),i.beginPath(),i.rect(h.x1,h.y1,h.width,h.height),i.clip(),O&&(this._eventManager.ghostCtx.beginPath(),this._eventManager.ghostCtx.rect(h.x1,h.y1,h.width,h.height),this._eventManager.ghostCtx.clip());for(var m=0;m<e.dataSeriesIndexes.length;m++){var g=e.dataSeriesIndexes[m],v=this.data[g],b=v.dataPoints,c=v._colorSet[0];v.risingColor=v.options.risingColor?v.options.risingColor:c,v.fallingColor=v.options.fallingColor?v.options.fallingColor:"#e40a0a";var y="number"==typeof v.options.lineThickness?Math.round(v.lineThickness):1,x=1==Math.round(y)%2?-.5:0;if(0<b.length)for(var C=!!(5<p&&v.bevelEnabled),w=!1,k=null,S=null,u=0;u<b.length;u++)if(s=b[u].getTime?b[u].x.getTime():b[u].x,"number"!=typeof b[u].y){
if(0<u&&!w&&v.connectNullData)var D=v.options.nullDataLineDashType||!b[u-1].lineDashType?v.nullDataLineDashType:b[u-1].lineDashType;w=!0}else{a=e.axisX.convertValueToPixel(s),n=0===v.dataPointEOs[u].cumulativeSum?d:e.axisY.convertValueToPixel(v.dataPointEOs[u].cumulativeSum),o=0===v.dataPointEOs[u].cumulativeSumYStartValue?d:e.axisY.convertValueToPixel(v.dataPointEOs[u].cumulativeSumYStartValue),a=e.axisX.reversed?a+e.plotType.totalDataSeries*p/2-(e.previousDataSeriesCount+m)*p<<0:a-e.plotType.totalDataSeries*p/2+(e.previousDataSeriesCount+m)*p<<0;var T=e.axisX.reversed?a-p<<0:a+p<<0;n>o&&(c=n,n=o,o=c),e.axisY.reversed&&(c=n,n=o,o=c),c=v.dataPointIds[u],this._eventManager.objectMap[c]={id:c,objectType:"dataPoint",dataSeriesIndex:g,dataPointIndex:u,x1:a,y1:n,x2:T,y2:o};var M=b[u].color?b[u].color:-1<b[u].y?v.risingColor:v.fallingColor;Q(i,a,n,T,o,M,0,M,C,C,!1,!1,v.fillOpacity),c=l(c),O&&Q(this._eventManager.ghostCtx,a,n,T,o,c,0,null,!1,!1,!1,!1);var P,M=a;P=void 0!==b[u].isIntermediateSum&&!0===b[u].isIntermediateSum||void 0!==b[u].isCumulativeSum&&!0===b[u].isCumulativeSum?-1<b[u].y?n:o:-1<b[u].y?o:n,0<u&&k&&(!w||v.connectNullData)&&(w&&i.setLineDash&&i.setLineDash(f(D,y)),i.beginPath(),i.moveTo(k,S-x),i.lineTo(M,P-x),0<y&&i.stroke(),O&&(r.beginPath(),r.moveTo(k,S-x),r.lineTo(M,P-x),0<y&&r.stroke())),w=!1,k=T,S=-1<b[u].y?n:o,M=b[u].lineDashType?b[u].lineDashType:v.options.lineDashType?v.options.lineDashType:"shortDash",i.strokeStyle=b[u].lineColor?b[u].lineColor:v.options.lineColor?v.options.lineColor:"#9e9e9e",i.lineWidth=y,i.setLineDash&&(M=f(M,y),i.setLineDash(M)),(b[u].indexLabel||v.indexLabel||b[u].indexLabelFormatter||v.indexLabelFormatter)&&this._indexLabels.push({chartType:"waterfall",dataPoint:b[u],dataSeries:v,point:{x:a+(T-a)/2,y:0<=b[u].y?n:o},direction:0>b[u].y===e.axisY.reversed?1:-1,bounds:{x1:a,y1:Math.min(n,o),x2:T,y2:Math.max(n,o)},color:c})}}return O&&(t.drawImage(this._preRenderCanvas,0,0,this.width,this.height),i.globalCompositeOperation="source-atop",e.axisX.maskCanvas&&i.drawImage(e.axisX.maskCanvas,0,0,this.width,this.height),e.axisY.maskCanvas&&i.drawImage(e.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),i.clearRect(h.x1,h.y1,h.width,h.height),this._eventManager.ghostCtx.restore()),i.restore(),{source:t,dest:this.plotArea.ctx,animationCallback:ie.fadeInAnimation,easingFunction:ie.easing.easeInQuad,animationBase:0}}};var K=function(e,t,i,a,n,o,s,r,l){if(!(0>i)){if(void 0===r&&(r=1),!O){var c=Number((s%(2*Math.PI)).toFixed(8));Number((o%(2*Math.PI)).toFixed(8))===c&&(s-=1e-4)}e.save(),e.globalAlpha=r,"pie"===n?(e.beginPath(),e.moveTo(t.x,t.y),e.arc(t.x,t.y,i,o,s,!1),e.fillStyle=a,e.strokeStyle="white",e.lineWidth=2,e.closePath(),e.fill()):"doughnut"===n&&(e.beginPath(),e.arc(t.x,t.y,i,o,s,!1),0<=l&&e.arc(t.x,t.y,l*i,s,o,!0),e.closePath(),e.fillStyle=a,e.strokeStyle="white",e.lineWidth=2,e.fill()),e.globalAlpha=1,e.restore()}};c.prototype.renderPie=function(e){function t(e){var t=r.plotArea.ctx;for(t.clearRect(p.x1,p.y1,p.width,p.height),t.fillStyle=r.backgroundColor,t.fillRect(p.x1,p.y1,p.width,p.height),t=0;t<u.length;t++){var i=m[t].startAngle,a=m[t].endAngle;if(a>i){var n=.07*k*Math.cos(m[t].midAngle),o=.07*k*Math.sin(m[t].midAngle),s=!1;u[t].exploded?(1e-9<Math.abs(m[t].center.x-(x.x+n))||1e-9<Math.abs(m[t].center.y-(x.y+o)))&&(m[t].center.x=x.x+n*e,m[t].center.y=x.y+o*e,s=!0):(0<Math.abs(m[t].center.x-x.x)||0<Math.abs(m[t].center.y-x.y))&&(m[t].center.x=x.x+n*(1-e),m[t].center.y=x.y+o*(1-e),s=!0),s&&(n={},n.dataSeries=c,n.dataPoint=c.dataPoints[t],n.index=t,r.toolTip.highlightObjects([n])),K(r.plotArea.ctx,m[t].center,m[t].radius,u[t].color?u[t].color:c._colorSet[t%c._colorSet.length],c.type,i,a,c.fillOpacity,m[t].percentInnerRadius)}}for(e=r.plotArea.ctx,e.save(),e.fillStyle="black",e.strokeStyle="grey",e.textBaseline="middle",e.lineJoin="round",t=t=0;t<u.length;t++)i=m[t],i.indexLabelText&&(i.indexLabelTextBlock.y-=i.indexLabelTextBlock.height/2,a=0,a="left"===i.hemisphere?"inside"!==c.indexLabelPlacement?-(i.indexLabelTextBlock.width+d):-i.indexLabelTextBlock.width/2:"inside"!==c.indexLabelPlacement?d:-i.indexLabelTextBlock.width/2,i.indexLabelTextBlock.x+=a,i.indexLabelTextBlock.render(!0),i.indexLabelTextBlock.x-=a,i.indexLabelTextBlock.y+=i.indexLabelTextBlock.height/2,"inside"!==i.indexLabelPlacement&&0<i.indexLabelLineThickness&&(a=i.center.x+k*Math.cos(i.midAngle),n=i.center.y+k*Math.sin(i.midAngle),e.strokeStyle=i.indexLabelLineColor,e.lineWidth=i.indexLabelLineThickness,e.setLineDash&&e.setLineDash(f(i.indexLabelLineDashType,i.indexLabelLineThickness)),e.beginPath(),e.moveTo(a,n),e.lineTo(i.indexLabelTextBlock.x,i.indexLabelTextBlock.y),e.lineTo(i.indexLabelTextBlock.x+("left"===i.hemisphere?-d:d),i.indexLabelTextBlock.y),e.stroke()),e.lineJoin="miter");e.save()}function i(e,t){var i=0,i=e.indexLabelTextBlock.y-e.indexLabelTextBlock.height/2,a=e.indexLabelTextBlock.y+e.indexLabelTextBlock.height/2,n=t.indexLabelTextBlock.y-t.indexLabelTextBlock.height/2,o=t.indexLabelTextBlock.y+t.indexLabelTextBlock.height/2;return i=t.indexLabelTextBlock.y>e.indexLabelTextBlock.y?n-a:i-o}function a(e){for(var t=null,a=1;a<u.length;a++){if(t=(e+a+m.length)%m.length,m[t].hemisphere!==m[e].hemisphere){t=null;break}if(m[t].indexLabelText&&t!==e&&(0>i(m[t],m[e])||("right"===m[e].hemisphere?m[t].indexLabelTextBlock.y>=m[e].indexLabelTextBlock.y:m[t].indexLabelTextBlock.y<=m[e].indexLabelTextBlock.y)))break;t=null}return t}function n(e,t,o){if(1e3<(o=(o||0)+1))return 0;t=t||0;var s=0,r=x.y-1*l,c=x.y+1*l;if(0<=e&&e<u.length){var h=m[e];if(0>t&&h.indexLabelTextBlock.y<r||0<t&&h.indexLabelTextBlock.y>c)return 0;var d=0,p=0,p=d=d=0;for(0>t?h.indexLabelTextBlock.y-h.indexLabelTextBlock.height/2>r&&h.indexLabelTextBlock.y-h.indexLabelTextBlock.height/2+t<r&&(t=-(r-(h.indexLabelTextBlock.y-h.indexLabelTextBlock.height/2+t))):h.indexLabelTextBlock.y+h.indexLabelTextBlock.height/2<r&&h.indexLabelTextBlock.y+h.indexLabelTextBlock.height/2+t>c&&(t=h.indexLabelTextBlock.y+h.indexLabelTextBlock.height/2+t-c),t=h.indexLabelTextBlock.y+t,r=0,r="right"===h.hemisphere?x.x+Math.sqrt(Math.pow(l,2)-Math.pow(t-x.y,2)):x.x-Math.sqrt(Math.pow(l,2)-Math.pow(t-x.y,2)),p=x.x+k*Math.cos(h.midAngle),d=x.y+k*Math.sin(h.midAngle),d=Math.sqrt(Math.pow(r-p,2)+Math.pow(t-d,2)),p=Math.acos(k/l),d=Math.acos((l*l+k*k-d*d)/(2*k*l)),t=d<p?t-h.indexLabelTextBlock.y:0,r=null,c=1;c<u.length;c++){if(r=(e-c+m.length)%m.length,m[r].hemisphere!==m[e].hemisphere){r=null;break}if(m[r].indexLabelText&&m[r].hemisphere===m[e].hemisphere&&r!==e&&(0>i(m[r],m[e])||("right"===m[e].hemisphere?m[r].indexLabelTextBlock.y<=m[e].indexLabelTextBlock.y:m[r].indexLabelTextBlock.y>=m[e].indexLabelTextBlock.y)))break;r=null}p=r,d=a(e),c=r=0,0>t?(c="right"===h.hemisphere?p:d,s=t,null!==c&&(p=-t,(t=h.indexLabelTextBlock.y-h.indexLabelTextBlock.height/2-(m[c].indexLabelTextBlock.y+m[c].indexLabelTextBlock.height/2))-p<g&&(r=-p,c=n(c,r,o+1),+c.toFixed(y)>+r.toFixed(y)&&(s=t>g?-(t-g):-(p-(c-r)))))):0<t&&(c="right"===h.hemisphere?d:p,s=t,null!==c&&(p=t,(t=m[c].indexLabelTextBlock.y-m[c].indexLabelTextBlock.height/2-(h.indexLabelTextBlock.y+h.indexLabelTextBlock.height/2))-p<g&&(r=p,c=n(c,r,o+1),+c.toFixed(y)<+r.toFixed(y)&&(s=t>g?t-g:p-(r-c))))),s&&(o=h.indexLabelTextBlock.y+s,t=0,t="right"===h.hemisphere?x.x+Math.sqrt(Math.pow(l,2)-Math.pow(o-x.y,2)):x.x-Math.sqrt(Math.pow(l,2)-Math.pow(o-x.y,2)),h.midAngle>Math.PI/2-b&&h.midAngle<Math.PI/2+b?(r=(e-1+m.length)%m.length,r=m[r],e=m[(e+1+m.length)%m.length],"left"===h.hemisphere&&"right"===r.hemisphere&&t>r.indexLabelTextBlock.x?t=r.indexLabelTextBlock.x-15:"right"===h.hemisphere&&"left"===e.hemisphere&&t<e.indexLabelTextBlock.x&&(t=e.indexLabelTextBlock.x+15)):h.midAngle>3*Math.PI/2-b&&h.midAngle<3*Math.PI/2+b&&(r=(e-1+m.length)%m.length,r=m[r],e=m[(e+1+m.length)%m.length],"right"===h.hemisphere&&"left"===r.hemisphere&&t<r.indexLabelTextBlock.x?t=r.indexLabelTextBlock.x+15:"left"===h.hemisphere&&"right"===e.hemisphere&&t>e.indexLabelTextBlock.x&&(t=e.indexLabelTextBlock.x-15)),h.indexLabelTextBlock.y=o,h.indexLabelTextBlock.x=t,h.indexLabelAngle=Math.atan2(h.indexLabelTextBlock.y-x.y,h.indexLabelTextBlock.x-x.x))}return s}function o(){var e=r.plotArea.ctx;e.fillStyle="grey",e.strokeStyle="grey",e.font="16px Arial",e.textBaseline="middle";for(var t=e=0,o=0,s=!0,t=0;10>t&&(1>t||0<o);t++){if((c.radius||!c.radius&&void 0!==c.innerRadius&&null!==c.innerRadius&&k-o<=S)&&(s=!1),s&&(k-=o),o=0,"inside"!==c.indexLabelPlacement){for(l=k*v,e=0;e<u.length;e++){var h=m[e];h.indexLabelTextBlock.x=x.x+l*Math.cos(h.midAngle),h.indexLabelTextBlock.y=x.y+l*Math.sin(h.midAngle),h.indexLabelAngle=h.midAngle,h.radius=k,h.percentInnerRadius=D}for(var f,b,e=0;e<u.length;e++){var h=m[e],C=a(e);if(null!==C){f=m[e],b=m[C];var w=0,w=i(f,b)-g;if(0>w){for(var T=b=0,M=0;M<u.length;M++)M!==e&&m[M].hemisphere===h.hemisphere&&(m[M].indexLabelTextBlock.y<h.indexLabelTextBlock.y?b++:T++);b=w/(b+T||1)*T;var T=-1*(w-b),P=M=0;"right"===h.hemisphere?(M=n(e,b),T=-1*(w-M),P=n(C,T),+P.toFixed(y)<+T.toFixed(y)&&+M.toFixed(y)<=+b.toFixed(y)&&n(e,-(T-P))):(M=n(C,b),T=-1*(w-M),P=n(e,T),+P.toFixed(y)<+T.toFixed(y)&&+M.toFixed(y)<=+b.toFixed(y)&&n(C,-(T-P)))}}}}else for(e=0;e<u.length;e++)h=m[e],l="pie"===c.type?.7*k:.8*k,C=x.x+l*Math.cos(h.midAngle),b=x.y+l*Math.sin(h.midAngle),h.indexLabelTextBlock.x=C,h.indexLabelTextBlock.y=b;for(e=0;e<u.length;e++)h=m[e],C=h.indexLabelTextBlock.measureText(),0!==C.height&&0!==C.width&&(C=C=0,"right"===h.hemisphere?(C=p.x2-(h.indexLabelTextBlock.x+h.indexLabelTextBlock.width+d),C*=-1):C=p.x1-(h.indexLabelTextBlock.x-h.indexLabelTextBlock.width-d),0<C&&(!s&&h.indexLabelText&&(b="right"===h.hemisphere?p.x2-h.indexLabelTextBlock.x:h.indexLabelTextBlock.x-p.x1,.3*h.indexLabelTextBlock.maxWidth>b?h.indexLabelText="":h.indexLabelTextBlock.maxWidth=.85*b,.3*h.indexLabelTextBlock.maxWidth<b&&(h.indexLabelTextBlock.x-="right"===h.hemisphere?2:-2)),Math.abs(h.indexLabelTextBlock.y-h.indexLabelTextBlock.height/2-x.y)<k||Math.abs(h.indexLabelTextBlock.y+h.indexLabelTextBlock.height/2-x.y)<k)&&(C/=Math.abs(Math.cos(h.indexLabelAngle)),9<C&&(C*=.3),C>o&&(o=C)),C=C=0,0<h.indexLabelAngle&&h.indexLabelAngle<Math.PI?(C=p.y2-(h.indexLabelTextBlock.y+h.indexLabelTextBlock.height/2+5),C*=-1):C=p.y1-(h.indexLabelTextBlock.y-h.indexLabelTextBlock.height/2-5),0<C&&(!s&&h.indexLabelText&&(b=0<h.indexLabelAngle&&h.indexLabelAngle<Math.PI?-1:1,0===n(e,C*b)&&n(e,2*b)),Math.abs(h.indexLabelTextBlock.x-x.x)<k&&(C/=Math.abs(Math.sin(h.indexLabelAngle)),9<C&&(C*=.3),C>o&&(o=C))));var $=function(e,t,i){for(var a=[],n=0;a.push(m[t]),t!==i;t=(t+1+u.length)%u.length);for(a.sort(function(e,t){return e.y-t.y}),t=0;t<a.length&&(i=a[t],n<.7*e);t++)n+=i.indexLabelTextBlock.height,i.indexLabelTextBlock.text="",i.indexLabelText="",i.indexLabelTextBlock.measureText()};!function(){for(var e=-1,t=-1,n=0,o=!1,s=0;s<u.length;s++)if(o=!1,f=m[s],f.indexLabelText){var r=a(s);if(null!==r){var l=m[r];w=0,w=i(f,l);var c;if(c=0>w){c=f.indexLabelTextBlock.x;var h=f.indexLabelTextBlock.y-f.indexLabelTextBlock.height/2,p=f.indexLabelTextBlock.y+f.indexLabelTextBlock.height/2,g=l.indexLabelTextBlock.y-l.indexLabelTextBlock.height/2,v=l.indexLabelTextBlock.x+l.indexLabelTextBlock.width,b=l.indexLabelTextBlock.y+l.indexLabelTextBlock.height/2;c=!(f.indexLabelTextBlock.x+f.indexLabelTextBlock.width<l.indexLabelTextBlock.x-d||c>v+d||h>b+d||p<g-d)}c?(0>e&&(e=s),r!==e&&(t=r,n+=-w),0==s%Math.max(u.length/10,3)&&(o=!0)):o=!0,o&&0<n&&0<=e&&0<=t&&($(n,e,t),t=e=-1,n=0)}}0<n&&$(n,e,t)}()}}function s(){if(r.plotArea.layoutManager.reset(),r.title&&(r.title.dockInsidePlotArea||"center"===r.title.horizontalAlign&&"center"===r.title.verticalAlign)&&r.title.render(),r.subtitles)for(var e=0;e<r.subtitles.length;e++){var t=r.subtitles[e];(t.dockInsidePlotArea||"center"===t.horizontalAlign&&"center"===t.verticalAlign)&&t.render()}r.legend&&(r.legend.dockInsidePlotArea||"center"===r.legend.horizontalAlign&&"center"===r.legend.verticalAlign)&&r.legend.render()}var r=this;if(!(0>=e.dataSeriesIndexes.length)){var l,c=this.data[e.dataSeriesIndexes[0]],u=c.dataPoints,d=10,p=this.plotArea,m=c.dataPointEOs,g=2,v=1.3,b=20/180*Math.PI,y=6,x={x:(p.x2+p.x1)/2,y:(p.y2+p.y1)/2},C=0;e=!1;for(var w=0;w<u.length;w++)C+=Math.abs(u[w].y),!e&&void 0!==u[w].indexLabel&&null!==u[w].indexLabel&&0<u[w].indexLabel.toString().length&&(e=!0),!e&&void 0!==u[w].label&&null!==u[w].label&&0<u[w].label.toString().length&&(e=!0);if(0!==C){e=e||void 0!==c.indexLabel&&null!==c.indexLabel&&0<c.indexLabel.toString().length;var k="inside"!==c.indexLabelPlacement&&e?.75*Math.min(p.width,p.height)/2:.92*Math.min(p.width,p.height)/2;c.radius&&(k=E(c.radius,k));var S=void 0!==c.innerRadius&&null!==c.innerRadius?E(c.innerRadius,k):.7*k;c.radius=k,"doughnut"===c.type&&(c.innerRadius=S);var D=Math.min(S/k,(k-1)/k);this.pieDoughnutClickHandler=function(e){r.isAnimating||!h(e.dataSeries.explodeOnClick)&&!e.dataSeries.explodeOnClick||(e=e.dataPoint,e.exploded=!e.exploded,1<this.dataPoints.length&&r._animator.animate(0,500,function(e){t(e),s()}))},function(){if(c&&u){for(var e=0,t=0,i=0,a=0,n=0;n<u.length;n++){var o=u[n],s=c.dataPointIds[n];m[n].id=s,m[n].objectType="dataPoint",m[n].dataPointIndex=n,m[n].dataSeriesIndex=0;var l=m[n],d={percent:null,total:null},f=null,d=r.getPercentAndTotal(c,o);(c.indexLabelFormatter||o.indexLabelFormatter)&&(f={chart:r.options,dataSeries:c,dataPoint:o,total:d.total,percent:d.percent}),d=o.indexLabelFormatter?o.indexLabelFormatter(f):o.indexLabel?r.replaceKeywordsWithValue(o.indexLabel,o,c,n):c.indexLabelFormatter?c.indexLabelFormatter(f):c.indexLabel?r.replaceKeywordsWithValue(c.indexLabel,o,c,n):o.label?o.label:"",r._eventManager.objectMap[s]=l,l.center={x:x.x,y:x.y},l.y=o.y,l.radius=k,l.percentInnerRadius=D,l.indexLabelText=d,l.indexLabelPlacement=c.indexLabelPlacement,l.indexLabelLineColor=o.indexLabelLineColor?o.indexLabelLineColor:c.options.indexLabelLineColor?c.options.indexLabelLineColor:o.color?o.color:c._colorSet[n%c._colorSet.length],l.indexLabelLineThickness=h(o.indexLabelLineThickness)?c.indexLabelLineThickness:o.indexLabelLineThickness,l.indexLabelLineDashType=o.indexLabelLineDashType?o.indexLabelLineDashType:c.indexLabelLineDashType,l.indexLabelFontColor=o.indexLabelFontColor?o.indexLabelFontColor:c.indexLabelFontColor,l.indexLabelFontStyle=o.indexLabelFontStyle?o.indexLabelFontStyle:c.indexLabelFontStyle,l.indexLabelFontWeight=o.indexLabelFontWeight?o.indexLabelFontWeight:c.indexLabelFontWeight,l.indexLabelFontSize=h(o.indexLabelFontSize)?c.indexLabelFontSize:o.indexLabelFontSize,l.indexLabelFontFamily=o.indexLabelFontFamily?o.indexLabelFontFamily:c.indexLabelFontFamily,l.indexLabelBackgroundColor=o.indexLabelBackgroundColor?o.indexLabelBackgroundColor:c.options.indexLabelBackgroundColor?c.options.indexLabelBackgroundColor:c.indexLabelBackgroundColor,l.indexLabelMaxWidth=o.indexLabelMaxWidth?o.indexLabelMaxWidth:c.indexLabelMaxWidth?c.indexLabelMaxWidth:.33*p.width,l.indexLabelWrap=void 0!==o.indexLabelWrap?o.indexLabelWrap:c.indexLabelWrap,l.startAngle=0===n?c.startAngle?c.startAngle/180*Math.PI:0:m[n-1].endAngle,l.startAngle=(l.startAngle+2*Math.PI)%(2*Math.PI),l.endAngle=l.startAngle+2*Math.PI/C*Math.abs(o.y),o=(l.endAngle+l.startAngle)/2,o=(o+2*Math.PI)%(2*Math.PI),l.midAngle=o,l.midAngle>Math.PI/2-b&&l.midAngle<Math.PI/2+b?((0===e||m[i].midAngle>l.midAngle)&&(i=n),e++):l.midAngle>3*Math.PI/2-b&&l.midAngle<3*Math.PI/2+b&&((0===t||m[a].midAngle>l.midAngle)&&(a=n),t++),l.hemisphere=o>Math.PI/2&&o<=3*Math.PI/2?"left":"right",l.indexLabelTextBlock=new M(r.plotArea.ctx,{fontSize:l.indexLabelFontSize,fontFamily:l.indexLabelFontFamily,fontColor:l.indexLabelFontColor,fontStyle:l.indexLabelFontStyle,fontWeight:l.indexLabelFontWeight,horizontalAlign:"left",backgroundColor:l.indexLabelBackgroundColor,maxWidth:l.indexLabelMaxWidth,maxHeight:l.indexLabelWrap?5*l.indexLabelFontSize:1.5*l.indexLabelFontSize,text:l.indexLabelText,padding:0,textBaseline:"top"}),l.indexLabelTextBlock.measureText()}for(s=o=0,d=!1,n=0;n<u.length;n++)l=m[(i+n)%u.length],1<e&&l.midAngle>Math.PI/2-b&&l.midAngle<Math.PI/2+b&&(o<=e/2&&!d?(l.hemisphere="right",o++):(l.hemisphere="left",d=!0));for(d=!1,n=0;n<u.length;n++)l=m[(a+n)%u.length],1<t&&l.midAngle>3*Math.PI/2-b&&l.midAngle<3*Math.PI/2+b&&(s<=t/2&&!d?(l.hemisphere="left",s++):(l.hemisphere="right",d=!0))}}(),o(),o(),o(),o(),this.disableToolTip=!0,this._animator.animate(0,this.animatedRender?this.animationDuration:0,function(e){var t=r.plotArea.ctx;for(t.clearRect(p.x1,p.y1,p.width,p.height),t.fillStyle=r.backgroundColor,t.fillRect(p.x1,p.y1,p.width,p.height),e=m[0].startAngle+2*Math.PI*e,t=0;t<u.length;t++){var i=0===t?m[t].startAngle:a,a=i+(m[t].endAngle-m[t].startAngle),n=!1;a>e&&(a=e,n=!0);var o=u[t].color?u[t].color:c._colorSet[t%c._colorSet.length];if(a>i&&K(r.plotArea.ctx,m[t].center,m[t].radius,o,c.type,i,a,c.fillOpacity,m[t].percentInnerRadius),n)break}s()},function(){r.disableToolTip=!1,r._animator.animate(0,r.animatedRender?500:0,function(e){t(e),s()})})}}};var te=function(e,t,i,a){void 0===i&&(i=1),0>=Math.round(t.y4-t.y1)||(e.save(),e.globalAlpha=i,e.beginPath(),e.moveTo(Math.round(t.x1),Math.round(t.y1)),e.lineTo(Math.round(t.x2),Math.round(t.y2)),e.lineTo(Math.round(t.x3),Math.round(t.y3)),e.lineTo(Math.round(t.x4),Math.round(t.y4)),"undefined"!==t.x5&&(e.lineTo(Math.round(t.x5),Math.round(t.y5)),e.lineTo(Math.round(t.x6),Math.round(t.y6))),e.closePath(),e.fillStyle=a||t.color,e.fill(),e.globalAplha=1,e.restore())};c.prototype.renderFunnel=function(e){function t(){var e,t,i,a;if("inside"!==g.indexLabelPlacement)for(var n=0;n<H.length;n++)0==q[n].textBlock.text.length?q[n].isDirty=!0:(e=H[n],i=void 0!==e.x5?(e.y2+e.y4)/2:(e.y2+e.y3)/2,t=g.reversed?void 0!==e.x5&&i>W?c(i).x2+1:(e.x2+e.x3)/2+1:void 0!==e.x5?i<W?c(i).x2+1:(e.x4+e.x3)/2+1:(e.x2+e.x3)/2+1,q[n].textBlock.x=t+F,q[n].textBlock.y=i-q[n].height/2,g.reversed?(q[n].textBlock.y+q[n].height>B+y&&(q[n].textBlock.y=B+y-q[n].height),q[n].textBlock.y<z-y&&(q[n].textBlock.y=z-y)):(q[n].textBlock.y<B-y&&(q[n].textBlock.y=B-y),q[n].textBlock.y+q[n].height>z+y&&(q[n].textBlock.y=z+y-q[n].height)));else for(n=0;n<H.length;n++)0==q[n].textBlock.text.length?q[n].isDirty=!0:(e=H[n],t=e.height,i=q[n].height,a=q[n].width,t>=i?(t=n!=Y?(e.x4+e.x3)/2-a/2:(e.x5+e.x4)/2-a/2,i=n!=Y?(e.y1+e.y3)/2-i/2:(e.y1+e.y4)/2-i/2,q[n].textBlock.x=t,q[n].textBlock.y=i):q[n].isDirty=!0)}function i(e,t){return(t<H.length?q[t].textBlock.y:g.reversed?B+y:z+y)-(0>e?g.reversed?z-y:B-y:q[e].textBlock.y+q[e].height+X)}function a(e,i,a){var s,r,l,c=[],h=y,u=[];if(-1!==i&&(0<=K.indexOf(i)?(r=K.indexOf(i),K.splice(r,1)):(K.push(i),K=K.sort(function(e,t){return e-t}))),0===K.length)c=J;else{r=y*(1!=K.length||0!=K[0]&&K[0]!=H.length-1?2:1)/n();for(var f=0;f<H.length;f++){if(1==K.length&&0==K[0]){if(0===f){c.push(J[f]),s=h;continue}}else 0===f&&(s=-1*h);c.push(J[f]+s),(0<=K.indexOf(f)||f<H.length&&0<=K.indexOf(f+1))&&(s+=r)}}l=function(){for(var e=[],t=0;t<H.length;t++)e.push(c[t]-H[t].y1);return e}();var m={startTime:(new Date).getTime(),duration:a||500,easingFunction:function(e,t,i,a){return ie.easing.easeOutQuart(e,t,i,a)},changeSection:function(e){for(var t,i,a=0;a<H.length;a++)t=l[a],i=H[a],newY=t*e,void 0===u[a]&&(u[a]=0),0>u&&(u*=-1),i.y1+=newY-u[a],i.y2+=newY-u[a],i.y3+=newY-u[a],i.y4+=newY-u[a],i.y5&&(i.y5+=newY-u[a],i.y6+=newY-u[a]),u[a]=newY}};e._animator.animate(0,a,function(a){var n=e.plotArea.ctx||e.ctx;Q=!0,n.clearRect(b.x1,b.y1,b.x2-b.x1,b.y2-b.y1),n.fillStyle=e.backgroundColor,n.fillRect(b.x1,b.y1,b.width,b.height),m.changeSection(a,i);var s={};for(s.dataSeries=g,s.dataPoint=g.reversed?g.dataPoints[v.length-1-i]:g.dataPoints[i],s.index=g.reversed?v.length-1-i:i,e.toolTip.highlightObjects([s]),s=0;s<H.length;s++)te(n,H[s],g.fillOpacity);p(n),S&&("inside"!==g.indexLabelPlacement?o(n):t(),d(n)),1<=a&&(Q=!1)},null,ie.easing.easeOutQuart)}function n(){for(var e=0,t=0;t<H.length-1;t++)(0<=K.indexOf(t)||0<=K.indexOf(t+1))&&e++;return e}function o(e){for(var t,i,a,n,o=0;o<H.length;o++)n=1==q[o].lineThickness%2?.5:0,i=((H[o].y2+H[o].y4)/2<<0)+n,t=c(i).x2-1,a=q[o].textBlock.x,n=(q[o].textBlock.y+q[o].height/2<<0)+n,q[o].isDirty||0==q[o].lineThickness||(e.strokeStyle=q[o].lineColor,e.lineWidth=q[o].lineThickness,e.setLineDash&&e.setLineDash(f(q[o].lineDashType,q[o].lineThickness)),e.beginPath(),e.moveTo(t,i),e.lineTo(a,n),e.stroke())}function r(e){for(e-=1;-1<=e&&-1!=e&&q[e].isDirty;e--);return e}function l(e){for(e+=1;e<=H.length&&e!=H.length&&q[e].isDirty;e++);return e}function c(e){for(var t,i=0;i<v.length;i++)if(H[i].y1<e&&H[i].y4>e){t=H[i];break}return t?(e=t.y6&&e>t.y6?t.x3+(t.x4-t.x3)/(t.y4-t.y3)*(e-t.y3):t.x2+(t.x3-t.x2)/(t.y3-t.y2)*(e-t.y2),{x1:e,x2:e}):-1}function d(e){for(var t=0;t<H.length;t++)q[t].isDirty||(e&&(q[t].textBlock.ctx=e),q[t].textBlock.render(!0))}function p(e){if(m.plotArea.layoutManager.reset(),e.roundRect||s(e),m.title&&(m.title.dockInsidePlotArea||"center"===m.title.horizontalAlign&&"center"===m.title.verticalAlign)&&(m.title.ctx=e,m.title.render()),m.subtitles)for(var t=0;t<m.subtitles.length;t++){var i=m.subtitles[t];(i.dockInsidePlotArea||"center"===i.horizontalAlign&&"center"===i.verticalAlign)&&(m.subtitles.ctx=e,i.render())}m.legend&&(m.legend.dockInsidePlotArea||"center"===m.legend.horizontalAlign&&"center"===m.legend.verticalAlign)&&(m.legend.ctx=e,m.legend.render()),R.fNg&&R.fNg(m)}var m=this;if(!(0>=e.dataSeriesIndexes.length)){for(var g=this.data[e.dataSeriesIndexes[0]],v=g.dataPoints,b=this.plotArea,y=.025*b.width,x=.01*b.width,C=0,w=b.height-2*y,k=Math.min(b.width-2*x,2.8*b.height),S=!1,D=0;D<v.length;D++)!S&&void 0!==v[D].indexLabel&&null!==v[D].indexLabel&&0<v[D].indexLabel.toString().length&&(S=!0),!S&&void 0!==v[D].label&&null!==v[D].label&&0<v[D].label.toString().length&&(S=!0),(!S&&"function"==typeof g.indexLabelFormatter||"function"==typeof v[D].indexLabelFormatter)&&(S=!0);S=S||void 0!==g.indexLabel&&null!==g.indexLabel&&0<g.indexLabel.toString().length,"inside"!==g.indexLabelPlacement&&S||(x=(b.width-.75*k)/2);var D=b.x1+x,T=b.x2-x,P=b.y1+y,$=b.y2-y,_=e.targetCanvasCtx||this.plotArea.ctx||this.ctx;if(0!=g.length&&g.dataPoints&&g.visible&&0!==v.length){var A,I;e=75*k/100;var F=30*(T-e)/100;"funnel"===g.type?(A=h(g.options.neckHeight)?.35*w:g.neckHeight,I=h(g.options.neckWidth)?.25*e:g.neckWidth,"string"==typeof A&&A.match(/%$/)?(A=parseInt(A),A=A*w/100):A=parseInt(A),"string"==typeof I&&I.match(/%$/)?(I=parseInt(I),I=I*e/100):I=parseInt(I),A>w?A=w:0>=A&&(A=0),I>e?I=e-.5:0>=I&&(I=0)):"pyramid"===g.type&&(I=A=0,g.reversed=!g.reversed);var x=D+e/2,E=D,L=D+e,B=g.reversed?$:P,N=x-I/2,V=x+I/2,W=g.reversed?P+A:$-A,z=g.reversed?P:$;e=[];var Y,x=[],H=[],k=[],U=P,j=(W-B)/(N-E),G=-j,D="area"===(g.valueRepresents?g.valueRepresents:"height")?function(){var e,t,i=E,a=L,n=N,o=V;e=P,t=$-A,headArea=(t-e)*(a-i+(o-n))/2,headArea=Math.abs(headArea),n=V-N,e=t-e,t=n*(t-$),t=Math.abs(t),t=headArea+t;for(var o=[],s=0,r=0;r<v.length;r++){if(void 0===v[r].y)return-1;v[r].y="number"==typeof v[r].y?v[r].y:0,s+=Math.abs(v[r].y)}if(0===s)return-1;for(var l,c=o[0]=0,h=0,a=a-i,u=!1,r=0;r<v.length;r++)i=Math.abs(v[r].y)*t/s,u?c=0==Number(n.toFixed(3))?0:i/n:(sqrt=j*j*a*a-4*Math.abs(j)*i,0>sqrt?(l=n,c=(a+l)*(e-h)/2,i-=c,c=e-h,h+=e-h,c+=0==l?0:i/l,h+=i/l,u=!0):(c=(Math.abs(j)*a-Math.sqrt(sqrt))/2,l=a-2*c/Math.abs(j),h+=c,h>e&&(h-=c,l=n,c=(a+l)*(e-h)/2,i-=c,c=e-h,h+=e-h,c+=i/l,h+=i/l,u=!0),a=l)),o.push(c);return o}():function(){for(var e=0,t=[],i=0;i<v.length;i++){if(void 0===v[i].y)return-1;v[i].y="number"==typeof v[i].y?v[i].y:0,e+=Math.abs(v[i].y)}if(0===e)return-1;for(i=t[0]=0;i<v.length;i++)t.push(Math.abs(v[i].y)*w/e);return t}();if(-1!==D){if(g.reversed)for(k.push(U),I=D.length-1;0<I;I--)U+=D[I],k.push(U);else for(I=0;I<D.length;I++)U+=D[I],k.push(U);if(g.reversed)for(I=0;I<D.length;I++)k[I]<W?(e.push(N),x.push(V),Y=I):(e.push((k[I]-B+j*E)/j),x.push((k[I]-B+G*L)/G));else for(I=0;I<D.length;I++)k[I]<W?(e.push((k[I]-B+j*E)/j),x.push((k[I]-B+G*L)/G),Y=I):(e.push(N),x.push(V));for(I=0;I<D.length-1;I++)U=g.reversed?v[v.length-1-I].color?v[v.length-1-I].color:g._colorSet[(v.length-1-I)%g._colorSet.length]:v[I].color?v[I].color:g._colorSet[I%g._colorSet.length],I===Y?H.push({x1:e[I],y1:k[I],x2:x[I],y2:k[I],x3:V,y3:W,x4:x[I+1],y4:k[I+1],x5:e[I+1],y5:k[I+1],x6:N,y6:W,id:I,height:k[I+1]-k[I],color:U}):H.push({x1:e[I],y1:k[I],x2:x[I],y2:k[I],x3:x[I+1],y3:k[I+1],x4:e[I+1],y4:k[I+1],id:I,height:k[I+1]-k[I],color:U});var X=2,q=[],Q=!1,K=[],J=[],D=!1;for(e=e=0,u(K),I=0;I<v.length;I++)v[I].exploded&&(D=!0,g.reversed?K.push(v.length-1-I):K.push(I));if(_.clearRect(b.x1,b.y1,b.width,b.height),_.fillStyle=m.backgroundColor,_.fillRect(b.x1,b.y1,b.width,b.height),S&&g.visible&&(function(){if(g&&v){for(var e,t,i,a,n,o,r,l,u,d,p,f,b,y,x=[],C=[],w={percent:null,total:null},k=null,S=0;S<v.length;S++)y=H[S],y=void 0!==y.x5?(y.y2+y.y4)/2:(y.y2+y.y3)/2,y=c(y).x2+1,x[S]=T-y-F;y=.5*F;for(var S=0,D=v.length-1;S<v.length||0<=D;S++,D--)t=g.reversed?v[D]:v[S],e=t.color?t.color:g.reversed?g._colorSet[(v.length-1-S)%g._colorSet.length]:g._colorSet[S%g._colorSet.length],i=t.indexLabelPlacement||g.indexLabelPlacement||"outside",a=t.indexLabelBackgroundColor||g.indexLabelBackgroundColor||(O?"transparent":null),n=t.indexLabelFontColor||g.indexLabelFontColor||"#979797",o=h(t.indexLabelFontSize)?g.indexLabelFontSize:t.indexLabelFontSize,r=t.indexLabelFontStyle||g.indexLabelFontStyle||"normal",l=t.indexLabelFontFamily||g.indexLabelFontFamily||"arial",u=t.indexLabelFontWeight||g.indexLabelFontWeight||"normal",e=t.indexLabelLineColor||g.options.indexLabelLineColor||e,d="number"==typeof t.indexLabelLineThickness?t.indexLabelLineThickness:"number"==typeof g.indexLabelLineThickness?g.indexLabelLineThickness:2,p=t.indexLabelLineDashType||g.indexLabelLineDashType||"solid",f=void 0!==t.indexLabelWrap?t.indexLabelWrap:void 0===g.indexLabelWrap||g.indexLabelWrap,b=g.dataPointIds[S],m._eventManager.objectMap[b]={id:b,objectType:"dataPoint",dataPointIndex:S,dataSeriesIndex:0,funnelSection:H[g.reversed?v.length-1-S:S]},"inside"===g.indexLabelPlacement&&(x[S]=S!==Y?g.reversed?H[S].x2-H[S].x1:H[S].x3-H[S].x4:H[S].x3-H[S].x6,20>x[S]&&(x[S]=S!==Y&&g.reversed?H[S].x3-H[S].x4:H[S].x2-H[S].x1,x[S]/=2)),b=t.indexLabelMaxWidth?t.indexLabelMaxWidth:g.options.indexLabelMaxWidth?g.indexLabelMaxWidth:x[S],(b>x[S]||0>b)&&(b=x[S]),C[S]="inside"===g.indexLabelPlacement&&H[S].height,w=m.getPercentAndTotal(g,t),(g.indexLabelFormatter||t.indexLabelFormatter)&&(k={chart:m.options,dataSeries:g,dataPoint:t,total:w.total,percent:w.percent}),t=t.indexLabelFormatter?t.indexLabelFormatter(k):t.indexLabel?m.replaceKeywordsWithValue(t.indexLabel,t,g,S):g.indexLabelFormatter?g.indexLabelFormatter(k):g.indexLabel?m.replaceKeywordsWithValue(g.indexLabel,t,g,S):t.label?t.label:"",0>=d&&(d=0),1e3>b&&1e3-b<y&&(b+=1e3-b),_.roundRect||s(_),i=new M(_,{fontSize:o,fontFamily:l,fontColor:n,fontStyle:r,fontWeight:u,horizontalAlign:i,backgroundColor:a,maxWidth:b,maxHeight:!1===C[S]?f?4.28571429*o:1.5*o:C[S],text:t,padding:X}),i.measureText(),q.push({textBlock:i,id:g.reversed?D:S,isDirty:!1,lineColor:e,lineThickness:d,lineDashType:p,height:i.height<i.maxHeight?i.height:i.maxHeight,width:i.width<i.maxWidth?i.width:i.maxWidth})}}(),t(),function(){var e,t,i,a,n,o=[];n=!1,i=0;for(var s=T-L-F/2,s=g.options.indexLabelMaxWidth?g.indexLabelMaxWidth>s?s:g.indexLabelMaxWidth:s,r=q.length-1;0<=r;r--)dataPoint=v[q[r].id],i=q[r],a=i.textBlock,t=(e=l(r)<H.length?q[l(r)]:null)?e.textBlock:null,i=i.height,e&&a.y+i+X>t.y&&(n=!0),i=dataPoint.indexLabelMaxWidth||s,(i>s||0>i)&&(i=s),o.push(i);if(n)for(r=q.length-1;0<=r;r--)e=H[r],q[r].textBlock.maxWidth=o[o.length-(r+1)],q[r].textBlock.measureText(),q[r].textBlock.x=T-s,i=q[r].textBlock.height<q[r].textBlock.maxHeight?q[r].textBlock.height:q[r].textBlock.maxHeight,n=q[r].textBlock.width<q[r].textBlock.maxWidth?q[r].textBlock.width:q[r].textBlock.maxWidth,q[r].height=i,q[r].width=n,i=void 0!==e.x5?(e.y2+e.y4)/2:(e.y2+e.y3)/2,q[r].textBlock.y=i-q[r].height/2,g.reversed?(q[r].textBlock.y+q[r].height>B+y&&(q[r].textBlock.y=B+y-q[r].height),q[r].textBlock.y<z-y&&(q[r].textBlock.y=z-y)):(q[r].textBlock.y<B-y&&(q[r].textBlock.y=B-y),q[r].textBlock.y+q[r].height>z+y&&(q[r].textBlock.y=z+y-q[r].height))}(),"inside"!==g.indexLabelPlacement)){for(function(){function e(t,a){var n;if(0>t||t>=q.length)return 0;var o,s=q[t].textBlock;return 0>a?(a*=-1,o=r(t),(n=i(o,t))>=a?(s.y-=a,a):0==t?(0<n&&(s.y-=n),n):(n+=e(o,-(a-n)),0<n&&(s.y-=n),n)):(o=l(t),(n=i(t,o))>=a?(s.y+=a,a):t==H.length-1?(0<n&&(s.y+=n),n):(n+=e(o,a-n),0<n&&(s.y+=n),n))}function t(e,t,i){var a=[],n=0,o=0;for(e=Math.abs(e);i<=t;i++)a.push(H[i]);for(a.sort(function(e,t){return e.height-t.height}),i=0;i<a.length&&(t=a[i],n<e);i++)o++,n+=q[t.id].height+X,q[t.id].textBlock.text="",q[t.id].indexLabelText="",q[t.id].isDirty=!0,q[t.id].textBlock.measureText();return o}for(var a,n,o,s,c,h,u=1,d=0;d<2*u;d++){for(var p=q.length-1;0<=p&&(previousTextBlock=(previousLabel=0<=r(p)?q[r(p)]:null)?previousLabel.textBlock:null,o=q[p],s=o.textBlock,h=(c=l(p)<H.length?q[l(p)]:null)?c.textBlock:null,a=+o.height.toFixed(6),n=+s.y.toFixed(6),!(!o.isDirty&&c&&n+a+X>+h.y.toFixed(6)&&(a=s.y+a+X-h.y,(n=e(p,-a))<a&&(0<n&&(a-=n),(n=e(l(p),a))!=a))));p--);!function(){var e,i,a,n,o,s=0;n=($-P+2*y)/u,o=u;for(var c,h=1;h<o;h++){a=h*n;for(var d=q.length-1;0<=d;d--)!q[d].isDirty&&q[d].textBlock.y<a&&q[d].textBlock.y+q[d].height>a&&!((c=l(d))>=q.length-1)&&q[d].textBlock.y+q[d].height+X>q[c].textBlock.y&&(q[d].textBlock.y=q[d].textBlock.y+q[d].height-a>a-q[d].textBlock.y?a+1:a-q[d].height-1)}for(c=H.length-1;0<c;c--)if(!q[c].isDirty){if(0>(a=r(c))&&(a=0,q[a].isDirty))break;if(q[c].textBlock.y<q[a].textBlock.y+q[a].height){for(i=i||c,n=c,o=0;q[n].textBlock.y<q[a].textBlock.y+q[a].height+X;){if(e=e||q[n].textBlock.y+q[n].height,o+=q[n].height,o+=X,0>=(n=a)){n=0,o+=q[n].height;break}if(0>(a=r(n))){n=0,o+=q[n].height;break}}if(n!=c){s=q[n].textBlock.y,e-=s,e=o-e,s=t(e,i,n);break}}}}()}}(),I=0;I<v.length;I++)q[I].isDirty||(e=q[I].textBlock.x+q[I].width,e=(T-e)/2,0==I&&(C=e),C>e&&(C=e));for(I=0;I<H.length;I++)H[I].x1+=C,H[I].x2+=C,H[I].x3+=C,H[I].x4+=C,H[I].x5&&(H[I].x5+=C,H[I].x6+=C),q[I].textBlock.x+=C}for(I=0;I<H.length;I++)C=H[I],te(_,C,g.fillOpacity),J.push(C.y1);if(p(_),S&&g.visible&&("inside"===g.indexLabelPlacement||m.animationEnabled||o(_),m.animationEnabled||d()),!S)for(I=0;I<v.length;I++)C=g.dataPointIds[I],e={id:C,objectType:"dataPoint",dataPointIndex:I,dataSeriesIndex:0,funnelSection:H[g.reversed?v.length-1-I:I]},m._eventManager.objectMap[C]=e;return!m.animationEnabled&&D?a(m,-1,0):m.animationEnabled&&!m.animatedRender&&a(m,-1,0),this.funnelPyramidClickHandler=function(e){var t=-1;!Q&&!m.isAnimating&&(h(e.dataSeries.explodeOnClick)||e.dataSeries.explodeOnClick)&&0<=(t=g.reversed?v.length-1-e.dataPointIndex:e.dataPointIndex)&&(e=t,"funnel"!==g.type&&"pyramid"!==g.type||(g.reversed?v[v.length-1-e].exploded=!v[v.length-1-e].exploded:v[e].exploded=!v[e].exploded),a(m,t,500))},{source:_,dest:this.plotArea.ctx,animationCallback:function(e,t){ie.fadeInAnimation(e,t),1<=e&&(a(m,-1,500),p(m.plotArea.ctx||m.ctx))},easingFunction:ie.easing.easeInQuad,animationBase:0}}}}},c.prototype.animationRequestId=null,c.prototype.requestAnimFrame=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(e){window.setTimeout(e,1e3/60)}}(),c.prototype.cancelRequestAnimFrame=window.cancelAnimationFrame||window.webkitCancelRequestAnimationFrame||window.mozCancelRequestAnimationFrame||window.oCancelRequestAnimationFrame||window.msCancelRequestAnimationFrame||clearTimeout,c.prototype.set=function(e,t,i){i=void 0===i||i,"options"===e?(this.options=t,i&&this.render()):c.base.set.call(this,e,t,i)},c.prototype.exportChart=function(e){e=void 0===e?{}:e
;var t=e.format?e.format:"png",i=e.fileName?e.fileName:this.exportFileName;if(e.toDataURL)return this.canvas.toDataURL("image/"+t);n(this.canvas,t,i)},c.prototype.print=function(){var e=this.exportChart({toDataURL:!0}),t=document.createElement("iframe");t.setAttribute("class","canvasjs-chart-print-frame"),t.setAttribute("style","position:absolute; width:100%; border: 0px; margin: 0px 0px 0px 0px; padding 0px 0px 0px 0px;"),t.style.height=this.height+"px",this._canvasJSContainer.appendChild(t);var i=this,a=t.contentWindow||t.contentDocument.document||t.contentDocument;a.document.open(),a.document.write('<!DOCTYPE HTML>\n<html><body style="margin: 0px 0px 0px 0px; padding: 0px 0px 0px 0px;"><img src="'+e+'"/><body/></html>'),a.document.close(),setTimeout(function(){a.focus(),a.print(),setTimeout(function(){i._canvasJSContainer.removeChild(t)},1e3)},500)},c.prototype.getPercentAndTotal=function(e,t){var a=null,n=null,o=null;if(0<=e.type.indexOf("stacked"))n=0,(a=t.x.getTime?t.x.getTime():t.x)in e.plotUnit.yTotals&&(n=e.plotUnit.yTotals[a],o=isNaN(t.y)?0:t.y/n*100);else if("pie"===e.type||"doughnut"===e.type||"funnel"===e.type||"pyramid"===e.type){for(i=n=0;i<e.dataPoints.length;i++)isNaN(e.dataPoints[i].y)||(n+=e.dataPoints[i].y);o=isNaN(t.y)?0:t.y/n*100}return{percent:o,total:n}},c.prototype.replaceKeywordsWithValue=function(e,t,i,a,n){var s=this;if(n=void 0===n?0:n,(0<=i.type.indexOf("stacked")||"pie"===i.type||"doughnut"===i.type||"funnel"===i.type||"pyramid"===i.type)&&(0<=e.indexOf("#percent")||0<=e.indexOf("#total"))){var r="#percent",l="#total",c=this.getPercentAndTotal(i,t),l=isNaN(c.total)?l:c.total,r=isNaN(c.percent)?r:c.percent;do{if(c="",i.percentFormatString)c=i.percentFormatString;else{var c="#,##0.",h=Math.max(Math.ceil(Math.log(1/Math.abs(r))/Math.LN10),2);!isNaN(h)&&isFinite(h)||(h=2);for(var u=0;u<h;u++)c+="#";i.percentFormatString=c}e=e.replace("#percent",Z(r,c,s._cultureInfo)),e=e.replace("#total",Z(l,i.yValueFormatString?i.yValueFormatString:"#,##0.########",s._cultureInfo))}while(0<=e.indexOf("#percent")||0<=e.indexOf("#total"))}return e.replace(/\{.*?\}|"[^"]*"|'[^']*'/g,function(e){if('"'===e[0]&&'"'===e[e.length-1]||"'"===e[0]&&"'"===e[e.length-1])return e.slice(1,e.length-1);e=o(e.slice(1,e.length-1)),e=e.replace("#index",n);var r=null;try{var l=e.match(/(.*?)\s*\[\s*(.*?)\s*\]/);l&&0<l.length&&(r=o(l[2]),e=o(l[1]))}catch(e){}if(l=null,"color"===e)return"waterfall"===i.type?t.color?t.color:-1<t.y?i.risingColor:i.fallingColor:"error"===i.type?i.color?i.color:i._colorSet[r%i._colorSet.length]:t.color?t.color:i.color?i.color:i._colorSet[a%i._colorSet.length];if(t.hasOwnProperty(e))l=t;else{if(!i.hasOwnProperty(e))return"";l=i}return l=l[e],null!==r&&(l=l[r]),"x"!==e?"y"===e?Z(l,t.yValueFormatString?t.yValueFormatString:i.yValueFormatString?i.yValueFormatString:i.yValueFormatString="#,##0.########",s._cultureInfo):"z"===e?Z(l,t.zValueFormatString?t.zValueFormatString:i.zValueFormatString?i.zValueFormatString:i.zValueFormatString="#,##0.########",s._cultureInfo):l:"dateTime"===i.axisX.valueType||"dateTime"===i.xValueType||t.x&&t.x.getTime?s.plotInfo.plotTypes[0].plotUnits[0].axisX&&!s.plotInfo.plotTypes[0].plotUnits[0].axisX.logarithmic?J(l,t.xValueFormatString?t.xValueFormatString:i.xValueFormatString?i.xValueFormatString:i.xValueFormatString=s.axisX&&s.axisX.autoValueFormatString?s.axisX.autoValueFormatString:"DD MMM YY",s._cultureInfo):void 0:Z(l,t.xValueFormatString?t.xValueFormatString:i.xValueFormatString?i.xValueFormatString:i.xValueFormatString="#,##0.########",s._cultureInfo)})},e(L,D),L.prototype.render=function(){var e=this.dockInsidePlotArea?this.chart.plotArea:this.chart,t=e.layoutManager.getFreeSpace(),i=null,a=0,n=0,o=0,s=0,r=this.markerMargin=this.chart.options.legend&&!h(this.chart.options.legend.markerMargin)?this.chart.options.legend.markerMargin:.3*this.fontSize;this.height=0;var c=[],u=[];"top"===this.verticalAlign||"bottom"===this.verticalAlign?(this.orientation="horizontal",i=this.verticalAlign,o=this.maxWidth=null!==this.maxWidth?this.maxWidth:t.width,s=this.maxHeight=null!==this.maxHeight?this.maxHeight:.5*t.height):"center"===this.verticalAlign&&(this.orientation="vertical",i=this.horizontalAlign,o=this.maxWidth=null!==this.maxWidth?this.maxWidth:.5*t.width,s=this.maxHeight=null!==this.maxHeight?this.maxHeight:t.height);for(var d=[],p=0;p<this.dataSeries.length;p++){var f=this.dataSeries[p];if(f.dataPoints&&f.dataPoints.length)if("pie"!==f.type&&"doughnut"!==f.type&&"funnel"!==f.type&&"pyramid"!==f.type){var m=f.legendMarkerType=f.legendMarkerType?f.legendMarkerType:"line"!==f.type&&"stepLine"!==f.type&&"spline"!==f.type&&"scatter"!==f.type&&"bubble"!==f.type||!f.markerType?"error"===f.type&&f._linkedSeries?f._linkedSeries.legendMarkerType?f._linkedSeries.legendMarkerType:B.getDefaultLegendMarker(f._linkedSeries.type):B.getDefaultLegendMarker(f.type):f.markerType,g=f.legendText?f.legendText:this.itemTextFormatter?this.itemTextFormatter({chart:this.chart,legend:this.options,dataSeries:f,dataPoint:null}):f.name,v=f.legendMarkerColor=f.legendMarkerColor?f.legendMarkerColor:f.markerColor?f.markerColor:"error"===f.type?h(f.whiskerColor)?f._colorSet[0]:f.whiskerColor:f._colorSet[0],b=f.markerSize||"line"!==f.type&&"stepLine"!==f.type&&"spline"!==f.type?.75*this.lineHeight:0,y=f.legendMarkerBorderColor?f.legendMarkerBorderColor:f.markerBorderColor,x=f.legendMarkerBorderThickness?f.legendMarkerBorderThickness:f.markerBorderThickness?Math.max(1,Math.round(.2*b)):0;"error"===f.type&&d.push(v),g=this.chart.replaceKeywordsWithValue(g,f.dataPoints[0],f,p),m={markerType:m,markerColor:v,text:g,textBlock:null,chartType:f.type,markerSize:b,lineColor:f._colorSet[0],dataSeriesIndex:f.index,dataPointIndex:null,markerBorderColor:y,markerBorderThickness:x},c.push(m)}else for(var C=0;C<f.dataPoints.length;C++){var w=f.dataPoints[C],m=w.legendMarkerType?w.legendMarkerType:f.legendMarkerType?f.legendMarkerType:B.getDefaultLegendMarker(f.type),g=w.legendText?w.legendText:f.legendText?f.legendText:this.itemTextFormatter?this.itemTextFormatter({chart:this.chart,legend:this.options,dataSeries:f,dataPoint:w}):w.name?w.name:"DataPoint: "+(C+1),v=w.legendMarkerColor?w.legendMarkerColor:f.legendMarkerColor?f.legendMarkerColor:w.color?w.color:f.color?f.color:f._colorSet[C%f._colorSet.length],b=.75*this.lineHeight,y=w.legendMarkerBorderColor?w.legendMarkerBorderColor:f.legendMarkerBorderColor?f.legendMarkerBorderColor:w.markerBorderColor?w.markerBorderColor:f.markerBorderColor,x=w.legendMarkerBorderThickness?w.legendMarkerBorderThickness:f.legendMarkerBorderThickness?f.legendMarkerBorderThickness:w.markerBorderThickness||f.markerBorderThickness?Math.max(1,Math.round(.2*b)):0,g=this.chart.replaceKeywordsWithValue(g,w,f,C),m={markerType:m,markerColor:v,text:g,textBlock:null,chartType:f.type,markerSize:b,dataSeriesIndex:p,dataPointIndex:C,markerBorderColor:y,markerBorderThickness:x};(w.showInLegend||f.showInLegend&&!1!==w.showInLegend)&&c.push(m)}}if(!0===this.reversed&&c.reverse(),0<c.length){for(f=null,g=C=w=x=0,w=null!==this.itemWidth?null!==this.itemMaxWidth?Math.min(this.itemWidth,this.itemMaxWidth,o):this.itemMaxWidth=Math.min(this.itemWidth,o):null!==this.itemMaxWidth?Math.min(this.itemMaxWidth,o):this.itemMaxWidth=o,b=0===b?.75*this.lineHeight:b,w-=b+r,p=0;p<c.length;p++)m=c[p],v=w,"line"!==m.chartType&&"spline"!==m.chartType&&"stepLine"!==m.chartType||(v-=.2*this.lineHeight),0>=s||void 0===s||0>=v||void 0===v||("horizontal"===this.orientation?(m.textBlock=new M(this.ctx,{x:0,y:0,maxWidth:v,maxHeight:this.itemWrap?s:this.lineHeight,angle:0,text:m.text,horizontalAlign:"left",fontSize:this.fontSize,fontFamily:this.fontFamily,fontWeight:this.fontWeight,fontColor:this.fontColor,fontStyle:this.fontStyle,textBaseline:"middle"}),m.textBlock.measureText(),null!==this.itemWidth&&(m.textBlock.width=this.itemWidth-(b+r+("line"===m.chartType||"spline"===m.chartType||"stepLine"===m.chartType?.2*this.lineHeight:0))),(!f||f.width+Math.round(m.textBlock.width+b+r+(0===f.width?0:this.horizontalSpacing)+("line"===m.chartType||"spline"===m.chartType||"stepLine"===m.chartType?.2*this.lineHeight:0))>o)&&(f={items:[],width:0},u.push(f),this.height+=C,C=0),C=Math.max(C,m.textBlock.height)):(m.textBlock=new M(this.ctx,{x:0,y:0,maxWidth:w,maxHeight:!0===this.itemWrap?s:1.5*this.fontSize,angle:0,text:m.text,horizontalAlign:"left",fontSize:this.fontSize,fontFamily:this.fontFamily,fontWeight:this.fontWeight,fontColor:this.fontColor,fontStyle:this.fontStyle,textBaseline:"middle"}),m.textBlock.measureText(),null!==this.itemWidth&&(m.textBlock.width=this.itemWidth-(b+r+("line"===m.chartType||"spline"===m.chartType||"stepLine"===m.chartType?.2*this.lineHeight:0))),this.height<s-this.lineHeight?(f={items:[],width:0},u.push(f)):(f=u[x],x=(x+1)%u.length),this.height+=m.textBlock.height),m.textBlock.x=f.width,m.textBlock.y=0,f.width+=Math.round(m.textBlock.width+b+r+(0===f.width?0:this.horizontalSpacing)+("line"===m.chartType||"spline"===m.chartType||"stepLine"===m.chartType?.2*this.lineHeight:0)),f.items.push(m),this.width=Math.max(f.width,this.width),g=m.textBlock.width+(b+r+("line"===m.chartType||"spline"===m.chartType||"stepLine"===m.chartType?.2*this.lineHeight:0)));this.itemWidth=g,this.height=!1===this.itemWrap?u.length*this.lineHeight:this.height+C,this.height=Math.min(s,this.height),this.width=Math.min(o,this.width)}for("top"===this.verticalAlign?(n="left"===this.horizontalAlign?t.x1:"right"===this.horizontalAlign?t.x2-this.width:t.x1+t.width/2-this.width/2,a=t.y1):"center"===this.verticalAlign?(n="left"===this.horizontalAlign?t.x1:"right"===this.horizontalAlign?t.x2-this.width:t.x1+t.width/2-this.width/2,a=t.y1+t.height/2-this.height/2):"bottom"===this.verticalAlign&&(n="left"===this.horizontalAlign?t.x1:"right"===this.horizontalAlign?t.x2-this.width:t.x1+t.width/2-this.width/2,a=t.y2-this.height),this.items=c,p=0;p<this.items.length;p++)m=c[p],m.id=++this.chart._eventManager.lastObjectId,this.chart._eventManager.objectMap[m.id]={id:m.id,objectType:"legendItem",legendItemIndex:p,dataSeriesIndex:m.dataSeriesIndex,dataPointIndex:m.dataPointIndex};for((0<this.borderThickness&&this.borderColor||this.backgroundColor)&&this.ctx.roundRect(n,a,this.width,this.height,this.cornerRadius,this.borderThickness,this.backgroundColor,this.borderColor),p=t=0;p<u.length;p++){for(f=u[p],w=C=0;w<f.items.length;w++){if(m=f.items[w],v=m.textBlock.x+n+(0===w?.2*b:this.horizontalSpacing),y=a+t,g=v,this.chart.data[m.dataSeriesIndex].visible||(this.ctx.globalAlpha=.5),this.ctx.save(),this.ctx.beginPath(),this.ctx.rect(n,a,o,Math.max(s-s%this.lineHeight,0)),this.ctx.clip(),"line"!==m.chartType&&"stepLine"!==m.chartType&&"spline"!==m.chartType||(this.ctx.strokeStyle=m.lineColor,this.ctx.lineWidth=Math.ceil(this.lineHeight/8),this.ctx.beginPath(),this.ctx.moveTo(v-.1*this.lineHeight,y+this.lineHeight/2),this.ctx.lineTo(v+.85*this.lineHeight,y+this.lineHeight/2),this.ctx.stroke(),g-=.1*this.lineHeight),"error"===m.chartType){this.ctx.strokeStyle=d[0],x=b/8,this.ctx.lineWidth=x,this.ctx.beginPath();var x=v-.08*this.lineHeight+.1*this.lineHeight,k=y+.15*this.lineHeight,S=.7*this.lineHeight,D=S+.02*this.lineHeight;this.ctx.moveTo(x,k),this.ctx.lineTo(x+S,k),this.ctx.stroke(),this.ctx.beginPath(),this.ctx.moveTo(x+S/2,k),this.ctx.lineTo(x+S/2,k+D),this.ctx.stroke(),this.ctx.beginPath(),this.ctx.moveTo(x,k+D),this.ctx.lineTo(x+S,k+D),this.ctx.stroke(),d.shift()}ae.drawMarker(v+b/2,y+this.lineHeight/2,this.ctx,m.markerType,"error"===m.chartType||"line"===m.chartType||"spline"===m.chartType?m.markerSize/2:m.markerSize,m.markerColor,m.markerBorderColor,m.markerBorderThickness),m.textBlock.x=v+r+b,"line"!==m.chartType&&"stepLine"!==m.chartType&&"spline"!==m.chartType||(m.textBlock.x+=.1*this.lineHeight),m.textBlock.y=Math.round(y+this.lineHeight/2),m.textBlock.render(!0),this.ctx.restore(),C=0<w?Math.max(C,m.textBlock.height):m.textBlock.height,this.chart.data[m.dataSeriesIndex].visible||(this.ctx.globalAlpha=1),x=l(m.id),this.ghostCtx.fillStyle=x,this.ghostCtx.beginPath(),this.ghostCtx.fillRect(g,m.textBlock.y-this.lineHeight/2,m.textBlock.x+m.textBlock.width-g,m.textBlock.height),m.x1=this.chart._eventManager.objectMap[m.id].x1=g,m.y1=this.chart._eventManager.objectMap[m.id].y1=m.textBlock.y-this.lineHeight/2,m.x2=this.chart._eventManager.objectMap[m.id].x2=m.textBlock.x+m.textBlock.width,m.y2=this.chart._eventManager.objectMap[m.id].y2=m.textBlock.y+m.textBlock.height-this.lineHeight/2}t+=C}0<c.length&&e.layoutManager.registerSpace(i,{width:this.width+2+2,height:this.height+5+5}),this.bounds={x1:n,y1:a,x2:n+this.width,y2:a+this.height}},e(B,D),B.prototype.getDefaultAxisPlacement=function(){var e=this.type;return"column"===e||"line"===e||"stepLine"===e||"spline"===e||"area"===e||"stepArea"===e||"splineArea"===e||"stackedColumn"===e||"stackedLine"===e||"bubble"===e||"scatter"===e||"stackedArea"===e||"stackedColumn100"===e||"stackedLine100"===e||"stackedArea100"===e||"candlestick"===e||"ohlc"===e||"rangeColumn"===e||"rangeArea"===e||"rangeSplineArea"===e||"boxAndWhisker"===e||"waterfall"===e?"normal":"bar"===e||"stackedBar"===e||"stackedBar100"===e||"rangeBar"===e?"xySwapped":"pie"===e||"doughnut"===e||"funnel"===e||"pyramid"===e?"none":("error"!==e&&void 0,null)},B.getDefaultLegendMarker=function(e){return"column"===e||"stackedColumn"===e||"stackedLine"===e||"bar"===e||"stackedBar"===e||"stackedBar100"===e||"bubble"===e||"scatter"===e||"stackedColumn100"===e||"stackedLine100"===e||"stepArea"===e||"candlestick"===e||"ohlc"===e||"rangeColumn"===e||"rangeBar"===e||"rangeArea"===e||"rangeSplineArea"===e||"boxAndWhisker"===e||"waterfall"===e?"square":"line"===e||"stepLine"===e||"spline"===e||"pie"===e||"doughnut"===e?"circle":"area"===e||"splineArea"===e||"stackedArea"===e||"stackedArea100"===e||"funnel"===e||"pyramid"===e?"triangle":"error"===e?"none":(void 0,null)},B.prototype.getDataPointAtX=function(e,t){if(!this.dataPoints||0===this.dataPoints.length)return null;var i={dataPoint:null,distance:1/0,index:NaN},a=null,n=0,o=0,s=1,r=1/0,l=0,c=0,h=0;for("none"!==this.chart.plotInfo.axisPlacement&&(this.axisX.logarithmic?(h=Math.log(this.dataPoints[this.dataPoints.length-1].x/this.dataPoints[0].x),h=1<h?Math.min(Math.max((this.dataPoints.length-1)/h*Math.log(e/this.dataPoints[0].x)>>0,0),this.dataPoints.length):0):(h=this.dataPoints[this.dataPoints.length-1].x-this.dataPoints[0].x,h=0<h?Math.min(Math.max((this.dataPoints.length-1)/h*(e-this.dataPoints[0].x)>>0,0),this.dataPoints.length):0));;){if(0<=(o=0<s?h+n:h-n)&&o<this.dataPoints.length){var a=this.dataPoints[o],u=this.axisX.logarithmic?a.x>e?a.x/e:e/a.x:Math.abs(a.x-e);if(u<i.distance&&(i.dataPoint=a,i.distance=u,i.index=o),a=u,a<=r?r=a:0<s?l++:c++,1e3<l&&1e3<c)break}else if(0>h-n&&h+n>=this.dataPoints.length)break;-1===s?(n++,s=1):s=-1}return t||i.dataPoint.x!==e?t&&null!==i.dataPoint?i:null:i},B.prototype.getDataPointAtXY=function(e,t,i){if(!this.dataPoints||0===this.dataPoints.length||e<this.chart.plotArea.x1||e>this.chart.plotArea.x2||t<this.chart.plotArea.y1||t>this.chart.plotArea.y2)return null;i=i||!1;var a=[],n=0,o=0,s=1,r=!1,l=1/0,c=0,h=0,u=0;if("none"!==this.chart.plotInfo.axisPlacement)if(u=(this.chart.axisX[0]?this.chart.axisX[0]:this.chart.axisX2[0]).getXValueAt({x:e,y:t}),this.axisX.logarithmic)var d=Math.log(this.dataPoints[this.dataPoints.length-1].x/this.dataPoints[0].x),u=1<d?Math.min(Math.max((this.dataPoints.length-1)/d*Math.log(u/this.dataPoints[0].x)>>0,0),this.dataPoints.length):0;else d=this.dataPoints[this.dataPoints.length-1].x-this.dataPoints[0].x,u=0<d?Math.min(Math.max((this.dataPoints.length-1)/d*(u-this.dataPoints[0].x)>>0,0),this.dataPoints.length):0;for(;;){if(0<=(o=0<s?u+n:u-n)&&o<this.dataPoints.length){var d=this.chart._eventManager.objectMap[this.dataPointIds[o]],p=this.dataPoints[o],f=null;if(d){switch(this.type){case"column":case"stackedColumn":case"stackedColumn100":case"bar":case"stackedBar":case"stackedBar100":case"rangeColumn":case"rangeBar":case"waterfall":case"error":e>=d.x1&&e<=d.x2&&t>=d.y1&&t<=d.y2&&(a.push({dataPoint:p,dataPointIndex:o,dataSeries:this,distance:Math.min(Math.abs(d.x1-e),Math.abs(d.x2-e),Math.abs(d.y1-t),Math.abs(d.y2-t))}),r=!0);break;case"line":case"stepLine":case"spline":case"area":case"stepArea":case"stackedArea":case"stackedArea100":case"splineArea":case"scatter":var m=v("markerSize",p,this)||4,g=i?20:m,f=Math.sqrt(Math.pow(d.x1-e,2)+Math.pow(d.y1-t,2));f<=g&&a.push({dataPoint:p,dataPointIndex:o,dataSeries:this,distance:f}),d=Math.abs(d.x1-e),d<=l?l=d:0<s?c++:h++,f<=m/2&&(r=!0);break;case"rangeArea":case"rangeSplineArea":m=v("markerSize",p,this)||4,g=i?20:m,f=Math.min(Math.sqrt(Math.pow(d.x1-e,2)+Math.pow(d.y1-t,2)),Math.sqrt(Math.pow(d.x1-e,2)+Math.pow(d.y2-t,2))),f<=g&&a.push({dataPoint:p,dataPointIndex:o,dataSeries:this,distance:f}),d=Math.abs(d.x1-e),d<=l?l=d:0<s?c++:h++,f<=m/2&&(r=!0);break;case"bubble":m=d.size,f=Math.sqrt(Math.pow(d.x1-e,2)+Math.pow(d.y1-t,2)),f<=m/2&&(a.push({dataPoint:p,dataPointIndex:o,dataSeries:this,distance:f}),r=!0);break;case"pie":case"doughnut":m=d.center,g="doughnut"===this.type?d.percentInnerRadius*d.radius:0,f=Math.sqrt(Math.pow(m.x-e,2)+Math.pow(m.y-t,2)),f<d.radius&&f>g&&(f=Math.atan2(t-m.y,e-m.x),0>f&&(f+=2*Math.PI),f=Number(((f/Math.PI*180%360+360)%360).toFixed(12)),m=Number(((d.startAngle/Math.PI*180%360+360)%360).toFixed(12)),g=Number(((d.endAngle/Math.PI*180%360+360)%360).toFixed(12)),0===g&&1<d.endAngle&&(g=360),m>=g&&0!==p.y&&(g+=360,f<m&&(f+=360)),f>m&&f<g&&(a.push({dataPoint:p,dataPointIndex:o,dataSeries:this,distance:0}),r=!0));break;case"funnel":case"pyramid":f=d.funnelSection,t>f.y1&&t<f.y4&&(f.y6?t>f.y6?(o=f.x6+(f.x5-f.x6)/(f.y5-f.y6)*(t-f.y6),f=f.x3+(f.x4-f.x3)/(f.y4-f.y3)*(t-f.y3)):(o=f.x1+(f.x6-f.x1)/(f.y6-f.y1)*(t-f.y1),f=f.x2+(f.x3-f.x2)/(f.y3-f.y2)*(t-f.y2)):(o=f.x1+(f.x4-f.x1)/(f.y4-f.y1)*(t-f.y1),f=f.x2+(f.x3-f.x2)/(f.y3-f.y2)*(t-f.y2)),e>o&&e<f&&(a.push({dataPoint:p,dataPointIndex:d.dataPointIndex,dataSeries:this,distance:0}),r=!0));break;case"boxAndWhisker":(e>=d.x1-d.borderThickness/2&&e<=d.x2+d.borderThickness/2&&t>=d.y4-d.borderThickness/2&&t<=d.y1+d.borderThickness/2||Math.abs(d.x2-e+d.x1-e)<d.borderThickness&&t>=d.y1&&t<=d.y4)&&(a.push({dataPoint:p,dataPointIndex:o,dataSeries:this,distance:Math.min(Math.abs(d.x1-e),Math.abs(d.x2-e),Math.abs(d.y2-t),Math.abs(d.y3-t))}),r=!0);break;case"candlestick":(e>=d.x1-d.borderThickness/2&&e<=d.x2+d.borderThickness/2&&t>=d.y2-d.borderThickness/2&&t<=d.y3+d.borderThickness/2||Math.abs(d.x2-e+d.x1-e)<d.borderThickness&&t>=d.y1&&t<=d.y4)&&(a.push({dataPoint:p,dataPointIndex:o,dataSeries:this,distance:Math.min(Math.abs(d.x1-e),Math.abs(d.x2-e),Math.abs(d.y2-t),Math.abs(d.y3-t))}),r=!0);break;case"ohlc":(Math.abs(d.x2-e+d.x1-e)<d.borderThickness&&t>=d.y2&&t<=d.y3||e>=d.x1&&e<=(d.x2+d.x1)/2&&t>=d.y1-d.borderThickness/2&&t<=d.y1+d.borderThickness/2||e>=(d.x1+d.x2)/2&&e<=d.x2&&t>=d.y4-d.borderThickness/2&&t<=d.y4+d.borderThickness/2)&&(a.push({dataPoint:p,dataPointIndex:o,dataSeries:this,distance:Math.min(Math.abs(d.x1-e),Math.abs(d.x2-e),Math.abs(d.y2-t),Math.abs(d.y3-t))}),r=!0)}if(r||1e3<c&&1e3<h)break}}else if(0>u-n&&u+n>=this.dataPoints.length)break;-1===s?(n++,s=1):s=-1}for(e=null,t=0;t<a.length;t++)e?a[t].distance<=e.distance&&(e=a[t]):e=a[t];return e},B.prototype.getMarkerProperties=function(e,t,i,a){var n=this.dataPoints;return{x:t,y:i,ctx:a,type:n[e].markerType?n[e].markerType:this.markerType,size:n[e].markerSize?n[e].markerSize:this.markerSize,color:n[e].markerColor?n[e].markerColor:this.markerColor?this.markerColor:n[e].color?n[e].color:this.color?this.color:this._colorSet[e%this._colorSet.length],borderColor:n[e].markerBorderColor?n[e].markerBorderColor:this.markerBorderColor?this.markerBorderColor:null,borderThickness:n[e].markerBorderThickness?n[e].markerBorderThickness:this.markerBorderThickness?this.markerBorderThickness:null}},e(N,D),N.prototype.createExtraLabelsForLog=function(e){if(!(5<(e=(e||0)+1))){var t=this.logLabelValues[0]||this.intervalStartPosition;if(Math.log(this.range)/Math.log(t/this.viewportMinimum)<this.noTicks-1){for(var i=N.getNiceNumber((t-this.viewportMinimum)/Math.min(Math.max(2,this.noTicks-this.logLabelValues.length),3),!0),a=Math.ceil(this.viewportMinimum/i)*i;a<t;a+=i)a<this.viewportMinimum||this.logLabelValues.push(a);this.logLabelValues.sort(r),this.createExtraLabelsForLog(e)}}},N.prototype.createLabels=function(){var e,t,i,n,o,s=0,r=0,l=0,c=0,r=0,r=this.interval,u=0,d=.6*this.chart.height;e=!1;var p=this.scaleBreaks?this.scaleBreaks._appliedBreaks:[],f=p.length?h(this.scaleBreaks.firstBreakIndex)?0:this.scaleBreaks.firstBreakIndex:0;if("axisX"!==this.type||"dateTime"!==this.valueType||this.logarithmic){if(i=this.viewportMaximum,this.labels){e=Math.ceil(r);for(var r=Math.ceil(this.intervalStartPosition),m=!1,s=r;s<this.viewportMaximum;s+=e){if(!this.labels[s]){m=!1;break}m=!0}m&&(this.interval=e,this.intervalStartPosition=r)}if(this.logarithmic&&!this.equidistantInterval)for(this.logLabelValues||(this.logLabelValues=[],this.createExtraLabelsForLog()),r=0,m=f;r<this.logLabelValues.length;r++)if((s=this.logLabelValues[r])<this.viewportMinimum)r++;else{for(;m<p.length&&s>p[m].endValue;m++);e=m<p.length&&s>=p[m].startValue&&s<=p[m].endValue,o=s,e||(e=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.options,value:o,label:this.labels[o]?this.labels[o]:null}):"axisX"===this.type&&this.labels[o]?this.labels[o]:Z(o,this.valueFormatString,this.chart._cultureInfo),e=new M(this.ctx,{x:0,y:0,maxWidth:l,maxHeight:c,angle:this.labelAngle,text:this.prefix+e+this.suffix,backgroundColor:this.labelBackgroundColor,borderColor:this.labelBorderColor,borderThickness:this.labelBorderThickness,cornerRadius:this.labelCornerRadius,horizontalAlign:"left",fontSize:this.labelFontSize,fontFamily:this.labelFontFamily,fontWeight:this.labelFontWeight,fontColor:this.labelFontColor,fontStyle:this.labelFontStyle,textBaseline:"middle",borderThickness:0}),this._labels.push({position:o,textBlock:e,effectiveHeight:null}))}for(m=f,s=this.intervalStartPosition;s<=i;s=parseFloat(1e-12>this.interval?this.logarithmic&&this.equidistantInterval?s*Math.pow(this.logarithmBase,this.interval):s+this.interval:(this.logarithmic&&this.equidistantInterval?s*Math.pow(this.logarithmBase,this.interval):s+this.interval).toFixed(12))){for(;m<p.length&&s>p[m].endValue;m++);e=m<p.length&&s>=p[m].startValue&&s<=p[m].endValue,o=s,e||(e=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.options,value:o,label:this.labels[o]?this.labels[o]:null}):"axisX"===this.type&&this.labels[o]?this.labels[o]:Z(o,this.valueFormatString,this.chart._cultureInfo),e=new M(this.ctx,{x:0,y:0,maxWidth:l,maxHeight:c,angle:this.labelAngle,text:this.prefix+e+this.suffix,horizontalAlign:"left",backgroundColor:this.labelBackgroundColor,borderColor:this.labelBorderColor,borderThickness:this.labelBorderThickness,cornerRadius:this.labelCornerRadius,fontSize:this.labelFontSize,fontFamily:this.labelFontFamily,fontWeight:this.labelFontWeight,fontColor:this.labelFontColor,fontStyle:this.labelFontStyle,textBaseline:"middle"}),this._labels.push({position:o,textBlock:e,effectiveHeight:null}))}}else for(this.intervalStartPosition=this.getLabelStartPoint(new Date(this.viewportMinimum),this.intervalType,this.interval),i=a(new Date(this.viewportMaximum),this.interval,this.intervalType),m=f,s=this.intervalStartPosition;s<i;a(s,r,this.intervalType)){for(e=s.getTime();m<p.length&&e>p[m].endValue;m++);o=e,e=m<p.length&&e>=p[m].startValue&&e<=p[m].endValue,e||(e=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.options,value:new Date(o),label:this.labels[o]?this.labels[o]:null}):"axisX"===this.type&&this.labels[o]?this.labels[o]:J(o,this.valueFormatString,this.chart._cultureInfo),e=new M(this.ctx,{x:0,y:0,maxWidth:l,backgroundColor:this.labelBackgroundColor,borderColor:this.labelBorderColor,borderThickness:this.labelBorderThickness,cornerRadius:this.labelCornerRadius,maxHeight:c,angle:this.labelAngle,text:this.prefix+e+this.suffix,horizontalAlign:"left",fontSize:this.labelFontSize,fontFamily:this.labelFontFamily,fontWeight:this.labelFontWeight,fontColor:this.labelFontColor,fontStyle:this.labelFontStyle,textBaseline:"middle"}),this._labels.push({position:o,textBlock:e,effectiveHeight:null,breaksLabelType:void 0}))}for("bottom"===this._position||"top"===this._position?(u=this.logarithmic&&!this.equidistantInterval&&2<=this._labels.length?this.lineCoordinates.width*Math.log(Math.min(this._labels[this._labels.length-1].position/this._labels[this._labels.length-2].position,this._labels[1].position/this._labels[0].position))/Math.log(this.range):this.lineCoordinates.width/(this.logarithmic&&this.equidistantInterval?Math.log(this.range)/Math.log(this.logarithmBase):Math.abs(this.range))*q[this.intervalType+"Duration"]*this.interval,l=void 0===this.options.labelMaxWidth?.5*this.chart.width>>0:this.options.labelMaxWidth,this.chart.panEnabled||(c=void 0===this.options.labelWrap||this.labelWrap?.8*this.chart.height>>0:1.5*this.labelFontSize)):"left"!==this._position&&"right"!==this._position||(u=this.logarithmic&&!this.equidistantInterval&&2<=this._labels.length?this.lineCoordinates.height*Math.log(Math.min(this._labels[this._labels.length-1].position/this._labels[this._labels.length-2].position,this._labels[1].position/this._labels[0].position))/Math.log(this.range):this.lineCoordinates.height/(this.logarithmic&&this.equidistantInterval?Math.log(this.range)/Math.log(this.logarithmBase):Math.abs(this.range))*q[this.intervalType+"Duration"]*this.interval,this.chart.panEnabled||(l=void 0===this.options.labelMaxWidth?.3*this.chart.width>>0:this.options.labelMaxWidth),c=void 0===this.options.labelWrap||this.labelWrap?.3*this.chart.height>>0:1.5*this.labelFontSize),r=0;r<this._labels.length;r++){e=this._labels[r].textBlock,e.maxWidth=l,e.maxHeight=c;var g=e.measureText();n=g.height}if(i=[],f=p=0,this.labelAutoFit||this.options.labelAutoFit)if(h(this.labelAngle)||(this.labelAngle=(this.labelAngle%360+360)%360,90<this.labelAngle&&270>this.labelAngle?this.labelAngle-=180:270<=this.labelAngle&&360>=this.labelAngle&&(this.labelAngle-=360)),"bottom"===this._position||"top"===this._position)if(l=.9*u>>0,f=0,!this.chart.panEnabled&&1<=this._labels.length){for(this.sessionVariables.labelFontSize=this.labelFontSize,this.sessionVariables.labelMaxWidth=l,this.sessionVariables.labelMaxHeight=c,this.sessionVariables.labelAngle=this.labelAngle,this.sessionVariables.labelWrap=this.labelWrap,s=0;s<this._labels.length;s++)if(!this._labels[s].breaksLabelType){e=this._labels[s].textBlock;for(var v,m=e.text.split(" "),r=0;r<m.length;r++)o=m[r],this.ctx.font=e.fontStyle+" "+e.fontWeight+" "+e.fontSize+"px "+e.fontFamily,o=this.ctx.measureText(o),o.width>f&&(v=s,f=o.width)}for(s=0,s=this.intervalStartPosition<this.viewportMinimum?1:0;s<this._labels.length;s++)if(!this._labels[s].breaksLabelType){for(e=this._labels[s].textBlock,g=e.measureText(),m=s+1;m<this._labels.length;m++)if(!this._labels[m].breaksLabelType){t=this._labels[m].textBlock,t=t.measureText();break}if(i.push(e.height),this.sessionVariables.labelMaxHeight=Math.max.apply(Math,i),Math.cos(Math.PI/180*Math.abs(this.labelAngle)),Math.sin(Math.PI/180*Math.abs(this.labelAngle)),r=l*Math.sin(Math.PI/180*Math.abs(this.labelAngle))+(c-e.fontSize/2)*Math.cos(Math.PI/180*Math.abs(this.labelAngle)),h(this.options.labelAngle)&&isNaN(this.options.labelAngle)&&0!==this.options.labelAngle)if(this.sessionVariables.labelMaxHeight=0===this.labelAngle?c:Math.min((r-l*Math.cos(Math.PI/180*Math.abs(this.labelAngle)))/Math.sin(Math.PI/180*Math.abs(this.labelAngle)),r),o=(d-(n+e.fontSize/2)*Math.cos(Math.PI/180*Math.abs(-25)))/Math.sin(Math.PI/180*Math.abs(-25)),h(this.options.labelWrap)){if(h(this.options.labelWrap))if(h(this.options.labelMaxWidth)){if(!h(t))if(r=g.width+t.width>>0,m=this.labelFontSize,f<l)r-2*l>p&&(p=r-2*l,r>=2*l&&r<2.2*l?(this.sessionVariables.labelMaxWidth=l,h(this.options.labelFontSize)&&12<m&&(m=Math.floor(12/13*m),e.measureText()),this.sessionVariables.labelFontSize=h(this.options.labelFontSize)?m:this.options.labelFontSize,this.sessionVariables.labelAngle=this.labelAngle):r>=2.2*l&&r<2.8*l?(this.sessionVariables.labelAngle=-25,this.sessionVariables.labelMaxWidth=o,this.sessionVariables.labelFontSize=m):r>=2.8*l&&r<3.2*l?(this.sessionVariables.labelMaxWidth=Math.max(l,f),this.sessionVariables.labelWrap=!0,h(this.options.labelFontSize)&&12<this.labelFontSize&&(this.labelFontSize=Math.floor(12/13*this.labelFontSize),e.measureText()),this.sessionVariables.labelFontSize=h(this.options.labelFontSize)?m:this.options.labelFontSize,this.sessionVariables.labelAngle=this.labelAngle):r>=3.2*l&&r<3.6*l?(this.sessionVariables.labelAngle=-25,this.sessionVariables.labelWrap=!0,this.sessionVariables.labelMaxWidth=o,this.sessionVariables.labelFontSize=this.labelFontSize):r>3.6*l&&r<5*l?(h(this.options.labelFontSize)&&12<m&&(m=Math.floor(12/13*m),e.measureText()),this.sessionVariables.labelFontSize=h(this.options.labelFontSize)?m:this.options.labelFontSize,this.sessionVariables.labelWrap=!0,this.sessionVariables.labelAngle=-25,this.sessionVariables.labelMaxWidth=o):r>5*l&&(this.sessionVariables.labelWrap=!0,this.sessionVariables.labelMaxWidth=l,this.sessionVariables.labelFontSize=m,this.sessionVariables.labelMaxHeight=c,this.sessionVariables.labelAngle=this.labelAngle));else if(v===s&&(0===v&&f+this._labels[v+1].textBlock.measureText().width-2*l>p||v===this._labels.length-1&&f+this._labels[v-1].textBlock.measureText().width-2*l>p||0<v&&v<this._labels.length-1&&f+this._labels[v+1].textBlock.measureText().width-2*l>p&&f+this._labels[v-1].textBlock.measureText().width-2*l>p))p=0===v?f+this._labels[v+1].textBlock.measureText().width-2*l:f+this._labels[v-1].textBlock.measureText().width-2*l,this.sessionVariables.labelFontSize=h(this.options.labelFontSize)?m:this.options.labelFontSize,this.sessionVariables.labelWrap=!0,this.sessionVariables.labelAngle=-25,this.sessionVariables.labelMaxWidth=o;else if(0===p)for(this.sessionVariables.labelFontSize=h(this.options.labelFontSize)?m:this.options.labelFontSize,this.sessionVariables.labelWrap=!0,r=0;r<this._labels.length;r++)e=this._labels[r].textBlock,e.maxWidth=this.sessionVariables.labelMaxWidth=Math.min(Math.max(l,f),o),g=e.measureText(),r<this._labels.length-1&&(m=r+1,t=this._labels[m].textBlock,t.maxWidth=this.sessionVariables.labelMaxWidth=Math.min(Math.max(l,f),o),t=t.measureText(),g.width+t.width>>0>2*l&&(this.sessionVariables.labelAngle=-25))}else this.options.labelMaxWidth<l?(this.sessionVariables.labelMaxWidth=this.options.labelMaxWidth,this.sessionVariables.labelMaxHeight=r):(this.sessionVariables.labelAngle=-25,this.sessionVariables.labelMaxWidth=this.options.labelMaxWidth,this.sessionVariables.labelMaxHeight=c)}else this.labelWrap?h(this.options.labelMaxWidth)?(this.sessionVariables.labelMaxWidth=Math.min(Math.max(l,f),o),this.sessionVariables.labelWrap=this.labelWrap,g.width+t.width>>0>2*l&&(this.sessionVariables.labelAngle=-25)):(this.sessionVariables.labelWrap=this.labelWrap,this.sessionVariables.labelMaxWidth=this.options.labelMaxWidth,this.sessionVariables.labelAngle=this.sessionVariables.labelMaxWidth>l?-25:this.sessionVariables.labelAngle):h(this.options.labelMaxWidth)?(this.sessionVariables.labelWrap=this.labelWrap,this.sessionVariables.labelMaxHeight=c,this.sessionVariables.labelMaxWidth=l,g.width+t.width>>0>2*l&&(this.sessionVariables.labelAngle=-25,this.sessionVariables.labelMaxWidth=o)):(this.sessionVariables.labelAngle=this.sessionVariables.labelMaxWidth>l?-25:this.sessionVariables.labelAngle,this.sessionVariables.labelMaxWidth=this.options.labelMaxWidth,this.sessionVariables.labelMaxHeight=c,this.sessionVariables.labelWrap=this.labelWrap);else this.sessionVariables.labelAngle=this.labelAngle,
this.sessionVariables.labelMaxHeight=0===this.labelAngle?c:Math.min((r-l*Math.cos(Math.PI/180*Math.abs(this.labelAngle)))/Math.sin(Math.PI/180*Math.abs(this.labelAngle)),r),o=0!=this.labelAngle?(d-(n+e.fontSize/2)*Math.cos(Math.PI/180*Math.abs(this.labelAngle)))/Math.sin(Math.PI/180*Math.abs(this.labelAngle)):l,this.sessionVariables.labelMaxHeight=c=this.labelWrap?(d-o*Math.sin(Math.PI/180*Math.abs(this.labelAngle)))/Math.cos(Math.PI/180*Math.abs(this.labelAngle)):1.5*this.labelFontSize,h(this.options.labelWrap)?h(this.options.labelWrap)&&(this.labelWrap&&!h(this.options.labelMaxWidth)?(this.sessionVariables.labelWrap=this.labelWrap,this.sessionVariables.labelMaxWidth=this.options.labelMaxWidth?this.options.labelMaxWidth:o,this.sessionVariables.labelMaxHeight=c):(this.sessionVariables.labelAngle=this.labelAngle,this.sessionVariables.labelMaxWidth=o,this.sessionVariables.labelMaxHeight=r<.9*u?.9*u:r,this.sessionVariables.labelWrap=this.labelWrap)):(this.options.labelWrap?(this.sessionVariables.labelWrap=this.labelWrap,this.sessionVariables.labelMaxWidth=this.options.labelMaxWidth?this.options.labelMaxWidth:o):(h(this.options.labelMaxWidth),this.sessionVariables.labelMaxWidth=this.options.labelMaxWidth?this.options.labelMaxWidth:o,this.sessionVariables.labelWrap=this.labelWrap),this.sessionVariables.labelMaxHeight=c)}for(r=0;r<this._labels.length;r++)e=this._labels[r].textBlock,e.maxWidth=this.labelMaxWidth=this.sessionVariables.labelMaxWidth,e.fontSize=this.sessionVariables.labelFontSize,e.angle=this.labelAngle=this.sessionVariables.labelAngle,e.wrap=this.labelWrap=this.sessionVariables.labelWrap,e.maxHeight=this.sessionVariables.labelMaxHeight,e.measureText()}else for(s=0;s<this._labels.length;s++)e=this._labels[s].textBlock,e.maxWidth=this.labelMaxWidth=h(this.options.labelMaxWidth)?this.sessionVariables.labelMaxWidth:this.options.labelMaxWidth,e.fontSize=this.labelFontSize=h(this.options.labelFontSize)?this.sessionVariables.labelFontSize:this.options.labelFontSize,e.angle=this.labelAngle=h(this.options.labelAngle)?this.sessionVariables.labelAngle:this.labelAngle,e.wrap=this.labelWrap=h(this.options.labelWrap)?this.sessionVariables.labelWrap:this.options.labelWrap,e.maxHeight=this.sessionVariables.labelMaxHeight,e.measureText();else if("left"===this._position||"right"===this._position)if(l=h(this.options.labelMaxWidth)?.3*this.chart.width>>0:this.options.labelMaxWidth,c=void 0===this.options.labelWrap||this.labelWrap?.3*this.chart.height>>0:1.5*this.labelFontSize,!this.chart.panEnabled&&1<=this._labels.length){for(this.sessionVariables.labelFontSize=this.labelFontSize,this.sessionVariables.labelMaxWidth=l,this.sessionVariables.labelMaxHeight=c,this.sessionVariables.labelAngle=h(this.sessionVariables.labelAngle)?0:this.sessionVariables.labelAngle,this.sessionVariables.labelWrap=this.labelWrap,s=0;s<this._labels.length;s++)if(!this._labels[s].breaksLabelType){for(e=this._labels[s].textBlock,g=e.measureText(),m=s+1;m<this._labels.length;m++)if(!this._labels[m].breaksLabelType){t=this._labels[m].textBlock,t=t.measureText();break}i.push(e.height),this.sessionVariables.labelMaxHeight=Math.max.apply(Math,i),r=l*Math.sin(Math.PI/180*Math.abs(this.labelAngle))+(c-e.fontSize/2)*Math.cos(Math.PI/180*Math.abs(this.labelAngle)),Math.cos(Math.PI/180*Math.abs(this.labelAngle)),Math.sin(Math.PI/180*Math.abs(this.labelAngle)),h(this.options.labelAngle)&&isNaN(this.options.labelAngle)&&0!==this.options.labelAngle?h(this.options.labelWrap)?h(this.options.labelWrap)&&(h(this.options.labelMaxWidth)?h(t)||(u=g.height+t.height>>0)-2*c>f&&(f=u-2*c,u>=2*c&&u<2.4*c?(h(this.options.labelFontSize)&&12<this.labelFontSize&&(this.labelFontSize=Math.floor(12/13*this.labelFontSize),e.measureText()),this.sessionVariables.labelMaxHeight=c,this.sessionVariables.labelFontSize=h(this.options.labelFontSize)?this.labelFontSize:this.options.labelFontSize):u>=2.4*c&&u<2.8*c?(this.sessionVariables.labelMaxHeight=r,this.sessionVariables.labelFontSize=this.labelFontSize,this.sessionVariables.labelWrap=!0):u>=2.8*c&&u<3.2*c?(this.sessionVariables.labelMaxHeight=c,this.sessionVariables.labelWrap=!0,h(this.options.labelFontSize)&&12<this.labelFontSize&&(this.labelFontSize=Math.floor(12/13*this.labelFontSize),e.measureText()),this.sessionVariables.labelFontSize=h(this.options.labelFontSize)?this.labelFontSize:this.options.labelFontSize,this.sessionVariables.labelAngle=h(this.sessionVariables.labelAngle)?0:this.sessionVariables.labelAngle):u>=3.2*c&&u<3.6*c?(this.sessionVariables.labelMaxHeight=r,this.sessionVariables.labelWrap=!0,this.sessionVariables.labelFontSize=this.labelFontSize):u>3.6*c&&u<10*c?(h(this.options.labelFontSize)&&12<this.labelFontSize&&(this.labelFontSize=Math.floor(12/13*this.labelFontSize),e.measureText()),this.sessionVariables.labelFontSize=h(this.options.labelFontSize)?this.labelFontSize:this.options.labelFontSize,this.sessionVariables.labelMaxWidth=l,this.sessionVariables.labelMaxHeight=c,this.sessionVariables.labelAngle=h(this.sessionVariables.labelAngle)?0:this.sessionVariables.labelAngle):u>10*c&&u<50*c&&(h(this.options.labelFontSize)&&12<this.labelFontSize&&(this.labelFontSize=Math.floor(12/13*this.labelFontSize),e.measureText()),this.sessionVariables.labelFontSize=h(this.options.labelFontSize)?this.labelFontSize:this.options.labelFontSize,this.sessionVariables.labelMaxHeight=c,this.sessionVariables.labelMaxWidth=l,this.sessionVariables.labelAngle=h(this.sessionVariables.labelAngle)?0:this.sessionVariables.labelAngle)):(this.sessionVariables.labelMaxHeight=c,this.sessionVariables.labelMaxWidth=this.options.labelMaxWidth?this.options.labelMaxWidth:this.sessionVariables.labelMaxWidth)):(this.sessionVariables.labelMaxWidth=this.labelWrap?this.options.labelMaxWidth?this.options.labelMaxWidth:this.sessionVariables.labelMaxWidth:this.labelMaxWidth?this.options.labelMaxWidth?this.options.labelMaxWidth:this.sessionVariables.labelMaxWidth:l,this.sessionVariables.labelMaxHeight=c):(this.sessionVariables.labelAngle=this.labelAngle,this.sessionVariables.labelMaxWidth=0===this.labelAngle?l:Math.min((r-c*Math.sin(Math.PI/180*Math.abs(this.labelAngle)))/Math.cos(Math.PI/180*Math.abs(this.labelAngle)),c),h(this.options.labelWrap)?h(this.options.labelWrap)&&(this.labelWrap&&!h(this.options.labelMaxWidth)?(this.sessionVariables.labelMaxWidth=this.options.labelMaxWidth?this.options.labelMaxWidth>this.options.labelMaxWidth:this.sessionVariables.labelMaxWidth,this.sessionVariables.labelWrap=this.labelWrap,this.sessionVariables.labelMaxHeight=r):(this.sessionVariables.labelMaxWidth=this.options.labelMaxWidth?this.options.labelMaxWidth:l,this.sessionVariables.labelMaxHeight=0===this.labelAngle?c:r,h(this.options.labelMaxWidth)&&(this.sessionVariables.labelAngle=this.labelAngle))):this.options.labelWrap?(this.sessionVariables.labelMaxHeight=0===this.labelAngle?c:r,this.sessionVariables.labelWrap=this.labelWrap,this.sessionVariables.labelMaxWidth=l):(this.sessionVariables.labelMaxHeight=c,h(this.options.labelMaxWidth),this.sessionVariables.labelMaxWidth=this.options.labelMaxWidth?this.options.labelMaxWidth:this.sessionVariables.labelMaxWidth,this.sessionVariables.labelWrap=this.labelWrap))}for(r=0;r<this._labels.length;r++)e=this._labels[r].textBlock,e.maxWidth=this.labelMaxWidth=this.sessionVariables.labelMaxWidth,e.fontSize=this.labelFontSize=this.sessionVariables.labelFontSize,e.angle=this.labelAngle=this.sessionVariables.labelAngle,e.wrap=this.labelWrap=this.sessionVariables.labelWrap,e.maxHeight=this.sessionVariables.labelMaxHeight,e.measureText()}else for(s=0;s<this._labels.length;s++)e=this._labels[s].textBlock,e.maxWidth=this.labelMaxWidth=h(this.options.labelMaxWidth)?this.sessionVariables.labelMaxWidth:this.options.labelMaxWidth,e.fontSize=this.labelFontSize=h(this.options.labelFontSize)?this.sessionVariables.labelFontSize:this.options.labelFontSize,e.angle=this.labelAngle=h(this.options.labelAngle)?this.sessionVariables.labelAngle:this.labelAngle,e.wrap=this.labelWrap=h(this.options.labelWrap)?this.sessionVariables.labelWrap:this.options.labelWrap,e.maxHeight=this.sessionVariables.labelMaxHeight,e.measureText();for(s=0;s<this.stripLines.length;s++){var b,l=this.stripLines[s];"outside"===l.labelPlacement?(c=this.sessionVariables.labelMaxWidth,"bottom"!==this._position&&"top"!==this._position||(b=h(l.options.labelWrap)?this.sessionVariables.labelMaxHeight:l.labelWrap?.8*this.chart.height>>0:1.5*this.labelFontSize),"left"!==this._position&&"right"!==this._position||(b=h(l.options.labelWrap)?this.sessionVariables.labelMaxHeight:l.labelWrap?.8*this.chart.width>>0:1.5*this.labelFontSize),h(l.labelBackgroundColor)&&(l.labelBackgroundColor="#EEEEEE")):(c="bottom"===this._position||"top"===this._position?.9*this.chart.width>>0:.9*this.chart.height>>0,b=h(l.options.labelWrap)||l.labelWrap?"bottom"===this._position||"top"===this._position?.8*this.chart.width>>0:.8*this.chart.height>>0:1.5*this.labelFontSize,h(l.labelBackgroundColor)&&(h(l.startValue)&&0!==l.startValue?l.labelBackgroundColor=O?"transparent":null:l.labelBackgroundColor="#EEEEEE")),e=new M(this.ctx,{x:0,y:0,backgroundColor:l.labelBackgroundColor,borderColor:l.labelBorderColor,borderThickness:l.labelBorderThickness,cornerRadius:l.labelCornerRadius,maxWidth:l.options.labelMaxWidth?l.options.labelMaxWidth:c,maxHeight:b,angle:this.labelAngle,text:l.labelFormatter?l.labelFormatter({chart:this.chart,axis:this,stripLine:l}):l.label,horizontalAlign:"left",fontSize:"outside"===l.labelPlacement?l.options.labelFontSize?l.labelFontSize:this.labelFontSize:l.labelFontSize,fontFamily:"outside"===l.labelPlacement?l.options.labelFontFamily?l.labelFontFamily:this.labelFontFamily:l.labelFontFamily,fontWeight:"outside"===l.labelPlacement?l.options.labelFontWeight?l.labelFontWeight:this.labelFontWeight:l.labelFontWeight,fontColor:l.labelFontColor||l.color,fontStyle:"outside"===l.labelPlacement?l.options.labelFontStyle?l.labelFontStyle:this.fontWeight:l.labelFontStyle,textBaseline:"middle"}),this._stripLineLabels.push({position:l.value,textBlock:e,effectiveHeight:null,stripLine:l})}},N.prototype.createLabelsAndCalculateWidth=function(){var e=0,t=0;if(this._labels=[],this._stripLineLabels=[],"left"===this._position||"right"===this._position){for(this.createLabels(),t=0;t<this._labels.length;t++){var i=this._labels[t].textBlock,a=i.measureText(),n=0,n=0===this.labelAngle?a.width:a.width*Math.cos(Math.PI/180*Math.abs(this.labelAngle))+(a.height-i.fontSize/2)*Math.sin(Math.PI/180*Math.abs(this.labelAngle));e<n&&(e=n),this._labels[t].effectiveWidth=n}for(t=0;t<this._stripLineLabels.length;t++)"outside"===this._stripLineLabels[t].stripLine.labelPlacement&&this._stripLineLabels[t].stripLine.value>=this.viewportMinimum&&this._stripLineLabels[t].stripLine.value<=this.viewportMaximum&&(i=this._stripLineLabels[t].textBlock,a=i.measureText(),n=0===this.labelAngle?a.width:a.width*Math.cos(Math.PI/180*Math.abs(this.labelAngle))+(a.height-i.fontSize/2)*Math.sin(Math.PI/180*Math.abs(this.labelAngle)),e<n&&(e=n),this._stripLineLabels[t].effectiveWidth=n)}return t=this.title?this._titleTextBlock.measureText().height+2:0,i="inside"===this.labelPlacement?i=t+5:t+e+this.tickLength+5},N.prototype.createLabelsAndCalculateHeight=function(){var e=0;this._labels=[],this._stripLineLabels=[];var t,i=0;if(this.createLabels(),"bottom"===this._position||"top"===this._position){for(i=0;i<this._labels.length;i++){t=this._labels[i].textBlock;var a=t.measureText(),n=0,n=0===this.labelAngle?a.height:a.width*Math.sin(Math.PI/180*Math.abs(this.labelAngle))+(a.height-t.fontSize/2)*Math.cos(Math.PI/180*Math.abs(this.labelAngle));e<n&&(e=n),this._labels[i].effectiveHeight=n}for(i=0;i<this._stripLineLabels.length;i++)"outside"===this._stripLineLabels[i].stripLine.labelPlacement&&this._stripLineLabels[i].stripLine.value>=this.viewportMinimum&&this._stripLineLabels[i].stripLine.value<=this.viewportMaximum&&(t=this._stripLineLabels[i].textBlock,a=t.measureText(),n=0===this.labelAngle?a.height:a.width*Math.sin(Math.PI/180*Math.abs(this.labelAngle))+(a.height-t.fontSize/2)*Math.cos(Math.PI/180*Math.abs(this.labelAngle)),e<n&&(e=n),this._stripLineLabels[i].effectiveHeight=n)}return t=this.title?this._titleTextBlock.measureText().height+2:0,i="inside"===this.labelPlacement?i=t+5:t+e+this.tickLength+5},N.setLayoutAndRender=function(e,t,i,a,n,o){var s,r,l,c,u=e[0]?e[0].chart:t[0].chart,d=u.ctx,p=u._axes;if(e&&0<e.length)for(var f=0;f<e.length;f++)e[f]&&e[f].calculateAxisParameters();if(t&&0<t.length)for(f=0;f<t.length;f++)t[f].calculateAxisParameters();if(i&&0<i.length)for(f=0;f<i.length;f++)i[f].calculateAxisParameters();if(a&&0<a.length)for(f=0;f<a.length;f++)a[f].calculateAxisParameters();for(f=0;f<p.length;f++)if(p[f]&&p[f].scaleBreaks&&p[f].scaleBreaks._appliedBreaks.length)for(var m=p[f].scaleBreaks._appliedBreaks,g=0;g<m.length&&!(m[g].startValue>p[f].viewportMaximum);g++)m[g].endValue<p[f].viewportMinimum||(h(p[f].scaleBreaks.firstBreakIndex)&&(p[f].scaleBreaks.firstBreakIndex=g),m[g].startValue>=p[f].viewPortMinimum&&(p[f].scaleBreaks.lastBreakIndex=g));for(var v,b,y,x,C,w=g=0,k=0,S=0,D=0,T=0,P=0,$=r=0,m=y=x=C=!1,f=0;f<p.length;f++)p[f]&&p[f].title&&(p[f]._titleTextBlock=new M(p[f].ctx,{text:p[f].title,horizontalAlign:"center",fontSize:p[f].titleFontSize,fontFamily:p[f].titleFontFamily,fontWeight:p[f].titleFontWeight,fontColor:p[f].titleFontColor,fontStyle:p[f].titleFontStyle,borderColor:p[f].titleBorderColor,borderThickness:p[f].titleBorderThickness,backgroundColor:p[f].titleBackgroundColor,cornerRadius:p[f].titleCornerRadius,textBaseline:"top"}));for(f=0;f<p.length;f++)if(p[f].title)switch(p[f]._position){case"left":p[f]._titleTextBlock.maxWidth=p[f].titleMaxWidth||o.height,p[f]._titleTextBlock.maxHeight=p[f].titleWrap?.8*o.width:1.5*p[f].titleFontSize,p[f]._titleTextBlock.angle=-90;break;case"right":p[f]._titleTextBlock.maxWidth=p[f].titleMaxWidth||o.height,p[f]._titleTextBlock.maxHeight=p[f].titleWrap?.8*o.width:1.5*p[f].titleFontSize,p[f]._titleTextBlock.angle=90;break;default:p[f]._titleTextBlock.maxWidth=p[f].titleMaxWidth||o.width,p[f]._titleTextBlock.maxHeight=p[f].titleWrap?.8*o.height:1.5*p[f].titleFontSize,p[f]._titleTextBlock.angle=0}if("normal"===n){for(var S=[],D=[],T=[],P=[],_=[],A=[],I=[],F=[];4>g;){var E=0,L=0,B=0,R=0,N=n=0,V=0,W=0,z=0,Y=0,H=0,U=0;if(i&&0<i.length)for(T=[],f=H=0;f<i.length;f++)T.push(Math.ceil(i[f]?i[f].createLabelsAndCalculateWidth():0)),H+=T[f],V+=i[f]?i[f].margin:0;else T.push(Math.ceil(i[0]?i[0].createLabelsAndCalculateWidth():0));if(I.push(T),a&&0<a.length)for(P=[],f=U=0;f<a.length;f++)P.push(Math.ceil(a[f]?a[f].createLabelsAndCalculateWidth():0)),U+=P[f],W+=a[f]?a[f].margin:0;else P.push(Math.ceil(a[0]?a[0].createLabelsAndCalculateWidth():0));if(F.push(P),s=Math.round(o.x1+H+V),l=Math.round(o.x2-U-W>u.width-10?u.width-10:o.x2-U-W),e&&0<e.length)for(S=[],f=z=0;f<e.length;f++)e[f]&&(e[f].lineCoordinates={}),e[f].lineCoordinates.width=Math.abs(l-s),e[f].title&&(e[f]._titleTextBlock.maxWidth=0<e[f].titleMaxWidth&&e[f].titleMaxWidth<e[f].lineCoordinates.width?e[f].titleMaxWidth:e[f].lineCoordinates.width),S.push(Math.ceil(e[f]?e[f].createLabelsAndCalculateHeight():0)),z+=S[f],n+=e[f]?e[f].margin:0;else S.push(Math.ceil(e[0]?e[0].createLabelsAndCalculateHeight():0));if(_.push(S),t&&0<t.length)for(D=[],f=Y=0;f<t.length;f++)t[f]&&(t[f].lineCoordinates={}),t[f].lineCoordinates.width=Math.abs(l-s),t[f].title&&(t[f]._titleTextBlock.maxWidth=0<t[f].titleMaxWidth&&t[f].titleMaxWidth<t[f].lineCoordinates.width?t[f].titleMaxWidth:t[f].lineCoordinates.width),D.push(Math.ceil(t[f]?t[f].createLabelsAndCalculateHeight():0)),Y+=D[f],N+=t[f]?t[f].margin:0;else D.push(Math.ceil(t[0]?t[0].createLabelsAndCalculateHeight():0));if(A.push(D),e&&0<e.length)for(f=0;f<e.length;f++)e[f]&&(e[f].lineCoordinates.x1=s,l=Math.round(o.x2-U-W>u.width-10?u.width-10:o.x2-U-W),e[f]._labels&&1<e[f]._labels.length&&(r=c=0,c=e[f]._labels[1],r="dateTime"===e[f].valueType?e[f]._labels[e[f]._labels.length-2]:e[f]._labels[e[f]._labels.length-1],w=c.textBlock.width*Math.cos(Math.PI/180*Math.abs(c.textBlock.angle))+(c.textBlock.height-r.textBlock.fontSize/2)*Math.sin(Math.PI/180*Math.abs(c.textBlock.angle)),k=r.textBlock.width*Math.cos(Math.PI/180*Math.abs(r.textBlock.angle))+(r.textBlock.height-r.textBlock.fontSize/2)*Math.sin(Math.PI/180*Math.abs(r.textBlock.angle))),e[f]&&e[f].labelAutoFit&&!h(v)&&!h(b)&&(r=0,0<e[f].labelAngle?b+k>l&&(r+=0<e[f].labelAngle?b+k-l-U:0):0>e[f].labelAngle?v-w<s&&v-w<e[f].viewportMinimum&&($=s-(V+e[f].tickLength+T+v-w+e[f].labelFontSize/2)):0===e[f].labelAngle&&(b+k>l&&(r=b+k/2-l-U),v-w<s&&v-w<e[f].viewportMinimum&&($=s-V-e[f].tickLength-T-v+w/2)),e[f].viewportMaximum===e[f].maximum&&e[f].viewportMinimum===e[f].minimum&&0<e[f].labelAngle&&0<r?l-=r:e[f].viewportMaximum===e[f].maximum&&e[f].viewportMinimum===e[f].minimum&&0>e[f].labelAngle&&0<$?s+=$:e[f].viewportMaximum===e[f].maximum&&e[f].viewportMinimum===e[f].minimum&&0===e[f].labelAngle&&(0<$&&(s+=$),0<r&&(l-=r))),u.panEnabled?z=u.sessionVariables.axisX.height:u.sessionVariables.axisX.height=z,r=Math.round(o.y2-z-n+E),c=Math.round(o.y2),e[f].lineCoordinates.x2=l,e[f].lineCoordinates.width=l-s,e[f].lineCoordinates.y1=r,e[f].lineCoordinates.y2=r,e[f].bounds={x1:s,y1:r,x2:l,y2:c-(z+n-S[f]-E),width:l-s,height:c-r}),E+=S[f]+e[f].margin;if(t&&0<t.length)for(f=0;f<t.length;f++)t[f].lineCoordinates.x1=Math.round(o.x1+H+V),t[f].lineCoordinates.x2=Math.round(o.x2-U-W>u.width-10?u.width-10:o.x2-U-W),t[f].lineCoordinates.width=Math.abs(l-s),t[f]._labels&&1<t[f]._labels.length&&(c=t[f]._labels[1],r="dateTime"===t[f].valueType?t[f]._labels[t[f]._labels.length-2]:t[f]._labels[t[f]._labels.length-1],w=c.textBlock.width*Math.cos(Math.PI/180*Math.abs(c.textBlock.angle))+(c.textBlock.height-r.textBlock.fontSize/2)*Math.sin(Math.PI/180*Math.abs(c.textBlock.angle)),k=r.textBlock.width*Math.cos(Math.PI/180*Math.abs(r.textBlock.angle))+(r.textBlock.height-r.textBlock.fontSize/2)*Math.sin(Math.PI/180*Math.abs(r.textBlock.angle))),u.panEnabled?Y=u.sessionVariables.axisX2.height:u.sessionVariables.axisX2.height=Y,r=Math.round(o.y1),c=Math.round(o.y2+t[f].margin),t[f].lineCoordinates.y1=r+Y+N-L,t[f].lineCoordinates.y2=r,t[f].bounds={x1:s,y1:r+(Y+N-D[f]-L),x2:l,y2:c,width:l-s,height:c-r},L+=D[f]+t[f].margin;if(i&&0<i.length)for(f=0;f<i.length;f++)V=10,i[f]&&(s=Math.round(e[0]?e[0].lineCoordinates.x1:t[0].lineCoordinates.x1),V=i[f]._labels&&0<i[f]._labels.length?i[f]._labels[i[f]._labels.length-1].textBlock.height/2:10,r=Math.round(o.y1+Y+N<Math.max(V,10)?Math.max(V,10):o.y1+Y+N),l=Math.round(e[0]?e[0].lineCoordinates.x1:t[0].lineCoordinates.x1),V=0<e.length?0:i[f]._labels&&0<i[f]._labels.length?i[f]._labels[0].textBlock.height/2:10,c=Math.round(o.y2-z-n-V),i[f].lineCoordinates={x1:l-B,y1:r,x2:l-B,y2:c,height:Math.abs(c-r)},i[f].bounds={x1:s-(T[f]+B),y1:r,x2:l,y2:c,width:l-s,height:c-r},i[f].title&&(i[f]._titleTextBlock.maxWidth=0<i[f].titleMaxWidth&&i[f].titleMaxWidth<i[f].lineCoordinates.height?i[f].titleMaxWidth:i[f].lineCoordinates.height),B+=T[f]+i[f].margin);if(a&&0<a.length)for(f=0;f<a.length;f++)a[f]&&(s=Math.round(e[0]?e[0].lineCoordinates.x2:t[0].lineCoordinates.x2),l=Math.round(s),V=a[f]._labels&&0<a[f]._labels.length?a[f]._labels[a[f]._labels.length-1].textBlock.height/2:0,r=Math.round(o.y1+Y+N<Math.max(V,10)?Math.max(V,10):o.y1+Y+N),V=0<e.length?0:a[f]._labels&&0<a[f]._labels.length?a[f]._labels[0].textBlock.height/2:0,c=Math.round(o.y2-(z+n+V)),a[f].lineCoordinates={x1:s+R,y1:r,x2:s+R,y2:c,height:Math.abs(c-r)},a[f].bounds={x1:s,y1:r,x2:l+(P[f]+R),y2:c,width:l-s,height:c-r},a[f].title&&(a[f]._titleTextBlock.maxWidth=0<a[f].titleMaxWidth&&a[f].titleMaxWidth<a[f].lineCoordinates.height?a[f].titleMaxWidth:a[f].lineCoordinates.height),R+=P[f]+a[f].margin);if(e&&0<e.length)for(f=0;f<e.length;f++)e[f]&&(e[f].calculateValueToPixelConversionParameters(),e[f].calculateBreaksSizeInValues(),e[f]._labels&&1<e[f]._labels.length&&(v=(e[f].logarithmic?Math.log(e[f]._labels[1].position/e[f].viewportMinimum)/e[f].conversionParameters.lnLogarithmBase:e[f]._labels[1].position-e[f].viewportMinimum)*Math.abs(e[f].conversionParameters.pixelPerUnit)+e[f].lineCoordinates.x1,s=e[f]._labels[e[f]._labels.length-("dateTime"===e[f].valueType?2:1)].position,s=e[f].getApparentDifference(e[f].viewportMinimum,s),b=e[f].logarithmic?(1<s?Math.log(s)/e[f].conversionParameters.lnLogarithmBase*Math.abs(e[f].conversionParameters.pixelPerUnit):0)+e[f].lineCoordinates.x1:(0<s?s*Math.abs(e[f].conversionParameters.pixelPerUnit):0)+e[f].lineCoordinates.x1));if(t&&0<t.length)for(f=0;f<t.length;f++)t[f].calculateValueToPixelConversionParameters(),t[f].calculateBreaksSizeInValues(),t[f]._labels&&1<t[f]._labels.length&&(v=(t[f].logarithmic?Math.log(t[f]._labels[1].position/t[f].viewportMinimum)/t[f].conversionParameters.lnLogarithmBase:t[f]._labels[1].position-t[f].viewportMinimum)*Math.abs(t[f].conversionParameters.pixelPerUnit)+t[f].lineCoordinates.x1,s=t[f]._labels[t[f]._labels.length-("dateTime"===t[f].valueType?2:1)].position,s=t[f].getApparentDifference(t[f].viewportMinimum,s),b=t[f].logarithmic?(1<s?Math.log(s)/t[f].conversionParameters.lnLogarithmBase*Math.abs(t[f].conversionParameters.pixelPerUnit):0)+t[f].lineCoordinates.x1:(0<s?s*Math.abs(t[f].conversionParameters.pixelPerUnit):0)+t[f].lineCoordinates.x1);for(f=0;f<p.length;f++)"axisY"===p[f].type&&(p[f].calculateValueToPixelConversionParameters(),p[f].calculateBreaksSizeInValues());if(0<g){if(e&&0<e.length)for(f=0;f<e.length;f++)m=_[g-1][f]===_[g][f];else m=!0;if(t&&0<t.length)for(f=0;f<t.length;f++)y=A[g-1][f]===A[g][f];else y=!0;if(i&&0<i.length)for(f=0;f<i.length;f++)x=I[g-1][f]===I[g][f];else x=!0;if(a&&0<a.length)for(f=0;f<a.length;f++)C=F[g-1][f]===F[g][f];else C=!0}if(m&&y&&x&&C)break;g++}if(d.save(),d.beginPath(),e[0]&&d.rect(5,e[0].bounds.y1,e[0].chart.width-10,e[0].bounds.height),t[0]&&d.rect(5,t[t.length-1].bounds.y1,t[0].chart.width-10,t[0].bounds.height),d.clip(),e&&0<e.length)for(f=0;f<e.length;f++)e[f].calculateStripLinesThicknessInValues(),e[f].calculateBreaksInPixels(),e[f].renderLabelsTicksAndTitle();if(t&&0<t.length)for(f=0;f<t.length;f++)t[f].calculateStripLinesThicknessInValues(),t[f].calculateBreaksInPixels(),t[f].renderLabelsTicksAndTitle();if(d.restore(),i&&0<i.length)for(f=0;f<i.length;f++)i[f].calculateStripLinesThicknessInValues(),i[f].calculateBreaksInPixels(),i[f].renderLabelsTicksAndTitle();if(a&&0<a.length)for(f=0;f<a.length;f++)a[f].calculateStripLinesThicknessInValues(),a[f].calculateBreaksInPixels(),a[f].renderLabelsTicksAndTitle()}else{for(v=[],$=[],w=[],b=[],k=[],_=[],A=[],I=[];4>g;){if(Y=z=H=R=W=V=N=n=B=F=L=E=0,e&&0<e.length)for(w=[],f=z=0;f<e.length;f++)w.push(Math.ceil(e[f]?e[f].createLabelsAndCalculateWidth():0)),z+=w[f],n+=e[f]?e[f].margin:0;else w.push(Math.ceil(e[0]?e[0].createLabelsAndCalculateWidth():0));if(A.push(w),t&&0<t.length)for(b=[],f=Y=0;f<t.length;f++)b.push(Math.ceil(t[f]?t[f].createLabelsAndCalculateWidth():0)),Y+=b[f],N+=t[f]?t[f].margin:0;else b.push(Math.ceil(t[0]?t[0].createLabelsAndCalculateWidth():0));if(I.push(b),i&&0<i.length)for(f=0;f<i.length;f++)i[f].lineCoordinates={},s=Math.round(o.x1+z+n),l=Math.round(o.x2-Y-N>u.width-10?u.width-10:o.x2-Y-N),i[f].labelAutoFit&&!h(S)&&(0<!e.length&&(s=0>i[f].labelAngle?Math.max(s,S):0===i[f].labelAngle?Math.max(s,S/2):s),0<!t.length&&(l=0<i[f].labelAngle?l-D/2:0===i[f].labelAngle?l-D/2:l)),i[f].lineCoordinates.x1=s,i[f].lineCoordinates.x2=l,i[f].lineCoordinates.width=Math.abs(l-s),i[f].title&&(i[f]._titleTextBlock.maxWidth=0<i[f].titleMaxWidth&&i[f].titleMaxWidth<i[f].lineCoordinates.width?i[f].titleMaxWidth:i[f].lineCoordinates.width);if(a&&0<a.length)for(f=0;f<a.length;f++)a[f].lineCoordinates={},s=Math.round(o.x1+z+n),l=Math.round(o.x2-Y-N>a[f].chart.width-10?a[f].chart.width-10:o.x2-Y-N),a[f]&&a[f].labelAutoFit&&!h(T)&&(0<!e.length&&(s=0<a[f].labelAngle?Math.max(s,T):0===a[f].labelAngle?Math.max(s,T/2):s),0<!t.length&&(l-=P/2)),a[f].lineCoordinates.x1=s,a[f].lineCoordinates.x2=l,a[f].lineCoordinates.width=Math.abs(l-s),a[f].title&&(a[f]._titleTextBlock.maxWidth=0<a[f].titleMaxWidth&&a[f].titleMaxWidth<a[f].lineCoordinates.width?a[f].titleMaxWidth:a[f].lineCoordinates.width);if(i&&0<i.length)for(v=[],f=R=0;f<i.length;f++)v.push(Math.ceil(i[f]?i[f].createLabelsAndCalculateHeight():0)),R+=v[f]+i[f].margin,V+=i[f].margin;else v.push(Math.ceil(i[0]?i[0].createLabelsAndCalculateHeight():0));if(k.push(v),a&&0<a.length)for($=[],f=H=0;f<a.length;f++)$.push(Math.ceil(a[f]?a[f].createLabelsAndCalculateHeight():0)),H+=$[f],W+=a[f].margin;else $.push(Math.ceil(a[0]?a[0].createLabelsAndCalculateHeight():0));if(_.push($),i&&0<i.length)for(f=0;f<i.length;f++)0<i[f]._labels.length&&(c=i[f]._labels[0],r=i[f]._labels[i[f]._labels.length-1],S=c.textBlock.width*Math.cos(Math.PI/180*Math.abs(c.textBlock.angle))+(c.textBlock.height-r.textBlock.fontSize/2)*Math.sin(Math.PI/180*Math.abs(c.textBlock.angle)),D=r.textBlock.width*Math.cos(Math.PI/180*Math.abs(r.textBlock.angle))+(r.textBlock.height-r.textBlock.fontSize/2)*Math.sin(Math.PI/180*Math.abs(r.textBlock.angle)));if(a&&0<a.length)for(f=0;f<a.length;f++)a[f]&&0<a[f]._labels.length&&(c=a[f]._labels[0],r=a[f]._labels[a[f]._labels.length-1],T=c.textBlock.width*Math.cos(Math.PI/180*Math.abs(c.textBlock.angle))+(c.textBlock.height-r.textBlock.fontSize/2)*Math.sin(Math.PI/180*Math.abs(c.textBlock.angle)),P=r.textBlock.width*Math.cos(Math.PI/180*Math.abs(r.textBlock.angle))+(r.textBlock.height-r.textBlock.fontSize/2)*Math.sin(Math.PI/180*Math.abs(r.textBlock.angle)));if(u.panEnabled)for(f=0;f<i.length;f++)v[f]=u.sessionVariables.axisY.height;else for(f=0;f<i.length;f++)u.sessionVariables.axisY.height=v[f];if(i&&0<i.length)for(f=i.length-1;0<=f;f--)r=Math.round(o.y2),c=Math.round(o.y2>i[f].chart.height-10?i[f].chart.height-10:o.y2),i[f].lineCoordinates.y1=r-(v[f]+i[f].margin+E),i[f].lineCoordinates.y2=r-(v[f]+i[f].margin+E),i[f].bounds={x1:s,y1:r-(v[f]+E+i[f].margin),x2:l,y2:c-(E+i[f].margin),width:l-s,height:v[f]},i[f].title&&(i[f]._titleTextBlock.maxWidth=0<i[f].titleMaxWidth&&i[f].titleMaxWidth<i[f].lineCoordinates.width?i[f].titleMaxWidth:i[f].lineCoordinates.width),E+=v[f]+i[f].margin;if(a&&0<a.length)for(f=a.length-1;0<=f;f--)a[f]&&(r=Math.round(o.y1),c=Math.round(o.y1+($[f]+a[f].margin+L)),a[f].lineCoordinates.y1=c,a[f].lineCoordinates.y2=c,a[f].bounds={x1:s,y1:r+(a[f].margin+L),x2:l,y2:c,width:l-s,height:H},a[f].title&&(a[f]._titleTextBlock.maxWidth=0<a[f].titleMaxWidth&&a[f].titleMaxWidth<a[f].lineCoordinates.width?a[f].titleMaxWidth:a[f].lineCoordinates.width),L+=$[f]+a[f].margin);if(e&&0<e.length)for(f=0;f<e.length;f++){if(V=e[f]._labels&&0<e[f]._labels.length?e[f]._labels[0].textBlock.fontSize/2:0,s=Math.round(o.x1+n),r=a&&0<a.length?Math.round(a[0]?a[0].lineCoordinates.y2:o.y1<Math.max(V,10)?Math.max(V,10):o.y1):o.y1<Math.max(V,10)?Math.max(V,10):o.y1,l=Math.round(o.x1+z+n),c=i&&0<i.length?Math.round(i[0]?i[0].lineCoordinates.y1:o.y2-R>u.height-Math.max(V,10)?u.height-Math.max(V,10):o.y2-R):o.y2>u.height-Math.max(V,10)?u.height-Math.max(V,10):o.y2,i&&0<i.length)for(V=0;V<i.length;V++)i[V]&&i[V].labelAutoFit&&(l=0>i[V].labelAngle?Math.max(l,S):0===i[V].labelAngle?Math.max(l,S/2):l,s=0>i[V].labelAngle||0===i[V].labelAngle?l-z:s);if(a&&0<a.length)for(V=0;V<a.length;V++)a[V]&&a[V].labelAutoFit&&(l=a[V].lineCoordinates.x1,s=l-z);e[f].lineCoordinates={x1:l-F,y1:r,x2:l-F,y2:c,height:Math.abs(c-r)},e[f].bounds={x1:l-(w[f]+F),y1:r,x2:l,y2:c,width:l-s,height:c-r},e[f].title&&(e[f]._titleTextBlock.maxWidth=0<e[f].titleMaxWidth&&e[f].titleMaxWidth<e[f].lineCoordinates.height?e[f].titleMaxWidth:e[f].lineCoordinates.height),e[f].calculateValueToPixelConversionParameters(),e[f].calculateBreaksSizeInValues(),F+=w[f]+e[f].margin}if(t&&0<t.length)for(f=0;f<t.length;f++){if(V=t[f]._labels&&0<t[f]._labels.length?t[f]._labels[0].textBlock.fontSize/2:0,s=Math.round(o.x1-n),r=a&&0<a.length?Math.round(a[0]?a[0].lineCoordinates.y2:o.y1<Math.max(V,10)?Math.max(V,10):o.y1):o.y1<Math.max(V,10)?Math.max(V,10):o.y1,l=Math.round(o.x2-Y-N),c=i&&0<i.length?Math.round(i[0]?i[0].lineCoordinates.y1:o.y2-R>u.height-Math.max(V,10)?u.height-Math.max(V,10):o.y2-R):o.y2>u.height-Math.max(V,10)?u.height-Math.max(V,10):o.y2,i&&0<i.length)for(V=0;V<i.length;V++)i[V]&&i[V].labelAutoFit&&(l=0>i[V].labelAngle?Math.max(l,S):0===i[V].labelAngle?Math.max(l,S/2):l,s=0>i[V].labelAngle||0===i[V].labelAngle?l-Y:s);if(a&&0<a.length)for(V=0;V<a.length;V++)a[V]&&a[V].labelAutoFit&&(l=a[V].lineCoordinates.x2,s=l-Y);t[f].lineCoordinates={x1:l+B,y1:r,x2:l+B,y2:c,height:Math.abs(c-r)},t[f].bounds={x1:s,y1:r,x2:l+b[f]+B,y2:c,width:l-s,height:c-r},t[f].title&&(t[f]._titleTextBlock.maxWidth=0<t[f].titleMaxWidth&&t[f].titleMaxWidth<t[f].lineCoordinates.height?t[f].titleMaxWidth:t[f].lineCoordinates.height),t[f].calculateValueToPixelConversionParameters(),t[f].calculateBreaksSizeInValues(),B+=b[f]+t[f].margin}for(f=0;f<p.length;f++)"axisY"===p[f].type&&(p[f].calculateValueToPixelConversionParameters(),p[f].calculateBreaksSizeInValues());if(0<g){if(e&&0<e.length)for(f=0;f<e.length;f++)m=A[g-1][f]===A[g][f];else m=!0;if(t&&0<t.length)for(f=0;f<t.length;f++)y=I[g-1][f]===I[g][f];else y=!0;if(i&&0<i.length)for(f=0;f<i.length;f++)x=k[g-1][f]===k[g][f];else x=!0;if(a&&0<a.length)for(f=0;f<a.length;f++)C=_[g-1][f]===_[g][f];else C=!0}if(m&&y&&x&&C)break;g++}if(i&&0<i.length)for(f=0;f<i.length;f++)i[f].calculateStripLinesThicknessInValues(),i[f].calculateBreaksInPixels(),i[f].renderLabelsTicksAndTitle();if(a&&0<a.length)for(f=0;f<a.length;f++)a[f].calculateStripLinesThicknessInValues(),a[f].calculateBreaksInPixels(),a[f].renderLabelsTicksAndTitle();if(e&&0<e.length)for(f=0;f<e.length;f++)e[f].calculateStripLinesThicknessInValues(),e[f].calculateBreaksInPixels(),e[f].renderLabelsTicksAndTitle();if(t&&0<t.length)for(f=0;f<t.length;f++)t[f].calculateStripLinesThicknessInValues(),t[f].calculateBreaksInPixels(),t[f].renderLabelsTicksAndTitle()}if(u.preparePlotArea(),o=u.plotArea,d.save(),d.beginPath(),d.rect(o.x1,o.y1,Math.abs(o.x2-o.x1),Math.abs(o.y2-o.y1)),d.clip(),e&&0<e.length)for(f=0;f<p.length;f++)p[f].renderStripLinesOfThicknessType("value");if(t&&0<t.length)for(f=0;f<t.length;f++)t[f].renderStripLinesOfThicknessType("value");if(i&&0<i.length)for(f=0;f<i.length;f++)i[f].renderStripLinesOfThicknessType("value");if(a&&0<a.length)for(f=0;f<a.length;f++)a[f].renderStripLinesOfThicknessType("value");if(e&&0<e.length)for(f=0;f<e.length;f++)e[f].renderInterlacedColors();if(t&&0<t.length)for(f=0;f<t.length;f++)t[f].renderInterlacedColors();if(i&&0<i.length)for(f=0;f<i.length;f++)i[f].renderInterlacedColors();if(a&&0<a.length)for(f=0;f<a.length;f++)a[f].renderInterlacedColors();if(d.restore(),e&&0<e.length)for(f=0;f<e.length;f++)e[f].renderGrid(),O&&(e[f].createMask(),e[f].renderBreaksBackground());if(t&&0<t.length)for(f=0;f<t.length;f++)t[f].renderGrid(),O&&(t[f].createMask(),t[f].renderBreaksBackground());if(i&&0<i.length)for(f=0;f<i.length;f++)i[f].renderGrid(),O&&(i[f].createMask(),i[f].renderBreaksBackground());if(a&&0<a.length)for(f=0;f<a.length;f++)a[f].renderGrid(),O&&(a[f].createMask(),a[f].renderBreaksBackground());if(e&&0<e.length)for(f=0;f<e.length;f++)e[f].renderAxisLine();if(t&&0<t.length)for(f=0;f<t.length;f++)t[f].renderAxisLine();if(i&&0<i.length)for(f=0;f<i.length;f++)i[f].renderAxisLine();if(a&&0<a.length)for(f=0;f<a.length;f++)a[f].renderAxisLine();if(e&&0<e.length)for(f=0;f<e.length;f++)e[f].renderStripLinesOfThicknessType("pixel");if(t&&0<t.length)for(f=0;f<t.length;f++)t[f].renderStripLinesOfThicknessType("pixel");if(i&&0<i.length)for(f=0;f<i.length;f++)i[f].renderStripLinesOfThicknessType("pixel");if(a&&0<a.length)for(f=0;f<a.length;f++)a[f].renderStripLinesOfThicknessType("pixel")},N.prototype.calculateStripLinesThicknessInValues=function(){for(var e=0;e<this.stripLines.length;e++)if(null!==this.stripLines[e].startValue&&null!==this.stripLines[e].endValue){
var t=Math.min(this.stripLines[e].startValue,this.stripLines[e].endValue),i=Math.max(this.stripLines[e].startValue,this.stripLines[e].endValue),t=this.getApparentDifference(t,i);this.stripLines[e].value=this.logarithmic?this.stripLines[e].value*Math.sqrt(Math.log(this.stripLines[e].endValue/this.stripLines[e].startValue)/Math.log(t)):this.stripLines[e].value+(Math.abs(this.stripLines[e].endValue-this.stripLines[e].startValue)-t)/2,this.stripLines[e].thickness=t,this.stripLines[e]._thicknessType="value"}},N.prototype.calculateBreaksSizeInValues=function(){for(var e,t="left"===this._position||"right"===this._position?this.lineCoordinates.height||this.chart.height:this.lineCoordinates.width||this.chart.width,i=this.scaleBreaks?this.scaleBreaks._appliedBreaks:[],a=this.conversionParameters.pixelPerUnit||t/(this.logarithmic?this.conversionParameters.maximum/this.conversionParameters.minimum:this.conversionParameters.maximum-this.conversionParameters.minimum),n=this.scaleBreaks&&!h(this.scaleBreaks.options.spacing),o=0;o<i.length;o++)e=n||!h(i[o].options.spacing),i[o].spacing=E(i[o].spacing,t,8,e?.1*t:8,e?0:3)<<0,i[o].size=0>i[o].spacing?0:Math.abs(i[o].spacing/a),this.logarithmic&&(i[o].size=Math.pow(this.logarithmBase,i[o].size))},N.prototype.calculateBreaksInPixels=function(){if(!(this.scaleBreaks&&0>=this.scaleBreaks._appliedBreaks.length)){var e=this.scaleBreaks?this.scaleBreaks._appliedBreaks:[];e.length&&(this.scaleBreaks.firstBreakIndex=this.scaleBreaks.lastBreakIndex=null);for(var t=0;t<e.length&&!(e[t].startValue>this.conversionParameters.maximum);t++)e[t].endValue<this.conversionParameters.minimum||(h(this.scaleBreaks.firstBreakIndex)&&(this.scaleBreaks.firstBreakIndex=t),e[t].startValue>=this.conversionParameters.minimum&&(e[t].startPixel=this.convertValueToPixel(e[t].startValue),this.scaleBreaks.lastBreakIndex=t),e[t].endValue<=this.conversionParameters.maximum&&(e[t].endPixel=this.convertValueToPixel(e[t].endValue)))}},N.prototype.renderLabelsTicksAndTitle=function(){var e=this,t=!1,i=0,a=0,n=1,o=0;if(0!==this.labelAngle&&360!==this.labelAngle&&(n=1.2),void 0===this.options.interval){if("bottom"===this._position||"top"===this._position)if(this.logarithmic&&!this.equidistantInterval&&this.labelAutoFit){for(var s,i=[],n=0!==this.labelAngle&&360!==this.labelAngle?1:1.2,r=this.viewportMaximum,l=this.lineCoordinates.width/Math.log(this.range),c=this._labels.length-1;0<=c&&(u=this._labels[c],!(u.position<this.viewportMinimum));c--)u.position>this.viewportMaximum||!(c===this._labels.length-1||s<Math.log(r/u.position)*l/n)||(i.push(u),r=u.position,s=u.textBlock.width*Math.abs(Math.cos(Math.PI/180*this.labelAngle))+u.textBlock.height*Math.abs(Math.sin(Math.PI/180*this.labelAngle)));this._labels=i}else{for(c=0;c<this._labels.length;c++)u=this._labels[c],u.position<this.viewportMinimum||(s=u.textBlock.width*Math.abs(Math.cos(Math.PI/180*this.labelAngle))+u.textBlock.height*Math.abs(Math.sin(Math.PI/180*this.labelAngle)),i+=s);i>this.lineCoordinates.width*n&&this.labelAutoFit&&(t=!0)}if("left"===this._position||"right"===this._position)if(this.logarithmic&&!this.equidistantInterval&&this.labelAutoFit){for(var h,i=[],r=this.viewportMaximum,l=this.lineCoordinates.height/Math.log(this.range),c=this._labels.length-1;0<=c&&(u=this._labels[c],!(u.position<this.viewportMinimum));c--)u.position>this.viewportMaximum||!(c===this._labels.length-1||h<Math.log(r/u.position)*l)||(i.push(u),r=u.position,h=u.textBlock.height*Math.abs(Math.cos(Math.PI/180*this.labelAngle))+u.textBlock.width*Math.abs(Math.sin(Math.PI/180*this.labelAngle)));this._labels=i}else{for(c=0;c<this._labels.length;c++)u=this._labels[c],u.position<this.viewportMinimum||(h=u.textBlock.height*Math.abs(Math.cos(Math.PI/180*this.labelAngle))+u.textBlock.width*Math.abs(Math.sin(Math.PI/180*this.labelAngle)),a+=h);a>this.lineCoordinates.height*n&&this.labelAutoFit&&(t=!0)}}this.logarithmic&&!this.equidistantInterval&&this.labelAutoFit&&this._labels.sort(function(e,t){return e.position-t.position});var u,d,c=0;if("bottom"===this._position){for(c=0;c<this._labels.length;c++)u=this._labels[c],u.position<this.viewportMinimum||u.position>this.viewportMaximum||t&&0!=o++%2&&this.labelAutoFit||(d=this.getPixelCoordinatesOnAxis(u.position),this.tickThickness&&"inside"!=this.labelPlacement&&(this.ctx.lineWidth=this.tickThickness,this.ctx.strokeStyle=this.tickColor,a=1==this.ctx.lineWidth%2?.5+(d.x<<0):d.x<<0,this.ctx.beginPath(),this.ctx.moveTo(a,d.y<<0),this.ctx.lineTo(a,d.y+this.tickLength<<0),this.ctx.stroke()),0===u.textBlock.angle?(d.x-=u.textBlock.width/2,d.y="inside"===this.labelPlacement?d.y-(this.tickLength+u.textBlock.fontSize/2):d.y+this.tickLength+u.textBlock.fontSize/2):(d.x="inside"===this.labelPlacement?0>this.labelAngle?d.x:d.x-u.textBlock.width*Math.cos(Math.PI/180*this.labelAngle):d.x-(0>this.labelAngle?u.textBlock.width*Math.cos(Math.PI/180*this.labelAngle):0),d.y="inside"===this.labelPlacement?0>this.labelAngle?d.y-this.tickLength-5:d.y-this.tickLength-Math.abs(u.textBlock.width*Math.sin(Math.PI/180*this.labelAngle)+5):d.y+this.tickLength+Math.abs(0>this.labelAngle?u.textBlock.width*Math.sin(Math.PI/180*this.labelAngle)-5:5)),u.textBlock.x=d.x,u.textBlock.y=d.y);"inside"===this.labelPlacement&&this.chart.addEventListener("dataAnimationIterationEnd",function(){for(c=0;c<e._labels.length;c++)if(u=e._labels[c],!(u.position<e.viewportMinimum||u.position>e.viewportMaximum||t&&0!=o++%2&&e.labelAutoFit)&&(d=e.getPixelCoordinatesOnAxis(u.position),e.tickThickness)){e.ctx.lineWidth=e.tickThickness,e.ctx.strokeStyle=e.tickColor;var i=1==e.ctx.lineWidth%2?.5+(d.x<<0):d.x<<0;e.ctx.save(),e.ctx.beginPath(),e.ctx.moveTo(i,d.y<<0),e.ctx.lineTo(i,d.y-e.tickLength<<0),e.ctx.stroke(),e.ctx.restore()}},this),this.title&&(this._titleTextBlock.measureText(),this._titleTextBlock.x=this.lineCoordinates.x1+this.lineCoordinates.width/2-this._titleTextBlock.width/2,this._titleTextBlock.y=this.bounds.y2-this._titleTextBlock.height-3,this.titleMaxWidth=this._titleTextBlock.maxWidth,this._titleTextBlock.render(!0))}else if("top"===this._position){for(c=0;c<this._labels.length;c++)u=this._labels[c],u.position<this.viewportMinimum||u.position>this.viewportMaximum||t&&0!=o++%2&&this.labelAutoFit||(d=this.getPixelCoordinatesOnAxis(u.position),this.tickThickness&&"inside"!=this.labelPlacement&&(this.ctx.lineWidth=this.tickThickness,this.ctx.strokeStyle=this.tickColor,a=1==this.ctx.lineWidth%2?.5+(d.x<<0):d.x<<0,this.ctx.beginPath(),this.ctx.moveTo(a,d.y<<0),this.ctx.lineTo(a,d.y-this.tickLength<<0),this.ctx.stroke()),0===u.textBlock.angle?(d.x-=u.textBlock.width/2,d.y="inside"===this.labelPlacement?d.y+this.labelFontSize/2+this.tickLength+5:d.y-(this.tickLength+u.textBlock.height-u.textBlock.fontSize/2)):(d.x="inside"===this.labelPlacement?0<this.labelAngle?d.x:d.x-u.textBlock.width*Math.cos(Math.PI/180*this.labelAngle):d.x+(u.textBlock.height-this.tickLength-this.labelFontSize)*Math.sin(Math.PI/180*this.labelAngle)-(0<this.labelAngle?u.textBlock.width*Math.cos(Math.PI/180*this.labelAngle):0),d.y="inside"===this.labelPlacement?0<this.labelAngle?d.y+this.tickLength+5:d.y-u.textBlock.width*Math.sin(Math.PI/180*this.labelAngle)+this.tickLength+5:d.y-(this.tickLength+((u.textBlock.height-u.textBlock.fontSize/2)*Math.cos(Math.PI/180*this.labelAngle)+(0<this.labelAngle?u.textBlock.width*Math.sin(Math.PI/180*this.labelAngle):0)))),u.textBlock.x=d.x,u.textBlock.y=d.y);"inside"===this.labelPlacement&&this.chart.addEventListener("dataAnimationIterationEnd",function(){for(c=0;c<e._labels.length;c++)if(u=e._labels[c],!(u.position<e.viewportMinimum||u.position>e.viewportMaximum||t&&0!=o++%2&&e.labelAutoFit)&&(d=e.getPixelCoordinatesOnAxis(u.position),e.tickThickness)){e.ctx.lineWidth=e.tickThickness,e.ctx.strokeStyle=e.tickColor;var i=1==this.ctx.lineWidth%2?.5+(d.x<<0):d.x<<0;e.ctx.save(),e.ctx.beginPath(),e.ctx.moveTo(i,d.y<<0),e.ctx.lineTo(i,d.y+e.tickLength<<0),e.ctx.stroke(),e.ctx.restore()}},this),this.title&&(this._titleTextBlock.measureText(),this._titleTextBlock.x=this.lineCoordinates.x1+this.lineCoordinates.width/2-this._titleTextBlock.width/2,this._titleTextBlock.y=this.bounds.y1+1,this.titleMaxWidth=this._titleTextBlock.maxWidth,this._titleTextBlock.render(!0))}else if("left"===this._position){for(c=0;c<this._labels.length;c++)u=this._labels[c],u.position<this.viewportMinimum||u.position>this.viewportMaximum||t&&0!=o++%2&&this.labelAutoFit||(d=this.getPixelCoordinatesOnAxis(u.position),this.tickThickness&&"inside"!=this.labelPlacement&&(this.ctx.lineWidth=this.tickThickness,this.ctx.strokeStyle=this.tickColor,a=1==this.ctx.lineWidth%2?.5+(d.y<<0):d.y<<0,this.ctx.beginPath(),this.ctx.moveTo(d.x<<0,a),this.ctx.lineTo(d.x-this.tickLength<<0,a),this.ctx.stroke()),0===this.labelAngle?(u.textBlock.y=d.y,u.textBlock.x="inside"===this.labelPlacement?d.x+this.tickLength+5:d.x-u.textBlock.width*Math.cos(Math.PI/180*this.labelAngle)-this.tickLength-5):(u.textBlock.y="inside"===this.labelPlacement?d.y:d.y-u.textBlock.width*Math.sin(Math.PI/180*this.labelAngle),u.textBlock.x="inside"===this.labelPlacement?d.x+this.tickLength+5:0<this.labelAngle?d.x-u.textBlock.width*Math.cos(Math.PI/180*this.labelAngle)-this.tickLength-5:d.x-u.textBlock.width*Math.cos(Math.PI/180*this.labelAngle)+(u.textBlock.height-u.textBlock.fontSize/2-5)*Math.sin(Math.PI/180*this.labelAngle)-this.tickLength));"inside"===this.labelPlacement&&this.chart.addEventListener("dataAnimationIterationEnd",function(){for(c=0;c<e._labels.length;c++)if(u=e._labels[c],!(u.position<e.viewportMinimum||u.position>e.viewportMaximum||t&&0!=o++%2&&e.labelAutoFit)&&(d=e.getPixelCoordinatesOnAxis(u.position),e.tickThickness)){e.ctx.lineWidth=e.tickThickness,e.ctx.strokeStyle=e.tickColor;var i=1==e.ctx.lineWidth%2?.5+(d.y<<0):d.y<<0;e.ctx.save(),e.ctx.beginPath(),e.ctx.moveTo(d.x<<0,i),e.ctx.lineTo(d.x+e.tickLength<<0,i),e.ctx.stroke(),e.ctx.restore()}},this),this.title&&(this._titleTextBlock.measureText(),this._titleTextBlock.x=this.bounds.x1+1,this._titleTextBlock.y=this.lineCoordinates.height/2+this._titleTextBlock.width/2+this.lineCoordinates.y1,this.titleMaxWidth=this._titleTextBlock.maxWidth,this._titleTextBlock.render(!0))}else if("right"===this._position){for(c=0;c<this._labels.length;c++)u=this._labels[c],u.position<this.viewportMinimum||u.position>this.viewportMaximum||t&&0!=o++%2&&this.labelAutoFit||(d=this.getPixelCoordinatesOnAxis(u.position),this.tickThickness&&"inside"!=this.labelPlacement&&(this.ctx.lineWidth=this.tickThickness,this.ctx.strokeStyle=this.tickColor,a=1==this.ctx.lineWidth%2?.5+(d.y<<0):d.y<<0,this.ctx.beginPath(),this.ctx.moveTo(d.x<<0,a),this.ctx.lineTo(d.x+this.tickLength<<0,a),this.ctx.stroke()),0===this.labelAngle?(u.textBlock.y=d.y,u.textBlock.x="inside"===this.labelPlacement?d.x-u.textBlock.width-this.tickLength-5:d.x+this.tickLength+5):(u.textBlock.y="inside"===this.labelPlacement?d.y-u.textBlock.width*Math.sin(Math.PI/180*this.labelAngle):0>this.labelAngle?d.y:d.y-(u.textBlock.height-u.textBlock.fontSize/2-5)*Math.cos(Math.PI/180*this.labelAngle),u.textBlock.x="inside"===this.labelPlacement?d.x-u.textBlock.width*Math.cos(Math.PI/180*this.labelAngle)-this.tickLength-5:0<this.labelAngle?d.x+(u.textBlock.height-u.textBlock.fontSize/2-5)*Math.sin(Math.PI/180*this.labelAngle)+this.tickLength:d.x+this.tickLength+5));"inside"===this.labelPlacement&&this.chart.addEventListener("dataAnimationIterationEnd",function(){for(c=0;c<e._labels.length;c++)if(u=e._labels[c],!(u.position<e.viewportMinimum||u.position>e.viewportMaximum||t&&0!=o++%2&&e.labelAutoFit)&&(d=e.getPixelCoordinatesOnAxis(u.position),e.tickThickness)){e.ctx.lineWidth=e.tickThickness,e.ctx.strokeStyle=e.tickColor;var i=1==e.ctx.lineWidth%2?.5+(d.y<<0):d.y<<0;e.ctx.save(),e.ctx.beginPath(),e.ctx.moveTo(d.x<<0,i),e.ctx.lineTo(d.x-e.tickLength<<0,i),e.ctx.stroke(),e.ctx.restore()}},this),this.title&&(this._titleTextBlock.measureText(),this._titleTextBlock.x=this.bounds.x2-1,this._titleTextBlock.y=this.lineCoordinates.height/2-this._titleTextBlock.width/2+this.lineCoordinates.y1,this.titleMaxWidth=this._titleTextBlock.maxWidth,this._titleTextBlock.render(!0))}if(o=0,"inside"===this.labelPlacement)this.chart.addEventListener("dataAnimationIterationEnd",function(){for(c=0;c<e._labels.length;c++)u=e._labels[c],u.position<e.viewportMinimum||u.position>e.viewportMaximum||t&&0!=o++%2&&e.labelAutoFit||(e.ctx.save(),e.ctx.beginPath(),u.textBlock.render(!0),e.ctx.restore())},u.textBlock);else for(c=0;c<this._labels.length;c++)u=this._labels[c],u.position<this.viewportMinimum||u.position>this.viewportMaximum||t&&0!=o++%2&&this.labelAutoFit||u.textBlock.render(!0)},N.prototype.renderInterlacedColors=function(){var e,t,i=this.chart.plotArea.ctx,a=this.chart.plotArea,n=0;if(e=!0,"bottom"!==this._position&&"top"!==this._position||!this.interlacedColor){if(("left"===this._position||"right"===this._position)&&this.interlacedColor)for(i.fillStyle=this.interlacedColor,n=0;n<this._labels.length;n++)e?(t=this.getPixelCoordinatesOnAxis(this._labels[n].position),e=n+1>this._labels.length-1?this.getPixelCoordinatesOnAxis(this.viewportMaximum):this.getPixelCoordinatesOnAxis(this._labels[n+1].position),i.fillRect(a.x1,Math.min(t.y,e.y),Math.abs(a.x1-a.x2),Math.abs(e.y-t.y)),e=!1):e=!0}else for(i.fillStyle=this.interlacedColor,n=0;n<this._labels.length;n++)e?(e=this.getPixelCoordinatesOnAxis(this._labels[n].position),t=n+1>this._labels.length-1?this.getPixelCoordinatesOnAxis(this.viewportMaximum):this.getPixelCoordinatesOnAxis(this._labels[n+1].position),i.fillRect(Math.min(t.x,e.x),a.y1,Math.abs(t.x-e.x),Math.abs(a.y1-a.y2)),e=!1):e=!0;i.beginPath()},N.prototype.renderStripLinesOfThicknessType=function(e){if(this.stripLines&&0<this.stripLines.length&&e){for(var t,i=this,a=0,n=0,o=!1,s=!1,r=[],l=[],s=!1,a=0;a<this.stripLines.length;a++){var c=this.stripLines[a];c._thicknessType===e&&("pixel"===e&&(c.value<this.viewportMinimum||c.value>this.viewportMaximum||h(c.value)||isNaN(this.range))||r.push(c))}for(a=0;a<this._stripLineLabels.length;a++)if(c=this.stripLines[a],t=this._stripLineLabels[a],!(t.position<this.viewportMinimum||t.position>this.viewportMaximum||isNaN(this.range))){if(e=this.getPixelCoordinatesOnAxis(t.position),"outside"===t.stripLine.labelPlacement)if(c&&(this.ctx.strokeStyle=c.color,"pixel"===c._thicknessType&&(this.ctx.lineWidth=c.thickness)),"bottom"===this._position){var u=1==this.ctx.lineWidth%2?.5+(e.x<<0):e.x<<0;this.ctx.beginPath(),this.ctx.moveTo(u,e.y<<0),this.ctx.lineTo(u,e.y+this.tickLength<<0),this.ctx.stroke(),0===this.labelAngle?(e.x-=t.textBlock.width/2,e.y+=this.tickLength+t.textBlock.fontSize/2):(e.x-=0>this.labelAngle?t.textBlock.width*Math.cos(Math.PI/180*this.labelAngle):0,e.y+=this.tickLength+Math.abs(0>this.labelAngle?t.textBlock.width*Math.sin(Math.PI/180*this.labelAngle)-5:5))}else"top"===this._position?(u=1==this.ctx.lineWidth%2?.5+(e.x<<0):e.x<<0,this.ctx.beginPath(),this.ctx.moveTo(u,e.y<<0),this.ctx.lineTo(u,e.y-this.tickLength<<0),this.ctx.stroke(),0===this.labelAngle?(e.x-=t.textBlock.width/2,e.y-=this.tickLength+t.textBlock.height):(e.x+=(t.textBlock.height-this.tickLength-this.labelFontSize/2)*Math.sin(Math.PI/180*this.labelAngle)-(0<this.labelAngle?t.textBlock.width*Math.cos(Math.PI/180*this.labelAngle):0),e.y-=this.tickLength+(t.textBlock.height*Math.cos(Math.PI/180*this.labelAngle)+(0<this.labelAngle?t.textBlock.width*Math.sin(Math.PI/180*this.labelAngle):0)))):"left"===this._position?(u=1==this.ctx.lineWidth%2?.5+(e.y<<0):e.y<<0,this.ctx.beginPath(),this.ctx.moveTo(e.x<<0,u),this.ctx.lineTo(e.x-this.tickLength<<0,u),this.ctx.stroke(),0===this.labelAngle?e.x=e.x-t.textBlock.width*Math.cos(Math.PI/180*this.labelAngle)-this.tickLength-5:(e.y-=t.textBlock.width*Math.sin(Math.PI/180*this.labelAngle),e.x=0<this.labelAngle?e.x-t.textBlock.width*Math.cos(Math.PI/180*this.labelAngle)-this.tickLength-5:e.x-t.textBlock.width*Math.cos(Math.PI/180*this.labelAngle)+(t.textBlock.height-t.textBlock.fontSize/2-5)*Math.sin(Math.PI/180*this.labelAngle)-this.tickLength)):"right"===this._position&&(u=1==this.ctx.lineWidth%2?.5+(e.y<<0):e.y<<0,this.ctx.beginPath(),this.ctx.moveTo(e.x<<0,u),this.ctx.lineTo(e.x+this.tickLength<<0,u),this.ctx.stroke(),0===this.labelAngle?e.x=e.x+this.tickLength+5:(e.y=0>this.labelAngle?e.y:e.y-(t.textBlock.height-t.textBlock.fontSize/2-5)*Math.cos(Math.PI/180*this.labelAngle),e.x=0<this.labelAngle?e.x+(t.textBlock.height-t.textBlock.fontSize/2-5)*Math.sin(Math.PI/180*this.labelAngle)+this.tickLength:e.x+this.tickLength+5));else t.textBlock.angle=-90,"bottom"===this._position?(t.textBlock.maxWidth=this.options.stripLines[a].labelMaxWidth?this.options.stripLines[a].labelMaxWidth:this.chart.plotArea.height-3,t.textBlock.measureText(),e.x-t.textBlock.height>this.chart.plotArea.x1?h(c.startValue)?e.x-=t.textBlock.height-t.textBlock.fontSize/2:e.x-=t.textBlock.height/2-t.textBlock.fontSize/2+3:(t.textBlock.angle=90,h(c.startValue)?e.x+=t.textBlock.height-t.textBlock.fontSize/2:e.x+=t.textBlock.height/2-t.textBlock.fontSize/2+3),e.y=-90===t.textBlock.angle?"near"===t.stripLine.labelAlign?this.chart.plotArea.y2-3:"center"===t.stripLine.labelAlign?(this.chart.plotArea.y2+this.chart.plotArea.y1+t.textBlock.width)/2:this.chart.plotArea.y1+t.textBlock.width+3:"near"===t.stripLine.labelAlign?this.chart.plotArea.y2-t.textBlock.width-3:"center"===t.stripLine.labelAlign?(this.chart.plotArea.y2+this.chart.plotArea.y1-t.textBlock.width)/2:this.chart.plotArea.y1+3):"top"===this._position?(t.textBlock.maxWidth=this.options.stripLines[a].labelMaxWidth?this.options.stripLines[a].labelMaxWidth:this.chart.plotArea.height-3,t.textBlock.measureText(),e.x-t.textBlock.height>this.chart.plotArea.x1?h(c.startValue)?e.x-=t.textBlock.height-t.textBlock.fontSize/2:e.x-=t.textBlock.height/2-t.textBlock.fontSize/2+3:(t.textBlock.angle=90,h(c.startValue)?e.x+=t.textBlock.height-t.textBlock.fontSize/2:e.x+=t.textBlock.height/2-t.textBlock.fontSize/2+3),e.y=-90===t.textBlock.angle?"near"===t.stripLine.labelAlign?this.chart.plotArea.y1+t.textBlock.width+3:"center"===t.stripLine.labelAlign?(this.chart.plotArea.y2+this.chart.plotArea.y1+t.textBlock.width)/2:this.chart.plotArea.y2-3:"near"===t.stripLine.labelAlign?this.chart.plotArea.y1+3:"center"===t.stripLine.labelAlign?(this.chart.plotArea.y2+this.chart.plotArea.y1-t.textBlock.width)/2:this.chart.plotArea.y2-t.textBlock.width-3):"left"===this._position?(t.textBlock.maxWidth=this.options.stripLines[a].labelMaxWidth?this.options.stripLines[a].labelMaxWidth:this.chart.plotArea.width-3,t.textBlock.angle=0,t.textBlock.measureText(),e.y-t.textBlock.height>this.chart.plotArea.y1?h(c.startValue)?e.y-=t.textBlock.height-t.textBlock.fontSize/2:e.y-=t.textBlock.height/2-t.textBlock.fontSize+3:e.y-t.textBlock.height<this.chart.plotArea.y2?e.y+=t.textBlock.fontSize/2+3:h(c.startValue)?e.y-=t.textBlock.height-t.textBlock.fontSize/2:e.y-=t.textBlock.height/2-t.textBlock.fontSize+3,e.x="near"===t.stripLine.labelAlign?this.chart.plotArea.x1+3:"center"===t.stripLine.labelAlign?(this.chart.plotArea.x2+this.chart.plotArea.x1)/2-t.textBlock.width/2:this.chart.plotArea.x2-t.textBlock.width-3):"right"===this._position&&(t.textBlock.maxWidth=this.options.stripLines[a].labelMaxWidth?this.options.stripLines[a].labelMaxWidth:this.chart.plotArea.width-3,t.textBlock.angle=0,t.textBlock.measureText(),e.y-+t.textBlock.height>this.chart.plotArea.y1?h(c.startValue)?e.y-=t.textBlock.height-t.textBlock.fontSize/2:e.y-=t.textBlock.height/2-t.textBlock.fontSize/2-3:e.y-t.textBlock.height<this.chart.plotArea.y2?e.y+=t.textBlock.fontSize/2+3:h(c.startValue)?e.y-=t.textBlock.height-t.textBlock.fontSize/2:e.y-=t.textBlock.height/2-t.textBlock.fontSize/2+3,e.x="near"===t.stripLine.labelAlign?this.chart.plotArea.x2-t.textBlock.width-3:"center"===t.stripLine.labelAlign?(this.chart.plotArea.x2+this.chart.plotArea.x1)/2-t.textBlock.width/2:this.chart.plotArea.x1+3);t.textBlock.x=e.x,t.textBlock.y=e.y,l.push(t)}if(!s){for(s=!1,this.ctx.save(),this.ctx.beginPath(),this.ctx.rect(this.chart.plotArea.x1,this.chart.plotArea.y1,this.chart.plotArea.width,this.chart.plotArea.height),this.ctx.clip(),a=0;a<r.length;a++)c=r[a],c.showOnTop?o||(o=!0,this.chart.addEventListener("dataAnimationIterationEnd",function(){for(this.ctx.save(),this.ctx.beginPath(),this.ctx.rect(this.chart.plotArea.x1,this.chart.plotArea.y1,this.chart.plotArea.width,this.chart.plotArea.height),this.ctx.clip(),n=0;n<r.length;n++)c=r[n],c.showOnTop&&c.render();this.ctx.restore()},c)):c.render();for(a=0;a<l.length;a++)t=l[a],t.stripLine.showOnTop?s||(s=!0,this.chart.addEventListener("dataAnimationIterationEnd",function(){for(n=0;n<l.length;n++)t=l[n],"inside"===t.stripLine.labelPlacement&&t.stripLine.showOnTop&&(i.ctx.save(),i.ctx.beginPath(),i.ctx.rect(i.chart.plotArea.x1,i.chart.plotArea.y1,i.chart.plotArea.width,i.chart.plotArea.height),i.ctx.clip(),t.textBlock.render(!0),i.ctx.restore())},t.textBlock)):"inside"===t.stripLine.labelPlacement&&t.textBlock.render(!0);this.ctx.restore(),s=!0}if(s)for(s=!1,a=0;a<l.length;a++)t=l[a],t.stripLine.showOnTop?s||(s=!0,this.chart.addEventListener("dataAnimationIterationEnd",function(){for(n=0;n<l.length;n++)t=l[n],"outside"===t.stripLine.labelPlacement&&t.stripLine.showOnTop&&t.textBlock.render(!0)},t.textBlock)):"outside"===t.stripLine.labelPlacement&&t.textBlock.render(!0)}},N.prototype.renderBreaksBackground=function(){this.chart._breaksCanvas&&this.scaleBreaks&&0<this.scaleBreaks._appliedBreaks.length&&this.maskCanvas&&(this.chart._breaksCanvasCtx.save(),this.chart._breaksCanvasCtx.beginPath(),this.chart._breaksCanvasCtx.rect(this.chart.plotArea.x1,this.chart.plotArea.y1,this.chart.plotArea.width,this.chart.plotArea.height),this.chart._breaksCanvasCtx.clip(),this.chart._breaksCanvasCtx.drawImage(this.maskCanvas,0,0,this.chart.width,this.chart.height),this.chart._breaksCanvasCtx.restore())},N.prototype.createMask=function(){if(this.scaleBreaks&&0<this.scaleBreaks._appliedBreaks.length){var e=this.scaleBreaks._appliedBreaks;O?(this.maskCanvas=x(this.chart.width,this.chart.height),this.maskCtx=this.maskCanvas.getContext("2d")):(this.maskCanvas=this.chart.plotArea.canvas,this.maskCtx=this.chart.plotArea.ctx),this.maskCtx.save(),this.maskCtx.beginPath(),this.maskCtx.rect(this.chart.plotArea.x1,this.chart.plotArea.y1,this.chart.plotArea.width,this.chart.plotArea.height),this.maskCtx.clip();for(var t=0;t<e.length;t++)e[t].endValue<this.viewportMinimum||e[t].startValue>this.viewportMaximum||isNaN(this.range)||e[t].render(this.maskCtx);this.maskCtx.restore()}},N.prototype.renderCrosshair=function(e,t){this.crosshair.render(e,t)},N.prototype.renderGrid=function(){if(this.gridThickness&&0<this.gridThickness){var e=this.chart.ctx;e.save();var t,i=this.chart.plotArea;if(e.lineWidth=this.gridThickness,e.strokeStyle=this.gridColor,e.setLineDash&&e.setLineDash(f(this.gridDashType,this.gridThickness)),"bottom"===this._position||"top"===this._position)for(a=0;a<this._labels.length;a++)this._labels[a].position<this.viewportMinimum||this._labels[a].position>this.viewportMaximum||this._labels[a].breaksLabelType||(e.beginPath(),t=this.getPixelCoordinatesOnAxis(this._labels[a].position),t=1==e.lineWidth%2?.5+(t.x<<0):t.x<<0,e.moveTo(t,i.y1<<0),e.lineTo(t,i.y2<<0),e.stroke());else if("left"===this._position||"right"===this._position)for(var a=0;a<this._labels.length;a++)this._labels[a].position<this.viewportMinimum||this._labels[a].position>this.viewportMaximum||this._labels[a].breaksLabelType||(e.beginPath(),t=this.getPixelCoordinatesOnAxis(this._labels[a].position),t=1==e.lineWidth%2?.5+(t.y<<0):t.y<<0,e.moveTo(i.x1<<0,t),e.lineTo(i.x2<<0,t),e.stroke());e.restore()}},N.prototype.renderAxisLine=function(){var e,t,i=this.chart.ctx,a=O?this.chart._preRenderCtx:i,n=Math.ceil(this.tickThickness/(this.reversed?-2:2)),o=Math.ceil(this.tickThickness/(this.reversed?2:-2));if(a.save(),"bottom"===this._position||"top"===this._position){if(this.lineThickness){this.reversed?(e=this.lineCoordinates.x2,t=this.lineCoordinates.x1):(e=this.lineCoordinates.x1,t=this.lineCoordinates.x2),a.lineWidth=this.lineThickness,a.strokeStyle=this.lineColor?this.lineColor:"black",a.setLineDash&&a.setLineDash(f(this.lineDashType,this.lineThickness));var s=1==this.lineThickness%2?.5+(this.lineCoordinates.y1<<0):this.lineCoordinates.y1<<0;if(a.beginPath(),this.scaleBreaks&&!h(this.scaleBreaks.firstBreakIndex))if(h(this.scaleBreaks.lastBreakIndex))e=this.scaleBreaks._appliedBreaks[this.scaleBreaks.firstBreakIndex].endPixel+o;else for(var r=this.scaleBreaks.firstBreakIndex;r<=this.scaleBreaks.lastBreakIndex;r++)a.moveTo(e,s),a.lineTo(this.scaleBreaks._appliedBreaks[r].startPixel+n,s),e=this.scaleBreaks._appliedBreaks[r].endPixel+o;e&&(a.moveTo(e,s),a.lineTo(t,s)),a.stroke()}}else if(("left"===this._position||"right"===this._position)&&this.lineThickness){if(this.reversed?(e=this.lineCoordinates.y1,t=this.lineCoordinates.y2):(e=this.lineCoordinates.y2,t=this.lineCoordinates.y1),a.lineWidth=this.lineThickness,a.strokeStyle=this.lineColor,a.setLineDash&&a.setLineDash(f(this.lineDashType,this.lineThickness)),s=1==this.lineThickness%2?.5+(this.lineCoordinates.x1<<0):this.lineCoordinates.x1<<0,a.beginPath(),this.scaleBreaks&&!h(this.scaleBreaks.firstBreakIndex))if(h(this.scaleBreaks.lastBreakIndex))e=this.scaleBreaks._appliedBreaks[this.scaleBreaks.firstBreakIndex].endPixel+n;else for(r=this.scaleBreaks.firstBreakIndex;r<=this.scaleBreaks.lastBreakIndex;r++)a.moveTo(s,e),a.lineTo(s,this.scaleBreaks._appliedBreaks[r].startPixel+o),e=this.scaleBreaks._appliedBreaks[r].endPixel+n;e&&(a.moveTo(s,e),a.lineTo(s,t)),a.stroke()}O&&(i.drawImage(this.chart._preRenderCanvas,0,0,this.chart.width,this.chart.height),this.chart._breaksCanvasCtx&&this.chart._breaksCanvasCtx.drawImage(this.chart._preRenderCanvas,0,0,this.chart.width,this.chart.height),a.clearRect(0,0,this.chart.width,this.chart.height)),a.restore()},N.prototype.getPixelCoordinatesOnAxis=function(e){var t={};return"bottom"!==this._position&&"top"!==this._position||(t.x=this.convertValueToPixel(e),t.y=this.lineCoordinates.y1),"left"!==this._position&&"right"!==this._position||(t.y=this.convertValueToPixel(e),t.x=this.lineCoordinates.x2),t},N.prototype.convertPixelToValue=function(e){if(void 0===e)return null;var t,i=0,a=0,i=!0,n=this.scaleBreaks?this.scaleBreaks._appliedBreaks:[],a="number"==typeof e?e:"left"===this._position||"right"===this._position?e.y:e.x;if(this.logarithmic){if(e=t=Math.pow(this.logarithmBase,(a-this.conversionParameters.reference)/this.conversionParameters.pixelPerUnit),a<=this.conversionParameters.reference==("left"===this._position||"right"===this._position)!==this.reversed){for(a=0;a<n.length;a++)if(!(n[a].endValue<this.conversionParameters.minimum))if(i)if(n[a].startValue<this.conversionParameters.minimum){if(1<n[a].size&&this.conversionParameters.minimum*Math.pow(n[a].endValue/n[a].startValue,Math.log(t)/Math.log(n[a].size))<n[a].endValue){e=Math.pow(n[a].endValue/n[a].startValue,Math.log(t)/Math.log(n[a].size));break}e*=n[a].endValue/this.conversionParameters.minimum/Math.pow(n[a].size,Math.log(n[a].endValue/this.conversionParameters.minimum)/Math.log(n[a].endValue/n[a].startValue)),t/=Math.pow(n[a].size,Math.log(n[a].endValue/this.conversionParameters.minimum)/Math.log(n[a].endValue/n[a].startValue)),i=!1}else{if(!(t>n[a].startValue/this.conversionParameters.minimum))break;if((t/=n[a].startValue/this.conversionParameters.minimum)<n[a].size){e*=Math.pow(n[a].endValue/n[a].startValue,1===n[a].size?1:Math.log(t)/Math.log(n[a].size))/t;break}e*=n[a].endValue/n[a].startValue/n[a].size,t/=n[a].size,i=!1}else{if(!(t>n[a].startValue/n[a-1].endValue))break;if((t/=n[a].startValue/n[a-1].endValue)<n[a].size){e*=Math.pow(n[a].endValue/n[a].startValue,1===n[a].size?1:Math.log(t)/Math.log(n[a].size))/t;break}e*=n[a].endValue/n[a].startValue/n[a].size,t/=n[a].size}}else for(a=n.length-1;0<=a;a--)if(!(n[a].startValue>this.conversionParameters.minimum))if(i)if(n[a].endValue>this.conversionParameters.minimum){if(1<n[a].size&&this.conversionParameters.minimum*Math.pow(n[a].endValue/n[a].startValue,Math.log(t)/Math.log(n[a].size))>n[a].startValue){e=Math.pow(n[a].endValue/n[a].startValue,Math.log(t)/Math.log(n[a].size));break}e*=n[a].startValue/this.conversionParameters.minimum*Math.pow(n[a].size,Math.log(n[a].startValue/this.conversionParameters.minimum)/Math.log(n[a].endValue/n[a].startValue))*t,t*=Math.pow(n[a].size,Math.log(this.conversionParameters.minimum/n[a].startValue)/Math.log(n[a].endValue/n[a].startValue)),i=!1}else{if(!(t<n[a].endValue/this.conversionParameters.minimum))break;if((t/=n[a].endValue/this.conversionParameters.minimum)>1/n[a].size){e*=Math.pow(n[a].endValue/n[a].startValue,1>=n[a].size?1:Math.log(t)/Math.log(n[a].size))*t;break}e/=n[a].endValue/n[a].startValue/n[a].size,t*=n[a].size,i=!1}else{if(!(t<n[a].endValue/n[a+1].startValue))break;if((t/=n[a].endValue/n[a+1].startValue)>1/n[a].size){e*=Math.pow(n[a].endValue/n[a].startValue,1>=n[a].size?1:Math.log(t)/Math.log(n[a].size))*t;break}e/=n[a].endValue/n[a].startValue/n[a].size,t*=n[a].size}i=e*this.viewportMinimum}else{if(e=t=(a-this.conversionParameters.reference)/this.conversionParameters.pixelPerUnit,a<=this.conversionParameters.reference==("left"===this._position||"right"===this._position)!==this.reversed){for(a=0;a<n.length;a++)if(!(n[a].endValue<this.conversionParameters.minimum))if(i)if(n[a].startValue<this.conversionParameters.minimum){if(n[a].size&&this.conversionParameters.minimum+t*(n[a].endValue-n[a].startValue)/n[a].size<n[a].endValue){e=0>=n[a].size?0:t*(n[a].endValue-n[a].startValue)/n[a].size;break}e+=n[a].endValue-this.conversionParameters.minimum-n[a].size*(n[a].endValue-this.conversionParameters.minimum)/(n[a].endValue-n[a].startValue),t-=n[a].size*(n[a].endValue-this.conversionParameters.minimum)/(n[a].endValue-n[a].startValue),i=!1}else{if(!(t>n[a].startValue-this.conversionParameters.minimum))break;if((t-=n[a].startValue-this.conversionParameters.minimum)<n[a].size){e+=(n[a].endValue-n[a].startValue)*(0===n[a].size?1:t/n[a].size)-t;break}e+=n[a].endValue-n[a].startValue-n[a].size,t-=n[a].size,i=!1}else{if(!(t>n[a].startValue-n[a-1].endValue))break;if((t-=n[a].startValue-n[a-1].endValue)<n[a].size){e+=(n[a].endValue-n[a].startValue)*(0===n[a].size?1:t/n[a].size)-t;break}e+=n[a].endValue-n[a].startValue-n[a].size,t-=n[a].size}}else for(a=n.length-1;0<=a;a--)if(!(n[a].startValue>this.conversionParameters.minimum))if(i)if(n[a].endValue>this.conversionParameters.minimum){if(n[a].size&&this.conversionParameters.minimum+t*(n[a].endValue-n[a].startValue)/n[a].size>n[a].startValue){e=0>=n[a].size?0:t*(n[a].endValue-n[a].startValue)/n[a].size;break}e+=n[a].startValue-this.conversionParameters.minimum+n[a].size*(this.conversionParameters.minimum-n[a].startValue)/(n[a].endValue-n[a].startValue),t+=n[a].size*(this.conversionParameters.minimum-n[a].startValue)/(n[a].endValue-n[a].startValue),i=!1}else{if(!(t<n[a].endValue-this.conversionParameters.minimum))break;if((t-=n[a].endValue-this.conversionParameters.minimum)>-1*n[a].size){e+=(n[a].endValue-n[a].startValue)*(0===n[a].size?1:t/n[a].size)+t;break}e-=n[a].endValue-n[a].startValue-n[a].size,t+=n[a].size,i=!1}else{if(!(t<n[a].endValue-n[a+1].startValue))break;if((t-=n[a].endValue-n[a+1].startValue)>-1*n[a].size){e+=(n[a].endValue-n[a].startValue)*(0===n[a].size?1:t/n[a].size)+t;break}e-=n[a].endValue-n[a].startValue-n[a].size,t+=n[a].size}i=this.conversionParameters.minimum+e}return i},N.prototype.convertValueToPixel=function(e){return e=this.getApparentDifference(this.conversionParameters.minimum,e,e),this.logarithmic?this.conversionParameters.reference+this.conversionParameters.pixelPerUnit*Math.log(e/this.conversionParameters.minimum)/this.conversionParameters.lnLogarithmBase+.5<<0:this.conversionParameters.reference+this.conversionParameters.pixelPerUnit*(e-this.conversionParameters.minimum)+.5<<0},N.prototype.getApparentDifference=function(e,t,i,a){
var n=this.scaleBreaks?this.scaleBreaks._appliedBreaks:[];if(this.logarithmic){i=h(i)?t/e:i;for(var o=0;o<n.length&&!(t<n[o].startValue);o++)e>n[o].endValue||(e<=n[o].startValue&&t>=n[o].endValue?i=i/n[o].endValue*n[o].startValue*n[o].size:e>=n[o].startValue&&t>=n[o].endValue?i=i/n[o].endValue*e*Math.pow(n[o].size,Math.log(n[o].endValue/e)/Math.log(n[o].endValue/n[o].startValue)):e<=n[o].startValue&&t<=n[o].endValue?i=i/t*n[o].startValue*Math.pow(n[o].size,Math.log(t/n[o].startValue)/Math.log(n[o].endValue/n[o].startValue)):!a&&e>n[o].startValue&&t<n[o].endValue&&(i=e*Math.pow(n[o].size,Math.log(t/e)/Math.log(n[o].endValue/n[o].startValue))))}else for(i=h(i)?Math.abs(t-e):i,o=0;o<n.length&&!(t<n[o].startValue);o++)e>n[o].endValue||(e<=n[o].startValue&&t>=n[o].endValue?i=i-n[o].endValue+n[o].startValue+n[o].size:e>n[o].startValue&&t>=n[o].endValue?i=i-n[o].endValue+e+n[o].size*(n[o].endValue-e)/(n[o].endValue-n[o].startValue):e<=n[o].startValue&&t<n[o].endValue?i=i-t+n[o].startValue+n[o].size*(t-n[o].startValue)/(n[o].endValue-n[o].startValue):!a&&e>n[o].startValue&&t<n[o].endValue&&(i=e+n[o].size*(t-e)/(n[o].endValue-n[o].startValue)));return i},N.prototype.setViewPortRange=function(e,t){this.sessionVariables.newViewportMinimum=this.viewportMinimum=Math.min(e,t),this.sessionVariables.newViewportMaximum=this.viewportMaximum=Math.max(e,t)},N.prototype.getXValueAt=function(e){if(!e)return null;var t=null;return"left"===this._position?t=this.convertPixelToValue(e.y):"bottom"===this._position&&(t=this.convertPixelToValue(e.x)),t},N.prototype.calculateValueToPixelConversionParameters=function(e){e=this.scaleBreaks?this.scaleBreaks._appliedBreaks:[];var t={pixelPerUnit:null,minimum:null,reference:null},i=this.lineCoordinates.width,a=this.lineCoordinates.height,i="bottom"===this._position||"top"===this._position?i:a,a=Math.abs(this.range);if(this.logarithmic)for(var n=0;n<e.length&&!(this.viewportMaximum<e[n].startValue);n++)this.viewportMinimum>e[n].endValue||(this.viewportMinimum>=e[n].startValue&&this.viewportMaximum<=e[n].endValue?i=0:this.viewportMinimum<=e[n].startValue&&this.viewportMaximum>=e[n].endValue?(a=a/e[n].endValue*e[n].startValue,i=0<e[n].spacing.toString().indexOf("%")?i*(1-parseFloat(e[n].spacing)/100):i-Math.min(e[n].spacing,.1*i)):this.viewportMinimum>e[n].startValue&&this.viewportMaximum>=e[n].endValue?(a=a/e[n].endValue*this.viewportMinimum,i=0<e[n].spacing.toString().indexOf("%")?i*(1-parseFloat(e[n].spacing)/100*Math.log(e[n].endValue/this.viewportMinimum)/Math.log(e[n].endValue/e[n].startValue)):i-Math.min(e[n].spacing,.1*i)*Math.log(e[n].endValue/this.viewportMinimum)/Math.log(e[n].endValue/e[n].startValue)):this.viewportMinimum<=e[n].startValue&&this.viewportMaximum<e[n].endValue&&(a=a/this.viewportMaximum*e[n].startValue,i=0<e[n].spacing.toString().indexOf("%")?i*(1-parseFloat(e[n].spacing)/100*Math.log(this.viewportMaximum/e[n].startValue)/Math.log(e[n].endValue/e[n].startValue)):i-Math.min(e[n].spacing,.1*i)*Math.log(this.viewportMaximum/e[n].startValue)/Math.log(e[n].endValue/e[n].startValue)));else for(n=0;n<e.length&&!(this.viewportMaximum<e[n].startValue);n++)this.viewportMinimum>e[n].endValue||(this.viewportMinimum>=e[n].startValue&&this.viewportMaximum<=e[n].endValue?i=0:this.viewportMinimum<=e[n].startValue&&this.viewportMaximum>=e[n].endValue?(a=a-e[n].endValue+e[n].startValue,i=0<e[n].spacing.toString().indexOf("%")?i*(1-parseFloat(e[n].spacing)/100):i-Math.min(e[n].spacing,.1*i)):this.viewportMinimum>e[n].startValue&&this.viewportMaximum>=e[n].endValue?(a=a-e[n].endValue+this.viewportMinimum,i=0<e[n].spacing.toString().indexOf("%")?i*(1-parseFloat(e[n].spacing)/100*(e[n].endValue-this.viewportMinimum)/(e[n].endValue-e[n].startValue)):i-Math.min(e[n].spacing,.1*i)*(e[n].endValue-this.viewportMinimum)/(e[n].endValue-e[n].startValue)):this.viewportMinimum<=e[n].startValue&&this.viewportMaximum<e[n].endValue&&(a=a-this.viewportMaximum+e[n].startValue,i=0<e[n].spacing.toString().indexOf("%")?i*(1-parseFloat(e[n].spacing)/100*(this.viewportMaximum-e[n].startValue)/(e[n].endValue-e[n].startValue)):i-Math.min(e[n].spacing,.1*i)*(this.viewportMaximum-e[n].startValue)/(e[n].endValue-e[n].startValue)));t.minimum=this.viewportMinimum,t.maximum=this.viewportMaximum,t.range=a,"bottom"!==this._position&&"top"!==this._position||(this.logarithmic?(t.lnLogarithmBase=Math.log(this.logarithmBase),t.pixelPerUnit=(this.reversed?-1:1)*i*t.lnLogarithmBase/Math.log(Math.abs(a))):t.pixelPerUnit=(this.reversed?-1:1)*i/Math.abs(a),t.reference=this.reversed?this.lineCoordinates.x2:this.lineCoordinates.x1),"left"!==this._position&&"right"!==this._position||(this.logarithmic?(t.lnLogarithmBase=Math.log(this.logarithmBase),t.pixelPerUnit=(this.reversed?1:-1)*i*t.lnLogarithmBase/Math.log(Math.abs(a))):t.pixelPerUnit=(this.reversed?1:-1)*i/Math.abs(a),t.reference=this.reversed?this.lineCoordinates.y1:this.lineCoordinates.y2),this.conversionParameters=t},N.prototype.calculateAxisParameters=function(){if(this.logarithmic)this.calculateLogarithmicAxisParameters();else{var e=this.chart.layoutManager.getFreeSpace(),t=!1,i=!1;"bottom"===this._position||"top"===this._position?(this.maxWidth=e.width,this.maxHeight=e.height):(this.maxWidth=e.height,this.maxHeight=e.width);var e="axisX"===this.type?"xySwapped"===this.chart.plotInfo.axisPlacement?62:70:"xySwapped"===this.chart.plotInfo.axisPlacement?50:40,a=4;"axisX"===this.type&&(a=600>this.maxWidth?8:6);var n,o,s,e=Math.max(a,Math.floor(this.maxWidth/e)),a=0;if(!h(this.options.viewportMinimum)&&!h(this.options.viewportMaximum)&&this.options.viewportMinimum>=this.options.viewportMaximum&&(this.viewportMinimum=this.viewportMaximum=null),!h(this.options.viewportMinimum)||h(this.sessionVariables.newViewportMinimum)||isNaN(this.sessionVariables.newViewportMinimum)?(null===this.viewportMinimum||isNaN(this.viewportMinimum))&&(this.viewportMinimum=this.minimum):this.viewportMinimum=this.sessionVariables.newViewportMinimum,!h(this.options.viewportMaximum)||h(this.sessionVariables.newViewportMaximum)||isNaN(this.sessionVariables.newViewportMaximum)?(null===this.viewportMaximum||isNaN(this.viewportMaximum))&&(this.viewportMaximum=this.maximum):this.viewportMaximum=this.sessionVariables.newViewportMaximum,this.scaleBreaks)for(a=0;a<this.scaleBreaks._appliedBreaks.length;a++)if((!h(this.sessionVariables.newViewportMinimum)&&this.sessionVariables.newViewportMinimum>=this.scaleBreaks._appliedBreaks[a].startValue||!h(this.options.minimum)&&this.options.minimum>=this.scaleBreaks._appliedBreaks[a].startValue||!h(this.options.viewportMinimum)&&this.viewportMinimum>=this.scaleBreaks._appliedBreaks[a].startValue)&&(!h(this.sessionVariables.newViewportMaximum)&&this.sessionVariables.newViewportMaximum<=this.scaleBreaks._appliedBreaks[a].endValue||!h(this.options.maximum)&&this.options.maximum<=this.scaleBreaks._appliedBreaks[a].endValue||!h(this.options.viewportMaximum)&&this.viewportMaximum<=this.scaleBreaks._appliedBreaks[a].endValue)){this.scaleBreaks._appliedBreaks.splice(a,1);break}if("axisX"===this.type){if(this.dataSeries&&0<this.dataSeries.length)for(n=0;n<this.dataSeries.length;n++)"dateTime"===this.dataSeries[n].xValueType&&(i=!0);n=null!==this.viewportMinimum?this.viewportMinimum:this.dataInfo.viewPortMin,o=null!==this.viewportMaximum?this.viewportMaximum:this.dataInfo.viewPortMax,0==o-n&&(a=void 0===this.options.interval?.4:this.options.interval,o+=a,n-=a),1/0!==this.dataInfo.minDiff?s=this.dataInfo.minDiff:1<o-n?s=.5*Math.abs(o-n):(s=1,i&&(t=!0))}else"axisY"===this.type&&(n=null!==this.viewportMinimum?this.viewportMinimum:this.dataInfo.viewPortMin,o=null!==this.viewportMaximum?this.viewportMaximum:this.dataInfo.viewPortMax,isFinite(n)||isFinite(o)?isFinite(n)?isFinite(o)||(o=n):n=o:(o=void 0===this.options.interval?-1/0:this.options.interval,n=void 0!==this.options.interval||isFinite(this.dataInfo.minDiff)?0:1/0),0===n&&0===o?(o+=9,n=0):0==o-n?(a=Math.min(Math.abs(.01*Math.abs(o)),5),o+=a,n-=a):n>o?(a=Math.min(.01*Math.abs(this.getApparentDifference(o,n,null,!0)),5),0<=o?n=o-a:o=isFinite(n)?n+a:0):(a=Math.min(.01*Math.abs(this.getApparentDifference(n,o,null,!0)),.05),0!==o&&(o+=a),0!==n&&(n-=a)),s=1/0!==this.dataInfo.minDiff?this.dataInfo.minDiff:1<o-n?.5*Math.abs(o-n):1,this.includeZero&&(null===this.viewportMinimum||isNaN(this.viewportMinimum))&&0<n&&(n=0),this.includeZero&&(null===this.viewportMaximum||isNaN(this.viewportMaximum))&&0>o&&(o=0));a=this.getApparentDifference(isNaN(this.viewportMinimum)||null===this.viewportMinimum?n:this.viewportMinimum,isNaN(this.viewportMaximum)||null===this.viewportMaximum?o:this.viewportMaximum,null,!0),"axisX"===this.type&&i?(this.intervalType||(a/1<=e?(this.interval=1,this.intervalType="millisecond"):a/2<=e?(this.interval=2,this.intervalType="millisecond"):a/5<=e?(this.interval=5,this.intervalType="millisecond"):a/10<=e?(this.interval=10,this.intervalType="millisecond"):a/20<=e?(this.interval=20,this.intervalType="millisecond"):a/50<=e?(this.interval=50,this.intervalType="millisecond"):a/100<=e?(this.interval=100,this.intervalType="millisecond"):a/200<=e?(this.interval=200,this.intervalType="millisecond"):a/250<=e?(this.interval=250,this.intervalType="millisecond"):a/300<=e?(this.interval=300,this.intervalType="millisecond"):a/400<=e?(this.interval=400,this.intervalType="millisecond"):a/500<=e?(this.interval=500,this.intervalType="millisecond"):a/(1*q.secondDuration)<=e?(this.interval=1,this.intervalType="second"):a/(2*q.secondDuration)<=e?(this.interval=2,this.intervalType="second"):a/(5*q.secondDuration)<=e?(this.interval=5,this.intervalType="second"):a/(10*q.secondDuration)<=e?(this.interval=10,this.intervalType="second"):a/(15*q.secondDuration)<=e?(this.interval=15,this.intervalType="second"):a/(20*q.secondDuration)<=e?(this.interval=20,this.intervalType="second"):a/(30*q.secondDuration)<=e?(this.interval=30,this.intervalType="second"):a/(1*q.minuteDuration)<=e?(this.interval=1,this.intervalType="minute"):a/(2*q.minuteDuration)<=e?(this.interval=2,this.intervalType="minute"):a/(5*q.minuteDuration)<=e?(this.interval=5,this.intervalType="minute"):a/(10*q.minuteDuration)<=e?(this.interval=10,this.intervalType="minute"):a/(15*q.minuteDuration)<=e?(this.interval=15,this.intervalType="minute"):a/(20*q.minuteDuration)<=e?(this.interval=20,this.intervalType="minute"):a/(30*q.minuteDuration)<=e?(this.interval=30,this.intervalType="minute"):a/(1*q.hourDuration)<=e?(this.interval=1,this.intervalType="hour"):a/(2*q.hourDuration)<=e?(this.interval=2,this.intervalType="hour"):a/(3*q.hourDuration)<=e?(this.interval=3,this.intervalType="hour"):a/(6*q.hourDuration)<=e?(this.interval=6,this.intervalType="hour"):a/(1*q.dayDuration)<=e?(this.interval=1,this.intervalType="day"):a/(2*q.dayDuration)<=e?(this.interval=2,this.intervalType="day"):a/(4*q.dayDuration)<=e?(this.interval=4,this.intervalType="day"):a/(1*q.weekDuration)<=e?(this.interval=1,this.intervalType="week"):a/(2*q.weekDuration)<=e?(this.interval=2,this.intervalType="week"):a/(3*q.weekDuration)<=e?(this.interval=3,this.intervalType="week"):a/(1*q.monthDuration)<=e?(this.interval=1,this.intervalType="month"):a/(2*q.monthDuration)<=e?(this.interval=2,this.intervalType="month"):a/(3*q.monthDuration)<=e?(this.interval=3,this.intervalType="month"):a/(6*q.monthDuration)<=e?(this.interval=6,this.intervalType="month"):(this.interval=a/(1*q.yearDuration)<=e?1:a/(2*q.yearDuration)<=e?2:a/(4*q.yearDuration)<=e?4:Math.floor(N.getNiceNumber(a/(e-1),!0)/q.yearDuration),this.intervalType="year")),(null===this.viewportMinimum||isNaN(this.viewportMinimum))&&(this.viewportMinimum=n-s/2),(null===this.viewportMaximum||isNaN(this.viewportMaximum))&&(this.viewportMaximum=o+s/2),t?this.autoValueFormatString="MMM DD YYYY HH:mm":"year"===this.intervalType?this.autoValueFormatString="YYYY":"month"===this.intervalType?this.autoValueFormatString="MMM YYYY":"week"===this.intervalType?this.autoValueFormatString="MMM DD YYYY":"day"===this.intervalType?this.autoValueFormatString="MMM DD YYYY":"hour"===this.intervalType?this.autoValueFormatString="hh:mm TT":"minute"===this.intervalType?this.autoValueFormatString="hh:mm TT":"second"===this.intervalType?this.autoValueFormatString="hh:mm:ss TT":"millisecond"===this.intervalType&&(this.autoValueFormatString="fff'ms'"),this.valueFormatString||(this.valueFormatString=this.autoValueFormatString)):(this.intervalType="number",a=N.getNiceNumber(a,!1),this.interval=this.options&&0<this.options.interval?this.options.interval:N.getNiceNumber(a/(e-1),!0),(null===this.viewportMinimum||isNaN(this.viewportMinimum))&&(this.viewportMinimum="axisX"===this.type?n-s/2:Math.floor(n/this.interval)*this.interval),(null===this.viewportMaximum||isNaN(this.viewportMaximum))&&(this.viewportMaximum="axisX"===this.type?o+s/2:Math.ceil(o/this.interval)*this.interval),0===this.viewportMaximum&&0===this.viewportMinimum&&(0===this.options.viewportMinimum?this.viewportMaximum+=10:0===this.options.viewportMaximum&&(this.viewportMinimum-=10),this.options&&void 0===this.options.interval&&(this.interval=N.getNiceNumber((this.viewportMaximum-this.viewportMinimum)/(e-1),!0)))),null!==this.minimum&&null!==this.maximum||("axisX"===this.type?(n=null!==this.minimum?this.minimum:this.dataInfo.min,o=null!==this.maximum?this.maximum:this.dataInfo.max,0==o-n&&(a=void 0===this.options.interval?.4:this.options.interval,o+=a,n-=a),s=1/0!==this.dataInfo.minDiff?this.dataInfo.minDiff:1<o-n?.5*Math.abs(o-n):1):"axisY"===this.type&&(n=null!==this.minimum?this.minimum:this.dataInfo.min,o=null!==this.maximum?this.maximum:this.dataInfo.max,isFinite(n)||isFinite(o)?0===n&&0===o?(o+=9,n=0):0==o-n?(a=Math.min(Math.abs(.01*Math.abs(o)),5),o+=a,n-=a):n>o?(a=Math.min(.01*Math.abs(this.getApparentDifference(o,n,null,!0)),5),0<=o?n=o-a:o=isFinite(n)?n+a:0):(a=Math.min(.01*Math.abs(this.getApparentDifference(n,o,null,!0)),.05),0!==o&&(o+=a),0!==n&&(n-=a)):(o=void 0===this.options.interval?-1/0:this.options.interval,n=void 0!==this.options.interval||isFinite(this.dataInfo.minDiff)?0:1/0),s=1/0!==this.dataInfo.minDiff?this.dataInfo.minDiff:1<o-n?.5*Math.abs(o-n):1,this.includeZero&&(null===this.minimum||isNaN(this.minimum))&&0<n&&(n=0),this.includeZero&&(null===this.maximum||isNaN(this.maximum))&&0>o&&(o=0)),Math.abs(this.getApparentDifference(n,o,null,!0)),"axisX"===this.type&&i?(this.valueType="dateTime",(null===this.minimum||isNaN(this.minimum))&&(this.minimum=n-s/2),(null===this.maximum||isNaN(this.maximum))&&(this.maximum=o+s/2)):(this.intervalType=this.valueType="number",null===this.minimum&&(this.minimum="axisX"===this.type?n-s/2:Math.floor(n/this.interval)*this.interval,this.minimum=Math.min(this.minimum,null===this.sessionVariables.viewportMinimum||isNaN(this.sessionVariables.viewportMinimum)?1/0:this.sessionVariables.viewportMinimum)),null===this.maximum&&(this.maximum="axisX"===this.type?o+s/2:Math.ceil(o/this.interval)*this.interval,this.maximum=Math.max(this.maximum,null===this.sessionVariables.viewportMaximum||isNaN(this.sessionVariables.viewportMaximum)?-1/0:this.sessionVariables.viewportMaximum)),0===this.maximum&&0===this.minimum&&(0===this.options.minimum?this.maximum+=10:0===this.options.maximum&&(this.minimum-=10)))),h(this.sessionVariables.newViewportMinimum)&&(this.viewportMinimum=Math.max(this.viewportMinimum,this.minimum)),h(this.sessionVariables.newViewportMaximum)&&(this.viewportMaximum=Math.min(this.viewportMaximum,this.maximum)),this.range=this.viewportMaximum-this.viewportMinimum,this.intervalStartPosition="axisX"===this.type&&i?this.getLabelStartPoint(new Date(this.viewportMinimum),this.intervalType,this.interval):Math.floor((this.viewportMinimum+.2*this.interval)/this.interval)*this.interval,this.valueFormatString||(this.valueFormatString=N.generateValueFormatString(this.range,2))}},N.prototype.calculateLogarithmicAxisParameters=function(){var e,t=this.chart.layoutManager.getFreeSpace(),i=Math.log(this.logarithmBase);"bottom"===this._position||"top"===this._position?(this.maxWidth=t.width,this.maxHeight=t.height):(this.maxWidth=t.height,this.maxHeight=t.width);var a,n,o,s,t="axisX"===this.type?500>this.maxWidth?7:Math.max(7,Math.floor(this.maxWidth/100)):Math.max(Math.floor(this.maxWidth/50),3);if(s=1,(null===this.viewportMinimum||isNaN(this.viewportMinimum))&&(this.viewportMinimum=this.minimum),(null===this.viewportMaximum||isNaN(this.viewportMaximum))&&(this.viewportMaximum=this.maximum),this.scaleBreaks)for(s=0;s<this.scaleBreaks._appliedBreaks.length;s++)if((!h(this.sessionVariables.newViewportMinimum)&&this.sessionVariables.newViewportMinimum>=this.scaleBreaks._appliedBreaks[s].startValue||!h(this.options.minimum)&&this.options.minimum>=this.scaleBreaks._appliedBreaks[s].startValue||!h(this.options.viewportMinimum)&&this.viewportMinimum>=this.scaleBreaks._appliedBreaks[s].startValue)&&(!h(this.sessionVariables.newViewportMaximum)&&this.sessionVariables.newViewportMaximum<=this.scaleBreaks._appliedBreaks[s].endValue||!h(this.options.maximum)&&this.options.maximum<=this.scaleBreaks._appliedBreaks[s].endValue||!h(this.options.viewportMaximum)&&this.viewportMaximum<=this.scaleBreaks._appliedBreaks[s].endValue)){this.scaleBreaks._appliedBreaks.splice(s,1);break}if("axisX"===this.type?(a=null!==this.viewportMinimum?this.viewportMinimum:this.dataInfo.viewPortMin,n=null!==this.viewportMaximum?this.viewportMaximum:this.dataInfo.viewPortMax,1==n/a&&(s=Math.pow(this.logarithmBase,void 0===this.options.interval?.4:this.options.interval),n*=s,a/=s),o=1/0!==this.dataInfo.minDiff?this.dataInfo.minDiff:n/a>this.logarithmBase?n/a*Math.pow(this.logarithmBase,.5):this.logarithmBase):"axisY"===this.type&&(a=null!==this.viewportMinimum?this.viewportMinimum:this.dataInfo.viewPortMin,n=null!==this.viewportMaximum?this.viewportMaximum:this.dataInfo.viewPortMax,0>=a&&!isFinite(n)?(n=void 0===this.options.interval?0:this.options.interval,a=1):0>=a?a=n:isFinite(n)||(n=a),1===a&&1===n?(n*=this.logarithmBase-1/this.logarithmBase,a=1):1==n/a?(s=Math.min(n*Math.pow(this.logarithmBase,.01),Math.pow(this.logarithmBase,5)),n*=s,a/=s):a>n?(s=Math.min(a/n*Math.pow(this.logarithmBase,.01),Math.pow(this.logarithmBase,5)),1<=n?a=n/s:n=a*s):(s=Math.min(n/a*Math.pow(this.logarithmBase,.01),Math.pow(this.logarithmBase,.04)),1!==n&&(n*=s),1!==a&&(a/=s)),o=1/0!==this.dataInfo.minDiff?this.dataInfo.minDiff:n/a>this.logarithmBase?n/a*Math.pow(this.logarithmBase,.5):this.logarithmBase,this.includeZero&&(null===this.viewportMinimum||isNaN(this.viewportMinimum))&&1<a&&(a=1),this.includeZero&&(null===this.viewportMaximum||isNaN(this.viewportMaximum))&&1>n&&(n=1)),s=(isNaN(this.viewportMaximum)||null===this.viewportMaximum?n:this.viewportMaximum)/(isNaN(this.viewportMinimum)||null===this.viewportMinimum?a:this.viewportMinimum),linearRange=(isNaN(this.viewportMaximum)||null===this.viewportMaximum?n:this.viewportMaximum)-(isNaN(this.viewportMinimum)||null===this.viewportMinimum?a:this.viewportMinimum),this.intervalType="number",s=Math.pow(this.logarithmBase,N.getNiceNumber(Math.abs(Math.log(s)/i),!1)),this.options&&0<this.options.interval?this.interval=this.options.interval:(this.interval=N.getNiceExponent(Math.log(s)/i/(t-1),!0),e=N.getNiceNumber(linearRange/(t-1),!0)),(null===this.viewportMinimum||isNaN(this.viewportMinimum))&&(this.viewportMinimum="axisX"===this.type?a/Math.sqrt(o):Math.pow(this.logarithmBase,this.interval*Math.floor(Math.log(a)/i/this.interval))),(null===this.viewportMaximum||isNaN(this.viewportMaximum))&&(this.viewportMaximum="axisX"===this.type?n*Math.sqrt(o):Math.pow(this.logarithmBase,this.interval*Math.ceil(Math.log(n)/i/this.interval))),1===this.viewportMaximum&&1===this.viewportMinimum&&(1===this.options.viewportMinimum?this.viewportMaximum*=this.logarithmBase-1/this.logarithmBase:1===this.options.viewportMaximum&&(this.viewportMinimum/=this.logarithmBase-1/this.logarithmBase),this.options&&void 0===this.options.interval&&(this.interval=N.getNiceExponent(Math.ceil(Math.log(s)/i)/(t-1)),e=N.getNiceNumber((this.viewportMaximum-this.viewportMinimum)/(t-1),!0))),null!==this.minimum&&null!==this.maximum||("axisX"===this.type?(a=null!==this.minimum?this.minimum:this.dataInfo.min,n=null!==this.maximum?this.maximum:this.dataInfo.max,1==n/a&&(s=Math.pow(this.logarithmBase,void 0===this.options.interval?.4:this.options.interval),n*=s,a/=s),o=1/0!==this.dataInfo.minDiff?this.dataInfo.minDiff:n/a>this.logarithmBase?n/a*Math.pow(this.logarithmBase,.5):this.logarithmBase):"axisY"===this.type&&(a=null!==this.minimum?this.minimum:this.dataInfo.min,n=null!==this.maximum?this.maximum:this.dataInfo.max,isFinite(a)||isFinite(n)?1===a&&1===n?(n*=this.logarithmBase,a/=this.logarithmBase):1==n/a?(s=Math.pow(this.logarithmBase,this.interval),n*=s,a/=s):a>n?(s=Math.min(a/n*.01,5),1<=n?a=n/s:n=a*s):(s=Math.min(n/a*Math.pow(this.logarithmBase,.01),Math.pow(this.logarithmBase,.04)),1!==n&&(n*=s),1!==a&&(a/=s)):(n=void 0===this.options.interval?0:this.options.interval,a=1),o=1/0!==this.dataInfo.minDiff?this.dataInfo.minDiff:n/a>this.logarithmBase?n/a*Math.pow(this.logarithmBase,.5):this.logarithmBase,this.includeZero&&(null===this.minimum||isNaN(this.minimum))&&1<a&&(a=1),this.includeZero&&(null===this.maximum||isNaN(this.maximum))&&1>n&&(n=1)),this.intervalType="number",null===this.minimum&&(this.minimum="axisX"===this.type?a/Math.sqrt(o):Math.pow(this.logarithmBase,this.interval*Math.floor(Math.log(a)/i/this.interval)),this.minimum=Math.min(this.minimum,null===this.sessionVariables.viewportMinimum||isNaN(this.sessionVariables.viewportMinimum)?void 0===this.sessionVariables.newViewportMinimum?1/0:this.sessionVariables.newViewportMinimum:this.sessionVariables.viewportMinimum)),null===this.maximum&&(this.maximum="axisX"===this.type?n*Math.sqrt(o):Math.pow(this.logarithmBase,this.interval*Math.ceil(Math.log(n)/i/this.interval)),this.maximum=Math.max(this.maximum,null===this.sessionVariables.viewportMaximum||isNaN(this.sessionVariables.viewportMaximum)?void 0===this.sessionVariables.newViewportMaximum?0:this.sessionVariables.newViewportMaximum:this.sessionVariables.viewportMaximum)),1===this.maximum&&1===this.minimum&&(1===this.options.minimum?this.maximum*=this.logarithmBase-1/this.logarithmBase:1===this.options.maximum&&(this.minimum/=this.logarithmBase-1/this.logarithmBase))),this.viewportMinimum=Math.max(this.viewportMinimum,this.minimum),this.viewportMaximum=Math.min(this.viewportMaximum,this.maximum),this.viewportMinimum>this.viewportMaximum&&(!this.options.viewportMinimum&&!this.options.minimum||this.options.viewportMaximum||this.options.maximum?this.options.viewportMinimum||this.options.minimum||!this.options.viewportMaximum&&!this.options.maximum||(this.viewportMinimum=this.minimum=(this.options.viewportMaximum||this.options.maximum)/Math.pow(this.logarithmBase,2*Math.ceil(this.interval))):this.viewportMaximum=this.maximum=this.options.viewportMinimum||this.options.minimum),a=Math.pow(this.logarithmBase,Math.floor(Math.log(this.viewportMinimum)/(i*this.interval)+.2)*this.interval),this.range=this.viewportMaximum/this.viewportMinimum,this.noTicks=t,!this.options.interval&&this.range<Math.pow(this.logarithmBase,8>this.viewportMaximum||3>t?2:3)){for(i=Math.floor(this.viewportMinimum/e+.5)*e;i<this.viewportMinimum;)i+=e;this.equidistantInterval=!1,this.intervalStartPosition=i,this.interval=e}else this.options.interval||(e=Math.ceil(this.interval),this.range>this.interval&&(this.interval=e,a=Math.pow(this.logarithmBase,Math.floor(Math.log(this.viewportMinimum)/(i*this.interval)+.2)*this.interval))),this.equidistantInterval=!0,this.intervalStartPosition=a;if(!this.valueFormatString&&(this.valueFormatString="#,##0.##",1>this.viewportMinimum)&&(i=Math.floor(Math.abs(Math.log(this.viewportMinimum)/Math.LN10))+2,!isNaN(i)&&isFinite(i)||(i=2),2<i))for(s=0;s<i-2;s++)this.valueFormatString+="#"},N.generateValueFormatString=function(e,t){var i="#,##0.",a=t;1>e&&(a+=Math.floor(Math.abs(Math.log(e)/Math.LN10)),isNaN(a)||!isFinite(a))&&(a=t);for(var n=0;n<a;n++)i+="#";return i},N.getNiceExponent=function(e,t){var i=Math.floor(Math.log(e)/Math.LN10),a=e/Math.pow(10,i),a=0>i?1>=a?1:5>=a?5:10:Math.max(Math.floor(a),1);return-20>i?Number(a*Math.pow(10,i)):Number((a*Math.pow(10,i)).toFixed(20))},N.getNiceNumber=function(e,t){var i=Math.floor(Math.log(e)/Math.LN10),a=e/Math.pow(10,i),a=t?1.5>a?1:3>a?2:7>a?5:10:1>=a?1:2>=a?2:5>=a?5:10;return-20>i?Number(a*Math.pow(10,i)):Number((a*Math.pow(10,i)).toFixed(20))},N.prototype.getLabelStartPoint=function(){var e=q[this.intervalType+"Duration"]*this.interval,e=new Date(Math.floor(this.viewportMinimum/e)*e);return"millisecond"!==this.intervalType&&("second"===this.intervalType?0<e.getMilliseconds()&&(e.setSeconds(e.getSeconds()+1),e.setMilliseconds(0)):"minute"===this.intervalType?(0<e.getSeconds()||0<e.getMilliseconds())&&(e.setMinutes(e.getMinutes()+1),e.setSeconds(0),e.setMilliseconds(0)):"hour"===this.intervalType?(0<e.getMinutes()||0<e.getSeconds()||0<e.getMilliseconds())&&(e.setHours(e.getHours()+1),e.setMinutes(0),e.setSeconds(0),e.setMilliseconds(0)):"day"===this.intervalType?(0<e.getHours()||0<e.getMinutes()||0<e.getSeconds()||0<e.getMilliseconds())&&(e.setDate(e.getDate()+1),e.setHours(0),e.setMinutes(0),e.setSeconds(0),e.setMilliseconds(0)):"week"===this.intervalType?(0<e.getDay()||0<e.getHours()||0<e.getMinutes()||0<e.getSeconds()||0<e.getMilliseconds())&&(e.setDate(e.getDate()+(7-e.getDay())),e.setHours(0),e.setMinutes(0),e.setSeconds(0),e.setMilliseconds(0)):"month"===this.intervalType?(1<e.getDate()||0<e.getHours()||0<e.getMinutes()||0<e.getSeconds()||0<e.getMilliseconds())&&(e.setMonth(e.getMonth()+1),e.setDate(1),e.setHours(0),e.setMinutes(0),e.setSeconds(0),e.setMilliseconds(0)):"year"===this.intervalType&&(0<e.getMonth()||1<e.getDate()||0<e.getHours()||0<e.getMinutes()||0<e.getSeconds()||0<e.getMilliseconds())&&(e.setFullYear(e.getFullYear()+1),e.setMonth(0),e.setDate(1),e.setHours(0),e.setMinutes(0),e.setSeconds(0),e.setMilliseconds(0))),e},e(V,D),e(W,D),W.prototype.createUserOptions=function(e){if(void 0!==e||this.options._isPlaceholder){var t=0;this.parent.options._isPlaceholder&&this.parent.createUserOptions(),this.options._isPlaceholder||(u(this.parent[this.optionsName]),t=this.parent.options[this.optionsName].indexOf(this.options)),this.options=void 0===e?{}:e,this.parent.options[this.optionsName][t]=this.options}},W.prototype.render=function(e){if(0!==this.spacing||0!==this.options.lineThickness&&(void 0!==this.options.lineThickness||0!==this.parent.lineThickness)){var t=this.ctx,i=this.ctx.globalAlpha;this.ctx=e||this.ctx,this.ctx.save(),this.ctx.beginPath(),this.ctx.rect(this.chart.plotArea.x1,this.chart.plotArea.y1,this.chart.plotArea.width,this.chart.plotArea.height),this.ctx.clip();var a=this.scaleBreaks.parent.getPixelCoordinatesOnAxis(this.startValue),n=this.scaleBreaks.parent.getPixelCoordinatesOnAxis(this.endValue);this.ctx.strokeStyle=this.lineColor,this.ctx.fillStyle=this.color,this.ctx.beginPath(),this.ctx.globalAlpha=1,l(this.id);var o,s,r,c,h,u;e=Math.max(this.spacing,3);var d=Math.max(0,this.lineThickness);if(this.ctx.lineWidth=d,this.ctx.setLineDash&&this.ctx.setLineDash(f(this.lineDashType,d)),"bottom"===this.scaleBreaks.parent._position||"top"===this.scaleBreaks.parent._position){if(a=1==d%2?.5+(a.x<<0):a.x<<0,s=1==d%2?.5+(n.x<<0):n.x<<0,"top"===this.scaleBreaks.parent._position?(n=this.chart.plotArea.y1,r=this.chart.plotArea.y2+d/2+.5<<0):(n=this.chart.plotArea.y2,r=this.chart.plotArea.y1-d/2+.5<<0,e*=-1),this.bounds={x1:a-d/2,y1:n,x2:s+d/2,y2:r},this.ctx.moveTo(a,n),"straight"===this.type||"top"===this.scaleBreaks.parent._position&&0>=e||"bottom"===this.scaleBreaks.parent._position&&0<=e)this.ctx.lineTo(a,r),this.ctx.lineTo(s,r),this.ctx.lineTo(s,n);else if("wavy"===this.type){c=a,h=n,o=.5,u=(r-h)/e/3;for(var p=0;p<u;p++)this.ctx.bezierCurveTo(c+o*e,h+e,c+o*e,h+2*e,c,h+3*e),h+=3*e,o*=-1;for(this.ctx.bezierCurveTo(c+o*e,h+e,c+o*e,h+2*e,c,h+3*e),c=s,o*=-1,this.ctx.lineTo(c,h),p=0;p<u;p++)this.ctx.bezierCurveTo(c+o*e,h-e,c+o*e,h-2*e,c,h-3*e),h-=3*e,o*=-1}else if("zigzag"===this.type){for(o=-1,h=n+e,c=a+e,u=(r-h)/e/2,p=0;p<u;p++)this.ctx.lineTo(c,h),c+=2*o*e,h+=2*e,o*=-1;for(this.ctx.lineTo(c,h),c+=s-a,p=0;p<u+1;p++)this.ctx.lineTo(c,h),c+=2*o*e,h-=2*e,o*=-1;this.ctx.lineTo(c+o*e,h+e)}}else if("left"===this.scaleBreaks.parent._position||"right"===this.scaleBreaks.parent._position)if(n=1==d%2?.5+(n.y<<0):n.y<<0,r=1==d%2?.5+(a.y<<0):a.y<<0,"left"===this.scaleBreaks.parent._position?(a=this.chart.plotArea.x1,s=this.chart.plotArea.x2+d/2+.5<<0):(a=this.chart.plotArea.x2,s=this.chart.plotArea.x1-d/2+.5<<0,e*=-1),this.bounds={x1:a,y1:n-d/2,x2:s,y2:r+d/2},this.ctx.moveTo(a,n),"straight"===this.type||"left"===this.scaleBreaks.parent._position&&0>=e||"right"===this.scaleBreaks.parent._position&&0<=e)this.ctx.lineTo(s,n),this.ctx.lineTo(s,r),this.ctx.lineTo(a,r);else if("wavy"===this.type){for(c=a,h=n,o=.5,u=(s-c)/e/3,p=0;p<u;p++)this.ctx.bezierCurveTo(c+e,h+o*e,c+2*e,h+o*e,c+3*e,h),c+=3*e,o*=-1;for(this.ctx.bezierCurveTo(c+e,h+o*e,c+2*e,h+o*e,c+3*e,h),h=r,o*=-1,this.ctx.lineTo(c,h),p=0;p<u;p++)this.ctx.bezierCurveTo(c-e,h+o*e,c-2*e,h+o*e,c-3*e,h),c-=3*e,o*=-1}else if("zigzag"===this.type){for(o=1,h=n-e,c=a+e,u=(s-c)/e/2,p=0;p<u;p++)this.ctx.lineTo(c,h),h+=2*o*e,c+=2*e,o*=-1;for(this.ctx.lineTo(c,h),h+=r-n,p=0;p<u+1;p++)this.ctx.lineTo(c,h),h+=2*o*e,c-=2*e,o*=-1;this.ctx.lineTo(c+e,h+o*e)}0<d&&this.ctx.stroke(),this.ctx.closePath(),this.ctx.globalAlpha=this.fillOpacity,this.ctx.globalCompositeOperation="destination-over",this.ctx.fill(),this.ctx.restore(),this.ctx.globalAlpha=i,this.ctx=t}},e(z,D),z.prototype.createUserOptions=function(e){if(void 0!==e||this.options._isPlaceholder){var t=0;this.parent.options._isPlaceholder&&this.parent.createUserOptions(),this.options._isPlaceholder||(u(this.parent.stripLines),t=this.parent.options.stripLines.indexOf(this.options)),this.options=void 0===e?{}:e,this.parent.options.stripLines[t]=this.options}},z.prototype.render=function(){this.ctx.save();var e=this.parent.getPixelCoordinatesOnAxis(this.value),t=Math.abs("pixel"===this._thicknessType?this.thickness:this.parent.conversionParameters.pixelPerUnit*this.thickness);if(0<t){var i=null===this.opacity?1:this.opacity;this.ctx.strokeStyle=this.color,this.ctx.beginPath();var a=this.ctx.globalAlpha;this.ctx.globalAlpha=i,l(this.id);var n,o,s,r;this.ctx.lineWidth=t,this.ctx.setLineDash&&this.ctx.setLineDash(f(this.lineDashType,t)),"bottom"===this.parent._position||"top"===this.parent._position?(n=o=1==this.ctx.lineWidth%2?.5+(e.x<<0):e.x<<0,s=this.chart.plotArea.y1,r=this.chart.plotArea.y2,this.bounds={x1:n-t/2,y1:s,x2:o+t/2,y2:r}):"left"!==this.parent._position&&"right"!==this.parent._position||(s=r=1==this.ctx.lineWidth%2?.5+(e.y<<0):e.y<<0,n=this.chart.plotArea.x1,o=this.chart.plotArea.x2,this.bounds={x1:n,y1:s-t/2,x2:o,y2:r+t/2}),this.ctx.moveTo(n,s),this.ctx.lineTo(o,r),this.ctx.stroke(),this.ctx.globalAlpha=a}this.ctx.restore()},e(H,D),H.prototype.render=function(e,t){var i,a,n,o,s=null,r=s=null,l="";if(!this.valueFormatString)if("dateTime"===this.parent.valueType)this.valueFormatString=this.parent.valueFormatString;else{var c=0,c="xySwapped"===this.chart.plotInfo.axisPlacement?50<this.parent.range?0:500<this.chart.width&&25>this.parent.range?2:Math.floor(Math.abs(Math.log(this.parent.range)/Math.LN10))+(5>this.parent.range?2:10>this.parent.range?1:0):50<this.parent.range?0:Math.floor(Math.abs(Math.log(this.parent.range)/Math.LN10))+(5>this.parent.range?2:10>this.parent.range?1:0);this.valueFormatString=N.generateValueFormatString(this.parent.range,c)}var r=null===this.opacity?1:this.opacity,c=Math.abs("pixel"===this._thicknessType?this.thickness:this.parent.conversionParameters.pixelPerUnit*this.thickness),u=this.chart.overlaidCanvasCtx,d=u.globalAlpha;if(u.globalAlpha=r,u.beginPath(),u.strokeStyle=this.color,u.lineWidth=c,u.save(),this.labelFontSize=h(this.options.labelFontSize)?this.parent.labelFontSize:this.labelFontSize,
"left"===this.parent._position||"right"===this.parent._position?(this.labelMaxWidth=h(this.options.labelMaxWidth)?this.parent.bounds.x2-this.parent.bounds.x1:this.labelMaxWidth,this.labelMaxHeight=h(this.options.labelWrap)||this.labelWrap?3*this.chart.height:2*this.labelFontSize):"top"!==this.parent._position&&"bottom"!==this.parent._position||(this.labelMaxWidth=h(this.options.labelMaxWidth)?3*this.chart.width:this.labelMaxWidth,this.labelMaxHeight=h(this.options.labelWrap)||this.labelWrap?this.parent.bounds.height:2*this.labelFontSize),0<c&&u.setLineDash&&u.setLineDash(f(this.lineDashType,c)),r=new M(u,{x:0,y:0,padding:{top:2,right:3,bottom:2,left:4},backgroundColor:this.labelBackgroundColor,borderColor:this.labelBorderColor,borderThickness:this.labelBorderThickness,cornerRadius:this.labelCornerRadius,maxWidth:this.labelMaxWidth,maxHeight:this.labelMaxHeight,angle:this.labelAngle,text:l,horizontalAlign:"left",fontSize:this.labelFontSize,fontFamily:this.labelFontFamily,fontWeight:this.labelFontWeight,fontColor:this.labelFontColor,fontStyle:this.labelFontStyle,textBaseline:"middle"}),this.snapToDataPoint){var p=0,s=[];if("xySwapped"===this.chart.plotInfo.axisPlacement){var m=null;"bottom"===this.parent._position||"top"===this.parent._position?p=this.parent.dataSeries[0].axisX.convertPixelToValue({y:t}):"left"!==this.parent._position&&"right"!==this.parent._position||(p=this.parent.convertPixelToValue({y:t}));for(var g=0;g<this.parent.dataSeries.length;g++)(m=this.parent.dataSeries[g].getDataPointAtX(p,!0))&&0<=m.index&&(m.dataSeries=this.parent.dataSeries[g],null!==m.dataPoint.y&&s.push(m));if(m=null,0===s.length)return;if(s.sort(function(e,t){return e.distance-t.distance}),m=Math.abs(e-this.parent.convertValueToPixel(s[0].dataPoint.y)),g=0,"rangeBar"===s[0].dataSeries.type||"error"===s[0].dataSeries.type)for(var m=Math.abs(e-this.parent.convertValueToPixel(s[g].dataPoint.y[0])),v=0,p=0;p<s.length;p++)if(s[p].dataPoint.y&&s[p].dataPoint.y.length)for(l=0;l<s[p].dataPoint.y.length;l++)(v=Math.abs(e-this.parent.convertValueToPixel(s[p].dataPoint.y[l])))<m&&(m=v,g=p);else(v=Math.abs(e-this.parent.convertValueToPixel(s[p].dataPoint.y)))<m&&(m=v,g=p);else if("stackedBar"===s[0].dataSeries.type)for(var m=Math.abs(e-this.parent.convertValueToPixel(s[0].dataPoint.y)),b=v=0,p=g=0;p<s.length;p++)if(s[p].dataPoint.y&&s[p].dataPoint.y.length)for(l=0;l<s[p].dataPoint.y.length;l++)(v=Math.abs(e-this.parent.convertValueToPixel(s[p].dataPoint.y[l])))<m&&(m=v,g=p);else b+=s[p].dataPoint.y,(v=Math.abs(e-this.parent.convertValueToPixel(b)))<m&&(m=v,g=p);else if("stackedBar100"===s[0].dataSeries.type)for(var m=Math.abs(e-this.parent.convertValueToPixel(s[0].dataPoint.y)),y=b=v=0,p=0;p<s.length;p++)if(s[p].dataPoint.y&&s[p].dataPoint.y.length)for(l=0;l<s[p].dataPoint.y.length;l++)(v=Math.abs(e-this.parent.convertValueToPixel(s[p].dataPoint.y[l])))<m&&(m=v,g=p);else b+=s[p].dataPoint.y,y=s[p].dataPoint.x.getTime?s[p].dataPoint.x.getTime():s[p].dataPoint.x,y=b/s[p].dataSeries.plotUnit.dataPointYSums[y]*100,(v=Math.abs(e-this.parent.convertValueToPixel(y)))<m&&(m=v,g=p);else for(m=Math.abs(e-this.parent.convertValueToPixel(s[0].dataPoint.y)),p=g=v=0;p<s.length;p++)if(s[p].dataPoint.y&&s[p].dataPoint.y.length)for(l=0;l<s[p].dataPoint.y.length;l++)(v=Math.abs(e-this.parent.convertValueToPixel(s[p].dataPoint.y[l])))<m&&(m=v,g=p);else(v=Math.abs(e-this.parent.convertValueToPixel(s[p].dataPoint.y)))<m&&(m=v,g=p);if(l=s[g],"bottom"===this.parent._position||"top"===this.parent._position){if(i=0,"rangeBar"===this.parent.dataSeries[g].type||"error"===this.parent.dataSeries[g].type){for(m=Math.abs(e-this.parent.convertValueToPixel(l.dataPoint.y[0])),p=v=0;p<l.dataPoint.y.length;p++)(v=Math.abs(e-this.parent.convertValueToPixel(l.dataPoint.y[p])))<m&&(m=v,i=p);s=1==u.lineWidth%2?.5+(this.parent.convertValueToPixel(l.dataPoint.y[i])<<0):this.parent.convertValueToPixel(l.dataPoint.y[i])<<0,r.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:l.dataPoint.y[i]}):h(this.options.label)?Z(l.dataPoint.y[i],this.valueFormatString,this.chart._cultureInfo):this.label}else if("stackedBar"===this.parent.dataSeries[g].type){for(m=Math.abs(e-this.parent.convertValueToPixel(s[0].dataPoint.y)),b=v=0,p=g;0<=p;p--)b+=s[p].dataPoint.y,(v=Math.abs(e-this.parent.convertValueToPixel(b)))<m&&(m=v,i=p);s=1==u.lineWidth%2?.5+(this.parent.convertValueToPixel(b)<<0):this.parent.convertValueToPixel(b)<<0,r.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:l.dataPoint.y}):h(this.options.label)?Z(l.dataPoint.y,this.valueFormatString,this.chart._cultureInfo):this.label}else if("stackedBar100"===this.parent.dataSeries[g].type){for(m=Math.abs(e-this.parent.convertValueToPixel(s[0].dataPoint.y)),y=b=v=0,p=g;0<=p;p--)b+=s[p].dataPoint.y,y=s[p].dataPoint.x.getTime?s[p].dataPoint.x.getTime():s[p].dataPoint.x,y=b/s[p].dataSeries.plotUnit.dataPointYSums[y]*100,(v=Math.abs(e-this.parent.convertValueToPixel(y)))<m&&(m=v,i=p);s=1==u.lineWidth%2?.5+(this.parent.convertValueToPixel(y)<<0):this.parent.convertValueToPixel(y)<<0,r.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:y}):h(this.options.label)?Z(y,this.valueFormatString,this.chart._cultureInfo):this.label}else s=1==u.lineWidth%2?.5+(this.parent.convertValueToPixel(l.dataPoint.y)<<0):this.parent.convertValueToPixel(l.dataPoint.y)<<0,r.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:l.dataPoint.y}):h(this.options.label)?Z(l.dataPoint.y,this.valueFormatString,this.chart._cultureInfo):this.label;i=a=s,n=this.chart.plotArea.y1,o=this.chart.plotArea.y2,this.bounds={x1:i-c/2,y1:n,x2:a+c/2,y2:o},r.x=i-r.measureText().width/2,r.x+r.width>this.chart.bounds.x2?r.x=this.chart.bounds.x2-r.width:r.x<this.chart.bounds.x1&&(r.x=this.chart.bounds.x1),r.y=this.parent.lineCoordinates.y2+r.fontSize/2+2}else if("left"===this.parent._position||"right"===this.parent._position){if(n=o=s=1==u.lineWidth%2?.5+(this.parent.convertValueToPixel(l.dataPoint.x)<<0):this.parent.convertValueToPixel(l.dataPoint.x)<<0,i=this.chart.plotArea.x1,a=this.chart.plotArea.x2,this.bounds={x1:i,y1:n-c/2,x2:a,y2:o+c/2},y=!1,this.parent.labels)for(s=Math.ceil(this.parent.interval),p=0;p<this.parent.viewportMaximum;p+=s){if(!this.parent.labels[p]){y=!1;break}y=!0}if(y){if("axisX"===this.parent.type)for(p=this.parent.convertPixelToValue({y:t}),m=null,g=0;g<this.parent.dataSeries.length;g++)(m=this.parent.dataSeries[g].getDataPointAtX(p,!0))&&0<=m.index&&(r.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:l.dataPoint.x}):h(this.options.label)?m.dataPoint.label:this.label)}else"dateTime"===this.parent.valueType?r.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:l.dataPoint.x}):h(this.options.label)?J(l.dataPoint.x,this.valueFormatString,this.chart._cultureInfo):this.label:"number"===this.parent.valueType&&(r.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:l.dataPoint.x}):h(this.options.label)?Z(l.dataPoint.x,this.valueFormatString,this.chart._cultureInfo):this.label);r.y=o+r.fontSize/2-r.measureText().height/2+2,r.y-r.fontSize/2<this.chart.bounds.y1?r.y=this.chart.bounds.y1+r.fontSize/2+2:r.y+r.measureText().height-r.fontSize/2>this.chart.bounds.y2&&(r.y=this.chart.bounds.y2-r.measureText().height+r.fontSize/2),"left"===this.parent._position?r.x=this.parent.lineCoordinates.x2-r.measureText().width:"right"===this.parent._position&&(r.x=this.parent.lineCoordinates.x2)}}else if("bottom"===this.parent._position||"top"===this.parent._position){for(p=this.parent.convertPixelToValue({x:e}),g=0;g<this.parent.dataSeries.length;g++)(m=this.parent.dataSeries[g].getDataPointAtX(p,!0))&&0<=m.index&&(m.dataSeries=this.parent.dataSeries[g],null!==m.dataPoint.y&&s.push(m));if(0===s.length)return;if(s.sort(function(e,t){return e.distance-t.distance}),l=s[0],i=a=s=1==u.lineWidth%2?.5+(this.parent.convertValueToPixel(l.dataPoint.x)<<0):this.parent.convertValueToPixel(l.dataPoint.x)<<0,n=this.chart.plotArea.y1,o=this.chart.plotArea.y2,this.bounds={x1:i-c/2,y1:n,x2:a+c/2,y2:o},y=!1,this.parent.labels)for(s=Math.ceil(this.parent.interval),p=0;p<this.parent.viewportMaximum;p+=s){if(!this.parent.labels[p]){y=!1;break}y=!0}if(y){if("axisX"===this.parent.type)for(p=this.parent.convertPixelToValue({x:e}),m=null,g=0;g<this.parent.dataSeries.length;g++)(m=this.parent.dataSeries[g].getDataPointAtX(p,!0))&&0<=m.index&&(r.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:l.dataPoint.x}):h(this.options.label)?m.dataPoint.label:this.label)}else"dateTime"===this.parent.valueType?r.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:l.dataPoint.x}):h(this.options.label)?J(l.dataPoint.x,this.valueFormatString,this.chart._cultureInfo):this.label:"number"===this.parent.valueType&&(r.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:l.dataPoint.x}):h(this.options.label)?Z(l.dataPoint.x,this.valueFormatString,this.chart._cultureInfo):this.label);r.x=i-r.measureText().width/2,r.x+r.width>this.chart.bounds.x2&&(r.x=this.chart.bounds.x2-r.width),r.x<this.chart.bounds.x1&&(r.x=this.chart.bounds.x1),"bottom"===this.parent._position?r.y=this.parent.lineCoordinates.y2+r.fontSize/2+2:"top"===this.parent._position&&(r.y=this.parent.lineCoordinates.y1-r.height+r.fontSize/2+2)}else if("left"===this.parent._position||"right"===this.parent._position){for(!h(this.parent.dataSeries)&&0<this.parent.dataSeries.length&&(p=this.parent.dataSeries[0].axisX.convertPixelToValue({x:e})),g=0;g<this.parent.dataSeries.length;g++)(m=this.parent.dataSeries[g].getDataPointAtX(p,!0))&&0<=m.index&&(m.dataSeries=this.parent.dataSeries[g],null!==m.dataPoint.y&&s.push(m));if(0===s.length)return;if(s.sort(function(e,t){return e.distance-t.distance}),g=0,"rangeColumn"===s[0].dataSeries.type||"rangeArea"===s[0].dataSeries.type||"error"===s[0].dataSeries.type||"rangeSplineArea"===s[0].dataSeries.type||"candlestick"===s[0].dataSeries.type||"ohlc"===s[0].dataSeries.type||"boxAndWhisker"===s[0].dataSeries.type)for(m=Math.abs(t-this.parent.convertValueToPixel(s[0].dataPoint.y[0])),p=v=0;p<s.length;p++)if(s[p].dataPoint.y&&s[p].dataPoint.y.length)for(l=0;l<s[p].dataPoint.y.length;l++)(v=Math.abs(t-this.parent.convertValueToPixel(s[p].dataPoint.y[l])))<m&&(m=v,g=p);else(v=Math.abs(t-this.parent.convertValueToPixel(s[p].dataPoint.y)))<m&&(m=v,g=p);else if("stackedColumn"===s[0].dataSeries.type||"stackedArea"===s[0].dataSeries.type)for(m=Math.abs(t-this.parent.convertValueToPixel(s[0].dataPoint.y)),p=b=v=0;p<s.length;p++)if(s[p].dataPoint.y&&s[p].dataPoint.y.length)for(l=0;l<s[p].dataPoint.y.length;l++)(v=Math.abs(t-this.parent.convertValueToPixel(s[p].dataPoint.y[l])))<m&&(m=v,g=p);else b+=s[p].dataPoint.y,(v=Math.abs(t-this.parent.convertValueToPixel(b)))<m&&(m=v,g=p);else if("stackedColumn100"===s[0].dataSeries.type||"stackedArea100"===s[0].dataSeries.type)for(m=Math.abs(t-this.parent.convertValueToPixel(s[0].dataPoint.y)),p=y=b=v=0;p<s.length;p++)if(s[p].dataPoint.y&&s[p].dataPoint.y.length)for(l=0;l<s[p].dataPoint.y.length;l++)(v=Math.abs(t-this.parent.convertValueToPixel(s[p].dataPoint.y[l])))<m&&(m=v,g=p);else b+=s[p].dataPoint.y,y=s[p].dataPoint.x.getTime?s[p].dataPoint.x.getTime():s[p].dataPoint.x,y=b/s[p].dataSeries.plotUnit.dataPointYSums[y]*100,(v=Math.abs(t-this.parent.convertValueToPixel(y)))<m&&(m=v,g=p);else for(m=Math.abs(t-this.parent.convertValueToPixel(s[0].dataPoint.y)),p=v=0;p<s.length;p++)if(s[p].dataPoint.y&&s[p].dataPoint.y.length)for(l=0;l<s[p].dataPoint.y.length;l++)(v=Math.abs(t-this.parent.convertValueToPixel(s[p].dataPoint.y[l])))<m&&(m=v,g=p);else(v=Math.abs(t-this.parent.convertValueToPixel(s[p].dataPoint.y)))<m&&(m=v,g=p);if(l=s[g],i=0,"rangeColumn"===this.parent.dataSeries[g].type||"rangeArea"===this.parent.dataSeries[g].type||"error"===this.parent.dataSeries[g].type||"rangeSplineArea"===this.parent.dataSeries[g].type||"candlestick"===this.parent.dataSeries[g].type||"ohlc"===this.parent.dataSeries[g].type||"boxAndWhisker"===this.parent.dataSeries[g].type){for(m=Math.abs(t-this.parent.convertValueToPixel(l.dataPoint.y[0])),p=v=0;p<l.dataPoint.y.length;p++)(v=Math.abs(t-this.parent.convertValueToPixel(l.dataPoint.y[p])))<m&&(m=v,i=p);s=1==u.lineWidth%2?.5+(this.parent.convertValueToPixel(l.dataPoint.y[i])<<0):this.parent.convertValueToPixel(l.dataPoint.y[i])<<0,r.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:l.dataPoint.y[i]}):h(this.options.label)?Z(l.dataPoint.y[i],this.valueFormatString,this.chart._cultureInfo):this.label}else if("stackedColumn"===this.parent.dataSeries[g].type||"stackedArea"===this.parent.dataSeries[g].type){for(m=Math.abs(t-this.parent.convertValueToPixel(s[0].dataPoint.y)),b=v=0,p=g;0<=p;p--)b+=s[p].dataPoint.y,(v=Math.abs(t-this.parent.convertValueToPixel(b)))<m&&(m=v,i=p);s=1==u.lineWidth%2?.5+(this.parent.convertValueToPixel(b)<<0):this.parent.convertValueToPixel(b)<<0,r.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:l.dataPoint.y}):h(this.options.label)?Z(l.dataPoint.y,this.valueFormatString,this.chart._cultureInfo):this.label}else if("stackedColumn100"===this.parent.dataSeries[g].type||"stackedArea100"===this.parent.dataSeries[g].type){for(m=Math.abs(t-this.parent.convertValueToPixel(s[0].dataPoint.y)),b=v=0,p=g;0<=p;p--)b+=s[p].dataPoint.y,y=s[p].dataPoint.x.getTime?s[p].dataPoint.x.getTime():s[p].dataPoint.x,y=b/s[p].dataSeries.plotUnit.dataPointYSums[y]*100,(v=Math.abs(t-this.parent.convertValueToPixel(y)))<m&&(m=v,i=p);s=1==u.lineWidth%2?.5+(this.parent.convertValueToPixel(y)<<0):this.parent.convertValueToPixel(y)<<0,r.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:y}):h(this.options.label)?Z(y,this.valueFormatString,this.chart._cultureInfo):this.label}else"waterfall"===this.parent.dataSeries[g].type?(s=1==u.lineWidth%2?.5+(this.parent.convertValueToPixel(l.dataSeries.dataPointEOs[l.index].cumulativeSum)<<0):this.parent.convertValueToPixel(l.dataSeries.dataPointEOs[l.index].cumulativeSum)<<0,r.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:l.dataSeries.dataPointEOs[l.index].cumulativeSum}):h(this.options.label)?Z(l.dataSeries.dataPointEOs[l.index].cumulativeSum,this.valueFormatString,this.chart._cultureInfo):this.label):(s=1==u.lineWidth%2?.5+(this.parent.convertValueToPixel(l.dataPoint.y)<<0):this.parent.convertValueToPixel(l.dataPoint.y)<<0,r.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:l.dataPoint.y}):h(this.options.label)?Z(l.dataPoint.y,this.valueFormatString,this.chart._cultureInfo):this.label);n=o=s,i=this.chart.plotArea.x1,a=this.chart.plotArea.x2,this.bounds={x1:i,y1:n-c/2,x2:a,y2:o+c/2},r.y=o+r.fontSize/2-r.measureText().height/2+2,r.y-r.fontSize/2<this.chart.bounds.y1?r.y=this.chart.bounds.y1+r.fontSize/2+2:r.y+r.measureText().height-r.fontSize/2>this.chart.bounds.y2&&(r.y=this.chart.bounds.y2-r.measureText().height+r.fontSize/2),"left"===this.parent._position?r.x=this.parent.lineCoordinates.x2-r.measureText().width:"right"===this.parent._position&&(r.x=this.parent.lineCoordinates.x2)}s=null,("bottom"===this.parent._position||"top"===this.parent._position)&&i>=this.parent.convertValueToPixel(this.parent.viewportMinimum)&&a<=this.parent.convertValueToPixel(this.parent.viewportMaximum)&&(0<c&&(u.moveTo(i,n),u.lineTo(a,o),u.stroke()),u.restore(),!h(r.text)&&("number"==typeof r.text.valueOf()||0<r.text.length)&&r.render(!0)),("left"===this.parent._position||"right"===this.parent._position)&&o>=this.parent.convertValueToPixel(this.parent.viewportMaximum)&&n<=this.parent.convertValueToPixel(this.parent.viewportMinimum)&&(0<c&&(u.moveTo(i,n),u.lineTo(a,o),u.stroke()),u.restore(),!h(r.text)&&("number"==typeof r.text.valueOf()||0<r.text.length)&&r.render(!0))}else{if("bottom"===this.parent._position||"top"===this.parent._position?(i=a=s=1==u.lineWidth%2?.5+(e<<0):e<<0,n=this.chart.plotArea.y1,o=this.chart.plotArea.y2,this.bounds={x1:i-c/2,y1:n,x2:a+c/2,y2:o}):"left"!==this.parent._position&&"right"!==this.parent._position||(n=o=s=1==u.lineWidth%2?.5+(t<<0):t<<0,i=this.chart.plotArea.x1,a=this.chart.plotArea.x2,this.bounds={x1:i,y1:n-c/2,x2:a,y2:o+c/2}),"xySwapped"===this.chart.plotInfo.axisPlacement)if("left"===this.parent._position||"right"===this.parent._position){if(y=!1,this.parent.labels)for(s=Math.ceil(this.parent.interval),p=0;p<this.parent.viewportMaximum;p+=s){if(!this.parent.labels[p]){y=!1;break}y=!0}if(y){if("axisX"===this.parent.type)for(p=this.parent.convertPixelToValue({y:t}),m=null,g=0;g<this.parent.dataSeries.length;g++)(m=this.parent.dataSeries[g].getDataPointAtX(p,!0))&&0<=m.index&&(r.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:this.parent.convertPixelToValue(e)}):h(this.options.label)?m.dataPoint.label:this.label)}else"dateTime"===this.parent.valueType?r.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:this.parent.convertPixelToValue(t)}):h(this.options.label)?J(this.parent.convertPixelToValue(t),this.valueFormatString,this.chart._cultureInfo):this.label:"number"===this.parent.valueType&&(r.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:this.parent.convertPixelToValue(t)}):h(this.options.label)?Z(this.parent.convertPixelToValue(t),this.valueFormatString,this.chart._cultureInfo):this.label);r.y=t+r.fontSize/2-r.measureText().height/2+2,r.y-r.fontSize/2<this.chart.bounds.y1?r.y=this.chart.bounds.y1+r.fontSize/2+2:r.y+r.measureText().height-r.fontSize/2>this.chart.bounds.y2&&(r.y=this.chart.bounds.y2-r.measureText().height+r.fontSize/2),"left"===this.parent._position?r.x=this.parent.lineCoordinates.x1-r.measureText().width:"right"===this.parent._position&&(r.x=this.parent.lineCoordinates.x2)}else"bottom"!==this.parent._position&&"top"!==this.parent._position||(r.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:this.parent.convertPixelToValue(e)}):h(this.options.label)?Z(this.parent.convertPixelToValue(e),this.valueFormatString,this.chart._cultureInfo):this.label,r.x=i-r.measureText().width/2,r.x+r.width>this.chart.bounds.x2&&(r.x=this.chart.bounds.x2-r.width),r.x<this.chart.bounds.x1&&(r.x=this.chart.bounds.x1),"bottom"===this.parent._position&&(r.y=this.parent.lineCoordinates.y2+r.fontSize/2+2),"top"===this.parent._position&&(r.y=this.parent.lineCoordinates.y1-r.height+r.fontSize/2+2));else if("bottom"===this.parent._position||"top"===this.parent._position){if(y=!1,l="",this.parent.labels)for(s=Math.ceil(this.parent.interval),p=0;p<this.parent.viewportMaximum;p+=s){if(!this.parent.labels[p]){y=!1;break}y=!0}if(y){if("axisX"===this.parent.type)for(p=this.parent.convertPixelToValue({x:e}),m=null,g=0;g<this.parent.dataSeries.length;g++)(m=this.parent.dataSeries[g].getDataPointAtX(p,!0))&&0<=m.index&&(r.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:this.parent.convertPixelToValue(e)}):h(this.options.label)?m.dataPoint.label:this.label)}else"dateTime"===this.parent.valueType?r.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:this.parent.convertPixelToValue(e)}):h(this.options.label)?J(this.parent.convertPixelToValue(e),this.valueFormatString,this.chart._cultureInfo):this.label:"number"===this.parent.valueType&&(r.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:0<this.parent.dataSeries.length?this.parent.convertPixelToValue(e):""}):h(this.options.label)?Z(this.parent.convertPixelToValue(e),this.valueFormatString,this.chart._cultureInfo):this.label);r.x=i-r.measureText().width/2,r.x+r.width>this.chart.bounds.x2&&(r.x=this.chart.bounds.x2-r.width),r.x<this.chart.bounds.x1&&(r.x=this.chart.bounds.x1),"bottom"===this.parent._position?r.y=this.parent.lineCoordinates.y2+r.fontSize/2+2:"top"===this.parent._position&&(r.y=this.parent.lineCoordinates.y1-r.height+r.fontSize/2+2)}else"left"!==this.parent._position&&"right"!==this.parent._position||(r.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:this.parent.convertPixelToValue(t)}):h(this.options.label)?Z(this.parent.convertPixelToValue(t),this.valueFormatString,this.chart._cultureInfo):this.label,r.y=t+r.fontSize/2-r.measureText().height/2+2,r.y-r.fontSize/2<this.chart.bounds.y1?r.y=this.chart.bounds.y1+r.fontSize/2+2:r.y+r.measureText().height-r.fontSize/2>this.chart.bounds.y2&&(r.y=this.chart.bounds.y2-r.measureText().height+r.fontSize/2),"left"===this.parent._position?r.x=this.parent.lineCoordinates.x2-r.measureText().width:"right"===this.parent._position&&(r.x=this.parent.lineCoordinates.x2));0<c&&(u.moveTo(i,n),u.lineTo(a,o),u.stroke()),u.restore(),!h(r.text)&&("number"==typeof r.text.valueOf()||0<r.text.length)&&r.render(!0)}u.globalAlpha=d},e(U,D),U.prototype._initialize=function(){if(this.enabled){this.container=document.createElement("div"),this.container.setAttribute("class","canvasjs-chart-tooltip"),this.container.style.position="absolute",this.container.style.height="auto",this.container.style.boxShadow="1px 1px 2px 2px rgba(0,0,0,0.1)",this.container.style.zIndex="1000",this.container.style.pointerEvents="none",this.container.style.display="none";var e;e='<div style=" width: auto;height: auto;min-width: 50px;',e+="line-height: auto;",e+="margin: 0px 0px 0px 0px;",e+="padding: 5px;",e+="font-family: Calibri, Arial, Georgia, serif;",e+="font-weight: normal;",e+="font-style: "+(O?"italic;":"normal;"),e+="font-size: 14px;",e+="color: #000000;",e+="text-shadow: 1px 1px 1px rgba(0, 0, 0, 0.1);",e+="text-align: left;",e+="border: 2px solid gray;",e+=O?"background: rgba(255,255,255,.9);":"background: rgb(255,255,255);",e+="text-indent: 0px;",e+="white-space: nowrap;",e+="border-radius: 5px;",e+="-moz-user-select:none;",e+="-khtml-user-select: none;",e+="-webkit-user-select: none;",e+="-ms-user-select: none;",e+="user-select: none;",O||(e+="filter: alpha(opacity = 90);",e+="filter: progid:DXImageTransform.Microsoft.Shadow(Strength=3, Direction=135, Color='#666666');"),e+='} "> Sample Tooltip</div>',this.container.innerHTML=e,this.contentDiv=this.container.firstChild,this.container.style.borderRadius=this.contentDiv.style.borderRadius,this.chart._canvasJSContainer.appendChild(this.container)}},U.prototype.mouseMoveHandler=function(e,t){this._lastUpdated&&4>(new Date).getTime()-this._lastUpdated||(this._lastUpdated=(new Date).getTime(),this.chart.resetOverlayedCanvas(),this._updateToolTip(e,t))},U.prototype._updateToolTip=function(e,t,i){if(i=void 0===i||i,this.container||this._initialize(),this.enabled||this.hide(),!this.chart.disableToolTip){if(void 0===e||void 0===t){if(isNaN(this._prevX)||isNaN(this._prevY))return;e=this._prevX,t=this._prevY}else this._prevX=e,this._prevY=t;var a=null,n=null,o=[],s=0;if(this.shared&&this.enabled&&"none"!==this.chart.plotInfo.axisPlacement){if("xySwapped"===this.chart.plotInfo.axisPlacement){var r=[];if(this.chart.axisX)for(var l=0;l<this.chart.axisX.length;l++){for(var s=this.chart.axisX[l].convertPixelToValue({y:t}),c=null,a=0;a<this.chart.axisX[l].dataSeries.length;a++)(c=this.chart.axisX[l].dataSeries[a].getDataPointAtX(s,i))&&0<=c.index&&(c.dataSeries=this.chart.axisX[l].dataSeries[a],null!==c.dataPoint.y&&r.push(c));c=null}if(this.chart.axisX2)for(l=0;l<this.chart.axisX2.length;l++){for(s=this.chart.axisX2[l].convertPixelToValue({y:t}),c=null,a=0;a<this.chart.axisX2[l].dataSeries.length;a++)(c=this.chart.axisX2[l].dataSeries[a].getDataPointAtX(s,i))&&0<=c.index&&(c.dataSeries=this.chart.axisX2[l].dataSeries[a],null!==c.dataPoint.y&&r.push(c));c=null}}else{if(r=[],this.chart.axisX)for(l=0;l<this.chart.axisX.length;l++)for(s=this.chart.axisX[l].convertPixelToValue({x:e}),c=null,a=0;a<this.chart.axisX[l].dataSeries.length;a++)(c=this.chart.axisX[l].dataSeries[a].getDataPointAtX(s,i))&&0<=c.index&&(c.dataSeries=this.chart.axisX[l].dataSeries[a],null!==c.dataPoint.y&&r.push(c));if(this.chart.axisX2)for(l=0;l<this.chart.axisX2.length;l++)for(s=this.chart.axisX2[l].convertPixelToValue({x:e}),c=null,a=0;a<this.chart.axisX2[l].dataSeries.length;a++)(c=this.chart.axisX2[l].dataSeries[a].getDataPointAtX(s,i))&&0<=c.index&&(c.dataSeries=this.chart.axisX2[l].dataSeries[a],null!==c.dataPoint.y&&r.push(c))}if(0===r.length)return;for(r.sort(function(e,t){return e.distance-t.distance}),i=r[0],a=0;a<r.length;a++)r[a].dataPoint.x.valueOf()===i.dataPoint.x.valueOf()&&o.push(r[a]);r=null}else{if(c=this.chart.getDataPointAtXY(e,t,i))this.currentDataPointIndex=c.dataPointIndex,this.currentSeriesIndex=c.dataSeries.index;else if(O)if(0<(c=g(e,t,this.chart._eventManager.ghostCtx))&&void 0!==this.chart._eventManager.objectMap[c]){if(c=this.chart._eventManager.objectMap[c],"legendItem"===c.objectType)return;this.currentSeriesIndex=c.dataSeriesIndex,this.currentDataPointIndex=0<=c.dataPointIndex?c.dataPointIndex:-1}else this.currentDataPointIndex=-1;else this.currentDataPointIndex=-1;if(0<=this.currentSeriesIndex){if(n=this.chart.data[this.currentSeriesIndex],c={},0<=this.currentDataPointIndex)a=n.dataPoints[this.currentDataPointIndex],c.dataSeries=n,c.dataPoint=a,c.index=this.currentDataPointIndex,c.distance=Math.abs(a.x-s),"waterfall"===n.type&&(c.cumulativeSumYStartValue=n.dataPointEOs[this.currentDataPointIndex].cumulativeSumYStartValue,c.cumulativeSum=n.dataPointEOs[this.currentDataPointIndex].cumulativeSum);else{if(!this.enabled||"line"!==n.type&&"stepLine"!==n.type&&"spline"!==n.type&&"area"!==n.type&&"stepArea"!==n.type&&"splineArea"!==n.type&&"stackedArea"!==n.type&&"stackedArea100"!==n.type&&"rangeArea"!==n.type&&"rangeSplineArea"!==n.type&&"candlestick"!==n.type&&"ohlc"!==n.type&&"boxAndWhisker"!==n.type)return;s=n.axisX.convertPixelToValue({x:e}),c=n.getDataPointAtX(s,i),c.dataSeries=n,this.currentDataPointIndex=c.index,a=c.dataPoint}if(!h(c.dataPoint.y))if(c.dataSeries.axisY)if(0<c.dataPoint.y.length){for(a=i=0;a<c.dataPoint.y.length;a++)c.dataPoint.y[a]<c.dataSeries.axisY.viewportMinimum?i--:c.dataPoint.y[a]>c.dataSeries.axisY.viewportMaximum&&i++;i<c.dataPoint.y.length&&i>-c.dataPoint.y.length&&o.push(c)}else"column"===n.type||"bar"===n.type?0>c.dataPoint.y?0>c.dataSeries.axisY.viewportMinimum&&c.dataSeries.axisY.viewportMaximum>=c.dataPoint.y&&o.push(c):c.dataSeries.axisY.viewportMinimum<=c.dataPoint.y&&0<=c.dataSeries.axisY.viewportMaximum&&o.push(c):"bubble"===n.type?(i=this.chart._eventManager.objectMap[n.dataPointIds[c.index]].size/2,c.dataPoint.y>=c.dataSeries.axisY.viewportMinimum-i&&c.dataPoint.y<=c.dataSeries.axisY.viewportMaximum+i&&o.push(c)):"waterfall"===n.type?(i=0,c.cumulativeSumYStartValue<c.dataSeries.axisY.viewportMinimum?i--:c.cumulativeSumYStartValue>c.dataSeries.axisY.viewportMaximum&&i++,c.cumulativeSum<c.dataSeries.axisY.viewportMinimum?i--:c.cumulativeSum>c.dataSeries.axisY.viewportMaximum&&i++,2>i&&-2<i&&o.push(c)):(0<=c.dataSeries.type.indexOf("100")||"stackedColumn"===n.type||"stackedBar"===n.type||c.dataPoint.y>=c.dataSeries.axisY.viewportMinimum&&c.dataPoint.y<=c.dataSeries.axisY.viewportMaximum)&&o.push(c);else o.push(c)}}if(0<o.length&&(this.highlightObjects(o),this.enabled))if(i="",null!==(i=this.getToolTipInnerHTML({entries:o}))){this.contentDiv.innerHTML=i,i=!1,"none"===this.container.style.display&&(i=!0,this.container.style.display="block");try{this.contentDiv.style.background=this.backgroundColor?this.backgroundColor:O?"rgba(255,255,255,.9)":"rgb(255,255,255)",this.borderColor="waterfall"===o[0].dataSeries.type?this.contentDiv.style.borderRightColor=this.contentDiv.style.borderLeftColor=this.contentDiv.style.borderColor=this.options.borderColor?this.options.borderColor:o[0].dataPoint.color?o[0].dataPoint.color:-1<o[0].dataPoint.y?o[0].dataSeries.risingColor:o[0].dataSeries.fallingColor:"error"===o[0].dataSeries.type?this.contentDiv.style.borderRightColor=this.contentDiv.style.borderLeftColor=this.contentDiv.style.borderColor=this.options.borderColor?this.options.borderColor:o[0].dataSeries.color?o[0].dataSeries.color:o[0].dataSeries._colorSet[n.index%o[0].dataSeries._colorSet.length]:this.contentDiv.style.borderRightColor=this.contentDiv.style.borderLeftColor=this.contentDiv.style.borderColor=this.options.borderColor?this.options.borderColor:o[0].dataPoint.color?o[0].dataPoint.color:o[0].dataSeries.color?o[0].dataSeries.color:o[0].dataSeries._colorSet[o[0].index%o[0].dataSeries._colorSet.length],this.contentDiv.style.borderWidth=this.borderThickness||0===this.borderThickness?this.borderThickness+"px":"2px",this.contentDiv.style.borderRadius=this.cornerRadius||0===this.cornerRadius?this.cornerRadius+"px":"5px",this.container.style.borderRadius=this.contentDiv.style.borderRadius,this.contentDiv.style.fontSize=this.fontSize||0===this.fontSize?this.fontSize+"px":"14px",this.contentDiv.style.color=this.fontColor?this.fontColor:"#000000",this.contentDiv.style.fontFamily=this.fontFamily?this.fontFamily:"Calibri, Arial, Georgia, serif;",this.contentDiv.style.fontWeight=this.fontWeight?this.fontWeight:"normal",this.contentDiv.style.fontStyle=this.fontStyle?this.fontStyle:O?"italic":"normal"}catch(e){}"pie"===o[0].dataSeries.type||"doughnut"===o[0].dataSeries.type||"funnel"===o[0].dataSeries.type||"pyramid"===o[0].dataSeries.type||"bar"===o[0].dataSeries.type||"rangeBar"===o[0].dataSeries.type||"stackedBar"===o[0].dataSeries.type||"stackedBar100"===o[0].dataSeries.type?e=e-10-this.container.clientWidth:(e=o[0].dataSeries.axisX.convertValueToPixel(o[0].dataPoint.x)-this.container.clientWidth<<0,e-=10),0>e&&(e+=this.container.clientWidth+20),e+this.container.clientWidth>Math.max(this.chart.container.clientWidth,this.chart.width)&&(e=Math.max(0,Math.max(this.chart.container.clientWidth,this.chart.width)-this.container.clientWidth)),t=1!==o.length||this.shared||"line"!==o[0].dataSeries.type&&"stepLine"!==o[0].dataSeries.type&&"spline"!==o[0].dataSeries.type&&"area"!==o[0].dataSeries.type&&"stepArea"!==o[0].dataSeries.type&&"splineArea"!==o[0].dataSeries.type?"bar"===o[0].dataSeries.type||"rangeBar"===o[0].dataSeries.type||"stackedBar"===o[0].dataSeries.type||"stackedBar100"===o[0].dataSeries.type?o[0].dataSeries.axisX.convertValueToPixel(o[0].dataPoint.x):t:o[0].dataSeries.axisY.convertValueToPixel(o[0].dataPoint.y),t=10-t,0<t+this.container.clientHeight+5&&(t-=t+this.container.clientHeight+5-0),this.fixMozTransitionDelay(e,t),!this.animationEnabled||i?this.disableAnimation():(this.enableAnimation(),this.container.style.MozTransition=this.mozContainerTransition),this.container.style.left=e+"px",this.container.style.bottom=t+"px"}else this.hide(!1)}},U.prototype.highlightObjects=function(e){var t=this.chart.overlaidCanvasCtx;this.chart.resetOverlayedCanvas(),t.clearRect(0,0,this.chart.width,this.chart.height),t.save();var i=this.chart.plotArea,a=0;for(t.beginPath(),t.rect(i.x1,i.y1,i.x2-i.x1,i.y2-i.y1),t.clip(),i=0;i<e.length;i++){var n=e[i];if((n=this.chart._eventManager.objectMap[n.dataSeries.dataPointIds[n.index]])&&n.objectType&&"dataPoint"===n.objectType){
var a=this.chart.data[n.dataSeriesIndex],o=a.dataPoints[n.dataPointIndex],s=n.dataPointIndex;!1===o.highlightEnabled||!0!==a.highlightEnabled&&!0!==o.highlightEnabled||("line"===a.type||"stepLine"===a.type||"spline"===a.type||"scatter"===a.type||"area"===a.type||"stepArea"===a.type||"splineArea"===a.type||"stackedArea"===a.type||"stackedArea100"===a.type||"rangeArea"===a.type||"rangeSplineArea"===a.type?(o=a.getMarkerProperties(s,n.x1,n.y1,this.chart.overlaidCanvasCtx),o.size=Math.max(1.5*o.size<<0,10),o.borderColor=o.borderColor||"#FFFFFF",o.borderThickness=o.borderThickness||Math.ceil(.1*o.size),ae.drawMarkers([o]),void 0!==n.y2&&(o=a.getMarkerProperties(s,n.x1,n.y2,this.chart.overlaidCanvasCtx),o.size=Math.max(1.5*o.size<<0,10),o.borderColor=o.borderColor||"#FFFFFF",o.borderThickness=o.borderThickness||Math.ceil(.1*o.size),ae.drawMarkers([o]))):"bubble"===a.type?(o=a.getMarkerProperties(s,n.x1,n.y1,this.chart.overlaidCanvasCtx),o.size=n.size,o.color="white",o.borderColor="white",t.globalAlpha=.3,ae.drawMarkers([o]),t.globalAlpha=1):"column"===a.type||"stackedColumn"===a.type||"stackedColumn100"===a.type||"bar"===a.type||"rangeBar"===a.type||"stackedBar"===a.type||"stackedBar100"===a.type||"rangeColumn"===a.type||"waterfall"===a.type?Q(t,n.x1,n.y1,n.x2,n.y2,"white",0,null,!1,!1,!1,!1,.3):"pie"===a.type||"doughnut"===a.type?K(t,n.center,n.radius,"white",a.type,n.startAngle,n.endAngle,.3,n.percentInnerRadius):"funnel"===a.type||"pyramid"===a.type?te(t,n.funnelSection,.3,"white"):"candlestick"===a.type?(t.globalAlpha=1,t.strokeStyle=n.color,t.lineWidth=2*n.borderThickness,a=0==t.lineWidth%2?0:.5,t.beginPath(),t.moveTo(n.x3-a,Math.min(n.y2,n.y3)),t.lineTo(n.x3-a,Math.min(n.y1,n.y4)),t.stroke(),t.beginPath(),t.moveTo(n.x3-a,Math.max(n.y1,n.y4)),t.lineTo(n.x3-a,Math.max(n.y2,n.y3)),t.stroke(),Q(t,n.x1,Math.min(n.y1,n.y4),n.x2,Math.max(n.y1,n.y4),"transparent",2*n.borderThickness,n.color,!1,!1,!1,!1),t.globalAlpha=1):"ohlc"===a.type?(t.globalAlpha=1,t.strokeStyle=n.color,t.lineWidth=2*n.borderThickness,a=0==t.lineWidth%2?0:.5,t.beginPath(),t.moveTo(n.x3-a,n.y2),t.lineTo(n.x3-a,n.y3),t.stroke(),t.beginPath(),t.moveTo(n.x3,n.y1),t.lineTo(n.x1,n.y1),t.stroke(),t.beginPath(),t.moveTo(n.x3,n.y4),t.lineTo(n.x2,n.y4),t.stroke(),t.globalAlpha=1):"boxAndWhisker"===a.type?(t.save(),t.globalAlpha=1,t.strokeStyle=n.stemColor,t.lineWidth=2*n.stemThickness,0<n.stemThickness&&(t.beginPath(),t.moveTo(n.x3,n.y2+n.borderThickness/2),t.lineTo(n.x3,n.y1+n.whiskerThickness/2),t.stroke(),t.beginPath(),t.moveTo(n.x3,n.y4-n.whiskerThickness/2),t.lineTo(n.x3,n.y3-n.borderThickness/2),t.stroke()),t.beginPath(),Q(t,n.x1-n.borderThickness/2,Math.max(n.y2+n.borderThickness/2,n.y3+n.borderThickness/2),n.x2+n.borderThickness/2,Math.min(n.y2-n.borderThickness/2,n.y3-n.borderThickness/2),"transparent",n.borderThickness,n.color,!1,!1,!1,!1),t.globalAlpha=1,t.strokeStyle=n.whiskerColor,t.lineWidth=2*n.whiskerThickness,0<n.whiskerThickness&&(t.beginPath(),t.moveTo(Math.floor(n.x3-n.whiskerLength/2),n.y4),t.lineTo(Math.ceil(n.x3+n.whiskerLength/2),n.y4),t.stroke(),t.beginPath(),t.moveTo(Math.floor(n.x3-n.whiskerLength/2),n.y1),t.lineTo(Math.ceil(n.x3+n.whiskerLength/2),n.y1),t.stroke()),t.globalAlpha=1,t.strokeStyle=n.lineColor,t.lineWidth=2*n.lineThickness,0<n.lineThickness&&(t.beginPath(),t.moveTo(n.x1,n.y5),t.lineTo(n.x2,n.y5),t.stroke()),t.restore(),t.globalAlpha=1):"error"===a.type&&F(t,n.x1,n.y1,n.x2,n.y2,"white",n.whiskerProperties,n.stemProperties,n.isXYSwapped,.3))}}t.restore(),t.globalAlpha=1,t.beginPath()},U.prototype.getToolTipInnerHTML=function(e){e=e.entries;for(var t=null,i=null,a=null,n=0,o="",s=!0,r=0;r<e.length;r++)if(e[r].dataSeries.toolTipContent||e[r].dataPoint.toolTipContent){s=!1;break}if(s&&(this.content&&"function"==typeof this.content||this.contentFormatter))e={chart:this.chart,toolTip:this.options,entries:e},t=this.contentFormatter?this.contentFormatter(e):this.content(e);else if(this.shared&&"none"!==this.chart.plotInfo.axisPlacement){for(var l=null,c="",r=0;r<e.length;r++)i=e[r].dataSeries,a=e[r].dataPoint,n=e[r].index,o="",0===r&&s&&!this.content&&(this.chart.axisX&&0<this.chart.axisX.length?c+=void 0!==this.chart.axisX[0].labels[a.x]?this.chart.axisX[0].labels[a.x]:"{x}":this.chart.axisX2&&0<this.chart.axisX2.length&&(c+=void 0!==this.chart.axisX2[0].labels[a.x]?this.chart.axisX2[0].labels[a.x]:"{x}"),c+="</br>",c=this.chart.replaceKeywordsWithValue(c,a,i,n)),null===a.toolTipContent||void 0===a.toolTipContent&&null===i.options.toolTipContent||("line"===i.type||"stepLine"===i.type||"spline"===i.type||"area"===i.type||"stepArea"===i.type||"splineArea"===i.type||"column"===i.type||"bar"===i.type||"scatter"===i.type||"stackedColumn"===i.type||"stackedColumn100"===i.type||"stackedBar"===i.type||"stackedBar100"===i.type||"stackedArea"===i.type||"stackedArea100"===i.type||"waterfall"===i.type?(this.chart.axisX&&1<this.chart.axisX.length&&(o+=l!=i.axisXIndex?i.axisX.title?i.axisX.title+"<br/>":"X:{axisXIndex}<br/>":""),o+=a.toolTipContent?a.toolTipContent:i.toolTipContent?i.toolTipContent:this.content&&"function"!=typeof this.content?this.content:"<span style='\""+(this.options.fontColor?"":"'color:{color};'")+"\"'>{name}:</span>&nbsp;&nbsp;{y}",l=i.axisXIndex):"bubble"===i.type?(this.chart.axisX&&1<this.chart.axisX.length&&(o+=l!=i.axisXIndex?i.axisX.title?i.axisX.title+"<br/>":"X:{axisXIndex}<br/>":""),o+=a.toolTipContent?a.toolTipContent:i.toolTipContent?i.toolTipContent:this.content&&"function"!=typeof this.content?this.content:"<span style='\""+(this.options.fontColor?"":"'color:{color};'")+"\"'>{name}:</span>&nbsp;&nbsp;{y}, &nbsp;&nbsp;{z}"):"rangeColumn"===i.type||"rangeBar"===i.type||"rangeArea"===i.type||"rangeSplineArea"===i.type||"error"===i.type?(this.chart.axisX&&1<this.chart.axisX.length&&(o+=l!=i.axisXIndex?i.axisX.title?i.axisX.title+"<br/>":"X:{axisXIndex}<br/>":""),o+=a.toolTipContent?a.toolTipContent:i.toolTipContent?i.toolTipContent:this.content&&"function"!=typeof this.content?this.content:"<span style='\""+(this.options.fontColor?"":"'color:{color};'")+"\"'>{name}:</span>&nbsp;&nbsp;{y[0]},&nbsp;{y[1]}"):"candlestick"===i.type||"ohlc"===i.type?(this.chart.axisX&&1<this.chart.axisX.length&&(o+=l!=i.axisXIndex?i.axisX.title?i.axisX.title+"<br/>":"X:{axisXIndex}<br/>":""),o+=a.toolTipContent?a.toolTipContent:i.toolTipContent?i.toolTipContent:this.content&&"function"!=typeof this.content?this.content:"<span style='\""+(this.options.fontColor?"":"'color:{color};'")+"\"'>{name}:</span><br/>Open: &nbsp;&nbsp;{y[0]}<br/>High: &nbsp;&nbsp;&nbsp;{y[1]}<br/>Low:&nbsp;&nbsp;&nbsp;{y[2]}<br/>Close: &nbsp;&nbsp;{y[3]}"):"boxAndWhisker"===i.type&&(this.chart.axisX&&1<this.chart.axisX.length&&(o+=l!=i.axisXIndex?i.axisX.title?i.axisX.title+"<br/>":"X:{axisXIndex}<br/>":""),o+=a.toolTipContent?a.toolTipContent:i.toolTipContent?i.toolTipContent:this.content&&"function"!=typeof this.content?this.content:"<span style='\""+(this.options.fontColor?"":"'color:{color};'")+"\"'>{name}:</span><br/>Minimum: &nbsp;&nbsp;{y[0]}<br/>Q1: &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{y[1]}<br/>Q2: &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{y[4]}<br/>Q3: &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{y[2]}<br/>Maximum: &nbsp;{y[3]}"),null===t&&(t=""),!0===this.reversed?(t=this.chart.replaceKeywordsWithValue(o,a,i,n)+t,r<e.length-1&&(t="</br>"+t)):(t+=this.chart.replaceKeywordsWithValue(o,a,i,n),r<e.length-1&&(t+="</br>")));null!==t&&(t=c+t)}else{if(i=e[0].dataSeries,a=e[0].dataPoint,n=e[0].index,null===a.toolTipContent||void 0===a.toolTipContent&&null===i.options.toolTipContent)return null;"line"===i.type||"stepLine"===i.type||"spline"===i.type||"area"===i.type||"stepArea"===i.type||"splineArea"===i.type||"column"===i.type||"bar"===i.type||"scatter"===i.type||"stackedColumn"===i.type||"stackedColumn100"===i.type||"stackedBar"===i.type||"stackedBar100"===i.type||"stackedArea"===i.type||"stackedArea100"===i.type||"waterfall"===i.type?o=a.toolTipContent?a.toolTipContent:i.toolTipContent?i.toolTipContent:this.content&&"function"!=typeof this.content?this.content:"<span style='\""+(this.options.fontColor?"":"'color:{color};'")+"\"'>"+(a.label?"{label}":"{x}")+":</span>&nbsp;&nbsp;{y}":"bubble"===i.type?o=a.toolTipContent?a.toolTipContent:i.toolTipContent?i.toolTipContent:this.content&&"function"!=typeof this.content?this.content:"<span style='\""+(this.options.fontColor?"":"'color:{color};'")+"\"'>"+(a.label?"{label}":"{x}")+":</span>&nbsp;&nbsp;{y}, &nbsp;&nbsp;{z}":"pie"===i.type||"doughnut"===i.type||"funnel"===i.type||"pyramid"===i.type?o=a.toolTipContent?a.toolTipContent:i.toolTipContent?i.toolTipContent:this.content&&"function"!=typeof this.content?this.content:"<span style='\""+(this.options.fontColor?"":"'color:{color};'")+"\"'>"+(a.name?"{name}:</span>&nbsp;&nbsp;":a.label?"{label}:</span>&nbsp;&nbsp;":"</span>")+"{y}":"rangeColumn"===i.type||"rangeBar"===i.type||"rangeArea"===i.type||"rangeSplineArea"===i.type||"error"===i.type?o=a.toolTipContent?a.toolTipContent:i.toolTipContent?i.toolTipContent:this.content&&"function"!=typeof this.content?this.content:"<span style='\""+(this.options.fontColor?"":"'color:{color};'")+"\"'>"+(a.label?"{label}":"{x}")+" :</span>&nbsp;&nbsp;{y[0]}, &nbsp;{y[1]}":"candlestick"===i.type||"ohlc"===i.type?o=a.toolTipContent?a.toolTipContent:i.toolTipContent?i.toolTipContent:this.content&&"function"!=typeof this.content?this.content:"<span style='\""+(this.options.fontColor?"":"'color:{color};'")+"\"'>"+(a.label?"{label}":"{x}")+"</span><br/>Open: &nbsp;&nbsp;{y[0]}<br/>High: &nbsp;&nbsp;&nbsp;{y[1]}<br/>Low: &nbsp;&nbsp;&nbsp;&nbsp;{y[2]}<br/>Close: &nbsp;&nbsp;{y[3]}":"boxAndWhisker"===i.type&&(o=a.toolTipContent?a.toolTipContent:i.toolTipContent?i.toolTipContent:this.content&&"function"!=typeof this.content?this.content:"<span style='\""+(this.options.fontColor?"":"'color:{color};'")+"\"'>"+(a.label?"{label}":"{x}")+"</span><br/>Minimum: &nbsp;&nbsp;{y[0]}<br/>Q1: &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{y[1]}<br/>Q2: &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{y[4]}<br/>Q3: &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{y[2]}<br/>Maximum: &nbsp;{y[3]}"),null===t&&(t=""),t+=this.chart.replaceKeywordsWithValue(o,a,i,n)}return t},U.prototype.enableAnimation=function(){if(!this.container.style.WebkitTransition){var e=this.getContainerTransition(this.containerTransitionDuration);this.container.style.WebkitTransition=e,this.container.style.MsTransition=e,this.container.style.transition=e,this.container.style.MozTransition=this.mozContainerTransition}},U.prototype.disableAnimation=function(){this.container.style.WebkitTransition&&(this.container.style.WebkitTransition="",this.container.style.MozTransition="",this.container.style.MsTransition="",this.container.style.transition="")},U.prototype.hide=function(e){this.container&&(this.container.style.display="none",this.currentSeriesIndex=-1,this._prevY=this._prevX=NaN,(void 0===e||e)&&this.chart.resetOverlayedCanvas())},U.prototype.show=function(e,t,i){this._updateToolTip(e,t,void 0!==i&&i)},U.prototype.fixMozTransitionDelay=function(e,t){if(20<this.chart._eventManager.lastObjectId)this.mozContainerTransition=this.getContainerTransition(0);else{var i=parseFloat(this.container.style.left),i=isNaN(i)?0:i,a=parseFloat(this.container.style.bottom),a=isNaN(a)?0:a;10<Math.sqrt(Math.pow(i-e,2)+Math.pow(a-t,2))?this.mozContainerTransition=this.getContainerTransition(.1):this.mozContainerTransition=this.getContainerTransition(0)}},U.prototype.getContainerTransition=function(e){return"left "+e+"s ease-out 0s, bottom "+e+"s ease-out 0s"},j.prototype.reset=function(){this.lastObjectId=0,this.objectMap=[],this.rectangularRegionEventSubscriptions=[],this.previousDataPointEventObject=null,this.eventObjects=[],O&&(this.ghostCtx.clearRect(0,0,this.chart.width,this.chart.height),this.ghostCtx.beginPath())},j.prototype.getNewObjectTrackingId=function(){return++this.lastObjectId},j.prototype.mouseEventHandler=function(e){if("mousemove"===e.type||"click"===e.type){var t=[],i=ee(e),a=null;if((a=this.chart.getObjectAtXY(i.x,i.y,!1))&&void 0!==this.objectMap[a])if(a=this.objectMap[a],"dataPoint"===a.objectType){var n=this.chart.data[a.dataSeriesIndex],o=n.dataPoints[a.dataPointIndex],s=a.dataPointIndex;a.eventParameter={x:i.x,y:i.y,dataPoint:o,dataSeries:n.options,dataPointIndex:s,dataSeriesIndex:n.index,chart:this.chart},a.eventContext={context:o,userContext:o,mouseover:"mouseover",mousemove:"mousemove",mouseout:"mouseout",click:"click"},t.push(a),a=this.objectMap[n.id],a.eventParameter={x:i.x,y:i.y,dataPoint:o,dataSeries:n.options,dataPointIndex:s,dataSeriesIndex:n.index,chart:this.chart},a.eventContext={context:n,userContext:n.options,mouseover:"mouseover",mousemove:"mousemove",mouseout:"mouseout",click:"click"},t.push(this.objectMap[n.id])}else"legendItem"===a.objectType&&(n=this.chart.data[a.dataSeriesIndex],o=null!==a.dataPointIndex?n.dataPoints[a.dataPointIndex]:null,a.eventParameter={x:i.x,y:i.y,dataSeries:n.options,dataPoint:o,dataPointIndex:a.dataPointIndex,dataSeriesIndex:a.dataSeriesIndex,chart:this.chart},a.eventContext={context:this.chart.legend,userContext:this.chart.legend.options,mouseover:"itemmouseover",mousemove:"itemmousemove",mouseout:"itemmouseout",click:"itemclick"},t.push(a));for(n=[],i=0;i<this.mouseoveredObjectMaps.length;i++){for(o=!0,a=0;a<t.length;a++)if(t[a].id===this.mouseoveredObjectMaps[i].id){o=!1;break}o?this.fireEvent(this.mouseoveredObjectMaps[i],"mouseout",e):n.push(this.mouseoveredObjectMaps[i])}for(this.mouseoveredObjectMaps=n,i=0;i<t.length;i++){for(n=!1,a=0;a<this.mouseoveredObjectMaps.length;a++)if(t[i].id===this.mouseoveredObjectMaps[a].id){n=!0;break}n||(this.fireEvent(t[i],"mouseover",e),this.mouseoveredObjectMaps.push(t[i])),"click"===e.type?this.fireEvent(t[i],"click",e):"mousemove"===e.type&&this.fireEvent(t[i],"mousemove",e)}}},j.prototype.fireEvent=function(e,t,i){if(e&&t){var a=e.eventParameter,n=e.eventContext,o=e.eventContext.userContext;o&&n&&o[n[t]]&&o[n[t]].call(o,a),"mouseout"!==t?o.cursor&&o.cursor!==i.target.style.cursor&&(i.target.style.cursor=o.cursor):(i.target.style.cursor=this.chart._defaultCursor,delete e.eventParameter,delete e.eventContext),"click"===t&&"dataPoint"===e.objectType&&this.chart.pieDoughnutClickHandler&&this.chart.pieDoughnutClickHandler.call(this.chart.data[e.dataSeriesIndex],a),"click"===t&&"dataPoint"===e.objectType&&this.chart.funnelPyramidClickHandler&&this.chart.funnelPyramidClickHandler.call(this.chart.data[e.dataSeriesIndex],a)}},G.prototype.animate=function(e,t,i,a,n){var o=this;for(this.chart.isAnimating=!0,n=n||ie.easing.linear,i&&this.animations.push({startTime:(new Date).getTime()+(e||0),duration:t,animationCallback:i,onComplete:a}),e=[];0<this.animations.length;)t=this.animations.shift(),i=(new Date).getTime(),a=0,t.startTime<=i&&(a=n(Math.min(i-t.startTime,t.duration),0,1,t.duration),a=Math.min(a,1),isNaN(a)||!isFinite(a))&&(a=1),1>a&&e.push(t),t.animationCallback(a),1<=a&&t.onComplete&&t.onComplete();this.animations=e,0<this.animations.length?this.animationRequestId=this.chart.requestAnimFrame.call(window,function(){o.animate.call(o)}):this.chart.isAnimating=!1},G.prototype.cancelAllAnimations=function(){this.animations=[],this.animationRequestId&&this.chart.cancelRequestAnimFrame.call(window,this.animationRequestId),this.animationRequestId=null,this.chart.isAnimating=!1};var ie={yScaleAnimation:function(e,t){if(0!==e){var i=t.dest,a=t.source.canvas,n=t.animationBase;i.drawImage(a,0,0,a.width,a.height,0,n-n*e,i.canvas.width/ne,e*i.canvas.height/ne)}},xScaleAnimation:function(e,t){if(0!==e){var i=t.dest,a=t.source.canvas,n=t.animationBase;i.drawImage(a,0,0,a.width,a.height,n-n*e,0,e*i.canvas.width/ne,i.canvas.height/ne)}},xClipAnimation:function(e,t){if(0!==e){var i=t.dest,a=t.source.canvas;i.save(),0<e&&i.drawImage(a,0,0,a.width*e,a.height,0,0,a.width*e/ne,a.height/ne),i.restore()}},fadeInAnimation:function(e,t){if(0!==e){var i=t.dest,a=t.source.canvas;i.save(),i.globalAlpha=e,i.drawImage(a,0,0,a.width,a.height,0,0,i.canvas.width/ne,i.canvas.height/ne),i.restore()}},easing:{linear:function(e,t,i,a){return i*e/a+t},easeOutQuad:function(e,t,i,a){return-i*(e/=a)*(e-2)+t},easeOutQuart:function(e,t,i,a){return-i*((e=e/a-1)*e*e*e-1)+t},easeInQuad:function(e,t,i,a){return i*(e/=a)*e+t},easeInQuart:function(e,t,i,a){return i*(e/=a)*e*e*e+t}}},ae={drawMarker:function(e,t,i,a,n,o,s,r){if(i){var l=1;i.fillStyle=o||"#000000",i.strokeStyle=s||"#000000",i.lineWidth=r||0,"circle"===a?(i.moveTo(e,t),i.beginPath(),i.arc(e,t,n/2,0,2*Math.PI,!1),o&&i.fill(),r&&(s?i.stroke():(l=i.globalAlpha,i.globalAlpha=.15,i.strokeStyle="black",i.stroke(),i.globalAlpha=l))):"square"===a?(i.beginPath(),i.rect(e-n/2,t-n/2,n,n),o&&i.fill(),r&&(s?i.stroke():(l=i.globalAlpha,i.globalAlpha=.15,i.strokeStyle="black",i.stroke(),i.globalAlpha=l))):"triangle"===a?(i.beginPath(),i.moveTo(e-n/2,t+n/2),i.lineTo(e+n/2,t+n/2),i.lineTo(e,t-n/2),i.closePath(),o&&i.fill(),r&&(s?i.stroke():(l=i.globalAlpha,i.globalAlpha=.15,i.strokeStyle="black",i.stroke(),i.globalAlpha=l)),i.beginPath()):"cross"===a&&(i.strokeStyle=o,i.lineWidth=n/4,i.beginPath(),i.moveTo(e-n/2,t-n/2),i.lineTo(e+n/2,t+n/2),i.stroke(),i.moveTo(e+n/2,t-n/2),i.lineTo(e-n/2,t+n/2),i.stroke())}},drawMarkers:function(e){for(var t=0;t<e.length;t++){var i=e[t];ae.drawMarker(i.x,i.y,i.ctx,i.type,i.size,i.color,i.borderColor,i.borderThickness)}}};return c}(),le.Chart.version="v2.1.1 GA"}(),document.createElement("canvas").getContext||function(){function e(){return this.context_||(this.context_=new p(this))}function t(e,t,i){var a=_.call(arguments,2);return function(){return e.apply(t,a.concat(_.call(arguments)))}}function i(e){return String(e).replace(/&/g,"&amp;").replace(/"/g,"&quot;")}function a(e){e.namespaces.g_vml_||e.namespaces.add("g_vml_","urn:schemas-microsoft-com:vml","#default#VML"),e.namespaces.g_o_||e.namespaces.add("g_o_","urn:schemas-microsoft-com:office:office","#default#VML"),e.styleSheets.ex_canvas_||(e=e.createStyleSheet(),e.owningElement.id="ex_canvas_",e.cssText="canvas{display:inline-block;overflow:hidden;text-align:left;width:300px;height:150px}")}function n(e){var t=e.srcElement;switch(e.propertyName){case"width":t.getContext().clearRect(),t.style.width=t.attributes.width.nodeValue+"px",t.firstChild.style.width=t.clientWidth+"px";break;case"height":t.getContext().clearRect(),t.style.height=t.attributes.height.nodeValue+"px",t.firstChild.style.height=t.clientHeight+"px"}}function o(e){e=e.srcElement,e.firstChild&&(e.firstChild.style.width=e.clientWidth+"px",e.firstChild.style.height=e.clientHeight+"px")}function s(){return[[1,0,0],[0,1,0],[0,0,1]]}function r(e,t){for(var i=s(),a=0;3>a;a++)for(var n=0;3>n;n++){for(var o=0,r=0;3>r;r++)o+=e[a][r]*t[r][n];i[a][n]=o}return i}function l(e,t){t.fillStyle=e.fillStyle,t.lineCap=e.lineCap,t.lineJoin=e.lineJoin,t.lineWidth=e.lineWidth,t.miterLimit=e.miterLimit,t.shadowBlur=e.shadowBlur,t.shadowColor=e.shadowColor,t.shadowOffsetX=e.shadowOffsetX,t.shadowOffsetY=e.shadowOffsetY,t.strokeStyle=e.strokeStyle,t.globalAlpha=e.globalAlpha,t.font=e.font,t.textAlign=e.textAlign,t.textBaseline=e.textBaseline,t.arcScaleX_=e.arcScaleX_,t.arcScaleY_=e.arcScaleY_,t.lineScale_=e.lineScale_}function c(e){var t=e.indexOf("(",3),i=e.indexOf(")",t+1),t=e.substring(t+1,i).split(",");return 4==t.length&&"a"==e.charAt(3)||(t[3]=1),t}function h(e,t,i){return Math.min(i,Math.max(t,e))}function u(e,t,i){return 0>i&&i++,1<i&&i--,1>6*i?e+6*(t-e)*i:1>2*i?t:2>3*i?e+6*(t-e)*(2/3-i):e}function d(e){if(e in B)return B[e];var t,i=1;if(e=String(e),"#"==e.charAt(0))t=e;else if(/^rgb/.test(e)){i=c(e),t="#";for(var a,n=0;3>n;n++)a=-1!=i[n].indexOf("%")?Math.floor(parseFloat(i[n])/100*255):+i[n],t+=I[h(a,0,255)];i=+i[3]}else if(/^hsl/.test(e)){if(n=i=c(e),t=parseFloat(n[0])/360%360,0>t&&t++,a=h(parseFloat(n[1])/100,0,1),n=h(parseFloat(n[2])/100,0,1),0==a)a=n=t=n;else{var o=.5>n?n*(1+a):n+a-n*a,s=2*n-o;a=u(s,o,t+1/3),n=u(s,o,t),t=u(s,o,t-1/3)}t="#"+I[Math.floor(255*a)]+I[Math.floor(255*n)]+I[Math.floor(255*t)],i=i[3]}else t=L[e]||e;return B[e]={color:t,alpha:i}}function p(e){this.m_=s(),this.mStack_=[],this.aStack_=[],this.currentPath_=[],this.fillStyle=this.strokeStyle="#000",this.lineWidth=1,this.lineJoin="miter",this.lineCap="butt",this.miterLimit=1*P,this.globalAlpha=1,this.font="10px sans-serif",this.textAlign="left",this.textBaseline="alphabetic",this.canvas=e;var t="width:"+e.clientWidth+"px;height:"+e.clientHeight+"px;overflow:hidden;position:absolute",i=e.ownerDocument.createElement("div");i.style.cssText=t,e.appendChild(i),t=i.cloneNode(!1),t.style.backgroundColor="red",t.style.filter="alpha(opacity=0)",e.appendChild(t),this.element_=i,this.lineScale_=this.arcScaleY_=this.arcScaleX_=1}function f(e,t,i,a){e.currentPath_.push({type:"bezierCurveTo",cp1x:t.x,cp1y:t.y,cp2x:i.x,cp2y:i.y,x:a.x,y:a.y}),e.currentX_=a.x,e.currentY_=a.y}function m(e,t){var i=d(e.strokeStyle),a=i.color,i=i.alpha*e.globalAlpha,n=e.lineScale_*e.lineWidth;1>n&&(i*=n),t.push("<g_vml_:stroke",' opacity="',i,'"',' joinstyle="',e.lineJoin,'"',' miterlimit="',e.miterLimit,'"',' endcap="',O[e.lineCap]||"square",'"',' weight="',n,'px"',' color="',a,'" />')}function g(e,t,i,a){var n=e.fillStyle,o=e.arcScaleX_,s=e.arcScaleY_,r=a.x-i.x,l=a.y-i.y;if(n instanceof y){var c=0,h=a=0,u=0,p=1;if("gradient"==n.type_){c=n.x1_/o,i=n.y1_/s;var f=v(e,n.x0_/o,n.y0_/s),c=v(e,c,i),c=180*Math.atan2(c.x-f.x,c.y-f.y)/Math.PI;0>c&&(c+=360),1e-6>c&&(c=0)}else f=v(e,n.x0_,n.y0_),a=(f.x-i.x)/r,h=(f.y-i.y)/l,r/=o*P,l/=s*P,p=w.max(r,l),u=2*n.r0_/p,p=2*n.r1_/p-u;o=n.colors_,o.sort(function(e,t){return e.offset-t.offset}),s=o.length,f=o[0].color,i=o[s-1].color,r=o[0].alpha*e.globalAlpha,e=o[s-1].alpha*e.globalAlpha;for(var l=[],m=0;m<s;m++){var g=o[m];l.push(g.offset*p+u+" "+g.color)}t.push('<g_vml_:fill type="',n.type_,'"',' method="none" focus="100%"',' color="',f,'"',' color2="',i,'"',' colors="',l.join(","),'"',' opacity="',e,'"',' g_o_:opacity2="',r,'"',' angle="',c,'"',' focusposition="',a,",",h,'" />')}else n instanceof x?r&&l&&t.push("<g_vml_:fill",' position="',-i.x/r*o*o,",",-i.y/l*s*s,'"',' type="tile"',' src="',n.src_,'" />'):(n=d(e.fillStyle),t.push('<g_vml_:fill color="',n.color,'" opacity="',n.alpha*e.globalAlpha,'" />'))}function v(e,t,i){return e=e.m_,{x:P*(t*e[0][0]+i*e[1][0]+e[2][0])-$,y:P*(t*e[0][1]+i*e[1][1]+e[2][1])-$}}function b(e,t,i){isFinite(t[0][0])&&isFinite(t[0][1])&&isFinite(t[1][0])&&isFinite(t[1][1])&&isFinite(t[2][0])&&isFinite(t[2][1])&&(e.m_=t,i&&(e.lineScale_=M(T(t[0][0]*t[1][1]-t[0][1]*t[1][0]))))}function y(e){this.type_=e,this.r1_=this.y1_=this.x1_=this.r0_=this.y0_=this.x0_=0,this.colors_=[]}function x(e,t){if(!e||1!=e.nodeType||"IMG"!=e.tagName)throw new C("TYPE_MISMATCH_ERR");if("complete"!=e.readyState)throw new C("INVALID_STATE_ERR");switch(t){case"repeat":case null:case"":this.repetition_="repeat";break;case"repeat-x":case"repeat-y":case"no-repeat":this.repetition_=t;break;default:throw new C("SYNTAX_ERR")}this.src_=e.src,this.width_=e.width,this.height_=e.height}function C(e){this.code=this[e],this.message=e+": DOM Exception "+this.code}var w=Math,k=w.round,S=w.sin,D=w.cos,T=w.abs,M=w.sqrt,P=10,$=P/2;navigator.userAgent.match(/MSIE ([\d.]+)?/);var _=Array.prototype.slice;a(document);var A={init:function(e){e=e||document,e.createElement("canvas"),e.attachEvent("onreadystatechange",t(this.init_,this,e))},init_:function(e){e=e.getElementsByTagName("canvas");for(var t=0;t<e.length;t++)this.initElement(e[t])},initElement:function(t){if(!t.getContext){t.getContext=e,a(t.ownerDocument),t.innerHTML="",t.attachEvent("onpropertychange",n),t.attachEvent("onresize",o);var i=t.attributes;i.width&&i.width.specified?t.style.width=i.width.nodeValue+"px":t.width=t.clientWidth,i.height&&i.height.specified?t.style.height=i.height.nodeValue+"px":t.height=t.clientHeight}return t}};A.init();for(var I=[],F=0;16>F;F++)for(var E=0;16>E;E++)I[16*F+E]=F.toString(16)+E.toString(16);var L={aliceblue:"#F0F8FF",antiquewhite:"#FAEBD7",aquamarine:"#7FFFD4",azure:"#F0FFFF",beige:"#F5F5DC",bisque:"#FFE4C4",black:"#000000",blanchedalmond:"#FFEBCD",blueviolet:"#8A2BE2",brown:"#A52A2A",burlywood:"#DEB887",cadetblue:"#5F9EA0",chartreuse:"#7FFF00",chocolate:"#D2691E",coral:"#FF7F50",cornflowerblue:"#6495ED",cornsilk:"#FFF8DC",crimson:"#DC143C",cyan:"#00FFFF",darkblue:"#00008B",darkcyan:"#008B8B",darkgoldenrod:"#B8860B",darkgray:"#A9A9A9",darkgreen:"#006400",darkgrey:"#A9A9A9",darkkhaki:"#BDB76B",darkmagenta:"#8B008B",darkolivegreen:"#556B2F",darkorange:"#FF8C00",darkorchid:"#9932CC",darkred:"#8B0000",darksalmon:"#E9967A",darkseagreen:"#8FBC8F",darkslateblue:"#483D8B",darkslategray:"#2F4F4F",darkslategrey:"#2F4F4F",darkturquoise:"#00CED1",darkviolet:"#9400D3",deeppink:"#FF1493",deepskyblue:"#00BFFF",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1E90FF",firebrick:"#B22222",floralwhite:"#FFFAF0",forestgreen:"#228B22",gainsboro:"#DCDCDC",ghostwhite:"#F8F8FF",gold:"#FFD700",goldenrod:"#DAA520",grey:"#808080",greenyellow:"#ADFF2F",honeydew:"#F0FFF0",hotpink:"#FF69B4",indianred:"#CD5C5C",indigo:"#4B0082",ivory:"#FFFFF0",khaki:"#F0E68C",lavender:"#E6E6FA",lavenderblush:"#FFF0F5",lawngreen:"#7CFC00",lemonchiffon:"#FFFACD",lightblue:"#ADD8E6",lightcoral:"#F08080",lightcyan:"#E0FFFF",lightgoldenrodyellow:"#FAFAD2",lightgreen:"#90EE90",lightgrey:"#D3D3D3",lightpink:"#FFB6C1",lightsalmon:"#FFA07A",lightseagreen:"#20B2AA",lightskyblue:"#87CEFA",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#B0C4DE",lightyellow:"#FFFFE0",limegreen:"#32CD32",linen:"#FAF0E6",magenta:"#FF00FF",mediumaquamarine:"#66CDAA",mediumblue:"#0000CD",mediumorchid:"#BA55D3",mediumpurple:"#9370DB",mediumseagreen:"#3CB371",mediumslateblue:"#7B68EE",mediumspringgreen:"#00FA9A",mediumturquoise:"#48D1CC",mediumvioletred:"#C71585",midnightblue:"#191970",mintcream:"#F5FFFA",mistyrose:"#FFE4E1",moccasin:"#FFE4B5",navajowhite:"#FFDEAD",oldlace:"#FDF5E6",olivedrab:"#6B8E23",orange:"#FFA500",orangered:"#FF4500",orchid:"#DA70D6",palegoldenrod:"#EEE8AA",palegreen:"#98FB98",paleturquoise:"#AFEEEE",palevioletred:"#DB7093",papayawhip:"#FFEFD5",peachpuff:"#FFDAB9",peru:"#CD853F",pink:"#FFC0CB",plum:"#DDA0DD",powderblue:"#B0E0E6",rosybrown:"#BC8F8F",royalblue:"#4169E1",saddlebrown:"#8B4513",salmon:"#FA8072",sandybrown:"#F4A460",seagreen:"#2E8B57",seashell:"#FFF5EE",sienna:"#A0522D",skyblue:"#87CEEB",slateblue:"#6A5ACD",slategray:"#708090",slategrey:"#708090",snow:"#FFFAFA",springgreen:"#00FF7F",steelblue:"#4682B4",tan:"#D2B48C",thistle:"#D8BFD8",tomato:"#FF6347",turquoise:"#40E0D0",violet:"#EE82EE",wheat:"#F5DEB3",whitesmoke:"#F5F5F5",yellowgreen:"#9ACD32"},B={},R={},O={butt:"flat",round:"round"},F=p.prototype;F.clearRect=function(){this.textMeasureEl_&&(this.textMeasureEl_.removeNode(!0),this.textMeasureEl_=null),this.element_.innerHTML=""},F.beginPath=function(){this.currentPath_=[]},F.moveTo=function(e,t){var i=v(this,e,t);this.currentPath_.push({type:"moveTo",x:i.x,y:i.y}),this.currentX_=i.x,this.currentY_=i.y},F.lineTo=function(e,t){var i=v(this,e,t);this.currentPath_.push({type:"lineTo",x:i.x,y:i.y}),this.currentX_=i.x,this.currentY_=i.y},F.bezierCurveTo=function(e,t,i,a,n,o){n=v(this,n,o),e=v(this,e,t),i=v(this,i,a),f(this,e,i,n)},F.quadraticCurveTo=function(e,t,i,a){e=v(this,e,t),i=v(this,i,a),a={x:this.currentX_+2/3*(e.x-this.currentX_),y:this.currentY_+2/3*(e.y-this.currentY_)},f(this,a,{x:a.x+(i.x-this.currentX_)/3,y:a.y+(i.y-this.currentY_)/3},i)},F.arc=function(e,t,i,a,n,o){i*=P;var s=o?"at":"wa",r=e+D(a)*i-$,l=t+S(a)*i-$;a=e+D(n)*i-$,n=t+S(n)*i-$,r!=a||o||(r+=.125),e=v(this,e,t),r=v(this,r,l),a=v(this,a,n),this.currentPath_.push({type:s,x:e.x,y:e.y,radius:i,xStart:r.x,yStart:r.y,xEnd:a.x,yEnd:a.y})},F.rect=function(e,t,i,a){this.moveTo(e,t),this.lineTo(e+i,t),this.lineTo(e+i,t+a),this.lineTo(e,t+a),this.closePath()},F.strokeRect=function(e,t,i,a){var n=this.currentPath_;this.beginPath(),this.moveTo(e,t),this.lineTo(e+i,t),this.lineTo(e+i,t+a),this.lineTo(e,t+a),this.closePath(),this.stroke(),this.currentPath_=n},F.fillRect=function(e,t,i,a){var n=this.currentPath_;this.beginPath(),this.moveTo(e,t),this.lineTo(e+i,t),this.lineTo(e+i,t+a),this.lineTo(e,t+a),this.closePath(),this.fill(),this.currentPath_=n},F.createLinearGradient=function(e,t,i,a){var n=new y("gradient");return n.x0_=e,n.y0_=t,n.x1_=i,n.y1_=a,n},F.createRadialGradient=function(e,t,i,a,n,o){var s=new y("gradientradial");return s.x0_=e,s.y0_=t,s.r0_=i,s.x1_=a,s.y1_=n,s.r1_=o,s},F.drawImage=function(e,t){var i,a,n,o,s,r,l,c;n=e.runtimeStyle.width,o=e.runtimeStyle.height,e.runtimeStyle.width="auto",e.runtimeStyle.height="auto";var h=e.width,u=e.height;if(e.runtimeStyle.width=n,e.runtimeStyle.height=o,3==arguments.length)i=arguments[1],a=arguments[2],s=r=0,l=n=h,c=o=u;else if(5==arguments.length)i=arguments[1],a=arguments[2],n=arguments[3],o=arguments[4],s=r=0,l=h,c=u;else{if(9!=arguments.length)throw Error("Invalid number of arguments");s=arguments[1],r=arguments[2],l=arguments[3],c=arguments[4],i=arguments[5],a=arguments[6],n=arguments[7],o=arguments[8]}var d=v(this,i,a),p=[];if(p.push(" <g_vml_:group",' coordsize="',10*P,",",10*P,'"',' coordorigin="0,0"',' style="width:',10,"px;height:",10,"px;position:absolute;"),1!=this.m_[0][0]||this.m_[0][1]||1!=this.m_[1][1]||this.m_[1][0]){var f=[];f.push("M11=",this.m_[0][0],",","M12=",this.m_[1][0],",","M21=",this.m_[0][1],",","M22=",this.m_[1][1],",","Dx=",k(d.x/P),",","Dy=",k(d.y/P),"");var m=v(this,i+n,a),g=v(this,i,a+o);i=v(this,i+n,a+o),d.x=w.max(d.x,m.x,g.x,i.x),d.y=w.max(d.y,m.y,g.y,i.y),p.push("padding:0 ",k(d.x/P),"px ",k(d.y/P),"px 0;filter:progid:DXImageTransform.Microsoft.Matrix(",f.join(""),", sizingmethod='clip');")}else p.push("top:",k(d.y/P),"px;left:",k(d.x/P),"px;");p.push(' ">','<g_vml_:image src="',e.src,'"',' style="width:',P*n,"px;"," height:",P*o,'px"',' cropleft="',s/h,'"',' croptop="',r/u,'"',' cropright="',(h-s-l)/h,'"',' cropbottom="',(u-r-c)/u,'"'," />","</g_vml_:group>"),this.element_.insertAdjacentHTML("BeforeEnd",p.join(""))},F.stroke=function(e){var t=[];t.push("<g_vml_:shape",' filled="',!!e,'"',' style="position:absolute;width:',10,"px;height:",10,'px;"',' coordorigin="0,0"',' coordsize="',10*P,",",10*P,'"',' stroked="',!e,'"',' path="');for(var i={x:null,y:null},a={x:null,y:null},n=0;n<this.currentPath_.length;n++){var o=this.currentPath_[n];switch(o.type){case"moveTo":t.push(" m ",k(o.x),",",k(o.y));break;case"lineTo":t.push(" l ",k(o.x),",",k(o.y));break;case"close":t.push(" x "),o=null;break;case"bezierCurveTo":t.push(" c ",k(o.cp1x),",",k(o.cp1y),",",k(o.cp2x),",",k(o.cp2y),",",k(o.x),",",k(o.y));break;case"at":case"wa":t.push(" ",o.type," ",k(o.x-this.arcScaleX_*o.radius),",",k(o.y-this.arcScaleY_*o.radius)," ",k(o.x+this.arcScaleX_*o.radius),",",k(o.y+this.arcScaleY_*o.radius)," ",k(o.xStart),",",k(o.yStart)," ",k(o.xEnd),",",k(o.yEnd))}o&&((null==i.x||o.x<i.x)&&(i.x=o.x),(null==a.x||o.x>a.x)&&(a.x=o.x),(null==i.y||o.y<i.y)&&(i.y=o.y),(null==a.y||o.y>a.y)&&(a.y=o.y))}t.push(' ">'),e?g(this,t,i,a):m(this,t),t.push("</g_vml_:shape>"),this.element_.insertAdjacentHTML("beforeEnd",t.join(""))},F.fill=function(){this.stroke(!0)},F.closePath=function(){this.currentPath_.push({type:"close"})},F.save=function(){var e={};l(this,e),this.aStack_.push(e),this.mStack_.push(this.m_),this.m_=r(s(),this.m_)},F.restore=function(){this.aStack_.length&&(l(this.aStack_.pop(),this),this.m_=this.mStack_.pop())},F.translate=function(e,t){b(this,r([[1,0,0],[0,1,0],[e,t,1]],this.m_),!1)},F.rotate=function(e){var t=D(e);e=S(e),b(this,r([[t,e,0],[-e,t,0],[0,0,1]],this.m_),!1)},F.scale=function(e,t){this.arcScaleX_*=e,this.arcScaleY_*=t,b(this,r([[e,0,0],[0,t,0],[0,0,1]],this.m_),!0)},F.transform=function(e,t,i,a,n,o){
b(this,r([[e,t,0],[i,a,0],[n,o,1]],this.m_),!0)},F.setTransform=function(e,t,i,a,n,o){b(this,[[e,t,0],[i,a,0],[n,o,1]],!0)},F.drawText_=function(e,t,a,n,o){var s=this.m_;n=0;var r,l=1e3,c=0,h=[];if(r=this.font,R[r])r=R[r];else{var u=document.createElement("div").style;try{u.font=r}catch(e){}r=R[r]={style:u.fontStyle||"normal",variant:u.fontVariant||"normal",weight:u.fontWeight||"normal",size:u.fontSize||10,family:u.fontFamily||"sans-serif"}}var u=r,d=this.element_;r={};for(var p in u)r[p]=u[p];switch(p=parseFloat(d.currentStyle.fontSize),d=parseFloat(u.size),"number"==typeof u.size?r.size=u.size:-1!=u.size.indexOf("px")?r.size=d:-1!=u.size.indexOf("em")?r.size=p*d:-1!=u.size.indexOf("%")?r.size=p/100*d:-1!=u.size.indexOf("pt")?r.size=d/.75:r.size=p,r.size*=.981,p=r.style+" "+r.variant+" "+r.weight+" "+r.size+"px "+r.family,d=this.element_.currentStyle,u=this.textAlign.toLowerCase()){case"left":case"center":case"right":break;case"end":u="ltr"==d.direction?"right":"left";break;case"start":u="rtl"==d.direction?"right":"left";break;default:u="left"}switch(this.textBaseline){case"hanging":case"top":c=r.size/1.75;break;case"middle":break;default:case null:case"alphabetic":case"ideographic":case"bottom":c=-r.size/2.25}switch(u){case"right":n=1e3,l=.05;break;case"center":n=l=500}t=v(this,t+0,a+c),h.push('<g_vml_:line from="',-n,' 0" to="',l,' 0.05" ',' coordsize="100 100" coordorigin="0 0"',' filled="',!o,'" stroked="',!!o,'" style="position:absolute;width:1px;height:1px;">'),o?m(this,h):g(this,h,{x:-n,y:0},{x:l,y:r.size}),o=s[0][0].toFixed(3)+","+s[1][0].toFixed(3)+","+s[0][1].toFixed(3)+","+s[1][1].toFixed(3)+",0,0",t=k(t.x/P)+","+k(t.y/P),h.push('<g_vml_:skew on="t" matrix="',o,'" ',' offset="',t,'" origin="',n,' 0" />','<g_vml_:path textpathok="true" />','<g_vml_:textpath on="true" string="',i(e),'" style="v-text-align:',u,";font:",i(p),'" /></g_vml_:line>'),this.element_.insertAdjacentHTML("beforeEnd",h.join(""))},F.fillText=function(e,t,i,a){this.drawText_(e,t,i,a,!1)},F.strokeText=function(e,t,i,a){this.drawText_(e,t,i,a,!0)},F.measureText=function(e){this.textMeasureEl_||(this.element_.insertAdjacentHTML("beforeEnd",'<span style="position:absolute;top:-20000px;left:0;padding:0;margin:0;border:none;white-space:pre;"></span>'),this.textMeasureEl_=this.element_.lastChild);var t=this.element_.ownerDocument;return this.textMeasureEl_.innerHTML="",this.textMeasureEl_.style.font=this.font,this.textMeasureEl_.appendChild(t.createTextNode(e)),{width:this.textMeasureEl_.offsetWidth}},F.clip=function(){},F.arcTo=function(){},F.createPattern=function(e,t){return new x(e,t)},y.prototype.addColorStop=function(e,t){t=d(t),this.colors_.push({offset:e,color:t.color,alpha:t.alpha})},F=C.prototype=Error(),F.INDEX_SIZE_ERR=1,F.DOMSTRING_SIZE_ERR=2,F.HIERARCHY_REQUEST_ERR=3,F.WRONG_DOCUMENT_ERR=4,F.INVALID_CHARACTER_ERR=5,F.NO_DATA_ALLOWED_ERR=6,F.NO_MODIFICATION_ALLOWED_ERR=7,F.NOT_FOUND_ERR=8,F.NOT_SUPPORTED_ERR=9,F.INUSE_ATTRIBUTE_ERR=10,F.INVALID_STATE_ERR=11,F.SYNTAX_ERR=12,F.INVALID_MODIFICATION_ERR=13,F.NAMESPACE_ERR=14,F.INVALID_ACCESS_ERR=15,F.VALIDATION_ERR=16,F.TYPE_MISMATCH_ERR=17,G_vmlCanvasManager=A,CanvasRenderingContext2D=p,CanvasGradient=y,CanvasPattern=x,DOMException=C}();