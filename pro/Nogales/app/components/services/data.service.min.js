MetronicApp.factory("dataService",["$http","ApiUrl","$q",function(n,t,i){function f(t,i,u){var f="CasesSold";return f+=t.type=="month"?"/CategoryByMonth?filterDate="+u+"&category="+(i==null?"":i):t.type=="yearToDate"?"/CategoryByYear?filterDate="+u:"/CategoryByYearToMonth?filterDate="+u+"&month="+t.month,n.get(r+f)}function e(t,i){return n.get(r+"Sales/SalesChart?startDate="+t+"&endDate="+i)}function o(t){return n.get(r+"Sales/GetTargets?isFirstTime="+t)}function s(t){return n.post(r+"Sales/updateTargets",t)}function h(t,i,u){var f="Revenue";return f+=t.type=="month"?"/CategoryByMonth?filterDate="+u+"&category="+(i==null?"":i):t.type=="yearToDate"?"/CategoryByYear?filterDate="+u:"/CategoryByYearToMonth?filterDate="+u+"&month="+t.month,n.get(r+f)}function c(t,i){var u=r+"Dashboard/Totals?dateFilter="+t;return i!=null&&(u+="&isSynced="+i),n.get(u)}function l(t,i,u,f){var e="Sales";return t.type=="month"?e+="/SalesByMonth?dateFilter="+u:t.type=="yearToDate",f!=null&&(e+="&isSynced="+f),n.get(r+e)}function a(){return n.get(r+"Dashboard/GetVersion")}function v(){return n.get(r+"Revenue/ReportFilterData")}function y(t){function e(n){return n}function o(){i.reject()}var u=i.defer(),f=n.post(r+"Revenue/GetRevenueReport",t,{timeout:u.promise}).then(e).catch(o);return f.abortCall=function(){u.resolve()},f}function p(){}function w(){return n.get(r+"Warehouse/GetSOShortReportNotificationEmails")}function b(t){return n.post(r+"Warehouse/SendShortReportNotification",t)}function k(t){function e(n){return n}function o(){i.reject()}var u=i.defer(),f=n.get(r+"Warehouse/GetShortReport?routeNumber="+t.routeNumber+"&buyerId="+t.buyerId+"&shipDate="+t.shipDate,{timeout:u.promise}).then(e).catch(o);return f.abortCall=function(){u.resolve()},f}function d(t){function e(n){return n}function o(){i.reject()}var u=i.defer(),f=n.get(r+"Warehouse/PickerProductivityReport?empId="+t.userId+"&startDate="+t.startWorkDate+"&endDate="+t.endWorkDate,{timeout:u.promise}).then(e).catch(o);return f.abortCall=function(){u.resolve()},f}function g(t,i,u){var f="Expenses";return f+=t.type=="month"?"/CategoryByMonth?filterDate="+u+"&category="+(i==null?"":i):t.type=="yearToDate"?"/CategoryByYear?filterDate="+u:"/CategoryByYearToMonth?filterDate="+u+"&month="+t.month,n.get(r+f)}function nt(t,i){var u="grant_type=password&username="+t+"&password="+i;return n.post(r+"token",u,{headers:{"Content-Type":"application/x-www-form-urlencoded"}})}function tt(t){return n.get(r+"Revenue/GetRevenueItemSearch?inputSearch="+t)}function it(t,i){return n.get(r+"Warehouse/PickerProductivityChart?startDate="+t+"&endDate="+i)}function rt(t,i){var u=r+"Profitability/GetProfitability?beginYear="+t+"&endYear="+i;return n.get(u)}function ut(t,i){return n.get(r+"Profitability/GetProfitability?beginYear="+t+"&endYear="+i)}function ft(t,i){return n.get(r+"Warehouse/PickerProductivityChart?startDate="+t+"&endDate="+i)}function et(t,i){return n.get(r+"Warehouse/PickerForcastReport?&startDate="+t+"&endDate="+i)}function ot(t){return n.post(r+"Warehouse/SendShortReportIgnoredReason",t)}function st(t,i){return n.get(r+"Expenses/TopTenAdminExpenses?startDate="+t+"&endDate="+i)}function ht(t,i){return n.get(r+"url?startDate="+t+"&endDate="+i)}function ct(t){function e(n){return n}function o(){i.reject()}var u=i.defer(),f=n.get(r+"Warehouse/GetNotifiedIgnoredShortReports?routeNumber="+t.routeNumber+"&buyerId="+t.buyerId+"&shipDate="+t.shipDate,{timeout:u.promise}).then(e).catch(o);return f.abortCall=function(){u.resolve()},f}function u(t,i){return n.get(r+"Warehouse/PickerForcastQuantityPickedReport?startDate="+t+"&endDate="+i)}function lt(t){return n.post(r+"Account/Register",t)}function at(){return n.get(r+"Account/GetAllUsers")}function vt(t){return n.post(r+"Account/UpdateUser",t)}function yt(t){var i="userId="+t;return n.post(r+"Account/DeleteUser/"+t,null,{headers:{"Content-Type":"application/x-www-form-urlencoded"}})}function pt(t){return t.UserId&&t.UserId.length>0?n.post(r+"Account/ResetPasswordByAdmin",t):n.post(r+"Account/ResetPassword",t)}function wt(t){return n.post(r+"Account/ChangePassword",t)}function bt(t){function e(n){return n}function o(){i.reject()}var u=i.defer(),f=n.post(r+"Journal/GetJournalReport",t,{timeout:u.promise}).then(e).catch(o);return f.abortCall=function(){u.resolve()},f}function kt(t,i){var u=r+"Sales/TotalByMonth?dateFilter="+t;return i!=null&&(u+="&isSynced="+i),n.get(u)}function dt(t){var i=r+"CasesSold/TotalByMonth?filterDate="+t;return n.get(i)}function gt(t){var i=r+"Revenue/TotalByMonth?filterDate="+t;return n.get(i)}function ni(t){var i=r+"Expenses/TotalByMonth?filterDate="+t;return n.get(i)}function ti(t){var i=r+"Dashboard/Totals?dateFilter="+t;return n.get(i)}function ii(t,i,u){var f=r+"Sales/SalesBySalesPerson?startDate="+t+"&endDate="+i;return u!=null&&(f+="&isSynced="+u),n.get(f)}function ri(t,i,u){var f=r+"Sales/CustomerBySalesPerson?startDate="+t+"&endDate="+i;return u!=null&&(f+="&isSynced="+u),n.get(f)}function ui(){return n.get(r+"Sales/GetAllSalesPerson")}function fi(t){function e(n){return n}function o(){i.reject()}var u=i.defer(),f=n.post(r+"Sales/GetSalesReportofSalesPerson?startDate="+t.StartDate+"&endDate="+t.EndDate,t.SalesPerson,{timeout:u.promise}).then(e).catch(o);return f.abortCall=function(){u.resolve()},f}function ei(t,i,u){return n.get(r+"Sales/GetCustomerAndSales?salesPerson="+t+"&startDate="+i+"&endDate="+u)}var r=t;return{GetCasesSold:f,getMainDashboardData:c,GetRevenueDashboard:h,GetApiVersion:a,GetSales:l,FilterSalesChart:e,getRevenueReportFilters:v,getRevenueReportData:y,GetTargets:o,UpdateTargets:s,getWarehouseDashboardData:p,GetMailIds:w,SendNotification:b,GenerateWarehouseShortReport:k,GenerateWarehouseWmsPickerProductivityReport:d,GetExpensesDashboard:g,GetReleventItemsFilter:tt,FilterWarehouseChart:it,getMainDashboardProfitabilityChartData:rt,FilterProfitabilityChart:ut,getMainDashboardPickerProductivityChartData:ft,getForcastResult:et,SendIgnoredreason:ot,FilterAdminExpensesChart:st,FilterMeterGaugeChart:ht,GenerateWarehouseNotifiedIgnoredShortReport:ct,GetForcastReport:u,RequestToken:nt,CreateUser:lt,GetAllUsers:at,UpdateUser:vt,DeleteUser:yt,ResetPassword:pt,GetForcastReport:u,GetJournalReportData:bt,ChangePassword:wt,GetCommonDashboardSalesData:kt,GetCommonDashboardCasesSoldData:dt,GetCommonDashboardRevenueData:gt,GetCommonDashboardExpensesData:ni,GetCommonDashboardStatiticsData:ti,FilterSalesBySalesPersonChart:ii,FilterCustomersBySalesPersonChart:ri,getSalesReportFilters:ui,getSalesReportData:fi,GetSalesPersonCustomersData:ei}}]);