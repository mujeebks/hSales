"use strict";MetronicApp.controller("LoginController",["$rootScope","$scope","$http","$state","authService","commonService",function(n,t,i,r,u,f){function o(n){t.isErrorMessage=!0;t.message=n}function e(){t.isErrorMessage=!0;t.message=""}function s(n){t.isErrorMessage=!1;t.message=n}function h(){$(".login-bg").backstretch(["assets/global/img/login/5.jpg","assets/global/img/login/6.jpg","assets/global/img/login/1.jpg","assets/global/img/login/2.jpg","assets/global/img/login/4.jpg"],{fade:1e3,duration:8e3})}t.$on("$viewContentLoaded",function(){Metronic.initAjax()});t.btnSpinner=f.InitBtnSpinner("#login");h();t.isErrorMessage=!0;t.message="";t.loginData={userName:"",password:""};t.login=function(){t.btnSpinner.start();e();s("Verifying Credentials...");u.login(t.loginData.userName,t.loginData.password).then(function(n){e();n.forceReset=="True"?r.go("resetPassword"):u.user.role=="Tool Admin"?r.go("user-management"):r.go("dashboard");t.btnSpinner.stop()}).catch(function(){t.btnSpinner.stop();o("User Name and Passoword do not match")})}}]);